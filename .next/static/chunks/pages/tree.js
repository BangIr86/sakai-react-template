/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/tree"],{

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react%2Fsakai-react%2Fpages%2Ftree%2Findex.js&page=%2Ftree!":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react%2Fsakai-react%2Fpages%2Ftree%2Findex.js&page=%2Ftree! ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/tree\",\n      function () {\n        return __webpack_require__(/*! ./pages/tree/index.js */ \"./pages/tree/index.js\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/tree\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD0lMkZVc2VycyUyRnVsYXN0dXJhbiUyRkRlc2t0b3AlMkZodHRwJTJGc2FrYWktcmVhY3QlMkZzYWthaS1yZWFjdCUyRnBhZ2VzJTJGdHJlZSUyRmluZGV4LmpzJnBhZ2U9JTJGdHJlZSEuanMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyxvREFBdUI7QUFDOUM7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzkzNmYiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi90cmVlXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwiLi9wYWdlcy90cmVlL2luZGV4LmpzXCIpO1xuICAgICAgfVxuICAgIF0pO1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5fX05FWFRfUC5wdXNoKFtcIi90cmVlXCJdKVxuICAgICAgfSk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react%2Fsakai-react%2Fpages%2Ftree%2Findex.js&page=%2Ftree!\n"));

/***/ }),

/***/ "./demo/service/NodeService.js":
/*!*************************************!*\
  !*** ./demo/service/NodeService.js ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NodeService\": function() { return /* binding */ NodeService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_class_call_check_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/src/_class_call_check.mjs */ \"./node_modules/@swc/helpers/src/_class_call_check.mjs\");\n/* harmony import */ var _swc_helpers_src_create_class_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/src/_create_class.mjs */ \"./node_modules/@swc/helpers/src/_create_class.mjs\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/config */ \"./node_modules/next/config.js\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nvar NodeService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function NodeService() {\n        (0,_swc_helpers_src_class_call_check_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, NodeService);\n        this.contextPath = next_config__WEBPACK_IMPORTED_MODULE_0___default()().publicRuntimeConfig.contextPath;\n    }\n    (0,_swc_helpers_src_create_class_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(NodeService, [\n        {\n            key: \"getTreeNodes\",\n            value: function getTreeNodes() {\n                return fetch(this.contextPath + \"/demo/data/treenodes.json\", {\n                    headers: {\n                        \"Cache-Control\": \"no-cache\"\n                    }\n                }).then(function(res) {\n                    return res.json();\n                }).then(function(d) {\n                    return d.root;\n                });\n            }\n        },\n        {\n            key: \"getTreeTableNodes\",\n            value: function getTreeTableNodes() {\n                return fetch(this.contextPath + \"/demo/data/treetablenodes.json\", {\n                    headers: {\n                        \"Cache-Control\": \"no-cache\"\n                    }\n                }).then(function(res) {\n                    return res.json();\n                }).then(function(d) {\n                    return d.root;\n                });\n            }\n        }\n    ]);\n    return NodeService;\n}();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZW1vL3NlcnZpY2UvTm9kZVNlcnZpY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFBb0M7QUFFN0IsZUFBaUIsaUJBRnJCOzthQUVVQyxXQUFXOztRQUVoQixJQUFJLENBQUNDLFdBQVcsR0FBR0Ysa0RBQVMsRUFBRSxDQUFDRyxtQkFBbUIsQ0FBQ0QsV0FBVyxDQUFDOzs7O1lBR25FRSxHQUFZLEVBQVpBLGNBQVk7bUJBQVpBLFNBQUFBLFlBQVksR0FBRztnQkFDWCxPQUFPQyxLQUFLLENBQUMsSUFBSSxDQUFDSCxXQUFXLEdBQUcsMkJBQTJCLEVBQUU7b0JBQUVJLE9BQU8sRUFBRTt3QkFBRSxlQUFlLEVBQUUsVUFBVTtxQkFBRTtpQkFBRSxDQUFDLENBQ3JHQyxJQUFJLENBQUMsU0FBQ0MsR0FBRzsyQkFBS0EsR0FBRyxDQUFDQyxJQUFJLEVBQUU7aUJBQUEsQ0FBQyxDQUN6QkYsSUFBSSxDQUFDLFNBQUNHLENBQUM7MkJBQUtBLENBQUMsQ0FBQ0MsSUFBSTtpQkFBQSxDQUFDLENBQUM7YUFDNUI7OztZQUVEQyxHQUFpQixFQUFqQkEsbUJBQWlCO21CQUFqQkEsU0FBQUEsaUJBQWlCLEdBQUc7Z0JBQ2hCLE9BQU9QLEtBQUssQ0FBQyxJQUFJLENBQUNILFdBQVcsR0FBRyxnQ0FBZ0MsRUFBRTtvQkFBRUksT0FBTyxFQUFFO3dCQUFFLGVBQWUsRUFBRSxVQUFVO3FCQUFFO2lCQUFFLENBQUMsQ0FDMUdDLElBQUksQ0FBQyxTQUFDQyxHQUFHOzJCQUFLQSxHQUFHLENBQUNDLElBQUksRUFBRTtpQkFBQSxDQUFDLENBQ3pCRixJQUFJLENBQUMsU0FBQ0csQ0FBQzsyQkFBS0EsQ0FBQyxDQUFDQyxJQUFJO2lCQUFBLENBQUMsQ0FBQzthQUM1Qjs7OztDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2RlbW8vc2VydmljZS9Ob2RlU2VydmljZS5qcz9jMWYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRDb25maWcgZnJvbSBcIm5leHQvY29uZmlnXCI7XG5cbmV4cG9ydCBjbGFzcyBOb2RlU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dFBhdGggPSBnZXRDb25maWcoKS5wdWJsaWNSdW50aW1lQ29uZmlnLmNvbnRleHRQYXRoO1xuICAgIH1cblxuICAgIGdldFRyZWVOb2RlcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuY29udGV4dFBhdGggKyBcIi9kZW1vL2RhdGEvdHJlZW5vZGVzLmpzb25cIiwgeyBoZWFkZXJzOiB7IFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLWNhY2hlXCIgfSB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKChkKSA9PiBkLnJvb3QpO1xuICAgIH1cblxuICAgIGdldFRyZWVUYWJsZU5vZGVzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5jb250ZXh0UGF0aCArIFwiL2RlbW8vZGF0YS90cmVldGFibGVub2Rlcy5qc29uXCIsIHsgaGVhZGVyczogeyBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1jYWNoZVwiIH0gfSlcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAudGhlbigoZCkgPT4gZC5yb290KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0Q29uZmlnIiwiTm9kZVNlcnZpY2UiLCJjb250ZXh0UGF0aCIsInB1YmxpY1J1bnRpbWVDb25maWciLCJnZXRUcmVlTm9kZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzIiwianNvbiIsImQiLCJyb290IiwiZ2V0VHJlZVRhYmxlTm9kZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./demo/service/NodeService.js\n"));

/***/ }),

/***/ "./pages/tree/index.js":
/*!*****************************!*\
  !*** ./pages/tree/index.js ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var primereact_tree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/tree */ \"./node_modules/primereact/tree/tree.esm.js\");\n/* harmony import */ var primereact_treetable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/treetable */ \"./node_modules/primereact/treetable/treetable.esm.js\");\n/* harmony import */ var primereact_column__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/column */ \"./node_modules/primereact/column/column.esm.js\");\n/* harmony import */ var _demo_service_NodeService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../demo/service/NodeService */ \"./demo/service/NodeService.js\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nvar TreeDemo = function() {\n    _s();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), treeNodes = ref[0], setTreeNodes = ref[1];\n    var ref1 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), selectedTreeNodeKeys = ref1[0], setSelectedTreeNodeKeys = ref1[1];\n    var ref2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), treeTableNodes = ref2[0], setTreeTableNodes = ref2[1];\n    var ref3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), selectedTreeTableNodeKeys = ref3[0], setSelectedTreeTableNodeKeys = ref3[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function() {\n        var nodeService = new _demo_service_NodeService__WEBPACK_IMPORTED_MODULE_5__.NodeService();\n        nodeService.getTreeNodes().then(function(data) {\n            return setTreeNodes(data);\n        });\n        nodeService.getTreeTableNodes().then(function(data) {\n            return setTreeTableNodes(data);\n        });\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"col-12\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                            children: \"Tree\"\n                        }, void 0, false, {\n                            fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                            lineNumber: 23,\n                            columnNumber: 21\n                        }, _this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_tree__WEBPACK_IMPORTED_MODULE_2__.Tree, {\n                            value: treeNodes,\n                            selectionMode: \"checkbox\",\n                            selectionKeys: selectedTreeNodeKeys,\n                            onSelectionChange: function(e) {\n                                return setSelectedTreeNodeKeys(e.value);\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                            lineNumber: 24,\n                            columnNumber: 21\n                        }, _this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                    lineNumber: 22,\n                    columnNumber: 17\n                }, _this)\n            }, void 0, false, {\n                fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                lineNumber: 21,\n                columnNumber: 13\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"col-12\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                            children: \"TreeTable\"\n                        }, void 0, false, {\n                            fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                            lineNumber: 29,\n                            columnNumber: 21\n                        }, _this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_treetable__WEBPACK_IMPORTED_MODULE_3__.TreeTable, {\n                            value: treeTableNodes,\n                            header: \"FileSystem\",\n                            selectionMode: \"checkbox\",\n                            selectionKeys: selectedTreeTableNodeKeys,\n                            onSelectionChange: function(e) {\n                                return setSelectedTreeTableNodeKeys(e.value);\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_4__.Column, {\n                                    field: \"name\",\n                                    header: \"Name\",\n                                    expander: true\n                                }, void 0, false, {\n                                    fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                                    lineNumber: 31,\n                                    columnNumber: 25\n                                }, _this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_4__.Column, {\n                                    field: \"size\",\n                                    header: \"Size\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                                    lineNumber: 32,\n                                    columnNumber: 25\n                                }, _this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_column__WEBPACK_IMPORTED_MODULE_4__.Column, {\n                                    field: \"type\",\n                                    header: \"Type\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                                    lineNumber: 33,\n                                    columnNumber: 25\n                                }, _this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                            lineNumber: 30,\n                            columnNumber: 21\n                        }, _this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                    lineNumber: 28,\n                    columnNumber: 17\n                }, _this)\n            }, void 0, false, {\n                fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n                lineNumber: 27,\n                columnNumber: 13\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ulasturan/Desktop/http/sakai-react/sakai-react/pages/tree/index.js\",\n        lineNumber: 20,\n        columnNumber: 9\n    }, _this);\n};\n_s(TreeDemo, \"VXqZ4VoDwULCxQ4yP0GOZNdF0LE=\");\n_c = TreeDemo;\n/* harmony default export */ __webpack_exports__[\"default\"] = (TreeDemo);\nvar _c;\n$RefreshReg$(_c, \"TreeDemo\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7YUFDSixDQUNSO0NBQ0w7R0FoQ0t0QixRQUFRO0FBQVJBLEtBQUFBLFFBQVE7QUFrQ2QsK0RBQWVBLFFBQVEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy90cmVlL2luZGV4LmpzP2M3OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRyZWUgfSBmcm9tIFwicHJpbWVyZWFjdC90cmVlXCI7XG5pbXBvcnQgeyBUcmVlVGFibGUgfSBmcm9tIFwicHJpbWVyZWFjdC90cmVldGFibGVcIjtcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gXCJwcmltZXJlYWN0L2NvbHVtblwiO1xuaW1wb3J0IHsgTm9kZVNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vZGVtby9zZXJ2aWNlL05vZGVTZXJ2aWNlXCI7XG5cbmNvbnN0IFRyZWVEZW1vID0gKCkgPT4ge1xuICAgIGNvbnN0IFt0cmVlTm9kZXMsIHNldFRyZWVOb2Rlc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NlbGVjdGVkVHJlZU5vZGVLZXlzLCBzZXRTZWxlY3RlZFRyZWVOb2RlS2V5c10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbdHJlZVRhYmxlTm9kZXMsIHNldFRyZWVUYWJsZU5vZGVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRUcmVlVGFibGVOb2RlS2V5cywgc2V0U2VsZWN0ZWRUcmVlVGFibGVOb2RlS2V5c10gPSB1c2VTdGF0ZShbXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlU2VydmljZSA9IG5ldyBOb2RlU2VydmljZSgpO1xuICAgICAgICBub2RlU2VydmljZS5nZXRUcmVlTm9kZXMoKS50aGVuKChkYXRhKSA9PiBzZXRUcmVlTm9kZXMoZGF0YSkpO1xuICAgICAgICBub2RlU2VydmljZS5nZXRUcmVlVGFibGVOb2RlcygpLnRoZW4oKGRhdGEpID0+IHNldFRyZWVUYWJsZU5vZGVzKGRhdGEpKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNT5UcmVlPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPFRyZWUgdmFsdWU9e3RyZWVOb2Rlc30gc2VsZWN0aW9uTW9kZT1cImNoZWNrYm94XCIgc2VsZWN0aW9uS2V5cz17c2VsZWN0ZWRUcmVlTm9kZUtleXN9IG9uU2VsZWN0aW9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRUcmVlTm9kZUtleXMoZS52YWx1ZSl9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNT5UcmVlVGFibGU8L2g1PlxuICAgICAgICAgICAgICAgICAgICA8VHJlZVRhYmxlIHZhbHVlPXt0cmVlVGFibGVOb2Rlc30gaGVhZGVyPVwiRmlsZVN5c3RlbVwiIHNlbGVjdGlvbk1vZGU9XCJjaGVja2JveFwiIHNlbGVjdGlvbktleXM9e3NlbGVjdGVkVHJlZVRhYmxlTm9kZUtleXN9IG9uU2VsZWN0aW9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRUcmVlVGFibGVOb2RlS2V5cyhlLnZhbHVlKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sdW1uIGZpZWxkPVwibmFtZVwiIGhlYWRlcj1cIk5hbWVcIiBleHBhbmRlciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbHVtbiBmaWVsZD1cInNpemVcIiBoZWFkZXI9XCJTaXplXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb2x1bW4gZmllbGQ9XCJ0eXBlXCIgaGVhZGVyPVwiVHlwZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvVHJlZVRhYmxlPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmVlRGVtbztcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiVHJlZSIsIlRyZWVUYWJsZSIsIkNvbHVtbiIsIk5vZGVTZXJ2aWNlIiwiVHJlZURlbW8iLCJ0cmVlTm9kZXMiLCJzZXRUcmVlTm9kZXMiLCJzZWxlY3RlZFRyZWVOb2RlS2V5cyIsInNldFNlbGVjdGVkVHJlZU5vZGVLZXlzIiwidHJlZVRhYmxlTm9kZXMiLCJzZXRUcmVlVGFibGVOb2RlcyIsInNlbGVjdGVkVHJlZVRhYmxlTm9kZUtleXMiLCJzZXRTZWxlY3RlZFRyZWVUYWJsZU5vZGVLZXlzIiwibm9kZVNlcnZpY2UiLCJnZXRUcmVlTm9kZXMiLCJ0aGVuIiwiZGF0YSIsImdldFRyZWVUYWJsZU5vZGVzIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDUiLCJ2YWx1ZSIsInNlbGVjdGlvbk1vZGUiLCJzZWxlY3Rpb25LZXlzIiwib25TZWxlY3Rpb25DaGFuZ2UiLCJlIiwiaGVhZGVyIiwiZmllbGQiLCJleHBhbmRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/tree/index.js\n"));

/***/ }),

/***/ "./node_modules/primereact/column/column.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/primereact/column/column.esm.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Column\": function() { return /* binding */ Column; }\n/* harmony export */ });\nvar Column = function Column() {};\nColumn.displayName = 'Column';\nColumn.defaultProps = {\n  __TYPE: 'Column',\n  columnKey: null,\n  field: null,\n  sortField: null,\n  filterField: null,\n  exportField: null,\n  header: null,\n  body: null,\n  footer: null,\n  sortable: false,\n  sortableDisabled: false,\n  sortFunction: null,\n  dataType: 'text',\n  filter: false,\n  filterMatchMode: null,\n  filterPlaceholder: null,\n  filterType: 'text',\n  filterMaxLength: null,\n  filterElement: null,\n  filterFunction: null,\n  filterHeaderStyle: null,\n  filterHeaderClassName: null,\n  showFilterMenu: true,\n  showFilterOperator: true,\n  showClearButton: true,\n  showApplyButton: true,\n  showFilterMatchModes: true,\n  showFilterMenuOptions: true,\n  showAddButton: true,\n  filterMatchModeOptions: null,\n  maxConstraints: 2,\n  filterMenuClassName: null,\n  filterMenuStyle: null,\n  align: null,\n  alignHeader: null,\n  alignFrozen: 'left',\n  hidden: false,\n  onFilterClear: null,\n  onFilterApplyClick: null,\n  onFilterMatchModeChange: null,\n  onFilterOperatorChange: null,\n  onFilterConstraintAdd: null,\n  onFilterConstraintRemove: null,\n  filterClear: null,\n  filterApply: null,\n  filterHeader: null,\n  filterFooter: null,\n  style: null,\n  className: null,\n  headerStyle: null,\n  headerClassName: null,\n  bodyStyle: null,\n  bodyClassName: null,\n  footerStyle: null,\n  footerClassName: null,\n  expander: false,\n  frozen: false,\n  selectionMode: null,\n  colSpan: null,\n  rowSpan: null,\n  editor: null,\n  cellEditValidator: null,\n  cellEditValidatorEvent: 'click',\n  onBeforeCellEditHide: null,\n  onBeforeCellEditShow: null,\n  onCellEditInit: null,\n  onCellEditComplete: null,\n  onCellEditCancel: null,\n  excludeGlobalFilter: false,\n  rowReorder: false,\n  rowReorderIcon: 'pi pi-bars',\n  rowEditor: false,\n  exportable: true,\n  reorderable: true,\n  resizeable: true\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9jb2x1bW4vY29sdW1uLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2NvbHVtbi9jb2x1bW4uZXNtLmpzPzgzMTMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIENvbHVtbiA9IGZ1bmN0aW9uIENvbHVtbigpIHt9O1xuQ29sdW1uLmRpc3BsYXlOYW1lID0gJ0NvbHVtbic7XG5Db2x1bW4uZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdDb2x1bW4nLFxuICBjb2x1bW5LZXk6IG51bGwsXG4gIGZpZWxkOiBudWxsLFxuICBzb3J0RmllbGQ6IG51bGwsXG4gIGZpbHRlckZpZWxkOiBudWxsLFxuICBleHBvcnRGaWVsZDogbnVsbCxcbiAgaGVhZGVyOiBudWxsLFxuICBib2R5OiBudWxsLFxuICBmb290ZXI6IG51bGwsXG4gIHNvcnRhYmxlOiBmYWxzZSxcbiAgc29ydGFibGVEaXNhYmxlZDogZmFsc2UsXG4gIHNvcnRGdW5jdGlvbjogbnVsbCxcbiAgZGF0YVR5cGU6ICd0ZXh0JyxcbiAgZmlsdGVyOiBmYWxzZSxcbiAgZmlsdGVyTWF0Y2hNb2RlOiBudWxsLFxuICBmaWx0ZXJQbGFjZWhvbGRlcjogbnVsbCxcbiAgZmlsdGVyVHlwZTogJ3RleHQnLFxuICBmaWx0ZXJNYXhMZW5ndGg6IG51bGwsXG4gIGZpbHRlckVsZW1lbnQ6IG51bGwsXG4gIGZpbHRlckZ1bmN0aW9uOiBudWxsLFxuICBmaWx0ZXJIZWFkZXJTdHlsZTogbnVsbCxcbiAgZmlsdGVySGVhZGVyQ2xhc3NOYW1lOiBudWxsLFxuICBzaG93RmlsdGVyTWVudTogdHJ1ZSxcbiAgc2hvd0ZpbHRlck9wZXJhdG9yOiB0cnVlLFxuICBzaG93Q2xlYXJCdXR0b246IHRydWUsXG4gIHNob3dBcHBseUJ1dHRvbjogdHJ1ZSxcbiAgc2hvd0ZpbHRlck1hdGNoTW9kZXM6IHRydWUsXG4gIHNob3dGaWx0ZXJNZW51T3B0aW9uczogdHJ1ZSxcbiAgc2hvd0FkZEJ1dHRvbjogdHJ1ZSxcbiAgZmlsdGVyTWF0Y2hNb2RlT3B0aW9uczogbnVsbCxcbiAgbWF4Q29uc3RyYWludHM6IDIsXG4gIGZpbHRlck1lbnVDbGFzc05hbWU6IG51bGwsXG4gIGZpbHRlck1lbnVTdHlsZTogbnVsbCxcbiAgYWxpZ246IG51bGwsXG4gIGFsaWduSGVhZGVyOiBudWxsLFxuICBhbGlnbkZyb3plbjogJ2xlZnQnLFxuICBoaWRkZW46IGZhbHNlLFxuICBvbkZpbHRlckNsZWFyOiBudWxsLFxuICBvbkZpbHRlckFwcGx5Q2xpY2s6IG51bGwsXG4gIG9uRmlsdGVyTWF0Y2hNb2RlQ2hhbmdlOiBudWxsLFxuICBvbkZpbHRlck9wZXJhdG9yQ2hhbmdlOiBudWxsLFxuICBvbkZpbHRlckNvbnN0cmFpbnRBZGQ6IG51bGwsXG4gIG9uRmlsdGVyQ29uc3RyYWludFJlbW92ZTogbnVsbCxcbiAgZmlsdGVyQ2xlYXI6IG51bGwsXG4gIGZpbHRlckFwcGx5OiBudWxsLFxuICBmaWx0ZXJIZWFkZXI6IG51bGwsXG4gIGZpbHRlckZvb3RlcjogbnVsbCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgaGVhZGVyU3R5bGU6IG51bGwsXG4gIGhlYWRlckNsYXNzTmFtZTogbnVsbCxcbiAgYm9keVN0eWxlOiBudWxsLFxuICBib2R5Q2xhc3NOYW1lOiBudWxsLFxuICBmb290ZXJTdHlsZTogbnVsbCxcbiAgZm9vdGVyQ2xhc3NOYW1lOiBudWxsLFxuICBleHBhbmRlcjogZmFsc2UsXG4gIGZyb3plbjogZmFsc2UsXG4gIHNlbGVjdGlvbk1vZGU6IG51bGwsXG4gIGNvbFNwYW46IG51bGwsXG4gIHJvd1NwYW46IG51bGwsXG4gIGVkaXRvcjogbnVsbCxcbiAgY2VsbEVkaXRWYWxpZGF0b3I6IG51bGwsXG4gIGNlbGxFZGl0VmFsaWRhdG9yRXZlbnQ6ICdjbGljaycsXG4gIG9uQmVmb3JlQ2VsbEVkaXRIaWRlOiBudWxsLFxuICBvbkJlZm9yZUNlbGxFZGl0U2hvdzogbnVsbCxcbiAgb25DZWxsRWRpdEluaXQ6IG51bGwsXG4gIG9uQ2VsbEVkaXRDb21wbGV0ZTogbnVsbCxcbiAgb25DZWxsRWRpdENhbmNlbDogbnVsbCxcbiAgZXhjbHVkZUdsb2JhbEZpbHRlcjogZmFsc2UsXG4gIHJvd1Jlb3JkZXI6IGZhbHNlLFxuICByb3dSZW9yZGVySWNvbjogJ3BpIHBpLWJhcnMnLFxuICByb3dFZGl0b3I6IGZhbHNlLFxuICBleHBvcnRhYmxlOiB0cnVlLFxuICByZW9yZGVyYWJsZTogdHJ1ZSxcbiAgcmVzaXplYWJsZTogdHJ1ZVxufTtcblxuZXhwb3J0IHsgQ29sdW1uIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/column/column.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/csstransition/csstransition.esm.js":
/*!********************************************************************!*\
  !*** ./node_modules/primereact/csstransition/csstransition.esm.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CSSTransition\": function() { return /* binding */ CSSTransition; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-transition-group */ \"./node_modules/react-transition-group/esm/index.js\");\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar CSSTransition = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var disabled = props.disabled || props.options && props.options.disabled || !primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].cssTransition;\n\n  var onEnter = function onEnter(node, isAppearing) {\n    props.onEnter && props.onEnter(node, isAppearing); // component\n\n    props.options && props.options.onEnter && props.options.onEnter(node, isAppearing); // user option\n  };\n\n  var onEntering = function onEntering(node, isAppearing) {\n    props.onEntering && props.onEntering(node, isAppearing); // component\n\n    props.options && props.options.onEntering && props.options.onEntering(node, isAppearing); // user option\n  };\n\n  var onEntered = function onEntered(node, isAppearing) {\n    props.onEntered && props.onEntered(node, isAppearing); // component\n\n    props.options && props.options.onEntered && props.options.onEntered(node, isAppearing); // user option\n  };\n\n  var onExit = function onExit(node) {\n    props.onExit && props.onExit(node); // component\n\n    props.options && props.options.onExit && props.options.onExit(node); // user option\n  };\n\n  var onExiting = function onExiting(node) {\n    props.onExiting && props.onExiting(node); // component\n\n    props.options && props.options.onExiting && props.options.onExiting(node); // user option\n  };\n\n  var onExited = function onExited(node) {\n    props.onExited && props.onExited(node); // component\n\n    props.options && props.options.onExited && props.options.onExited(node); // user option\n  };\n\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (disabled) {\n      // no animation\n      var node = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.getRefElement(props.nodeRef);\n\n      if (props[\"in\"]) {\n        onEnter(node, true);\n        onEntering(node, true);\n        onEntered(node, true);\n      } else {\n        onExit(node);\n        onExiting(node);\n        onExited(node);\n      }\n    }\n  }, [props[\"in\"]]);\n\n  if (disabled) {\n    return props[\"in\"] ? props.children : null;\n  } else {\n    var immutableProps = {\n      nodeRef: props.nodeRef,\n      \"in\": props[\"in\"],\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: onExited\n    };\n    var mutableProps = {\n      classNames: props.classNames,\n      timeout: props.timeout,\n      unmountOnExit: props.unmountOnExit\n    };\n\n    var mergedProps = _objectSpread(_objectSpread(_objectSpread({}, mutableProps), props.options || {}), immutableProps);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_4__.CSSTransition, mergedProps, props.children);\n  }\n});\nCSSTransition.displayName = 'CSSTransition';\nCSSTransition.defaultProps = {\n  __TYPE: 'CSSTransition'\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9jc3N0cmFuc2l0aW9uL2Nzc3RyYW5zaXRpb24uZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0I7QUFDMkM7QUFDbEM7QUFDVztBQUNKOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELDRDQUE0QyxvS0FBb0ssbUZBQW1GLEtBQUs7QUFDMWUsaUNBQWlDLDZDQUFnQjtBQUNqRCwrRUFBK0Usb0VBQXdCOztBQUV2RztBQUNBLHVEQUF1RDs7QUFFdkQsd0ZBQXdGO0FBQ3hGOztBQUVBO0FBQ0EsNkRBQTZEOztBQUU3RCw4RkFBOEY7QUFDOUY7O0FBRUE7QUFDQSwyREFBMkQ7O0FBRTNELDRGQUE0RjtBQUM1Rjs7QUFFQTtBQUNBLHdDQUF3Qzs7QUFFeEMseUVBQXlFO0FBQ3pFOztBQUVBO0FBQ0EsOENBQThDOztBQUU5QywrRUFBK0U7QUFDL0U7O0FBRUE7QUFDQSw0Q0FBNEM7O0FBRTVDLDZFQUE2RTtBQUM3RTs7QUFFQSxFQUFFLGlFQUFlO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUIsdUVBQXlCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrRUFBa0Usb0NBQW9DOztBQUV0Ryx3QkFBd0IsZ0RBQW1CLENBQUMsaUVBQWU7QUFDM0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2Nzc3RyYW5zaXRpb24vY3NzdHJhbnNpdGlvbi5lc20uanM/NmQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIGFzIENTU1RyYW5zaXRpb24kMSB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IFByaW1lUmVhY3QgZnJvbSAncHJpbWVyZWFjdC9hcGknO1xuaW1wb3J0IHsgdXNlVXBkYXRlRWZmZWN0IH0gZnJvbSAncHJpbWVyZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBPYmplY3RVdGlscyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBDU1NUcmFuc2l0aW9uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLmRpc2FibGVkIHx8ICFQcmltZVJlYWN0LmNzc1RyYW5zaXRpb247XG5cbiAgdmFyIG9uRW50ZXIgPSBmdW5jdGlvbiBvbkVudGVyKG5vZGUsIGlzQXBwZWFyaW5nKSB7XG4gICAgcHJvcHMub25FbnRlciAmJiBwcm9wcy5vbkVudGVyKG5vZGUsIGlzQXBwZWFyaW5nKTsgLy8gY29tcG9uZW50XG5cbiAgICBwcm9wcy5vcHRpb25zICYmIHByb3BzLm9wdGlvbnMub25FbnRlciAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXIobm9kZSwgaXNBcHBlYXJpbmcpOyAvLyB1c2VyIG9wdGlvblxuICB9O1xuXG4gIHZhciBvbkVudGVyaW5nID0gZnVuY3Rpb24gb25FbnRlcmluZyhub2RlLCBpc0FwcGVhcmluZykge1xuICAgIHByb3BzLm9uRW50ZXJpbmcgJiYgcHJvcHMub25FbnRlcmluZyhub2RlLCBpc0FwcGVhcmluZyk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXJpbmcgJiYgcHJvcHMub3B0aW9ucy5vbkVudGVyaW5nKG5vZGUsIGlzQXBwZWFyaW5nKTsgLy8gdXNlciBvcHRpb25cbiAgfTtcblxuICB2YXIgb25FbnRlcmVkID0gZnVuY3Rpb24gb25FbnRlcmVkKG5vZGUsIGlzQXBwZWFyaW5nKSB7XG4gICAgcHJvcHMub25FbnRlcmVkICYmIHByb3BzLm9uRW50ZXJlZChub2RlLCBpc0FwcGVhcmluZyk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXJlZCAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXJlZChub2RlLCBpc0FwcGVhcmluZyk7IC8vIHVzZXIgb3B0aW9uXG4gIH07XG5cbiAgdmFyIG9uRXhpdCA9IGZ1bmN0aW9uIG9uRXhpdChub2RlKSB7XG4gICAgcHJvcHMub25FeGl0ICYmIHByb3BzLm9uRXhpdChub2RlKTsgLy8gY29tcG9uZW50XG5cbiAgICBwcm9wcy5vcHRpb25zICYmIHByb3BzLm9wdGlvbnMub25FeGl0ICYmIHByb3BzLm9wdGlvbnMub25FeGl0KG5vZGUpOyAvLyB1c2VyIG9wdGlvblxuICB9O1xuXG4gIHZhciBvbkV4aXRpbmcgPSBmdW5jdGlvbiBvbkV4aXRpbmcobm9kZSkge1xuICAgIHByb3BzLm9uRXhpdGluZyAmJiBwcm9wcy5vbkV4aXRpbmcobm9kZSk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRXhpdGluZyAmJiBwcm9wcy5vcHRpb25zLm9uRXhpdGluZyhub2RlKTsgLy8gdXNlciBvcHRpb25cbiAgfTtcblxuICB2YXIgb25FeGl0ZWQgPSBmdW5jdGlvbiBvbkV4aXRlZChub2RlKSB7XG4gICAgcHJvcHMub25FeGl0ZWQgJiYgcHJvcHMub25FeGl0ZWQobm9kZSk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRXhpdGVkICYmIHByb3BzLm9wdGlvbnMub25FeGl0ZWQobm9kZSk7IC8vIHVzZXIgb3B0aW9uXG4gIH07XG5cbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIC8vIG5vIGFuaW1hdGlvblxuICAgICAgdmFyIG5vZGUgPSBPYmplY3RVdGlscy5nZXRSZWZFbGVtZW50KHByb3BzLm5vZGVSZWYpO1xuXG4gICAgICBpZiAocHJvcHNbXCJpblwiXSkge1xuICAgICAgICBvbkVudGVyKG5vZGUsIHRydWUpO1xuICAgICAgICBvbkVudGVyaW5nKG5vZGUsIHRydWUpO1xuICAgICAgICBvbkVudGVyZWQobm9kZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkV4aXQobm9kZSk7XG4gICAgICAgIG9uRXhpdGluZyhub2RlKTtcbiAgICAgICAgb25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbcHJvcHNbXCJpblwiXV0pO1xuXG4gIGlmIChkaXNhYmxlZCkge1xuICAgIHJldHVybiBwcm9wc1tcImluXCJdID8gcHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZhciBpbW11dGFibGVQcm9wcyA9IHtcbiAgICAgIG5vZGVSZWY6IHByb3BzLm5vZGVSZWYsXG4gICAgICBcImluXCI6IHByb3BzW1wiaW5cIl0sXG4gICAgICBvbkVudGVyOiBvbkVudGVyLFxuICAgICAgb25FbnRlcmluZzogb25FbnRlcmluZyxcbiAgICAgIG9uRW50ZXJlZDogb25FbnRlcmVkLFxuICAgICAgb25FeGl0OiBvbkV4aXQsXG4gICAgICBvbkV4aXRpbmc6IG9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZFxuICAgIH07XG4gICAgdmFyIG11dGFibGVQcm9wcyA9IHtcbiAgICAgIGNsYXNzTmFtZXM6IHByb3BzLmNsYXNzTmFtZXMsXG4gICAgICB0aW1lb3V0OiBwcm9wcy50aW1lb3V0LFxuICAgICAgdW5tb3VudE9uRXhpdDogcHJvcHMudW5tb3VudE9uRXhpdFxuICAgIH07XG5cbiAgICB2YXIgbWVyZ2VkUHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbXV0YWJsZVByb3BzKSwgcHJvcHMub3B0aW9ucyB8fCB7fSksIGltbXV0YWJsZVByb3BzKTtcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDU1NUcmFuc2l0aW9uJDEsIG1lcmdlZFByb3BzLCBwcm9wcy5jaGlsZHJlbik7XG4gIH1cbn0pO1xuQ1NTVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uJztcbkNTU1RyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdDU1NUcmFuc2l0aW9uJ1xufTtcblxuZXhwb3J0IHsgQ1NTVHJhbnNpdGlvbiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/csstransition/csstransition.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/dropdown/dropdown.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/primereact/dropdown/dropdown.esm.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Dropdown\": function() { return /* binding */ Dropdown; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/virtualscroller */ \"./node_modules/primereact/virtualscroller/virtualscroller.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar DropdownItem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var onClick = function onClick(event) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        option: props.option\n      });\n    }\n  };\n\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-item', {\n    'p-highlight': props.selected,\n    'p-disabled': props.disabled,\n    'p-dropdown-item-empty': !props.label || props.label.length === 0\n  }, props.option && props.option.className);\n  var content = props.template ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.template, props.option) : props.label;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n    className: className,\n    style: props.style,\n    onClick: onClick,\n    \"aria-label\": props.label,\n    key: props.label,\n    role: \"option\",\n    \"aria-selected\": props.selected\n  }, content, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_9__.Ripple, null));\n});\nDropdownItem.displayName = 'DropdownItem';\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar DropdownPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var virtualScrollerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var filterInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isEmptyFilter = !(props.visibleOptions && props.visibleOptions.length) && props.hasFilter;\n  var filterOptions = {\n    filter: function filter(e) {\n      return onFilterInputChange(e);\n    },\n    reset: function reset() {\n      return props.resetFilter();\n    }\n  };\n\n  var onEnter = function onEnter() {\n    props.onEnter(function () {\n      if (virtualScrollerRef.current) {\n        var selectedIndex = props.getSelectedOptionIndex();\n\n        if (selectedIndex !== -1) {\n          setTimeout(function () {\n            return virtualScrollerRef.current.scrollToIndex(selectedIndex);\n          }, 0);\n        }\n      }\n    });\n  };\n\n  var onEntered = function onEntered() {\n    props.onEntered(function () {\n      if (props.filter && props.filterInputAutoFocus) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(filterInputRef.current, false);\n      }\n    });\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    virtualScrollerRef.current && virtualScrollerRef.current.scrollToIndex(0);\n    props.onFilterInputChange && props.onFilterInputChange(event);\n  };\n\n  var createGroupChildren = function createGroupChildren(optionGroup, style) {\n    var groupChildren = props.getOptionGroupChildren(optionGroup);\n    return groupChildren.map(function (option, j) {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = j + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: props.isSelected(option),\n        disabled: disabled,\n        onClick: props.onOptionClick\n      });\n    });\n  };\n\n  var createEmptyMessage = function createEmptyMessage(emptyMessage, isFilter) {\n    var message = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(emptyMessage, props) || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)(isFilter ? 'emptyFilterMessage' : 'emptyMessage');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      className: \"p-dropdown-empty-message\"\n    }, message);\n  };\n\n  var createItem = function createItem(option, index) {\n    var scrollerOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var style = {\n      height: scrollerOptions.props ? scrollerOptions.props.itemSize : undefined\n    };\n\n    if (props.optionGroupLabel) {\n      var groupContent = props.optionGroupTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.optionGroupTemplate, option, index) : props.getOptionGroupLabel(option);\n      var groupChildrenContent = createGroupChildren(option, style);\n      var key = index + '_' + props.getOptionGroupRenderKey(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: key\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-dropdown-item-group\",\n        style: style\n      }, groupContent), groupChildrenContent);\n    } else {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = index + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: props.isSelected(option),\n        disabled: disabled,\n        onClick: props.onOptionClick\n      });\n    }\n  };\n\n  var createItems = function createItems() {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.visibleOptions)) {\n      return props.visibleOptions.map(createItem);\n    } else if (props.hasFilter) {\n      return createEmptyMessage(props.emptyFilterMessage, true);\n    }\n\n    return createEmptyMessage(props.emptyMessage);\n  };\n\n  var createFilterClearIcon = function createFilterClearIcon() {\n    if (props.showFilterClear && props.filterValue) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-filter-clear-icon pi pi-times\",\n        onClick: function onClick() {\n          return props.onFilterClearIconClick(function () {\n            return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(filterInputRef.current);\n          });\n        }\n      });\n    }\n\n    return null;\n  };\n\n  var createFilter = function createFilter() {\n    if (props.filter) {\n      var clearIcon = createFilterClearIcon();\n      var containerClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-filter-container', {\n        'p-dropdown-clearable-filter': !!clearIcon\n      });\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: containerClassName\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        ref: filterInputRef,\n        type: \"text\",\n        autoComplete: \"off\",\n        className: \"p-dropdown-filter p-inputtext p-component\",\n        placeholder: props.filterPlaceholder,\n        onKeyDown: props.onFilterInputKeyDown,\n        onChange: onFilterInputChange,\n        value: props.filterValue\n      }), clearIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-filter-icon pi pi-search\"\n      }));\n\n      if (props.filterTemplate) {\n        var defaultContentOptions = {\n          className: containerClassName,\n          element: content,\n          filterOptions: filterOptions,\n          filterInputKeyDown: props.onFilterInputKeyDown,\n          filterInputChange: onFilterInputChange,\n          filterIconClassName: 'p-dropdown-filter-icon pi pi-search',\n          clearIcon: clearIcon,\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.filterTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-dropdown-header\"\n      }, content);\n    }\n\n    return null;\n  };\n\n  var createContent = function createContent() {\n    if (props.virtualScrollerOptions) {\n      var virtualScrollerProps = _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions), {\n        style: _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions.style), {\n          height: props.scrollHeight\n        }),\n        className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-items-wrapper', props.virtualScrollerOptions.className),\n        items: props.visibleOptions,\n        autoSize: true,\n        onLazyLoad: function onLazyLoad(event) {\n          return props.virtualScrollerOptions.onLazyLoad(_objectSpread$1(_objectSpread$1({}, event), {\n            filter: props.filterValue\n          }));\n        },\n        itemTemplate: function itemTemplate(item, options) {\n          return item && createItem(item, options.index, options);\n        },\n        contentTemplate: function contentTemplate(options) {\n          var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-items', options.className);\n          var content = isEmptyFilter ? createEmptyMessage() : options.children;\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n            ref: options.contentRef,\n            className: className,\n            role: \"listbox\"\n          }, content);\n        }\n      });\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_8__.VirtualScroller, _extends({\n        ref: virtualScrollerRef\n      }, virtualScrollerProps));\n    } else {\n      var items = createItems();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-dropdown-items-wrapper\",\n        style: {\n          maxHeight: props.scrollHeight || 'auto'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: \"p-dropdown-items\",\n        role: \"listbox\"\n      }, items));\n    }\n  };\n\n  var createElement = function createElement() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-panel p-component', props.panelClassName);\n    var filter = createFilter();\n    var content = createContent();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__.CSSTransition, {\n      nodeRef: ref,\n      classNames: \"p-connected-overlay\",\n      \"in\": props[\"in\"],\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: onEnter,\n      onEntering: props.onEntering,\n      onEntered: onEntered,\n      onExit: props.onExit,\n      onExited: props.onExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: ref,\n      className: className,\n      style: props.panelStyle,\n      onClick: props.onClick\n    }, filter, content));\n  };\n\n  var element = createElement();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_7__.Portal, {\n    element: element,\n    appendTo: props.appendTo\n  });\n}));\nDropdownPanel.displayName = 'DropdownPanel';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar Dropdown = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterState = _React$useState2[0],\n      setFilterState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      focusedState = _React$useState4[0],\n      setFocusedState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      overlayVisibleState = _React$useState6[0],\n      setOverlayVisibleState = _React$useState6[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n  var focusInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var searchTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var searchValue = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var currentSearchChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isLazy = props.virtualScrollerOptions && props.virtualScrollerOptions.lazy;\n  var hasFilter = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(filterState);\n  var appendTo = props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo;\n\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useOverlayListener)({\n    target: elementRef,\n    overlay: overlayRef,\n    listener: function listener(event, _ref) {\n      var type = _ref.type,\n          valid = _ref.valid;\n\n      if (valid) {\n        type === 'outside' ? !isClearClicked(event) && hide() : hide();\n      }\n    },\n    when: overlayVisibleState\n  }),\n      _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n      bindOverlayListener = _useOverlayListener2[0],\n      unbindOverlayListener = _useOverlayListener2[1];\n\n  var getVisibleOptions = function getVisibleOptions() {\n    if (hasFilter && !isLazy) {\n      var filterValue = filterState.trim().toLocaleLowerCase(props.filterLocale);\n      var searchFields = props.filterBy ? props.filterBy.split(',') : [props.optionLabel || 'label'];\n\n      if (props.optionGroupLabel) {\n        var filteredGroups = [];\n\n        var _iterator = _createForOfIteratorHelper(props.options),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var optgroup = _step.value;\n            var filteredSubOptions = primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filter(getOptionGroupChildren(optgroup), searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n\n            if (filteredSubOptions && filteredSubOptions.length) {\n              filteredGroups.push(_objectSpread(_objectSpread({}, optgroup), {\n                items: filteredSubOptions\n              }));\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return filteredGroups;\n      } else {\n        return primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filter(props.options, searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n      }\n    } else {\n      return props.options;\n    }\n  };\n\n  var isClearClicked = function isClearClicked(event) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-dropdown-clear-icon') || primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-dropdown-filter-clear-icon');\n  };\n\n  var onClick = function onClick(event) {\n    if (props.disabled) {\n      return;\n    }\n\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-dropdown-clear-icon') || event.target.tagName === 'INPUT') {\n      return;\n    } else if (!overlayRef.current || !(overlayRef.current && overlayRef.current.contains(event.target))) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(focusInputRef.current);\n      overlayVisibleState ? hide() : show();\n    }\n  };\n\n  var onInputFocus = function onInputFocus(event) {\n    if (props.showOnFocus && !overlayVisibleState) {\n      show();\n    }\n\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n\n    if (props.onBlur) {\n      setTimeout(function () {\n        var currentValue = inputRef.current ? inputRef.current.value : undefined;\n        props.onBlur({\n          originalEvent: event.originalEvent,\n          value: currentValue,\n          stopPropagation: function stopPropagation() {},\n          preventDefault: function preventDefault() {},\n          target: {\n            name: props.name,\n            id: props.id,\n            value: currentValue\n          }\n        });\n      }, 200);\n    }\n  };\n\n  var onPanelClick = function onPanelClick(event) {\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_3__.OverlayService.emit('overlay-click', {\n      originalEvent: event,\n      target: elementRef.current\n    });\n  };\n\n  var onInputKeyDown = function onInputKeyDown(event) {\n    switch (event.which) {\n      //down\n      case 40:\n        onDownKey(event);\n        break;\n      //up\n\n      case 38:\n        onUpKey(event);\n        break;\n      //space and enter\n\n      case 32:\n      case 13:\n        overlayVisibleState ? hide() : show();\n        event.preventDefault();\n        break;\n      //escape and tab\n\n      case 27:\n      case 9:\n        hide();\n        break;\n\n      default:\n        search(event);\n        break;\n    }\n  };\n\n  var onFilterInputKeyDown = function onFilterInputKeyDown(event) {\n    switch (event.which) {\n      //down\n      case 40:\n        onDownKey(event);\n        break;\n      //up\n\n      case 38:\n        onUpKey(event);\n        break;\n      //enter and escape\n\n      case 13:\n      case 27:\n        hide();\n        event.preventDefault();\n        break;\n    }\n  };\n\n  var onUpKey = function onUpKey(event) {\n    if (visibleOptions) {\n      var prevOption = findPrevOption(getSelectedOptionIndex());\n\n      if (prevOption) {\n        selectItem({\n          originalEvent: event,\n          option: prevOption\n        });\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var onDownKey = function onDownKey(event) {\n    if (visibleOptions) {\n      if (!overlayVisibleState && event.altKey) {\n        show();\n      } else {\n        var nextOption = findNextOption(getSelectedOptionIndex());\n\n        if (nextOption) {\n          selectItem({\n            originalEvent: event,\n            option: nextOption\n          });\n        }\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var findNextOption = function findNextOption(index) {\n    if (props.optionGroupLabel) {\n      var groupIndex = index === -1 ? 0 : index.group;\n      var optionIndex = index === -1 ? -1 : index.option;\n      var option = findNextOptionInList(getOptionGroupChildren(visibleOptions[groupIndex]), optionIndex);\n      if (option) return option;else if (groupIndex + 1 !== visibleOptions.length) return findNextOption({\n        group: groupIndex + 1,\n        option: -1\n      });else return null;\n    }\n\n    return findNextOptionInList(visibleOptions, index);\n  };\n\n  var findNextOptionInList = function findNextOptionInList(list, index) {\n    var i = index + 1;\n\n    if (i === list.length) {\n      return null;\n    }\n\n    var option = list[i];\n    return isOptionDisabled(option) ? findNextOptionInList(i) : option;\n  };\n\n  var findPrevOption = function findPrevOption(index) {\n    if (index === -1) {\n      return null;\n    }\n\n    if (props.optionGroupLabel) {\n      var groupIndex = index.group;\n      var optionIndex = index.option;\n      var option = findPrevOptionInList(getOptionGroupChildren(visibleOptions[groupIndex]), optionIndex);\n      if (option) return option;else if (groupIndex > 0) return findPrevOption({\n        group: groupIndex - 1,\n        option: getOptionGroupChildren(visibleOptions[groupIndex - 1]).length\n      });else return null;\n    }\n\n    return findPrevOptionInList(visibleOptions, index);\n  };\n\n  var findPrevOptionInList = function findPrevOptionInList(list, index) {\n    var i = index - 1;\n\n    if (i < 0) {\n      return null;\n    }\n\n    var option = list[i];\n    return isOptionDisabled(option) ? findPrevOption(i) : option;\n  };\n\n  var search = function search(event) {\n    if (searchTimeout.current) {\n      clearTimeout(searchTimeout.current);\n    }\n\n    var _char = event.key;\n\n    if (_char === 'Shift' || _char === 'Control' || _char === 'Alt') {\n      return;\n    }\n\n    if (currentSearchChar.current === _char) searchValue.current = _char;else searchValue.current = searchValue.current ? searchValue.current + _char : _char;\n    currentSearchChar.current = _char;\n\n    if (searchValue.current) {\n      var searchIndex = getSelectedOptionIndex();\n      var newOption = props.optionGroupLabel ? searchOptionInGroup(searchIndex) : searchOption(searchIndex + 1);\n\n      if (newOption) {\n        selectItem({\n          originalEvent: event,\n          option: newOption\n        });\n      }\n    }\n\n    searchTimeout.current = setTimeout(function () {\n      searchValue.current = null;\n    }, 250);\n  };\n\n  var searchOption = function searchOption(index) {\n    if (searchValue.current) {\n      return searchOptionInRange(index, visibleOptions.length) || searchOptionInRange(0, index);\n    }\n\n    return null;\n  };\n\n  var searchOptionInRange = function searchOptionInRange(start, end) {\n    for (var i = start; i < end; i++) {\n      var opt = visibleOptions[i];\n\n      if (matchesSearchValue(opt)) {\n        return opt;\n      }\n    }\n\n    return null;\n  };\n\n  var searchOptionInGroup = function searchOptionInGroup(index) {\n    var searchIndex = index === -1 ? {\n      group: 0,\n      option: -1\n    } : index;\n\n    for (var i = searchIndex.group; i < visibleOptions.length; i++) {\n      var groupOptions = getOptionGroupChildren(visibleOptions[i]);\n\n      for (var j = searchIndex.group === i ? searchIndex.option + 1 : 0; j < groupOptions.length; j++) {\n        if (matchesSearchValue(groupOptions[j])) {\n          return groupOptions[j];\n        }\n      }\n    }\n\n    for (var _i = 0; _i <= searchIndex.group; _i++) {\n      var _groupOptions = getOptionGroupChildren(visibleOptions[_i]);\n\n      for (var _j = 0; _j < (searchIndex.group === _i ? searchIndex.option : _groupOptions.length); _j++) {\n        if (matchesSearchValue(_groupOptions[_j])) {\n          return _groupOptions[_j];\n        }\n      }\n    }\n\n    return null;\n  };\n\n  var matchesSearchValue = function matchesSearchValue(option) {\n    var label = getOptionLabel(option);\n\n    if (!label) {\n      return false;\n    }\n\n    label = label.toLocaleLowerCase(props.filterLocale);\n    return label.startsWith(searchValue.current.toLocaleLowerCase(props.filterLocale));\n  };\n\n  var onEditableInputChange = function onEditableInputChange(event) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event.originalEvent,\n        value: event.target.value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: event.target.value\n        }\n      });\n    }\n  };\n\n  var onEditableInputFocus = function onEditableInputFocus(event) {\n    setFocusedState(true);\n    hide();\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onOptionClick = function onOptionClick(event) {\n    var option = event.option;\n\n    if (!option.disabled) {\n      selectItem(event);\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(focusInputRef.current);\n    }\n\n    hide();\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    var filter = event.target.value;\n    setFilterState(filter);\n\n    if (props.onFilter) {\n      props.onFilter({\n        originalEvent: event,\n        filter: filter\n      });\n    }\n  };\n\n  var onFilterClearIconClick = function onFilterClearIconClick(callback) {\n    resetFilter(callback);\n  };\n\n  var resetFilter = function resetFilter(callback) {\n    setFilterState('');\n    props.onFilter && props.onFilter({\n      filter: ''\n    });\n    callback && callback();\n  };\n\n  var clear = function clear(event) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event,\n        value: undefined,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: undefined\n        }\n      });\n    }\n\n    updateEditableLabel();\n  };\n\n  var selectItem = function selectItem(event) {\n    if (selectedOption !== event.option) {\n      updateEditableLabel(event.option);\n      var optionValue = getOptionValue(event.option);\n\n      if (props.onChange) {\n        props.onChange({\n          originalEvent: event.originalEvent,\n          value: optionValue,\n          stopPropagation: function stopPropagation() {},\n          preventDefault: function preventDefault() {},\n          target: {\n            name: props.name,\n            id: props.id,\n            value: optionValue\n          }\n        });\n      }\n    }\n  };\n\n  var getSelectedOptionIndex = function getSelectedOptionIndex(options) {\n    options = options || visibleOptions;\n\n    if (props.value != null && options) {\n      if (props.optionGroupLabel) {\n        for (var i = 0; i < options.length; i++) {\n          var selectedOptionIndex = findOptionIndexInList(props.value, getOptionGroupChildren(options[i]));\n\n          if (selectedOptionIndex !== -1) {\n            return {\n              group: i,\n              option: selectedOptionIndex\n            };\n          }\n        }\n      } else {\n        return findOptionIndexInList(props.value, options);\n      }\n    }\n\n    return -1;\n  };\n\n  var equalityKey = function equalityKey() {\n    return props.optionValue ? null : props.dataKey;\n  };\n\n  var findOptionIndexInList = function findOptionIndexInList(value, list) {\n    var key = equalityKey();\n    return list.findIndex(function (item) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(value, getOptionValue(item), key);\n    });\n  };\n\n  var isSelected = function isSelected(option) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(props.value, getOptionValue(option), equalityKey());\n  };\n\n  var show = function show() {\n    setOverlayVisibleState(true);\n  };\n\n  var hide = function hide() {\n    setOverlayVisibleState(false);\n  };\n\n  var onOverlayEnter = function onOverlayEnter(callback) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.set('overlay', overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].autoZIndex, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].zIndex.overlay);\n    alignOverlay();\n    callback && callback();\n  };\n\n  var onOverlayEntered = function onOverlayEntered(callback) {\n    callback && callback();\n    bindOverlayListener();\n    props.onShow && props.onShow();\n  };\n\n  var onOverlayExit = function onOverlayExit() {\n    unbindOverlayListener();\n  };\n\n  var onOverlayExited = function onOverlayExited() {\n    if (props.filter && props.resetFilterOnHide) {\n      resetFilter();\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.clear(overlayRef.current);\n    props.onHide && props.onHide();\n  };\n\n  var alignOverlay = function alignOverlay() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.alignOverlay(overlayRef.current, inputRef.current.parentElement, props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo);\n  };\n\n  var scrollInView = function scrollInView() {\n    var highlightItem = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.findSingle(overlayRef.current, 'li.p-highlight');\n\n    if (highlightItem && highlightItem.scrollIntoView) {\n      highlightItem.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  };\n\n  var updateEditableLabel = function updateEditableLabel(option) {\n    if (inputRef.current) {\n      inputRef.current.value = option ? getOptionLabel(option) : props.value || '';\n    }\n  };\n\n  var getOptionLabel = function getOptionLabel(option) {\n    return props.optionLabel ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionLabel) : option && option['label'] !== undefined ? option['label'] : option;\n  };\n\n  var getOptionValue = function getOptionValue(option) {\n    return props.optionValue ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionValue) : option && option['value'] !== undefined ? option['value'] : option;\n  };\n\n  var getOptionRenderKey = function getOptionRenderKey(option) {\n    return props.dataKey ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.dataKey) : getOptionLabel(option);\n  };\n\n  var isOptionDisabled = function isOptionDisabled(option) {\n    if (props.optionDisabled) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isFunction(props.optionDisabled) ? props.optionDisabled(option) : primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionDisabled);\n    }\n\n    return option && option['disabled'] !== undefined ? option['disabled'] : false;\n  };\n\n  var getOptionGroupRenderKey = function getOptionGroupRenderKey(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n\n  var getOptionGroupLabel = function getOptionGroupLabel(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n\n  var getOptionGroupChildren = function getOptionGroupChildren(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupChildren);\n  };\n\n  var updateInputField = function updateInputField() {\n    if (props.editable && inputRef.current) {\n      var label = selectedOption ? getOptionLabel(selectedOption) : null;\n      var value = label || props.value || '';\n      inputRef.current.value = value;\n    }\n  };\n\n  var getSelectedOption = function getSelectedOption() {\n    var index = getSelectedOptionIndex(props.options);\n    return index !== -1 ? props.optionGroupLabel ? getOptionGroupChildren(props.options[index.group])[index.option] : props.options[index] : null;\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      show: show,\n      hide: hide,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getOverlay: function getOverlay() {\n        return overlayRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      },\n      getFocusInput: function getFocusInput() {\n        return focusInputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useMountEffect)(function () {\n    if (props.autoFocus) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(focusInputRef.current, props.autoFocus);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (overlayVisibleState && props.value) {\n      scrollInView();\n    }\n  }, [overlayVisibleState, props.value]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (overlayVisibleState && props.filter) {\n      alignOverlay();\n    }\n  }, [overlayVisibleState, props.filter]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (filterState && (!props.options || props.options.length === 0)) {\n      setFilterState('');\n    }\n\n    updateInputField();\n\n    if (inputRef.current) {\n      inputRef.current.selectedIndex = 1;\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.clear(overlayRef.current);\n  });\n\n  var createHiddenSelect = function createHiddenSelect() {\n    var option = {\n      value: '',\n      label: props.placeholder\n    };\n\n    if (selectedOption) {\n      var optionValue = getOptionValue(selectedOption);\n      option = {\n        value: _typeof(optionValue) === 'object' ? props.options.findIndex(function (o) {\n          return o === optionValue;\n        }) : optionValue,\n        label: getOptionLabel(selectedOption)\n      };\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-hidden-accessible p-dropdown-hidden-select\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"select\", {\n      ref: inputRef,\n      required: props.required,\n      defaultValue: option.value,\n      name: props.name,\n      tabIndex: -1,\n      \"aria-hidden\": \"true\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"option\", {\n      value: option.value\n    }, option.label)));\n  };\n\n  var createKeyboardHelper = function createKeyboardHelper() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-hidden-accessible\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n      ref: focusInputRef,\n      id: props.inputId,\n      type: \"text\",\n      readOnly: true,\n      \"aria-haspopup\": \"listbox\",\n      onFocus: onInputFocus,\n      onBlur: onInputBlur,\n      onKeyDown: onInputKeyDown,\n      disabled: props.disabled,\n      tabIndex: props.tabIndex,\n      \"aria-label\": props.ariaLabel,\n      \"aria-labelledby\": props.ariaLabelledBy\n    }));\n  };\n\n  var createLabel = function createLabel() {\n    var label = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(selectedOption) ? getOptionLabel(selectedOption) : null;\n\n    if (props.editable) {\n      var value = label || props.value || '';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        ref: inputRef,\n        type: \"text\",\n        defaultValue: value,\n        className: \"p-dropdown-label p-inputtext\",\n        disabled: props.disabled,\n        placeholder: props.placeholder,\n        maxLength: props.maxLength,\n        onInput: onEditableInputChange,\n        onFocus: onEditableInputFocus,\n        onBlur: onInputBlur,\n        \"aria-label\": props.ariaLabel,\n        \"aria-labelledby\": props.ariaLabelledBy,\n        \"aria-haspopup\": \"listbox\"\n      });\n    } else {\n      var _className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-label p-inputtext', {\n        'p-placeholder': label === null && props.placeholder,\n        'p-dropdown-label-empty': label === null && !props.placeholder\n      });\n\n      var content = props.valueTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.valueTemplate, selectedOption, props) : label || props.placeholder || 'empty';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ref: inputRef,\n        className: _className\n      }, content);\n    }\n  };\n\n  var createClearIcon = function createClearIcon() {\n    if (props.value != null && props.showClear && !props.disabled) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-clear-icon pi pi-times\",\n        onClick: clear\n      });\n    }\n\n    return null;\n  };\n\n  var createDropdownIcon = function createDropdownIcon() {\n    var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-trigger-icon p-clickable', props.dropdownIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-dropdown-trigger\",\n      role: \"button\",\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": overlayVisibleState\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: iconClassName\n    }));\n  };\n\n  var visibleOptions = getVisibleOptions();\n  var selectedOption = getSelectedOption();\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.findDiffKeys(props, Dropdown.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown p-component p-inputwrapper', {\n    'p-disabled': props.disabled,\n    'p-focus': focusedState,\n    'p-dropdown-clearable': props.showClear && !props.disabled,\n    'p-inputwrapper-filled': primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.value),\n    'p-inputwrapper-focus': focusedState || overlayVisibleState\n  }, props.className);\n  var hiddenSelect = createHiddenSelect();\n  var keyboardHelper = createKeyboardHelper();\n  var labelElement = createLabel();\n  var dropdownIcon = createDropdownIcon();\n  var clearIcon = createClearIcon();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps, {\n    onClick: onClick,\n    onMouseDown: props.onMouseDown,\n    onContextMenu: props.onContextMenu\n  }), keyboardHelper, hiddenSelect, labelElement, clearIcon, dropdownIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownPanel, _extends({\n    ref: overlayRef,\n    visibleOptions: visibleOptions\n  }, props, {\n    appendTo: appendTo,\n    onClick: onPanelClick,\n    onOptionClick: onOptionClick,\n    filterValue: filterState,\n    hasFilter: hasFilter,\n    onFilterClearIconClick: onFilterClearIconClick,\n    resetFilter: resetFilter,\n    onFilterInputKeyDown: onFilterInputKeyDown,\n    onFilterInputChange: onFilterInputChange,\n    getOptionLabel: getOptionLabel,\n    getOptionRenderKey: getOptionRenderKey,\n    isOptionDisabled: isOptionDisabled,\n    getOptionGroupChildren: getOptionGroupChildren,\n    getOptionGroupLabel: getOptionGroupLabel,\n    getOptionGroupRenderKey: getOptionGroupRenderKey,\n    isSelected: isSelected,\n    getSelectedOptionIndex: getSelectedOptionIndex,\n    \"in\": overlayVisibleState,\n    onEnter: onOverlayEnter,\n    onEntered: onOverlayEntered,\n    onExit: onOverlayExit,\n    onExited: onOverlayExited\n  }))), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nDropdown.displayName = 'Dropdown';\nDropdown.defaultProps = {\n  __TYPE: 'Dropdown',\n  id: null,\n  inputRef: null,\n  name: null,\n  value: null,\n  options: null,\n  optionLabel: null,\n  optionValue: null,\n  optionDisabled: null,\n  optionGroupLabel: null,\n  optionGroupChildren: null,\n  optionGroupTemplate: null,\n  filterTemplate: null,\n  valueTemplate: null,\n  itemTemplate: null,\n  style: null,\n  className: null,\n  virtualScrollerOptions: null,\n  scrollHeight: '200px',\n  filter: false,\n  filterBy: null,\n  filterMatchMode: 'contains',\n  filterPlaceholder: null,\n  filterLocale: undefined,\n  emptyMessage: null,\n  emptyFilterMessage: null,\n  editable: false,\n  placeholder: null,\n  required: false,\n  disabled: false,\n  appendTo: null,\n  tabIndex: null,\n  autoFocus: false,\n  filterInputAutoFocus: true,\n  resetFilterOnHide: false,\n  showFilterClear: false,\n  panelClassName: null,\n  panelStyle: null,\n  dataKey: null,\n  inputId: null,\n  showClear: false,\n  maxLength: null,\n  tooltip: null,\n  tooltipOptions: null,\n  ariaLabel: null,\n  ariaLabelledBy: null,\n  transitionOptions: null,\n  dropdownIcon: 'pi pi-chevron-down',\n  showOnFocus: false,\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onMouseDown: null,\n  onContextMenu: null,\n  onShow: null,\n  onHide: null,\n  onFilter: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9kcm9wZG93bi9kcm9wZG93bi5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQzBDO0FBQ2dDO0FBQzlDO0FBQ2Q7QUFDdUM7QUFDM0I7QUFDZDtBQUNrQjtBQUNsQjs7QUFFM0M7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyx1Q0FBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsa0JBQWtCLDREQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxpQ0FBaUMsdUVBQXlCO0FBQzFELHNCQUFzQixnREFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHdCQUF3Qixn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O0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRyxxRkFBcUYsZ0RBQW1CO0FBQzNHO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdDQUFnQyxnREFBbUIsQ0FBQyx1REFBTztBQUM5RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2Ryb3Bkb3duL2Ryb3Bkb3duLmVzbS5qcz9hYWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcmltZVJlYWN0LCB7IGxvY2FsZU9wdGlvbiwgRmlsdGVyU2VydmljZSB9IGZyb20gJ3ByaW1lcmVhY3QvYXBpJztcbmltcG9ydCB7IHVzZU92ZXJsYXlMaXN0ZW5lciwgdXNlTW91bnRFZmZlY3QsIHVzZVVwZGF0ZUVmZmVjdCwgdXNlVW5tb3VudEVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgT3ZlcmxheVNlcnZpY2UgfSBmcm9tICdwcmltZXJlYWN0L292ZXJsYXlzZXJ2aWNlJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcywgT2JqZWN0VXRpbHMsIERvbUhhbmRsZXIsIFpJbmRleFV0aWxzIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIH0gZnJvbSAncHJpbWVyZWFjdC9jc3N0cmFuc2l0aW9uJztcbmltcG9ydCB7IFBvcnRhbCB9IGZyb20gJ3ByaW1lcmVhY3QvcG9ydGFsJztcbmltcG9ydCB7IFZpcnR1YWxTY3JvbGxlciB9IGZyb20gJ3ByaW1lcmVhY3QvdmlydHVhbHNjcm9sbGVyJztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbnZhciBEcm9wZG93bkl0ZW0gPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgIHByb3BzLm9uQ2xpY2soe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgb3B0aW9uOiBwcm9wcy5vcHRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1pdGVtJywge1xuICAgICdwLWhpZ2hsaWdodCc6IHByb3BzLnNlbGVjdGVkLFxuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZHJvcGRvd24taXRlbS1lbXB0eSc6ICFwcm9wcy5sYWJlbCB8fCBwcm9wcy5sYWJlbC5sZW5ndGggPT09IDBcbiAgfSwgcHJvcHMub3B0aW9uICYmIHByb3BzLm9wdGlvbi5jbGFzc05hbWUpO1xuICB2YXIgY29udGVudCA9IHByb3BzLnRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgcHJvcHMub3B0aW9uKSA6IHByb3BzLmxhYmVsO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmxhYmVsLFxuICAgIGtleTogcHJvcHMubGFiZWwsXG4gICAgcm9sZTogXCJvcHRpb25cIixcbiAgICBcImFyaWEtc2VsZWN0ZWRcIjogcHJvcHMuc2VsZWN0ZWRcbiAgfSwgY29udGVudCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG59KTtcbkRyb3Bkb3duSXRlbS5kaXNwbGF5TmFtZSA9ICdEcm9wZG93bkl0ZW0nO1xuXG5mdW5jdGlvbiBvd25LZXlzJDEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgRHJvcGRvd25QYW5lbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgdmlydHVhbFNjcm9sbGVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZmlsdGVySW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpc0VtcHR5RmlsdGVyID0gIShwcm9wcy52aXNpYmxlT3B0aW9ucyAmJiBwcm9wcy52aXNpYmxlT3B0aW9ucy5sZW5ndGgpICYmIHByb3BzLmhhc0ZpbHRlcjtcbiAgdmFyIGZpbHRlck9wdGlvbnMgPSB7XG4gICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoZSkge1xuICAgICAgcmV0dXJuIG9uRmlsdGVySW5wdXRDaGFuZ2UoZSk7XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICByZXR1cm4gcHJvcHMucmVzZXRGaWx0ZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRW50ZXIgPSBmdW5jdGlvbiBvbkVudGVyKCkge1xuICAgIHByb3BzLm9uRW50ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gcHJvcHMuZ2V0U2VsZWN0ZWRPcHRpb25JbmRleCgpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbFRvSW5kZXgoc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25FbnRlcmVkID0gZnVuY3Rpb24gb25FbnRlcmVkKCkge1xuICAgIHByb3BzLm9uRW50ZXJlZChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJvcHMuZmlsdGVyICYmIHByb3BzLmZpbHRlcklucHV0QXV0b0ZvY3VzKSB7XG4gICAgICAgIERvbUhhbmRsZXIuZm9jdXMoZmlsdGVySW5wdXRSZWYuY3VycmVudCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvbkZpbHRlcklucHV0Q2hhbmdlID0gZnVuY3Rpb24gb25GaWx0ZXJJbnB1dENoYW5nZShldmVudCkge1xuICAgIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50ICYmIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbFRvSW5kZXgoMCk7XG4gICAgcHJvcHMub25GaWx0ZXJJbnB1dENoYW5nZSAmJiBwcm9wcy5vbkZpbHRlcklucHV0Q2hhbmdlKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlR3JvdXBDaGlsZHJlbiA9IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hpbGRyZW4ob3B0aW9uR3JvdXAsIHN0eWxlKSB7XG4gICAgdmFyIGdyb3VwQ2hpbGRyZW4gPSBwcm9wcy5nZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKTtcbiAgICByZXR1cm4gZ3JvdXBDaGlsZHJlbi5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaikge1xuICAgICAgdmFyIG9wdGlvbkxhYmVsID0gcHJvcHMuZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBvcHRpb25LZXkgPSBqICsgJ18nICsgcHJvcHMuZ2V0T3B0aW9uUmVuZGVyS2V5KG9wdGlvbik7XG4gICAgICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5pc09wdGlvbkRpc2FibGVkKG9wdGlvbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25JdGVtLCB7XG4gICAgICAgIGtleTogb3B0aW9uS2V5LFxuICAgICAgICBsYWJlbDogb3B0aW9uTGFiZWwsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uLFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIHRlbXBsYXRlOiBwcm9wcy5pdGVtVGVtcGxhdGUsXG4gICAgICAgIHNlbGVjdGVkOiBwcm9wcy5pc1NlbGVjdGVkKG9wdGlvbiksXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogcHJvcHMub25PcHRpb25DbGlja1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUVtcHR5TWVzc2FnZSA9IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5TWVzc2FnZShlbXB0eU1lc3NhZ2UsIGlzRmlsdGVyKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KGVtcHR5TWVzc2FnZSwgcHJvcHMpIHx8IGxvY2FsZU9wdGlvbihpc0ZpbHRlciA/ICdlbXB0eUZpbHRlck1lc3NhZ2UnIDogJ2VtcHR5TWVzc2FnZScpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRyb3Bkb3duLWVtcHR5LW1lc3NhZ2VcIlxuICAgIH0sIG1lc3NhZ2UpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJdGVtID0gZnVuY3Rpb24gY3JlYXRlSXRlbShvcHRpb24sIGluZGV4KSB7XG4gICAgdmFyIHNjcm9sbGVyT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgdmFyIHN0eWxlID0ge1xuICAgICAgaGVpZ2h0OiBzY3JvbGxlck9wdGlvbnMucHJvcHMgPyBzY3JvbGxlck9wdGlvbnMucHJvcHMuaXRlbVNpemUgOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgaWYgKHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpIHtcbiAgICAgIHZhciBncm91cENvbnRlbnQgPSBwcm9wcy5vcHRpb25Hcm91cFRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5vcHRpb25Hcm91cFRlbXBsYXRlLCBvcHRpb24sIGluZGV4KSA6IHByb3BzLmdldE9wdGlvbkdyb3VwTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBncm91cENoaWxkcmVuQ29udGVudCA9IGNyZWF0ZUdyb3VwQ2hpbGRyZW4ob3B0aW9uLCBzdHlsZSk7XG4gICAgICB2YXIga2V5ID0gaW5kZXggKyAnXycgKyBwcm9wcy5nZXRPcHRpb25Hcm91cFJlbmRlcktleShvcHRpb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICAgIGtleToga2V5XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24taXRlbS1ncm91cFwiLFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgIH0sIGdyb3VwQ29udGVudCksIGdyb3VwQ2hpbGRyZW5Db250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG9wdGlvbkxhYmVsID0gcHJvcHMuZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBvcHRpb25LZXkgPSBpbmRleCArICdfJyArIHByb3BzLmdldE9wdGlvblJlbmRlcktleShvcHRpb24pO1xuICAgICAgdmFyIGRpc2FibGVkID0gcHJvcHMuaXNPcHRpb25EaXNhYmxlZChvcHRpb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duSXRlbSwge1xuICAgICAgICBrZXk6IG9wdGlvbktleSxcbiAgICAgICAgbGFiZWw6IG9wdGlvbkxhYmVsLFxuICAgICAgICBvcHRpb246IG9wdGlvbixcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB0ZW1wbGF0ZTogcHJvcHMuaXRlbVRlbXBsYXRlLFxuICAgICAgICBzZWxlY3RlZDogcHJvcHMuaXNTZWxlY3RlZChvcHRpb24pLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xpY2s6IHByb3BzLm9uT3B0aW9uQ2xpY2tcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcygpIHtcbiAgICBpZiAoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52aXNpYmxlT3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBwcm9wcy52aXNpYmxlT3B0aW9ucy5tYXAoY3JlYXRlSXRlbSk7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5oYXNGaWx0ZXIpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbXB0eU1lc3NhZ2UocHJvcHMuZW1wdHlGaWx0ZXJNZXNzYWdlLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlRW1wdHlNZXNzYWdlKHByb3BzLmVtcHR5TWVzc2FnZSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZpbHRlckNsZWFySWNvbiA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckNsZWFySWNvbigpIHtcbiAgICBpZiAocHJvcHMuc2hvd0ZpbHRlckNsZWFyICYmIHByb3BzLmZpbHRlclZhbHVlKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyLWNsZWFyLWljb24gcGkgcGktdGltZXNcIixcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMub25GaWx0ZXJDbGVhckljb25DbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gRG9tSGFuZGxlci5mb2N1cyhmaWx0ZXJJbnB1dFJlZi5jdXJyZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZpbHRlciA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlcigpIHtcbiAgICBpZiAocHJvcHMuZmlsdGVyKSB7XG4gICAgICB2YXIgY2xlYXJJY29uID0gY3JlYXRlRmlsdGVyQ2xlYXJJY29uKCk7XG4gICAgICB2YXIgY29udGFpbmVyQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1maWx0ZXItY29udGFpbmVyJywge1xuICAgICAgICAncC1kcm9wZG93bi1jbGVhcmFibGUtZmlsdGVyJzogISFjbGVhckljb25cbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY29udGFpbmVyQ2xhc3NOYW1lXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgcmVmOiBmaWx0ZXJJbnB1dFJlZixcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyIHAtaW5wdXR0ZXh0IHAtY29tcG9uZW50XCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5maWx0ZXJQbGFjZWhvbGRlcixcbiAgICAgICAgb25LZXlEb3duOiBwcm9wcy5vbkZpbHRlcklucHV0S2V5RG93bixcbiAgICAgICAgb25DaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgICAgIHZhbHVlOiBwcm9wcy5maWx0ZXJWYWx1ZVxuICAgICAgfSksIGNsZWFySWNvbiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyLWljb24gcGkgcGktc2VhcmNoXCJcbiAgICAgIH0pKTtcblxuICAgICAgaWYgKHByb3BzLmZpbHRlclRlbXBsYXRlKSB7XG4gICAgICAgIHZhciBkZWZhdWx0Q29udGVudE9wdGlvbnMgPSB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjb250YWluZXJDbGFzc05hbWUsXG4gICAgICAgICAgZWxlbWVudDogY29udGVudCxcbiAgICAgICAgICBmaWx0ZXJPcHRpb25zOiBmaWx0ZXJPcHRpb25zLFxuICAgICAgICAgIGZpbHRlcklucHV0S2V5RG93bjogcHJvcHMub25GaWx0ZXJJbnB1dEtleURvd24sXG4gICAgICAgICAgZmlsdGVySW5wdXRDaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgICAgICAgZmlsdGVySWNvbkNsYXNzTmFtZTogJ3AtZHJvcGRvd24tZmlsdGVyLWljb24gcGkgcGktc2VhcmNoJyxcbiAgICAgICAgICBjbGVhckljb246IGNsZWFySWNvbixcbiAgICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuZmlsdGVyVGVtcGxhdGUsIGRlZmF1bHRDb250ZW50T3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWRyb3Bkb3duLWhlYWRlclwiXG4gICAgICB9LCBjb250ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgaWYgKHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMpIHtcbiAgICAgIHZhciB2aXJ0dWFsU2Nyb2xsZXJQcm9wcyA9IF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMpLCB7XG4gICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkJDEoX29iamVjdFNwcmVhZCQxKHt9LCBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLnN0eWxlKSwge1xuICAgICAgICAgIGhlaWdodDogcHJvcHMuc2Nyb2xsSGVpZ2h0XG4gICAgICAgIH0pLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24taXRlbXMtd3JhcHBlcicsIHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMuY2xhc3NOYW1lKSxcbiAgICAgICAgaXRlbXM6IHByb3BzLnZpc2libGVPcHRpb25zLFxuICAgICAgICBhdXRvU2l6ZTogdHJ1ZSxcbiAgICAgICAgb25MYXp5TG9hZDogZnVuY3Rpb24gb25MYXp5TG9hZChldmVudCkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLm9uTGF6eUxvYWQoX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgZXZlbnQpLCB7XG4gICAgICAgICAgICBmaWx0ZXI6IHByb3BzLmZpbHRlclZhbHVlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShpdGVtLCBvcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0gJiYgY3JlYXRlSXRlbShpdGVtLCBvcHRpb25zLmluZGV4LCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudFRlbXBsYXRlOiBmdW5jdGlvbiBjb250ZW50VGVtcGxhdGUob3B0aW9ucykge1xuICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRyb3Bkb3duLWl0ZW1zJywgb3B0aW9ucy5jbGFzc05hbWUpO1xuICAgICAgICAgIHZhciBjb250ZW50ID0gaXNFbXB0eUZpbHRlciA/IGNyZWF0ZUVtcHR5TWVzc2FnZSgpIDogb3B0aW9ucy5jaGlsZHJlbjtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICAgICAgICByZWY6IG9wdGlvbnMuY29udGVudFJlZixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgcm9sZTogXCJsaXN0Ym94XCJcbiAgICAgICAgICB9LCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChWaXJ0dWFsU2Nyb2xsZXIsIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiB2aXJ0dWFsU2Nyb2xsZXJSZWZcbiAgICAgIH0sIHZpcnR1YWxTY3JvbGxlclByb3BzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpdGVtcyA9IGNyZWF0ZUl0ZW1zKCk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1pdGVtcy13cmFwcGVyXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgbWF4SGVpZ2h0OiBwcm9wcy5zY3JvbGxIZWlnaHQgfHwgJ2F1dG8nXG4gICAgICAgIH1cbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1pdGVtc1wiLFxuICAgICAgICByb2xlOiBcImxpc3Rib3hcIlxuICAgICAgfSwgaXRlbXMpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRyb3Bkb3duLXBhbmVsIHAtY29tcG9uZW50JywgcHJvcHMucGFuZWxDbGFzc05hbWUpO1xuICAgIHZhciBmaWx0ZXIgPSBjcmVhdGVGaWx0ZXIoKTtcbiAgICB2YXIgY29udGVudCA9IGNyZWF0ZUNvbnRlbnQoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgICAgbm9kZVJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lczogXCJwLWNvbm5lY3RlZC1vdmVybGF5XCIsXG4gICAgICBcImluXCI6IHByb3BzW1wiaW5cIl0sXG4gICAgICB0aW1lb3V0OiB7XG4gICAgICAgIGVudGVyOiAxMjAsXG4gICAgICAgIGV4aXQ6IDEwMFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnM6IHByb3BzLnRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICAgIG9uRW50ZXI6IG9uRW50ZXIsXG4gICAgICBvbkVudGVyaW5nOiBwcm9wcy5vbkVudGVyaW5nLFxuICAgICAgb25FbnRlcmVkOiBvbkVudGVyZWQsXG4gICAgICBvbkV4aXQ6IHByb3BzLm9uRXhpdCxcbiAgICAgIG9uRXhpdGVkOiBwcm9wcy5vbkV4aXRlZFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogcHJvcHMucGFuZWxTdHlsZSxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgICB9LCBmaWx0ZXIsIGNvbnRlbnQpKTtcbiAgfTtcblxuICB2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBvcnRhbCwge1xuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgYXBwZW5kVG86IHByb3BzLmFwcGVuZFRvXG4gIH0pO1xufSkpO1xuRHJvcGRvd25QYW5lbC5kaXNwbGF5TmFtZSA9ICdEcm9wZG93blBhbmVsJztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cbnZhciBEcm9wZG93biA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoJycpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBmaWx0ZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGaWx0ZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMywgMiksXG4gICAgICBmb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0Rm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIG92ZXJsYXlWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0T3ZlcmxheVZpc2libGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTZbMV07XG5cbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBvdmVybGF5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYocHJvcHMuaW5wdXRSZWYpO1xuICB2YXIgZm9jdXNJbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHNlYXJjaFRpbWVvdXQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzZWFyY2hWYWx1ZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGN1cnJlbnRTZWFyY2hDaGFyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNMYXp5ID0gcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucyAmJiBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLmxhenk7XG4gIHZhciBoYXNGaWx0ZXIgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KGZpbHRlclN0YXRlKTtcbiAgdmFyIGFwcGVuZFRvID0gcHJvcHMuYXBwZW5kVG8gfHwgUHJpbWVSZWFjdC5hcHBlbmRUbztcblxuICB2YXIgX3VzZU92ZXJsYXlMaXN0ZW5lciA9IHVzZU92ZXJsYXlMaXN0ZW5lcih7XG4gICAgdGFyZ2V0OiBlbGVtZW50UmVmLFxuICAgIG92ZXJsYXk6IG92ZXJsYXlSZWYsXG4gICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50LCBfcmVmKSB7XG4gICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgICB2YWxpZCA9IF9yZWYudmFsaWQ7XG5cbiAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICB0eXBlID09PSAnb3V0c2lkZScgPyAhaXNDbGVhckNsaWNrZWQoZXZlbnQpICYmIGhpZGUoKSA6IGhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IG92ZXJsYXlWaXNpYmxlU3RhdGVcbiAgfSksXG4gICAgICBfdXNlT3ZlcmxheUxpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VPdmVybGF5TGlzdGVuZXIsIDIpLFxuICAgICAgYmluZE92ZXJsYXlMaXN0ZW5lciA9IF91c2VPdmVybGF5TGlzdGVuZXIyWzBdLFxuICAgICAgdW5iaW5kT3ZlcmxheUxpc3RlbmVyID0gX3VzZU92ZXJsYXlMaXN0ZW5lcjJbMV07XG5cbiAgdmFyIGdldFZpc2libGVPcHRpb25zID0gZnVuY3Rpb24gZ2V0VmlzaWJsZU9wdGlvbnMoKSB7XG4gICAgaWYgKGhhc0ZpbHRlciAmJiAhaXNMYXp5KSB7XG4gICAgICB2YXIgZmlsdGVyVmFsdWUgPSBmaWx0ZXJTdGF0ZS50cmltKCkudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgIHZhciBzZWFyY2hGaWVsZHMgPSBwcm9wcy5maWx0ZXJCeSA/IHByb3BzLmZpbHRlckJ5LnNwbGl0KCcsJykgOiBbcHJvcHMub3B0aW9uTGFiZWwgfHwgJ2xhYmVsJ107XG5cbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIHZhciBmaWx0ZXJlZEdyb3VwcyA9IFtdO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcm9wcy5vcHRpb25zKSxcbiAgICAgICAgICAgIF9zdGVwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBvcHRncm91cCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkU3ViT3B0aW9ucyA9IEZpbHRlclNlcnZpY2UuZmlsdGVyKGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ob3B0Z3JvdXApLCBzZWFyY2hGaWVsZHMsIGZpbHRlclZhbHVlLCBwcm9wcy5maWx0ZXJNYXRjaE1vZGUsIHByb3BzLmZpbHRlckxvY2FsZSk7XG5cbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZFN1Yk9wdGlvbnMgJiYgZmlsdGVyZWRTdWJPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmaWx0ZXJlZEdyb3Vwcy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0Z3JvdXApLCB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IGZpbHRlcmVkU3ViT3B0aW9uc1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlsdGVyZWRHcm91cHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRmlsdGVyU2VydmljZS5maWx0ZXIocHJvcHMub3B0aW9ucywgc2VhcmNoRmllbGRzLCBmaWx0ZXJWYWx1ZSwgcHJvcHMuZmlsdGVyTWF0Y2hNb2RlLCBwcm9wcy5maWx0ZXJMb2NhbGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvcHMub3B0aW9ucztcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQ2xlYXJDbGlja2VkID0gZnVuY3Rpb24gaXNDbGVhckNsaWNrZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gRG9tSGFuZGxlci5oYXNDbGFzcyhldmVudC50YXJnZXQsICdwLWRyb3Bkb3duLWNsZWFyLWljb24nKSB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtZHJvcGRvd24tZmlsdGVyLWNsZWFyLWljb24nKTtcbiAgfTtcblxuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoRG9tSGFuZGxlci5oYXNDbGFzcyhldmVudC50YXJnZXQsICdwLWRyb3Bkb3duLWNsZWFyLWljb24nKSB8fCBldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoIW92ZXJsYXlSZWYuY3VycmVudCB8fCAhKG92ZXJsYXlSZWYuY3VycmVudCAmJiBvdmVybGF5UmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoZm9jdXNJbnB1dFJlZi5jdXJyZW50KTtcbiAgICAgIG92ZXJsYXlWaXNpYmxlU3RhdGUgPyBoaWRlKCkgOiBzaG93KCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbklucHV0Rm9jdXMgPSBmdW5jdGlvbiBvbklucHV0Rm9jdXMoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuc2hvd09uRm9jdXMgJiYgIW92ZXJsYXlWaXNpYmxlU3RhdGUpIHtcbiAgICAgIHNob3coKTtcbiAgICB9XG5cbiAgICBzZXRGb2N1c2VkU3RhdGUodHJ1ZSk7XG4gICAgcHJvcHMub25Gb2N1cyAmJiBwcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgb25JbnB1dEJsdXIgPSBmdW5jdGlvbiBvbklucHV0Qmx1cihldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZShmYWxzZSk7XG5cbiAgICBpZiAocHJvcHMub25CbHVyKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQgPyBpbnB1dFJlZi5jdXJyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICBwcm9wcy5vbkJsdXIoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgdmFsdWU6IGN1cnJlbnRWYWx1ZSxcbiAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHt9LFxuICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgICAgICAgIHZhbHVlOiBjdXJyZW50VmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgMjAwKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUGFuZWxDbGljayA9IGZ1bmN0aW9uIG9uUGFuZWxDbGljayhldmVudCkge1xuICAgIE92ZXJsYXlTZXJ2aWNlLmVtaXQoJ292ZXJsYXktY2xpY2snLCB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIHRhcmdldDogZWxlbWVudFJlZi5jdXJyZW50XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRLZXlEb3duID0gZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAvL2Rvd25cbiAgICAgIGNhc2UgNDA6XG4gICAgICAgIG9uRG93bktleShldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy91cFxuXG4gICAgICBjYXNlIDM4OlxuICAgICAgICBvblVwS2V5KGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL3NwYWNlIGFuZCBlbnRlclxuXG4gICAgICBjYXNlIDMyOlxuICAgICAgY2FzZSAxMzpcbiAgICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA/IGhpZGUoKSA6IHNob3coKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2VzY2FwZSBhbmQgdGFiXG5cbiAgICAgIGNhc2UgMjc6XG4gICAgICBjYXNlIDk6XG4gICAgICAgIGhpZGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHNlYXJjaChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25GaWx0ZXJJbnB1dEtleURvd24gPSBmdW5jdGlvbiBvbkZpbHRlcklucHV0S2V5RG93bihldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIC8vZG93blxuICAgICAgY2FzZSA0MDpcbiAgICAgICAgb25Eb3duS2V5KGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL3VwXG5cbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIG9uVXBLZXkoZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vZW50ZXIgYW5kIGVzY2FwZVxuXG4gICAgICBjYXNlIDEzOlxuICAgICAgY2FzZSAyNzpcbiAgICAgICAgaGlkZSgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uVXBLZXkgPSBmdW5jdGlvbiBvblVwS2V5KGV2ZW50KSB7XG4gICAgaWYgKHZpc2libGVPcHRpb25zKSB7XG4gICAgICB2YXIgcHJldk9wdGlvbiA9IGZpbmRQcmV2T3B0aW9uKGdldFNlbGVjdGVkT3B0aW9uSW5kZXgoKSk7XG5cbiAgICAgIGlmIChwcmV2T3B0aW9uKSB7XG4gICAgICAgIHNlbGVjdEl0ZW0oe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIG9wdGlvbjogcHJldk9wdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBvbkRvd25LZXkgPSBmdW5jdGlvbiBvbkRvd25LZXkoZXZlbnQpIHtcbiAgICBpZiAodmlzaWJsZU9wdGlvbnMpIHtcbiAgICAgIGlmICghb3ZlcmxheVZpc2libGVTdGF0ZSAmJiBldmVudC5hbHRLZXkpIHtcbiAgICAgICAgc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5leHRPcHRpb24gPSBmaW5kTmV4dE9wdGlvbihnZXRTZWxlY3RlZE9wdGlvbkluZGV4KCkpO1xuXG4gICAgICAgIGlmIChuZXh0T3B0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIG9wdGlvbjogbmV4dE9wdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgZmluZE5leHRPcHRpb24gPSBmdW5jdGlvbiBmaW5kTmV4dE9wdGlvbihpbmRleCkge1xuICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICB2YXIgZ3JvdXBJbmRleCA9IGluZGV4ID09PSAtMSA/IDAgOiBpbmRleC5ncm91cDtcbiAgICAgIHZhciBvcHRpb25JbmRleCA9IGluZGV4ID09PSAtMSA/IC0xIDogaW5kZXgub3B0aW9uO1xuICAgICAgdmFyIG9wdGlvbiA9IGZpbmROZXh0T3B0aW9uSW5MaXN0KGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbZ3JvdXBJbmRleF0pLCBvcHRpb25JbmRleCk7XG4gICAgICBpZiAob3B0aW9uKSByZXR1cm4gb3B0aW9uO2Vsc2UgaWYgKGdyb3VwSW5kZXggKyAxICE9PSB2aXNpYmxlT3B0aW9ucy5sZW5ndGgpIHJldHVybiBmaW5kTmV4dE9wdGlvbih7XG4gICAgICAgIGdyb3VwOiBncm91cEluZGV4ICsgMSxcbiAgICAgICAgb3B0aW9uOiAtMVxuICAgICAgfSk7ZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmluZE5leHRPcHRpb25Jbkxpc3QodmlzaWJsZU9wdGlvbnMsIGluZGV4KTtcbiAgfTtcblxuICB2YXIgZmluZE5leHRPcHRpb25Jbkxpc3QgPSBmdW5jdGlvbiBmaW5kTmV4dE9wdGlvbkluTGlzdChsaXN0LCBpbmRleCkge1xuICAgIHZhciBpID0gaW5kZXggKyAxO1xuXG4gICAgaWYgKGkgPT09IGxpc3QubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgb3B0aW9uID0gbGlzdFtpXTtcbiAgICByZXR1cm4gaXNPcHRpb25EaXNhYmxlZChvcHRpb24pID8gZmluZE5leHRPcHRpb25Jbkxpc3QoaSkgOiBvcHRpb247XG4gIH07XG5cbiAgdmFyIGZpbmRQcmV2T3B0aW9uID0gZnVuY3Rpb24gZmluZFByZXZPcHRpb24oaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMub3B0aW9uR3JvdXBMYWJlbCkge1xuICAgICAgdmFyIGdyb3VwSW5kZXggPSBpbmRleC5ncm91cDtcbiAgICAgIHZhciBvcHRpb25JbmRleCA9IGluZGV4Lm9wdGlvbjtcbiAgICAgIHZhciBvcHRpb24gPSBmaW5kUHJldk9wdGlvbkluTGlzdChnZXRPcHRpb25Hcm91cENoaWxkcmVuKHZpc2libGVPcHRpb25zW2dyb3VwSW5kZXhdKSwgb3B0aW9uSW5kZXgpO1xuICAgICAgaWYgKG9wdGlvbikgcmV0dXJuIG9wdGlvbjtlbHNlIGlmIChncm91cEluZGV4ID4gMCkgcmV0dXJuIGZpbmRQcmV2T3B0aW9uKHtcbiAgICAgICAgZ3JvdXA6IGdyb3VwSW5kZXggLSAxLFxuICAgICAgICBvcHRpb246IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbZ3JvdXBJbmRleCAtIDFdKS5sZW5ndGhcbiAgICAgIH0pO2Vsc2UgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbmRQcmV2T3B0aW9uSW5MaXN0KHZpc2libGVPcHRpb25zLCBpbmRleCk7XG4gIH07XG5cbiAgdmFyIGZpbmRQcmV2T3B0aW9uSW5MaXN0ID0gZnVuY3Rpb24gZmluZFByZXZPcHRpb25Jbkxpc3QobGlzdCwgaW5kZXgpIHtcbiAgICB2YXIgaSA9IGluZGV4IC0gMTtcblxuICAgIGlmIChpIDwgMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbiA9IGxpc3RbaV07XG4gICAgcmV0dXJuIGlzT3B0aW9uRGlzYWJsZWQob3B0aW9uKSA/IGZpbmRQcmV2T3B0aW9uKGkpIDogb3B0aW9uO1xuICB9O1xuXG4gIHZhciBzZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goZXZlbnQpIHtcbiAgICBpZiAoc2VhcmNoVGltZW91dC5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2VhcmNoVGltZW91dC5jdXJyZW50KTtcbiAgICB9XG5cbiAgICB2YXIgX2NoYXIgPSBldmVudC5rZXk7XG5cbiAgICBpZiAoX2NoYXIgPT09ICdTaGlmdCcgfHwgX2NoYXIgPT09ICdDb250cm9sJyB8fCBfY2hhciA9PT0gJ0FsdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFNlYXJjaENoYXIuY3VycmVudCA9PT0gX2NoYXIpIHNlYXJjaFZhbHVlLmN1cnJlbnQgPSBfY2hhcjtlbHNlIHNlYXJjaFZhbHVlLmN1cnJlbnQgPSBzZWFyY2hWYWx1ZS5jdXJyZW50ID8gc2VhcmNoVmFsdWUuY3VycmVudCArIF9jaGFyIDogX2NoYXI7XG4gICAgY3VycmVudFNlYXJjaENoYXIuY3VycmVudCA9IF9jaGFyO1xuXG4gICAgaWYgKHNlYXJjaFZhbHVlLmN1cnJlbnQpIHtcbiAgICAgIHZhciBzZWFyY2hJbmRleCA9IGdldFNlbGVjdGVkT3B0aW9uSW5kZXgoKTtcbiAgICAgIHZhciBuZXdPcHRpb24gPSBwcm9wcy5vcHRpb25Hcm91cExhYmVsID8gc2VhcmNoT3B0aW9uSW5Hcm91cChzZWFyY2hJbmRleCkgOiBzZWFyY2hPcHRpb24oc2VhcmNoSW5kZXggKyAxKTtcblxuICAgICAgaWYgKG5ld09wdGlvbikge1xuICAgICAgICBzZWxlY3RJdGVtKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICBvcHRpb246IG5ld09wdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hUaW1lb3V0LmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlYXJjaFZhbHVlLmN1cnJlbnQgPSBudWxsO1xuICAgIH0sIDI1MCk7XG4gIH07XG5cbiAgdmFyIHNlYXJjaE9wdGlvbiA9IGZ1bmN0aW9uIHNlYXJjaE9wdGlvbihpbmRleCkge1xuICAgIGlmIChzZWFyY2hWYWx1ZS5jdXJyZW50KSB7XG4gICAgICByZXR1cm4gc2VhcmNoT3B0aW9uSW5SYW5nZShpbmRleCwgdmlzaWJsZU9wdGlvbnMubGVuZ3RoKSB8fCBzZWFyY2hPcHRpb25JblJhbmdlKDAsIGluZGV4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgc2VhcmNoT3B0aW9uSW5SYW5nZSA9IGZ1bmN0aW9uIHNlYXJjaE9wdGlvbkluUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICB2YXIgb3B0ID0gdmlzaWJsZU9wdGlvbnNbaV07XG5cbiAgICAgIGlmIChtYXRjaGVzU2VhcmNoVmFsdWUob3B0KSkge1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBzZWFyY2hPcHRpb25Jbkdyb3VwID0gZnVuY3Rpb24gc2VhcmNoT3B0aW9uSW5Hcm91cChpbmRleCkge1xuICAgIHZhciBzZWFyY2hJbmRleCA9IGluZGV4ID09PSAtMSA/IHtcbiAgICAgIGdyb3VwOiAwLFxuICAgICAgb3B0aW9uOiAtMVxuICAgIH0gOiBpbmRleDtcblxuICAgIGZvciAodmFyIGkgPSBzZWFyY2hJbmRleC5ncm91cDsgaSA8IHZpc2libGVPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZ3JvdXBPcHRpb25zID0gZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbih2aXNpYmxlT3B0aW9uc1tpXSk7XG5cbiAgICAgIGZvciAodmFyIGogPSBzZWFyY2hJbmRleC5ncm91cCA9PT0gaSA/IHNlYXJjaEluZGV4Lm9wdGlvbiArIDEgOiAwOyBqIDwgZ3JvdXBPcHRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChtYXRjaGVzU2VhcmNoVmFsdWUoZ3JvdXBPcHRpb25zW2pdKSkge1xuICAgICAgICAgIHJldHVybiBncm91cE9wdGlvbnNbal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDw9IHNlYXJjaEluZGV4Lmdyb3VwOyBfaSsrKSB7XG4gICAgICB2YXIgX2dyb3VwT3B0aW9ucyA9IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbX2ldKTtcblxuICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IChzZWFyY2hJbmRleC5ncm91cCA9PT0gX2kgPyBzZWFyY2hJbmRleC5vcHRpb24gOiBfZ3JvdXBPcHRpb25zLmxlbmd0aCk7IF9qKyspIHtcbiAgICAgICAgaWYgKG1hdGNoZXNTZWFyY2hWYWx1ZShfZ3JvdXBPcHRpb25zW19qXSkpIHtcbiAgICAgICAgICByZXR1cm4gX2dyb3VwT3B0aW9uc1tfal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgbWF0Y2hlc1NlYXJjaFZhbHVlID0gZnVuY3Rpb24gbWF0Y2hlc1NlYXJjaFZhbHVlKG9wdGlvbikge1xuICAgIHZhciBsYWJlbCA9IGdldE9wdGlvbkxhYmVsKG9wdGlvbik7XG5cbiAgICBpZiAoIWxhYmVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGFiZWwgPSBsYWJlbC50b0xvY2FsZUxvd2VyQ2FzZShwcm9wcy5maWx0ZXJMb2NhbGUpO1xuICAgIHJldHVybiBsYWJlbC5zdGFydHNXaXRoKHNlYXJjaFZhbHVlLmN1cnJlbnQudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKSk7XG4gIH07XG5cbiAgdmFyIG9uRWRpdGFibGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIG9uRWRpdGFibGVJbnB1dENoYW5nZShldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRWRpdGFibGVJbnB1dEZvY3VzID0gZnVuY3Rpb24gb25FZGl0YWJsZUlucHV0Rm9jdXMoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUodHJ1ZSk7XG4gICAgaGlkZSgpO1xuICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uT3B0aW9uQ2xpY2sgPSBmdW5jdGlvbiBvbk9wdGlvbkNsaWNrKGV2ZW50KSB7XG4gICAgdmFyIG9wdGlvbiA9IGV2ZW50Lm9wdGlvbjtcblxuICAgIGlmICghb3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICBzZWxlY3RJdGVtKGV2ZW50KTtcbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoZm9jdXNJbnB1dFJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBoaWRlKCk7XG4gIH07XG5cbiAgdmFyIG9uRmlsdGVySW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiBvbkZpbHRlcklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIGZpbHRlciA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBzZXRGaWx0ZXJTdGF0ZShmaWx0ZXIpO1xuXG4gICAgaWYgKHByb3BzLm9uRmlsdGVyKSB7XG4gICAgICBwcm9wcy5vbkZpbHRlcih7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBmaWx0ZXI6IGZpbHRlclxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkZpbHRlckNsZWFySWNvbkNsaWNrID0gZnVuY3Rpb24gb25GaWx0ZXJDbGVhckljb25DbGljayhjYWxsYmFjaykge1xuICAgIHJlc2V0RmlsdGVyKGNhbGxiYWNrKTtcbiAgfTtcblxuICB2YXIgcmVzZXRGaWx0ZXIgPSBmdW5jdGlvbiByZXNldEZpbHRlcihjYWxsYmFjaykge1xuICAgIHNldEZpbHRlclN0YXRlKCcnKTtcbiAgICBwcm9wcy5vbkZpbHRlciAmJiBwcm9wcy5vbkZpbHRlcih7XG4gICAgICBmaWx0ZXI6ICcnXG4gICAgfSk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgfTtcblxuICB2YXIgY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7fSxcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge30sXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdGFibGVMYWJlbCgpO1xuICB9O1xuXG4gIHZhciBzZWxlY3RJdGVtID0gZnVuY3Rpb24gc2VsZWN0SXRlbShldmVudCkge1xuICAgIGlmIChzZWxlY3RlZE9wdGlvbiAhPT0gZXZlbnQub3B0aW9uKSB7XG4gICAgICB1cGRhdGVFZGl0YWJsZUxhYmVsKGV2ZW50Lm9wdGlvbik7XG4gICAgICB2YXIgb3B0aW9uVmFsdWUgPSBnZXRPcHRpb25WYWx1ZShldmVudC5vcHRpb24pO1xuXG4gICAgICBpZiAocHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgdmFsdWU6IG9wdGlvblZhbHVlLFxuICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge30sXG4gICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge30sXG4gICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvblZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldFNlbGVjdGVkT3B0aW9uSW5kZXggPSBmdW5jdGlvbiBnZXRTZWxlY3RlZE9wdGlvbkluZGV4KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB2aXNpYmxlT3B0aW9ucztcblxuICAgIGlmIChwcm9wcy52YWx1ZSAhPSBudWxsICYmIG9wdGlvbnMpIHtcbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbkluZGV4ID0gZmluZE9wdGlvbkluZGV4SW5MaXN0KHByb3BzLnZhbHVlLCBnZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbnNbaV0pKTtcblxuICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZ3JvdXA6IGksXG4gICAgICAgICAgICAgIG9wdGlvbjogc2VsZWN0ZWRPcHRpb25JbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5kT3B0aW9uSW5kZXhJbkxpc3QocHJvcHMudmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICB2YXIgZXF1YWxpdHlLZXkgPSBmdW5jdGlvbiBlcXVhbGl0eUtleSgpIHtcbiAgICByZXR1cm4gcHJvcHMub3B0aW9uVmFsdWUgPyBudWxsIDogcHJvcHMuZGF0YUtleTtcbiAgfTtcblxuICB2YXIgZmluZE9wdGlvbkluZGV4SW5MaXN0ID0gZnVuY3Rpb24gZmluZE9wdGlvbkluZGV4SW5MaXN0KHZhbHVlLCBsaXN0KSB7XG4gICAgdmFyIGtleSA9IGVxdWFsaXR5S2V5KCk7XG4gICAgcmV0dXJuIGxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZXF1YWxzKHZhbHVlLCBnZXRPcHRpb25WYWx1ZShpdGVtKSwga2V5KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzU2VsZWN0ZWQob3B0aW9uKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmVxdWFscyhwcm9wcy52YWx1ZSwgZ2V0T3B0aW9uVmFsdWUob3B0aW9uKSwgZXF1YWxpdHlLZXkoKSk7XG4gIH07XG5cbiAgdmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUodHJ1ZSk7XG4gIH07XG5cbiAgdmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUoZmFsc2UpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFbnRlciA9IGZ1bmN0aW9uIG9uT3ZlcmxheUVudGVyKGNhbGxiYWNrKSB7XG4gICAgWkluZGV4VXRpbHMuc2V0KCdvdmVybGF5Jywgb3ZlcmxheVJlZi5jdXJyZW50LCBQcmltZVJlYWN0LmF1dG9aSW5kZXgsIFByaW1lUmVhY3QuekluZGV4WydvdmVybGF5J10pO1xuICAgIGFsaWduT3ZlcmxheSgpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgdmFyIG9uT3ZlcmxheUVudGVyZWQgPSBmdW5jdGlvbiBvbk92ZXJsYXlFbnRlcmVkKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyKCk7XG4gICAgcHJvcHMub25TaG93ICYmIHByb3BzLm9uU2hvdygpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFeGl0ID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdCgpIHtcbiAgICB1bmJpbmRPdmVybGF5TGlzdGVuZXIoKTtcbiAgfTtcblxuICB2YXIgb25PdmVybGF5RXhpdGVkID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdGVkKCkge1xuICAgIGlmIChwcm9wcy5maWx0ZXIgJiYgcHJvcHMucmVzZXRGaWx0ZXJPbkhpZGUpIHtcbiAgICAgIHJlc2V0RmlsdGVyKCk7XG4gICAgfVxuXG4gICAgWkluZGV4VXRpbHMuY2xlYXIob3ZlcmxheVJlZi5jdXJyZW50KTtcbiAgICBwcm9wcy5vbkhpZGUgJiYgcHJvcHMub25IaWRlKCk7XG4gIH07XG5cbiAgdmFyIGFsaWduT3ZlcmxheSA9IGZ1bmN0aW9uIGFsaWduT3ZlcmxheSgpIHtcbiAgICBEb21IYW5kbGVyLmFsaWduT3ZlcmxheShvdmVybGF5UmVmLmN1cnJlbnQsIGlucHV0UmVmLmN1cnJlbnQucGFyZW50RWxlbWVudCwgcHJvcHMuYXBwZW5kVG8gfHwgUHJpbWVSZWFjdC5hcHBlbmRUbyk7XG4gIH07XG5cbiAgdmFyIHNjcm9sbEluVmlldyA9IGZ1bmN0aW9uIHNjcm9sbEluVmlldygpIHtcbiAgICB2YXIgaGlnaGxpZ2h0SXRlbSA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShvdmVybGF5UmVmLmN1cnJlbnQsICdsaS5wLWhpZ2hsaWdodCcpO1xuXG4gICAgaWYgKGhpZ2hsaWdodEl0ZW0gJiYgaGlnaGxpZ2h0SXRlbS5zY3JvbGxJbnRvVmlldykge1xuICAgICAgaGlnaGxpZ2h0SXRlbS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUVkaXRhYmxlTGFiZWwgPSBmdW5jdGlvbiB1cGRhdGVFZGl0YWJsZUxhYmVsKG9wdGlvbikge1xuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gb3B0aW9uID8gZ2V0T3B0aW9uTGFiZWwob3B0aW9uKSA6IHByb3BzLnZhbHVlIHx8ICcnO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0T3B0aW9uTGFiZWwgPSBmdW5jdGlvbiBnZXRPcHRpb25MYWJlbChvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMub3B0aW9uTGFiZWwgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbiwgcHJvcHMub3B0aW9uTGFiZWwpIDogb3B0aW9uICYmIG9wdGlvblsnbGFiZWwnXSAhPT0gdW5kZWZpbmVkID8gb3B0aW9uWydsYWJlbCddIDogb3B0aW9uO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25WYWx1ZSA9IGZ1bmN0aW9uIGdldE9wdGlvblZhbHVlKG9wdGlvbikge1xuICAgIHJldHVybiBwcm9wcy5vcHRpb25WYWx1ZSA/IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5vcHRpb25WYWx1ZSkgOiBvcHRpb24gJiYgb3B0aW9uWyd2YWx1ZSddICE9PSB1bmRlZmluZWQgPyBvcHRpb25bJ3ZhbHVlJ10gOiBvcHRpb247XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvblJlbmRlcktleSA9IGZ1bmN0aW9uIGdldE9wdGlvblJlbmRlcktleShvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMuZGF0YUtleSA/IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5kYXRhS2V5KSA6IGdldE9wdGlvbkxhYmVsKG9wdGlvbik7XG4gIH07XG5cbiAgdmFyIGlzT3B0aW9uRGlzYWJsZWQgPSBmdW5jdGlvbiBpc09wdGlvbkRpc2FibGVkKG9wdGlvbikge1xuICAgIGlmIChwcm9wcy5vcHRpb25EaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmlzRnVuY3Rpb24ocHJvcHMub3B0aW9uRGlzYWJsZWQpID8gcHJvcHMub3B0aW9uRGlzYWJsZWQob3B0aW9uKSA6IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5vcHRpb25EaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbiAmJiBvcHRpb25bJ2Rpc2FibGVkJ10gIT09IHVuZGVmaW5lZCA/IG9wdGlvblsnZGlzYWJsZWQnXSA6IGZhbHNlO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25Hcm91cFJlbmRlcktleSA9IGZ1bmN0aW9uIGdldE9wdGlvbkdyb3VwUmVuZGVyS2V5KG9wdGlvbkdyb3VwKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uR3JvdXAsIHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25Hcm91cExhYmVsID0gZnVuY3Rpb24gZ2V0T3B0aW9uR3JvdXBMYWJlbChvcHRpb25Hcm91cCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbkdyb3VwLCBwcm9wcy5vcHRpb25Hcm91cExhYmVsKTtcbiAgfTtcblxuICB2YXIgZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbiA9IGZ1bmN0aW9uIGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ob3B0aW9uR3JvdXApIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShvcHRpb25Hcm91cCwgcHJvcHMub3B0aW9uR3JvdXBDaGlsZHJlbik7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUlucHV0RmllbGQgPSBmdW5jdGlvbiB1cGRhdGVJbnB1dEZpZWxkKCkge1xuICAgIGlmIChwcm9wcy5lZGl0YWJsZSAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgbGFiZWwgPSBzZWxlY3RlZE9wdGlvbiA/IGdldE9wdGlvbkxhYmVsKHNlbGVjdGVkT3B0aW9uKSA6IG51bGw7XG4gICAgICB2YXIgdmFsdWUgPSBsYWJlbCB8fCBwcm9wcy52YWx1ZSB8fCAnJztcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldFNlbGVjdGVkT3B0aW9uID0gZnVuY3Rpb24gZ2V0U2VsZWN0ZWRPcHRpb24oKSB7XG4gICAgdmFyIGluZGV4ID0gZ2V0U2VsZWN0ZWRPcHRpb25JbmRleChwcm9wcy5vcHRpb25zKTtcbiAgICByZXR1cm4gaW5kZXggIT09IC0xID8gcHJvcHMub3B0aW9uR3JvdXBMYWJlbCA/IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ocHJvcHMub3B0aW9uc1tpbmRleC5ncm91cF0pW2luZGV4Lm9wdGlvbl0gOiBwcm9wcy5vcHRpb25zW2luZGV4XSA6IG51bGw7XG4gIH07XG5cbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgc2hvdzogc2hvdyxcbiAgICAgIGhpZGU6IGhpZGUsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldE92ZXJsYXk6IGZ1bmN0aW9uIGdldE92ZXJsYXkoKSB7XG4gICAgICAgIHJldHVybiBvdmVybGF5UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuICAgICAgICByZXR1cm4gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRGb2N1c0lucHV0OiBmdW5jdGlvbiBnZXRGb2N1c0lucHV0KCkge1xuICAgICAgICByZXR1cm4gZm9jdXNJbnB1dFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhpbnB1dFJlZiwgcHJvcHMuaW5wdXRSZWYpO1xuICB9LCBbaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmXSk7XG4gIHVzZU1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICBEb21IYW5kbGVyLmZvY3VzKGZvY3VzSW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvdmVybGF5VmlzaWJsZVN0YXRlICYmIHByb3BzLnZhbHVlKSB7XG4gICAgICBzY3JvbGxJblZpZXcoKTtcbiAgICB9XG4gIH0sIFtvdmVybGF5VmlzaWJsZVN0YXRlLCBwcm9wcy52YWx1ZV0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvdmVybGF5VmlzaWJsZVN0YXRlICYmIHByb3BzLmZpbHRlcikge1xuICAgICAgYWxpZ25PdmVybGF5KCk7XG4gICAgfVxuICB9LCBbb3ZlcmxheVZpc2libGVTdGF0ZSwgcHJvcHMuZmlsdGVyXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZpbHRlclN0YXRlICYmICghcHJvcHMub3B0aW9ucyB8fCBwcm9wcy5vcHRpb25zLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgIHNldEZpbHRlclN0YXRlKCcnKTtcbiAgICB9XG5cbiAgICB1cGRhdGVJbnB1dEZpZWxkKCk7XG5cbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5zZWxlY3RlZEluZGV4ID0gMTtcbiAgICB9XG4gIH0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBaSW5kZXhVdGlscy5jbGVhcihvdmVybGF5UmVmLmN1cnJlbnQpO1xuICB9KTtcblxuICB2YXIgY3JlYXRlSGlkZGVuU2VsZWN0ID0gZnVuY3Rpb24gY3JlYXRlSGlkZGVuU2VsZWN0KCkge1xuICAgIHZhciBvcHRpb24gPSB7XG4gICAgICB2YWx1ZTogJycsXG4gICAgICBsYWJlbDogcHJvcHMucGxhY2Vob2xkZXJcbiAgICB9O1xuXG4gICAgaWYgKHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgICB2YXIgb3B0aW9uVmFsdWUgPSBnZXRPcHRpb25WYWx1ZShzZWxlY3RlZE9wdGlvbik7XG4gICAgICBvcHRpb24gPSB7XG4gICAgICAgIHZhbHVlOiBfdHlwZW9mKG9wdGlvblZhbHVlKSA9PT0gJ29iamVjdCcgPyBwcm9wcy5vcHRpb25zLmZpbmRJbmRleChmdW5jdGlvbiAobykge1xuICAgICAgICAgIHJldHVybiBvID09PSBvcHRpb25WYWx1ZTtcbiAgICAgICAgfSkgOiBvcHRpb25WYWx1ZSxcbiAgICAgICAgbGFiZWw6IGdldE9wdGlvbkxhYmVsKHNlbGVjdGVkT3B0aW9uKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtaGlkZGVuLWFjY2Vzc2libGUgcC1kcm9wZG93bi1oaWRkZW4tc2VsZWN0XCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XG4gICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgcmVxdWlyZWQ6IHByb3BzLnJlcXVpcmVkLFxuICAgICAgZGVmYXVsdFZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIsIHtcbiAgICAgIHZhbHVlOiBvcHRpb24udmFsdWVcbiAgICB9LCBvcHRpb24ubGFiZWwpKSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUtleWJvYXJkSGVscGVyID0gZnVuY3Rpb24gY3JlYXRlS2V5Ym9hcmRIZWxwZXIoKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWhpZGRlbi1hY2Nlc3NpYmxlXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgIHJlZjogZm9jdXNJbnB1dFJlZixcbiAgICAgIGlkOiBwcm9wcy5pbnB1dElkLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIixcbiAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICBvbktleURvd246IG9uSW5wdXRLZXlEb3duLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmFyaWFMYWJlbCxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLmFyaWFMYWJlbGxlZEJ5XG4gICAgfSkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVMYWJlbCA9IGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKCkge1xuICAgIHZhciBsYWJlbCA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoc2VsZWN0ZWRPcHRpb24pID8gZ2V0T3B0aW9uTGFiZWwoc2VsZWN0ZWRPcHRpb24pIDogbnVsbDtcblxuICAgIGlmIChwcm9wcy5lZGl0YWJsZSkge1xuICAgICAgdmFyIHZhbHVlID0gbGFiZWwgfHwgcHJvcHMudmFsdWUgfHwgJyc7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1sYWJlbCBwLWlucHV0dGV4dFwiLFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgbWF4TGVuZ3RoOiBwcm9wcy5tYXhMZW5ndGgsXG4gICAgICAgIG9uSW5wdXQ6IG9uRWRpdGFibGVJbnB1dENoYW5nZSxcbiAgICAgICAgb25Gb2N1czogb25FZGl0YWJsZUlucHV0Rm9jdXMsXG4gICAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBwcm9wcy5hcmlhTGFiZWwsXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLmFyaWFMYWJlbGxlZEJ5LFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJsaXN0Ym94XCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24tbGFiZWwgcC1pbnB1dHRleHQnLCB7XG4gICAgICAgICdwLXBsYWNlaG9sZGVyJzogbGFiZWwgPT09IG51bGwgJiYgcHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICAgICdwLWRyb3Bkb3duLWxhYmVsLWVtcHR5JzogbGFiZWwgPT09IG51bGwgJiYgIXByb3BzLnBsYWNlaG9sZGVyXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNvbnRlbnQgPSBwcm9wcy52YWx1ZVRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy52YWx1ZVRlbXBsYXRlLCBzZWxlY3RlZE9wdGlvbiwgcHJvcHMpIDogbGFiZWwgfHwgcHJvcHMucGxhY2Vob2xkZXIgfHwgJ2VtcHR5JztcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgICAgIH0sIGNvbnRlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlQ2xlYXJJY29uID0gZnVuY3Rpb24gY3JlYXRlQ2xlYXJJY29uKCkge1xuICAgIGlmIChwcm9wcy52YWx1ZSAhPSBudWxsICYmIHByb3BzLnNob3dDbGVhciAmJiAhcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1jbGVhci1pY29uIHBpIHBpLXRpbWVzXCIsXG4gICAgICAgIG9uQ2xpY2s6IGNsZWFyXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlRHJvcGRvd25JY29uID0gZnVuY3Rpb24gY3JlYXRlRHJvcGRvd25JY29uKCkge1xuICAgIHZhciBpY29uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi10cmlnZ2VyLWljb24gcC1jbGlja2FibGUnLCBwcm9wcy5kcm9wZG93bkljb24pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi10cmlnZ2VyXCIsXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibGlzdGJveFwiLFxuICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IG92ZXJsYXlWaXNpYmxlU3RhdGVcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lXG4gICAgfSkpO1xuICB9O1xuXG4gIHZhciB2aXNpYmxlT3B0aW9ucyA9IGdldFZpc2libGVPcHRpb25zKCk7XG4gIHZhciBzZWxlY3RlZE9wdGlvbiA9IGdldFNlbGVjdGVkT3B0aW9uKCk7XG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIERyb3Bkb3duLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRyb3Bkb3duIHAtY29tcG9uZW50IHAtaW5wdXR3cmFwcGVyJywge1xuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZm9jdXMnOiBmb2N1c2VkU3RhdGUsXG4gICAgJ3AtZHJvcGRvd24tY2xlYXJhYmxlJzogcHJvcHMuc2hvd0NsZWFyICYmICFwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1pbnB1dHdyYXBwZXItZmlsbGVkJzogT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52YWx1ZSksXG4gICAgJ3AtaW5wdXR3cmFwcGVyLWZvY3VzJzogZm9jdXNlZFN0YXRlIHx8IG92ZXJsYXlWaXNpYmxlU3RhdGVcbiAgfSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgdmFyIGhpZGRlblNlbGVjdCA9IGNyZWF0ZUhpZGRlblNlbGVjdCgpO1xuICB2YXIga2V5Ym9hcmRIZWxwZXIgPSBjcmVhdGVLZXlib2FyZEhlbHBlcigpO1xuICB2YXIgbGFiZWxFbGVtZW50ID0gY3JlYXRlTGFiZWwoKTtcbiAgdmFyIGRyb3Bkb3duSWNvbiA9IGNyZWF0ZURyb3Bkb3duSWNvbigpO1xuICB2YXIgY2xlYXJJY29uID0gY3JlYXRlQ2xlYXJJY29uKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBpZDogcHJvcHMuaWQsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gIH0sIG90aGVyUHJvcHMsIHtcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIG9uTW91c2VEb3duOiBwcm9wcy5vbk1vdXNlRG93bixcbiAgICBvbkNvbnRleHRNZW51OiBwcm9wcy5vbkNvbnRleHRNZW51XG4gIH0pLCBrZXlib2FyZEhlbHBlciwgaGlkZGVuU2VsZWN0LCBsYWJlbEVsZW1lbnQsIGNsZWFySWNvbiwgZHJvcGRvd25JY29uLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93blBhbmVsLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBvdmVybGF5UmVmLFxuICAgIHZpc2libGVPcHRpb25zOiB2aXNpYmxlT3B0aW9uc1xuICB9LCBwcm9wcywge1xuICAgIGFwcGVuZFRvOiBhcHBlbmRUbyxcbiAgICBvbkNsaWNrOiBvblBhbmVsQ2xpY2ssXG4gICAgb25PcHRpb25DbGljazogb25PcHRpb25DbGljayxcbiAgICBmaWx0ZXJWYWx1ZTogZmlsdGVyU3RhdGUsXG4gICAgaGFzRmlsdGVyOiBoYXNGaWx0ZXIsXG4gICAgb25GaWx0ZXJDbGVhckljb25DbGljazogb25GaWx0ZXJDbGVhckljb25DbGljayxcbiAgICByZXNldEZpbHRlcjogcmVzZXRGaWx0ZXIsXG4gICAgb25GaWx0ZXJJbnB1dEtleURvd246IG9uRmlsdGVySW5wdXRLZXlEb3duLFxuICAgIG9uRmlsdGVySW5wdXRDaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgZ2V0T3B0aW9uTGFiZWw6IGdldE9wdGlvbkxhYmVsLFxuICAgIGdldE9wdGlvblJlbmRlcktleTogZ2V0T3B0aW9uUmVuZGVyS2V5LFxuICAgIGlzT3B0aW9uRGlzYWJsZWQ6IGlzT3B0aW9uRGlzYWJsZWQsXG4gICAgZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbjogZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbixcbiAgICBnZXRPcHRpb25Hcm91cExhYmVsOiBnZXRPcHRpb25Hcm91cExhYmVsLFxuICAgIGdldE9wdGlvbkdyb3VwUmVuZGVyS2V5OiBnZXRPcHRpb25Hcm91cFJlbmRlcktleSxcbiAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgIGdldFNlbGVjdGVkT3B0aW9uSW5kZXg6IGdldFNlbGVjdGVkT3B0aW9uSW5kZXgsXG4gICAgXCJpblwiOiBvdmVybGF5VmlzaWJsZVN0YXRlLFxuICAgIG9uRW50ZXI6IG9uT3ZlcmxheUVudGVyLFxuICAgIG9uRW50ZXJlZDogb25PdmVybGF5RW50ZXJlZCxcbiAgICBvbkV4aXQ6IG9uT3ZlcmxheUV4aXQsXG4gICAgb25FeGl0ZWQ6IG9uT3ZlcmxheUV4aXRlZFxuICB9KSkpLCBoYXNUb29sdGlwICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgY29udGVudDogcHJvcHMudG9vbHRpcFxuICB9LCBwcm9wcy50b29sdGlwT3B0aW9ucykpKTtcbn0pKTtcbkRyb3Bkb3duLmRpc3BsYXlOYW1lID0gJ0Ryb3Bkb3duJztcbkRyb3Bkb3duLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnRHJvcGRvd24nLFxuICBpZDogbnVsbCxcbiAgaW5wdXRSZWY6IG51bGwsXG4gIG5hbWU6IG51bGwsXG4gIHZhbHVlOiBudWxsLFxuICBvcHRpb25zOiBudWxsLFxuICBvcHRpb25MYWJlbDogbnVsbCxcbiAgb3B0aW9uVmFsdWU6IG51bGwsXG4gIG9wdGlvbkRpc2FibGVkOiBudWxsLFxuICBvcHRpb25Hcm91cExhYmVsOiBudWxsLFxuICBvcHRpb25Hcm91cENoaWxkcmVuOiBudWxsLFxuICBvcHRpb25Hcm91cFRlbXBsYXRlOiBudWxsLFxuICBmaWx0ZXJUZW1wbGF0ZTogbnVsbCxcbiAgdmFsdWVUZW1wbGF0ZTogbnVsbCxcbiAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICBzdHlsZTogbnVsbCxcbiAgY2xhc3NOYW1lOiBudWxsLFxuICB2aXJ0dWFsU2Nyb2xsZXJPcHRpb25zOiBudWxsLFxuICBzY3JvbGxIZWlnaHQ6ICcyMDBweCcsXG4gIGZpbHRlcjogZmFsc2UsXG4gIGZpbHRlckJ5OiBudWxsLFxuICBmaWx0ZXJNYXRjaE1vZGU6ICdjb250YWlucycsXG4gIGZpbHRlclBsYWNlaG9sZGVyOiBudWxsLFxuICBmaWx0ZXJMb2NhbGU6IHVuZGVmaW5lZCxcbiAgZW1wdHlNZXNzYWdlOiBudWxsLFxuICBlbXB0eUZpbHRlck1lc3NhZ2U6IG51bGwsXG4gIGVkaXRhYmxlOiBmYWxzZSxcbiAgcGxhY2Vob2xkZXI6IG51bGwsXG4gIHJlcXVpcmVkOiBmYWxzZSxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBhcHBlbmRUbzogbnVsbCxcbiAgdGFiSW5kZXg6IG51bGwsXG4gIGF1dG9Gb2N1czogZmFsc2UsXG4gIGZpbHRlcklucHV0QXV0b0ZvY3VzOiB0cnVlLFxuICByZXNldEZpbHRlck9uSGlkZTogZmFsc2UsXG4gIHNob3dGaWx0ZXJDbGVhcjogZmFsc2UsXG4gIHBhbmVsQ2xhc3NOYW1lOiBudWxsLFxuICBwYW5lbFN0eWxlOiBudWxsLFxuICBkYXRhS2V5OiBudWxsLFxuICBpbnB1dElkOiBudWxsLFxuICBzaG93Q2xlYXI6IGZhbHNlLFxuICBtYXhMZW5ndGg6IG51bGwsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBhcmlhTGFiZWw6IG51bGwsXG4gIGFyaWFMYWJlbGxlZEJ5OiBudWxsLFxuICB0cmFuc2l0aW9uT3B0aW9uczogbnVsbCxcbiAgZHJvcGRvd25JY29uOiAncGkgcGktY2hldnJvbi1kb3duJyxcbiAgc2hvd09uRm9jdXM6IGZhbHNlLFxuICBvbkNoYW5nZTogbnVsbCxcbiAgb25Gb2N1czogbnVsbCxcbiAgb25CbHVyOiBudWxsLFxuICBvbk1vdXNlRG93bjogbnVsbCxcbiAgb25Db250ZXh0TWVudTogbnVsbCxcbiAgb25TaG93OiBudWxsLFxuICBvbkhpZGU6IG51bGwsXG4gIG9uRmlsdGVyOiBudWxsXG59O1xuXG5leHBvcnQgeyBEcm9wZG93biB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/dropdown/dropdown.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputnumber/inputnumber.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/primereact/inputnumber/inputnumber.esm.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputNumber\": function() { return /* binding */ InputNumber; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar InputNumber = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focusedState = _React$useState2[0],\n      setFocusedState = _React$useState2[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var timer = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var lastValue = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var numberFormat = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var groupChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var prefixChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var suffixChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isSpecialChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _numeral = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _group = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _minusSign = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _currency = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _decimal = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _suffix = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _prefix = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _index = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var stacked = props.showButtons && props.buttonLayout === 'stacked';\n  var horizontal = props.showButtons && props.buttonLayout === 'horizontal';\n  var vertical = props.showButtons && props.buttonLayout === 'vertical';\n  var inputMode = props.inputMode || (props.mode === 'decimal' && !props.minFractionDigits ? 'numeric' : 'decimal');\n\n  var getOptions = function getOptions() {\n    return {\n      localeMatcher: props.localeMatcher,\n      style: props.mode,\n      currency: props.currency,\n      currencyDisplay: props.currencyDisplay,\n      useGrouping: props.useGrouping,\n      minimumFractionDigits: props.minFractionDigits,\n      maximumFractionDigits: props.maxFractionDigits\n    };\n  };\n\n  var constructParser = function constructParser() {\n    numberFormat.current = new Intl.NumberFormat(props.locale, getOptions());\n\n    var numerals = _toConsumableArray(new Intl.NumberFormat(props.locale, {\n      useGrouping: false\n    }).format(9876543210)).reverse();\n\n    var index = new Map(numerals.map(function (d, i) {\n      return [d, i];\n    }));\n    _numeral.current = new RegExp(\"[\".concat(numerals.join(''), \"]\"), 'g');\n    _group.current = getGroupingExpression();\n    _minusSign.current = getMinusSignExpression();\n    _currency.current = getCurrencyExpression();\n    _decimal.current = getDecimalExpression();\n    _suffix.current = getSuffixExpression();\n    _prefix.current = getPrefixExpression();\n\n    _index.current = function (d) {\n      return index.get(d);\n    };\n  };\n\n  var escapeRegExp = function escapeRegExp(text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n  };\n\n  var getDecimalExpression = function getDecimalExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, _objectSpread(_objectSpread({}, getOptions()), {}, {\n      useGrouping: false\n    }));\n    return new RegExp(\"[\".concat(formatter.format(1.1).replace(_currency.current, '').trim().replace(_numeral.current, ''), \"]\"), 'g');\n  };\n\n  var getGroupingExpression = function getGroupingExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, {\n      useGrouping: true\n    });\n    groupChar.current = formatter.format(1000000).trim().replace(_numeral.current, '').charAt(0);\n    return new RegExp(\"[\".concat(groupChar.current, \"]\"), 'g');\n  };\n\n  var getMinusSignExpression = function getMinusSignExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, {\n      useGrouping: false\n    });\n    return new RegExp(\"[\".concat(formatter.format(-1).trim().replace(_numeral.current, ''), \"]\"), 'g');\n  };\n\n  var getCurrencyExpression = function getCurrencyExpression() {\n    if (props.currency) {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: 'currency',\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      });\n      return new RegExp(\"[\".concat(formatter.format(1).replace(/\\s/g, '').replace(_numeral.current, '').replace(_group.current, ''), \"]\"), 'g');\n    }\n\n    return new RegExp(\"[]\", 'g');\n  };\n\n  var getPrefixExpression = function getPrefixExpression() {\n    if (props.prefix) {\n      prefixChar.current = props.prefix;\n    } else {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: props.mode,\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay\n      });\n      prefixChar.current = formatter.format(1).split('1')[0];\n    }\n\n    return new RegExp(\"\".concat(escapeRegExp(prefixChar.current || '')), 'g');\n  };\n\n  var getSuffixExpression = function getSuffixExpression() {\n    if (props.suffix) {\n      suffixChar.current = props.suffix;\n    } else {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: props.mode,\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      });\n      suffixChar.current = formatter.format(1).split('1')[1];\n    }\n\n    return new RegExp(\"\".concat(escapeRegExp(suffixChar.current || '')), 'g');\n  };\n\n  var formatValue = function formatValue(value) {\n    if (value != null) {\n      if (value === '-') {\n        // Minus sign\n        return value;\n      }\n\n      if (props.format) {\n        var formatter = new Intl.NumberFormat(props.locale, getOptions());\n\n        var _formattedValue = formatter.format(value);\n\n        if (props.prefix) {\n          _formattedValue = props.prefix + _formattedValue;\n        }\n\n        if (props.suffix) {\n          _formattedValue = _formattedValue + props.suffix;\n        }\n\n        return _formattedValue;\n      }\n\n      return value.toString();\n    }\n\n    return '';\n  };\n\n  var parseValue = function parseValue(text) {\n    var filteredText = text.replace(_suffix.current, '').replace(_prefix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '').replace(_group.current, '').replace(_minusSign.current, '-').replace(_decimal.current, '.').replace(_numeral.current, _index.current);\n\n    if (filteredText) {\n      if (filteredText === '-') // Minus sign\n        return filteredText;\n      var parsedValue = +filteredText;\n      return isNaN(parsedValue) ? null : parsedValue;\n    }\n\n    return null;\n  };\n\n  var repeat = function repeat(event, interval, dir) {\n    var i = interval || 500;\n    clearTimer();\n    timer.current = setTimeout(function () {\n      repeat(event, 40, dir);\n    }, i);\n    spin(event, dir);\n  };\n\n  var spin = function spin(event, dir) {\n    if (inputRef.current) {\n      var step = props.step * dir;\n      var currentValue = parseValue(inputRef.current.value) || 0;\n      var newValue = validateValue(currentValue + step); // touch devices trigger the keyboard to display because of setSelectionRange\n\n      !primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.isTouchDevice() && updateInput(newValue, null, 'spin');\n      updateModel(event, newValue);\n      handleOnChange(event, currentValue, newValue);\n    }\n  };\n\n  var onUpButtonTouchStart = function onUpButtonTouchStart(event) {\n    if (!props.disabled && !props.readOnly) {\n      repeat(event, null, 1);\n      event.preventDefault();\n    }\n  };\n\n  var onUpButtonMouseDown = function onUpButtonMouseDown(event) {\n    if (!props.disabled && !props.readOnly) {\n      props.autoFocus && primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current, props.autoFocus);\n      repeat(event, null, 1);\n      event.preventDefault();\n    }\n  };\n\n  var onUpButtonTouchEnd = function onUpButtonTouchEnd() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n      event.preventDefault();\n    }\n  };\n\n  var onUpButtonMouseUp = function onUpButtonMouseUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onUpButtonMouseLeave = function onUpButtonMouseLeave() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onUpButtonKeyUp = function onUpButtonKeyUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onUpButtonKeyDown = function onUpButtonKeyDown(event) {\n    if (!props.disabled && !props.readOnly && (event.keyCode === 32 || event.keyCode === 13)) {\n      repeat(event, null, 1);\n    }\n  };\n\n  var onDownButtonTouchStart = function onDownButtonTouchStart(event) {\n    if (!props.disabled && !props.readOnly) {\n      repeat(event, null, -1);\n      event.preventDefault();\n    }\n  };\n\n  var onDownButtonTouchEnd = function onDownButtonTouchEnd() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n      event.preventDefault();\n    }\n  };\n\n  var onDownButtonMouseDown = function onDownButtonMouseDown(event) {\n    if (!props.disabled && !props.readOnly) {\n      props.autoFocus && primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current, props.autoFocus);\n      repeat(event, null, -1);\n      event.preventDefault();\n    }\n  };\n\n  var onDownButtonMouseUp = function onDownButtonMouseUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onDownButtonMouseLeave = function onDownButtonMouseLeave() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onDownButtonKeyUp = function onDownButtonKeyUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onDownButtonKeyDown = function onDownButtonKeyDown(event) {\n    if (!props.disabled && !props.readOnly && (event.keyCode === 32 || event.keyCode === 13)) {\n      repeat(event, null, -1);\n    }\n  };\n\n  var onInput = function onInput(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    if (isSpecialChar.current) {\n      event.target.value = lastValue.current;\n    }\n\n    isSpecialChar.current = false;\n  };\n\n  var onInputKeyDown = function onInputKeyDown(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    lastValue.current = event.target.value;\n\n    if (event.shiftKey || event.altKey) {\n      isSpecialChar.current = true;\n      return;\n    }\n\n    var selectionStart = event.target.selectionStart;\n    var selectionEnd = event.target.selectionEnd;\n    var inputValue = event.target.value;\n    var newValueStr = null;\n\n    if (event.altKey) {\n      event.preventDefault();\n    }\n\n    switch (event.which) {\n      //up\n      case 38:\n        spin(event, 1);\n        event.preventDefault();\n        break;\n      //down\n\n      case 40:\n        spin(event, -1);\n        event.preventDefault();\n        break;\n      //left\n\n      case 37:\n        if (!isNumeralChar(inputValue.charAt(selectionStart - 1))) {\n          event.preventDefault();\n        }\n\n        break;\n      //right\n\n      case 39:\n        if (!isNumeralChar(inputValue.charAt(selectionStart))) {\n          event.preventDefault();\n        }\n\n        break;\n      //enter and tab\n\n      case 13:\n      case 9:\n        newValueStr = validateValue(parseValue(inputValue));\n        inputRef.current.value = formatValue(newValueStr);\n        inputRef.current.setAttribute('aria-valuenow', newValueStr);\n        updateModel(event, newValueStr);\n        break;\n      //backspace\n\n      case 8:\n        event.preventDefault();\n\n        if (selectionStart === selectionEnd) {\n          var deleteChar = inputValue.charAt(selectionStart - 1);\n\n          var _getDecimalCharIndexe = getDecimalCharIndexes(inputValue),\n              decimalCharIndex = _getDecimalCharIndexe.decimalCharIndex,\n              decimalCharIndexWithoutPrefix = _getDecimalCharIndexe.decimalCharIndexWithoutPrefix;\n\n          if (isNumeralChar(deleteChar)) {\n            var decimalLength = getDecimalLength(inputValue);\n\n            if (_group.current.test(deleteChar)) {\n              _group.current.lastIndex = 0;\n              newValueStr = inputValue.slice(0, selectionStart - 2) + inputValue.slice(selectionStart - 1);\n            } else if (_decimal.current.test(deleteChar)) {\n              _decimal.current.lastIndex = 0;\n\n              if (decimalLength) {\n                inputRef.current.setSelectionRange(selectionStart - 1, selectionStart - 1);\n              } else {\n                newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n              }\n            } else if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n              var insertedText = isDecimalMode() && (props.minFractionDigits || 0) < decimalLength ? '' : '0';\n              newValueStr = inputValue.slice(0, selectionStart - 1) + insertedText + inputValue.slice(selectionStart);\n            } else if (decimalCharIndexWithoutPrefix === 1) {\n              newValueStr = inputValue.slice(0, selectionStart - 1) + '0' + inputValue.slice(selectionStart);\n              newValueStr = parseValue(newValueStr) > 0 ? newValueStr : '';\n            } else {\n              newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n            }\n          }\n\n          updateValue(event, newValueStr, null, 'delete-single');\n        } else {\n          newValueStr = deleteRange(inputValue, selectionStart, selectionEnd);\n          updateValue(event, newValueStr, null, 'delete-range');\n        }\n\n        break;\n      // del\n\n      case 46:\n        event.preventDefault();\n\n        if (selectionStart === selectionEnd) {\n          var _deleteChar = inputValue.charAt(selectionStart);\n\n          var _getDecimalCharIndexe2 = getDecimalCharIndexes(inputValue),\n              _decimalCharIndex = _getDecimalCharIndexe2.decimalCharIndex,\n              _decimalCharIndexWithoutPrefix = _getDecimalCharIndexe2.decimalCharIndexWithoutPrefix;\n\n          if (isNumeralChar(_deleteChar)) {\n            var _decimalLength = getDecimalLength(inputValue);\n\n            if (_group.current.test(_deleteChar)) {\n              _group.current.lastIndex = 0;\n              newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 2);\n            } else if (_decimal.current.test(_deleteChar)) {\n              _decimal.current.lastIndex = 0;\n\n              if (_decimalLength) {\n                $refs.input.$el.setSelectionRange(selectionStart + 1, selectionStart + 1);\n              } else {\n                newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n              }\n            } else if (_decimalCharIndex > 0 && selectionStart > _decimalCharIndex) {\n              var _insertedText = isDecimalMode() && (props.minFractionDigits || 0) < _decimalLength ? '' : '0';\n\n              newValueStr = inputValue.slice(0, selectionStart) + _insertedText + inputValue.slice(selectionStart + 1);\n            } else if (_decimalCharIndexWithoutPrefix === 1) {\n              newValueStr = inputValue.slice(0, selectionStart) + '0' + inputValue.slice(selectionStart + 1);\n              newValueStr = parseValue(newValueStr) > 0 ? newValueStr : '';\n            } else {\n              newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n            }\n          }\n\n          updateValue(event, newValueStr, null, 'delete-back-single');\n        } else {\n          newValueStr = deleteRange(inputValue, selectionStart, selectionEnd);\n          updateValue(event, newValueStr, null, 'delete-range');\n        }\n\n        break;\n    }\n\n    if (props.onKeyDown) {\n      props.onKeyDown(event);\n    }\n  };\n\n  var onInputKeyPress = function onInputKeyPress(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    var code = event.which || event.keyCode;\n\n    if (code !== 13) {\n      // to submit a form\n      event.preventDefault();\n    }\n\n    var _char = String.fromCharCode(code);\n\n    var _isDecimalSign = isDecimalSign(_char);\n\n    var _isMinusSign = isMinusSign(_char);\n\n    if (48 <= code && code <= 57 || _isMinusSign || _isDecimalSign) {\n      insert(event, _char, {\n        isDecimalSign: _isDecimalSign,\n        isMinusSign: _isMinusSign\n      });\n    }\n  };\n\n  var onPaste = function onPaste(event) {\n    event.preventDefault();\n\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    var data = (event.clipboardData || window['clipboardData']).getData('Text');\n\n    if (data) {\n      var filteredData = parseValue(data);\n\n      if (filteredData != null) {\n        insert(event, filteredData.toString());\n      }\n    }\n  };\n\n  var allowMinusSign = function allowMinusSign() {\n    return props.min === null || props.min < 0;\n  };\n\n  var isMinusSign = function isMinusSign(_char2) {\n    if (_minusSign.current.test(_char2) || _char2 === '-') {\n      _minusSign.current.lastIndex = 0;\n      return true;\n    }\n\n    return false;\n  };\n\n  var isDecimalSign = function isDecimalSign(_char3) {\n    if (_decimal.current.test(_char3)) {\n      _decimal.current.lastIndex = 0;\n      return true;\n    }\n\n    return false;\n  };\n\n  var isDecimalMode = function isDecimalMode() {\n    return props.mode === 'decimal';\n  };\n\n  var getDecimalCharIndexes = function getDecimalCharIndexes(val) {\n    var decimalCharIndex = val.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    var filteredVal = val.replace(_prefix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '');\n    var decimalCharIndexWithoutPrefix = filteredVal.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    return {\n      decimalCharIndex: decimalCharIndex,\n      decimalCharIndexWithoutPrefix: decimalCharIndexWithoutPrefix\n    };\n  };\n\n  var getCharIndexes = function getCharIndexes(val) {\n    var decimalCharIndex = val.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    var minusCharIndex = val.search(_minusSign.current);\n    _minusSign.current.lastIndex = 0;\n    var suffixCharIndex = val.search(_suffix.current);\n    _suffix.current.lastIndex = 0;\n    var currencyCharIndex = val.search(_currency.current);\n    _currency.current.lastIndex = 0;\n    return {\n      decimalCharIndex: decimalCharIndex,\n      minusCharIndex: minusCharIndex,\n      suffixCharIndex: suffixCharIndex,\n      currencyCharIndex: currencyCharIndex\n    };\n  };\n\n  var insert = function insert(event, text) {\n    var sign = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      isDecimalSign: false,\n      isMinusSign: false\n    };\n    var minusCharIndexOnText = text.search(_minusSign.current);\n    _minusSign.current.lastIndex = 0;\n\n    if (!allowMinusSign() && minusCharIndexOnText !== -1) {\n      return;\n    }\n\n    var selectionStart = inputRef.current.selectionStart;\n    var selectionEnd = inputRef.current.selectionEnd;\n    var inputValue = inputRef.current.value.trim();\n\n    var _getCharIndexes = getCharIndexes(inputValue),\n        decimalCharIndex = _getCharIndexes.decimalCharIndex,\n        minusCharIndex = _getCharIndexes.minusCharIndex,\n        suffixCharIndex = _getCharIndexes.suffixCharIndex,\n        currencyCharIndex = _getCharIndexes.currencyCharIndex;\n\n    var newValueStr;\n\n    if (sign.isMinusSign) {\n      if (selectionStart === 0) {\n        newValueStr = inputValue;\n\n        if (minusCharIndex === -1 || selectionEnd !== 0) {\n          newValueStr = insertText(inputValue, text, 0, selectionEnd);\n        }\n\n        updateValue(event, newValueStr, text, 'insert');\n      }\n    } else if (sign.isDecimalSign) {\n      if (decimalCharIndex > 0 && selectionStart === decimalCharIndex) {\n        updateValue(event, inputValue, text, 'insert');\n      } else if (decimalCharIndex > selectionStart && decimalCharIndex < selectionEnd) {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, 'insert');\n      } else if (decimalCharIndex === -1 && props.maxFractionDigits) {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, 'insert');\n      }\n    } else {\n      var maxFractionDigits = numberFormat.current.resolvedOptions().maximumFractionDigits;\n      var operation = selectionStart !== selectionEnd ? 'range-insert' : 'insert';\n\n      if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n        if (selectionStart + text.length - (decimalCharIndex + 1) <= maxFractionDigits) {\n          var charIndex = currencyCharIndex >= selectionStart ? currencyCharIndex - 1 : suffixCharIndex >= selectionStart ? suffixCharIndex : inputValue.length;\n          newValueStr = inputValue.slice(0, selectionStart) + text + inputValue.slice(selectionStart + text.length, charIndex) + inputValue.slice(charIndex);\n          updateValue(event, newValueStr, text, operation);\n        }\n      } else {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, operation);\n      }\n    }\n  };\n\n  var insertText = function insertText(value, text, start, end) {\n    var textSplit = text === '.' ? text : text.split('.');\n\n    if (textSplit.length === 2) {\n      var decimalCharIndex = value.slice(start, end).search(_decimal.current);\n      _decimal.current.lastIndex = 0;\n      return decimalCharIndex > 0 ? value.slice(0, start) + formatValue(text) + value.slice(end) : value || formatValue(text);\n    } else if (end - start === value.length) {\n      return formatValue(text);\n    } else if (start === 0) {\n      return text + value.slice(end);\n    } else if (end === value.length) {\n      return value.slice(0, start) + text;\n    } else {\n      return value.slice(0, start) + text + value.slice(end);\n    }\n  };\n\n  var deleteRange = function deleteRange(value, start, end) {\n    var newValueStr;\n    if (end - start === value.length) newValueStr = '';else if (start === 0) newValueStr = value.slice(end);else if (end === value.length) newValueStr = value.slice(0, start);else newValueStr = value.slice(0, start) + value.slice(end);\n    return newValueStr;\n  };\n\n  var initCursor = function initCursor() {\n    var selectionStart = inputRef.current.selectionStart;\n    var inputValue = inputRef.current.value;\n    var valueLength = inputValue.length;\n    var index = null; // remove prefix\n\n    var prefixLength = (prefixChar.current || '').length;\n    inputValue = inputValue.replace(_prefix.current, '');\n    selectionStart = selectionStart - prefixLength;\n\n    var _char4 = inputValue.charAt(selectionStart);\n\n    if (isNumeralChar(_char4)) {\n      return selectionStart + prefixLength;\n    } //left\n\n\n    var i = selectionStart - 1;\n\n    while (i >= 0) {\n      _char4 = inputValue.charAt(i);\n\n      if (isNumeralChar(_char4)) {\n        index = i + prefixLength;\n        break;\n      } else {\n        i--;\n      }\n    }\n\n    if (index !== null) {\n      inputRef.current.setSelectionRange(index + 1, index + 1);\n    } else {\n      i = selectionStart;\n\n      while (i < valueLength) {\n        _char4 = inputValue.charAt(i);\n\n        if (isNumeralChar(_char4)) {\n          index = i + prefixLength;\n          break;\n        } else {\n          i++;\n        }\n      }\n\n      if (index !== null) {\n        inputRef.current.setSelectionRange(index, index);\n      }\n    }\n\n    return index || 0;\n  };\n\n  var onInputClick = function onInputClick() {\n    initCursor();\n  };\n\n  var isNumeralChar = function isNumeralChar(_char5) {\n    if (_char5.length === 1 && (_numeral.current.test(_char5) || _decimal.current.test(_char5) || _group.current.test(_char5) || _minusSign.current.test(_char5))) {\n      resetRegex();\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var resetRegex = function resetRegex() {\n    _numeral.current.lastIndex = 0;\n    _decimal.current.lastIndex = 0;\n    _group.current.lastIndex = 0;\n    _minusSign.current.lastIndex = 0;\n  };\n\n  var updateValue = function updateValue(event, valueStr, insertedValueStr, operation) {\n    var currentValue = inputRef.current.value;\n    var newValue = null;\n\n    if (valueStr != null) {\n      newValue = evaluateEmpty(parseValue(valueStr));\n      updateInput(newValue, insertedValueStr, operation, valueStr);\n      handleOnChange(event, currentValue, newValue);\n    }\n  };\n\n  var evaluateEmpty = function evaluateEmpty(newValue) {\n    return !newValue && !props.allowEmpty ? props.min || 0 : newValue;\n  };\n\n  var handleOnChange = function handleOnChange(event, currentValue, newValue) {\n    if (props.onChange && isValueChanged(currentValue, newValue)) {\n      props.onChange({\n        originalEvent: event,\n        value: newValue\n      });\n    }\n  };\n\n  var isValueChanged = function isValueChanged(currentValue, newValue) {\n    if (newValue === null && currentValue !== null) {\n      return true;\n    }\n\n    if (newValue != null) {\n      var parsedCurrentValue = typeof currentValue === 'string' ? parseValue(currentValue) : currentValue;\n      return newValue !== parsedCurrentValue;\n    }\n\n    return false;\n  };\n\n  var validateValue = function validateValue(value) {\n    if (value === '-' || value == null) {\n      return null;\n    }\n\n    if (props.min !== null && value < props.min) {\n      return props.min;\n    }\n\n    if (props.max !== null && value > props.max) {\n      return props.max;\n    }\n\n    return value;\n  };\n\n  var updateInput = function updateInput(value, insertedValueStr, operation, valueStr) {\n    insertedValueStr = insertedValueStr || '';\n    var inputEl = inputRef.current;\n    var inputValue = inputEl.value;\n    var newValue = formatValue(value);\n    var currentLength = inputValue.length;\n\n    if (newValue !== valueStr) {\n      newValue = concatValues(newValue, valueStr);\n    }\n\n    if (currentLength === 0) {\n      inputEl.value = newValue;\n      inputEl.setSelectionRange(0, 0);\n      var index = initCursor();\n      var selectionEnd = index + insertedValueStr.length;\n      inputEl.setSelectionRange(selectionEnd, selectionEnd);\n    } else {\n      var selectionStart = inputEl.selectionStart;\n      var _selectionEnd = inputEl.selectionEnd;\n      inputEl.value = newValue;\n      var newLength = newValue.length;\n\n      if (operation === 'range-insert') {\n        var startValue = parseValue((inputValue || '').slice(0, selectionStart));\n        var startValueStr = startValue !== null ? startValue.toString() : '';\n        var startExpr = startValueStr.split('').join(\"(\".concat(groupChar.current, \")?\"));\n        var sRegex = new RegExp(startExpr, 'g');\n        sRegex.test(newValue);\n        var tExpr = insertedValueStr.split('').join(\"(\".concat(groupChar.current, \")?\"));\n        var tRegex = new RegExp(tExpr, 'g');\n        tRegex.test(newValue.slice(sRegex.lastIndex));\n        _selectionEnd = sRegex.lastIndex + tRegex.lastIndex;\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (newLength === currentLength) {\n        if (operation === 'insert' || operation === 'delete-back-single') inputEl.setSelectionRange(_selectionEnd + 1, _selectionEnd + 1);else if (operation === 'delete-single') inputEl.setSelectionRange(_selectionEnd - 1, _selectionEnd - 1);else if (operation === 'delete-range' || operation === 'spin') inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (operation === 'delete-back-single') {\n        var prevChar = inputValue.charAt(_selectionEnd - 1);\n        var nextChar = inputValue.charAt(_selectionEnd);\n        var diff = currentLength - newLength;\n\n        var isGroupChar = _group.current.test(nextChar);\n\n        if (isGroupChar && diff === 1) {\n          _selectionEnd += 1;\n        } else if (!isGroupChar && isNumeralChar(prevChar)) {\n          _selectionEnd += -1 * diff + 1;\n        }\n\n        _group.current.lastIndex = 0;\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (inputValue === '-' && operation === 'insert') {\n        inputEl.setSelectionRange(0, 0);\n\n        var _index2 = initCursor();\n\n        var _selectionEnd2 = _index2 + insertedValueStr.length + 1;\n\n        inputEl.setSelectionRange(_selectionEnd2, _selectionEnd2);\n      } else {\n        _selectionEnd = _selectionEnd + (newLength - currentLength);\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      }\n    }\n\n    inputEl.setAttribute('aria-valuenow', value);\n  };\n\n  var updateInputValue = function updateInputValue(newValue) {\n    newValue = evaluateEmpty(newValue);\n    var inputEl = inputRef.current;\n    var value = inputEl.value;\n\n    var _formattedValue = formattedValue(newValue);\n\n    if (value !== _formattedValue) {\n      inputEl.value = _formattedValue;\n      inputEl.setAttribute('aria-valuenow', newValue);\n    }\n  };\n\n  var formattedValue = function formattedValue(val) {\n    return formatValue(evaluateEmpty(val));\n  };\n\n  var concatValues = function concatValues(val1, val2) {\n    if (val1 && val2) {\n      var decimalCharIndex = val2.search(_decimal.current);\n      _decimal.current.lastIndex = 0;\n      return decimalCharIndex !== -1 ? val1.split(_decimal.current)[0] + val2.slice(decimalCharIndex) : val1;\n    }\n\n    return val1;\n  };\n\n  var getDecimalLength = function getDecimalLength(value) {\n    if (value) {\n      var valueSplit = value.split(_decimal.current);\n\n      if (valueSplit.length === 2) {\n        return valueSplit[1].replace(_suffix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '').length;\n      }\n    }\n\n    return 0;\n  };\n\n  var updateModel = function updateModel(event, value) {\n    if (props.onValueChange) {\n      props.onValueChange({\n        originalEvent: event,\n        value: value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: value\n        }\n      });\n    }\n  };\n\n  var onInputFocus = function onInputFocus(event) {\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n\n    if (inputRef.current) {\n      var currentValue = inputRef.current.value;\n\n      if (isValueChanged(currentValue, props.value)) {\n        var newValue = validateValue(parseValue(currentValue));\n        updateInputValue(newValue);\n        updateModel(event, newValue);\n      }\n    }\n\n    props.onBlur && props.onBlur(event);\n  };\n\n  var clearTimer = function clearTimer() {\n    if (timer.current) {\n      clearInterval(timer.current);\n    }\n  };\n\n  var changeValue = function changeValue() {\n    var newValue = validateValue(props.value);\n    updateInputValue(newValue);\n\n    if (props.value !== null && props.value !== newValue) {\n      updateModel(null, newValue);\n    }\n  };\n\n  var getFormatter = function getFormatter() {\n    return numberFormat.current;\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getFormatter: getFormatter,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMountEffect)(function () {\n    constructParser();\n    var newValue = validateValue(props.value);\n\n    if (props.value !== null && props.value !== newValue) {\n      updateModel(null, newValue);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    constructParser();\n    changeValue();\n  }, [props.locale, props.localeMatcher, props.mode, props.currency, props.currencyDisplay, props.useGrouping, props.minFractionDigits, props.maxFractionDigits, props.suffix, props.prefix]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    changeValue();\n  }, [props.value]);\n\n  var createInputElement = function createInputElement() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber-input', props.inputClassName);\n    var valueToRender = formattedValue(props.value);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__.InputText, {\n      ref: inputRef,\n      id: props.inputId,\n      style: props.inputStyle,\n      role: \"spinbutton\",\n      className: className,\n      defaultValue: valueToRender,\n      type: props.type,\n      size: props.size,\n      tabIndex: props.tabIndex,\n      inputMode: inputMode,\n      maxLength: props.maxLength,\n      disabled: props.disabled,\n      required: props.required,\n      pattern: props.pattern,\n      placeholder: props.placeholder,\n      readOnly: props.readOnly,\n      name: props.name,\n      autoFocus: props.autoFocus,\n      onKeyDown: onInputKeyDown,\n      onKeyPress: onInputKeyPress,\n      onInput: onInput,\n      onClick: onInputClick,\n      onBlur: onInputBlur,\n      onFocus: onInputFocus,\n      onPaste: onPaste,\n      min: props.min,\n      max: props.max,\n      \"aria-valuemin\": props.min,\n      \"aria-valuemax\": props.max,\n      \"aria-valuenow\": props.value,\n      \"aria-labelledby\": props.ariaLabelledBy\n    });\n  };\n\n  var createUpButton = function createUpButton() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component', {\n      'p-disabled': props.disabled\n    }, props.incrementButtonClassName);\n    var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-button-icon', props.incrementButtonIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: className,\n      onMouseLeave: onUpButtonMouseLeave,\n      onMouseDown: onUpButtonMouseDown,\n      onMouseUp: onUpButtonMouseUp,\n      onKeyDown: onUpButtonKeyDown,\n      onKeyUp: onUpButtonKeyUp,\n      onTouchStart: onUpButtonTouchStart,\n      onTouchEnd: onUpButtonTouchEnd,\n      disabled: props.disabled,\n      tabIndex: -1\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  };\n\n  var createDownButton = function createDownButton() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component', {\n      'p-disabled': props.disabled\n    }, props.decrementButtonClassName);\n    var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-button-icon', props.decrementButtonIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: className,\n      onMouseLeave: onDownButtonMouseLeave,\n      onMouseDown: onDownButtonMouseDown,\n      onMouseUp: onDownButtonMouseUp,\n      onKeyDown: onDownButtonKeyDown,\n      onKeyUp: onDownButtonKeyUp,\n      onTouchStart: onDownButtonTouchStart,\n      onTouchEnd: onDownButtonTouchEnd,\n      disabled: props.disabled,\n      tabIndex: -1\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  };\n\n  var createButtonGroup = function createButtonGroup() {\n    var upButton = props.showButtons && createUpButton();\n    var downButton = props.showButtons && createDownButton();\n\n    if (stacked) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-inputnumber-button-group\"\n      }, upButton, downButton);\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, upButton, downButton);\n  };\n\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.findDiffKeys(props, InputNumber.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber p-component p-inputwrapper', {\n    'p-inputwrapper-filled': props.value != null && props.value.toString().length > 0,\n    'p-inputwrapper-focus': focusedState,\n    'p-inputnumber-buttons-stacked': stacked,\n    'p-inputnumber-buttons-horizontal': horizontal,\n    'p-inputnumber-buttons-vertical': vertical\n  }, props.className);\n  var inputElement = createInputElement();\n  var buttonGroup = createButtonGroup();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps), inputElement, buttonGroup), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputNumber.displayName = 'InputNumber';\nInputNumber.defaultProps = {\n  __TYPE: 'InputNumber',\n  value: null,\n  inputRef: null,\n  format: true,\n  showButtons: false,\n  buttonLayout: 'stacked',\n  incrementButtonClassName: null,\n  decrementButtonClassName: null,\n  incrementButtonIcon: 'pi pi-angle-up',\n  decrementButtonIcon: 'pi pi-angle-down',\n  locale: undefined,\n  localeMatcher: undefined,\n  mode: 'decimal',\n  suffix: null,\n  prefix: null,\n  currency: undefined,\n  currencyDisplay: undefined,\n  useGrouping: true,\n  minFractionDigits: undefined,\n  maxFractionDigits: undefined,\n  id: null,\n  name: null,\n  type: 'text',\n  allowEmpty: true,\n  step: 1,\n  min: null,\n  max: null,\n  disabled: false,\n  required: false,\n  tabIndex: null,\n  pattern: null,\n  inputMode: null,\n  placeholder: null,\n  readOnly: false,\n  size: null,\n  style: null,\n  className: null,\n  inputId: null,\n  autoFocus: false,\n  inputStyle: null,\n  inputClassName: null,\n  tooltip: null,\n  tooltipOptions: null,\n  ariaLabelledBy: null,\n  onValueChange: null,\n  onChange: null,\n  onBlur: null,\n  onFocus: null,\n  onKeyDown: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dG51bWJlci9pbnB1dG51bWJlci5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0I7QUFDb0M7QUFDbEI7QUFDTjtBQUNFO0FBQzBCOztBQUV2RTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0QkFBNEIsK0JBQStCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELDZEQUE2RCxpRUFBaUUsc0NBQXNDOztBQUV2VSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCw2REFBNkQsNENBQTRDLG9LQUFvSyxtRkFBbUYsS0FBSztBQUMxZSwrQkFBK0IsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDeEUsd0JBQXdCLDJDQUFjO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIseUNBQVk7QUFDL0IsaUJBQWlCLHlDQUFZO0FBQzdCLGNBQWMseUNBQVk7QUFDMUIsa0JBQWtCLHlDQUFZO0FBQzlCLHFCQUFxQix5Q0FBWTtBQUNqQyxrQkFBa0IseUNBQVk7QUFDOUIsbUJBQW1CLHlDQUFZO0FBQy9CLG1CQUFtQix5Q0FBWTtBQUMvQixzQkFBc0IseUNBQVk7O0FBRWxDLGlCQUFpQix5Q0FBWTs7QUFFN0IsZUFBZSx5Q0FBWTs7QUFFM0IsbUJBQW1CLHlDQUFZOztBQUUvQixrQkFBa0IseUNBQVk7O0FBRTlCLGlCQUFpQix5Q0FBWTs7QUFFN0IsZ0JBQWdCLHlDQUFZOztBQUU1QixnQkFBZ0IseUNBQVk7O0FBRTVCLGVBQWUseUNBQVk7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDO0FBQ2hDOztBQUVBO0FBQ0Esc0ZBQXNGLG1CQUFtQjtBQUN6RztBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEOztBQUV6RCxPQUFPLHNFQUF3QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5Qiw4REFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLDhEQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxxREFBcUQsbUVBQW1FO0FBQy9LO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsMElBQTBJLHdHQUF3RztBQUNsUCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxzREFBeUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLDRDQUFlO0FBQ2pCLElBQUksc0VBQXdCO0FBQzVCLEdBQUc7QUFDSCxFQUFFLGdFQUFjO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGlFQUFlO0FBQ2pCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLHdCQUF3QixnREFBbUIsQ0FBQywyREFBUztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLEtBQUs7QUFDTCxlQUFlLDREQUFVO0FBQ3pCLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFBZSxnREFBbUI7QUFDdkM7QUFDQSxLQUFLLGdCQUFnQixnREFBbUIsQ0FBQyxxREFBTTtBQUMvQzs7QUFFQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLEtBQUs7QUFDTCxlQUFlLDREQUFVO0FBQ3pCLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFBZSxnREFBbUI7QUFDdkM7QUFDQSxLQUFLLGdCQUFnQixnREFBbUIsQ0FBQyxxREFBTTtBQUMvQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0EsT0FBTztBQUNQOztBQUVBLHdCQUF3QixnREFBbUIsQ0FBQywyQ0FBYztBQUMxRDs7QUFFQSxtQkFBbUIsb0VBQXNCO0FBQ3pDLG1CQUFtQixzRUFBd0I7QUFDM0Msa0JBQWtCLDREQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHNCQUFzQixnREFBbUIsQ0FBQywyQ0FBYyxxQkFBcUIsZ0RBQW1CO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxzRUFBc0UsZ0RBQW1CLENBQUMsdURBQU87QUFDcEc7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2lucHV0bnVtYmVyL2lucHV0bnVtYmVyLmVzbS5qcz9lYzUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU1vdW50RWZmZWN0LCB1c2VVcGRhdGVFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IElucHV0VGV4dCB9IGZyb20gJ3ByaW1lcmVhY3QvaW5wdXR0ZXh0JztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIElucHV0TnVtYmVyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciB0aW1lciA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGxhc3RWYWx1ZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIG51bWJlckZvcm1hdCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGdyb3VwQ2hhciA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHByZWZpeENoYXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzdWZmaXhDaGFyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNTcGVjaWFsQ2hhciA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX251bWVyYWwgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgdmFyIF9ncm91cCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX21pbnVzU2lnbiA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX2N1cnJlbmN5ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBfZGVjaW1hbCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX3N1ZmZpeCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX3ByZWZpeCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX2luZGV4ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBzdGFja2VkID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgcHJvcHMuYnV0dG9uTGF5b3V0ID09PSAnc3RhY2tlZCc7XG4gIHZhciBob3Jpem9udGFsID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgcHJvcHMuYnV0dG9uTGF5b3V0ID09PSAnaG9yaXpvbnRhbCc7XG4gIHZhciB2ZXJ0aWNhbCA9IHByb3BzLnNob3dCdXR0b25zICYmIHByb3BzLmJ1dHRvbkxheW91dCA9PT0gJ3ZlcnRpY2FsJztcbiAgdmFyIGlucHV0TW9kZSA9IHByb3BzLmlucHV0TW9kZSB8fCAocHJvcHMubW9kZSA9PT0gJ2RlY2ltYWwnICYmICFwcm9wcy5taW5GcmFjdGlvbkRpZ2l0cyA/ICdudW1lcmljJyA6ICdkZWNpbWFsJyk7XG5cbiAgdmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2NhbGVNYXRjaGVyOiBwcm9wcy5sb2NhbGVNYXRjaGVyLFxuICAgICAgc3R5bGU6IHByb3BzLm1vZGUsXG4gICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICBjdXJyZW5jeURpc3BsYXk6IHByb3BzLmN1cnJlbmN5RGlzcGxheSxcbiAgICAgIHVzZUdyb3VwaW5nOiBwcm9wcy51c2VHcm91cGluZyxcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogcHJvcHMubWluRnJhY3Rpb25EaWdpdHMsXG4gICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IHByb3BzLm1heEZyYWN0aW9uRGlnaXRzXG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29uc3RydWN0UGFyc2VyID0gZnVuY3Rpb24gY29uc3RydWN0UGFyc2VyKCkge1xuICAgIG51bWJlckZvcm1hdC5jdXJyZW50ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwgZ2V0T3B0aW9ucygpKTtcblxuICAgIHZhciBudW1lcmFscyA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICB1c2VHcm91cGluZzogZmFsc2VcbiAgICB9KS5mb3JtYXQoOTg3NjU0MzIxMCkpLnJldmVyc2UoKTtcblxuICAgIHZhciBpbmRleCA9IG5ldyBNYXAobnVtZXJhbHMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICByZXR1cm4gW2QsIGldO1xuICAgIH0pKTtcbiAgICBfbnVtZXJhbC5jdXJyZW50ID0gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQobnVtZXJhbHMuam9pbignJyksIFwiXVwiKSwgJ2cnKTtcbiAgICBfZ3JvdXAuY3VycmVudCA9IGdldEdyb3VwaW5nRXhwcmVzc2lvbigpO1xuICAgIF9taW51c1NpZ24uY3VycmVudCA9IGdldE1pbnVzU2lnbkV4cHJlc3Npb24oKTtcbiAgICBfY3VycmVuY3kuY3VycmVudCA9IGdldEN1cnJlbmN5RXhwcmVzc2lvbigpO1xuICAgIF9kZWNpbWFsLmN1cnJlbnQgPSBnZXREZWNpbWFsRXhwcmVzc2lvbigpO1xuICAgIF9zdWZmaXguY3VycmVudCA9IGdldFN1ZmZpeEV4cHJlc3Npb24oKTtcbiAgICBfcHJlZml4LmN1cnJlbnQgPSBnZXRQcmVmaXhFeHByZXNzaW9uKCk7XG5cbiAgICBfaW5kZXguY3VycmVudCA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gaW5kZXguZ2V0KGQpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGVzY2FwZVJlZ0V4cCA9IGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbiAgfTtcblxuICB2YXIgZ2V0RGVjaW1hbEV4cHJlc3Npb24gPSBmdW5jdGlvbiBnZXREZWNpbWFsRXhwcmVzc2lvbigpIHtcbiAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnZXRPcHRpb25zKCkpLCB7fSwge1xuICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW1wiLmNvbmNhdChmb3JtYXR0ZXIuZm9ybWF0KDEuMSkucmVwbGFjZShfY3VycmVuY3kuY3VycmVudCwgJycpLnRyaW0oKS5yZXBsYWNlKF9udW1lcmFsLmN1cnJlbnQsICcnKSwgXCJdXCIpLCAnZycpO1xuICB9O1xuXG4gIHZhciBnZXRHcm91cGluZ0V4cHJlc3Npb24gPSBmdW5jdGlvbiBnZXRHcm91cGluZ0V4cHJlc3Npb24oKSB7XG4gICAgdmFyIGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChwcm9wcy5sb2NhbGUsIHtcbiAgICAgIHVzZUdyb3VwaW5nOiB0cnVlXG4gICAgfSk7XG4gICAgZ3JvdXBDaGFyLmN1cnJlbnQgPSBmb3JtYXR0ZXIuZm9ybWF0KDEwMDAwMDApLnRyaW0oKS5yZXBsYWNlKF9udW1lcmFsLmN1cnJlbnQsICcnKS5jaGFyQXQoMCk7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJbXCIuY29uY2F0KGdyb3VwQ2hhci5jdXJyZW50LCBcIl1cIiksICdnJyk7XG4gIH07XG5cbiAgdmFyIGdldE1pbnVzU2lnbkV4cHJlc3Npb24gPSBmdW5jdGlvbiBnZXRNaW51c1NpZ25FeHByZXNzaW9uKCkge1xuICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICB1c2VHcm91cGluZzogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQoZm9ybWF0dGVyLmZvcm1hdCgtMSkudHJpbSgpLnJlcGxhY2UoX251bWVyYWwuY3VycmVudCwgJycpLCBcIl1cIiksICdnJyk7XG4gIH07XG5cbiAgdmFyIGdldEN1cnJlbmN5RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIGdldEN1cnJlbmN5RXhwcmVzc2lvbigpIHtcbiAgICBpZiAocHJvcHMuY3VycmVuY3kpIHtcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICAgIGN1cnJlbmN5RGlzcGxheTogcHJvcHMuY3VycmVuY3lEaXNwbGF5LFxuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQoZm9ybWF0dGVyLmZvcm1hdCgxKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoX251bWVyYWwuY3VycmVudCwgJycpLnJlcGxhY2UoX2dyb3VwLmN1cnJlbnQsICcnKSwgXCJdXCIpLCAnZycpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW11cIiwgJ2cnKTtcbiAgfTtcblxuICB2YXIgZ2V0UHJlZml4RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIGdldFByZWZpeEV4cHJlc3Npb24oKSB7XG4gICAgaWYgKHByb3BzLnByZWZpeCkge1xuICAgICAgcHJlZml4Q2hhci5jdXJyZW50ID0gcHJvcHMucHJlZml4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwge1xuICAgICAgICBzdHlsZTogcHJvcHMubW9kZSxcbiAgICAgICAgY3VycmVuY3k6IHByb3BzLmN1cnJlbmN5LFxuICAgICAgICBjdXJyZW5jeURpc3BsYXk6IHByb3BzLmN1cnJlbmN5RGlzcGxheVxuICAgICAgfSk7XG4gICAgICBwcmVmaXhDaGFyLmN1cnJlbnQgPSBmb3JtYXR0ZXIuZm9ybWF0KDEpLnNwbGl0KCcxJylbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJcIi5jb25jYXQoZXNjYXBlUmVnRXhwKHByZWZpeENoYXIuY3VycmVudCB8fCAnJykpLCAnZycpO1xuICB9O1xuXG4gIHZhciBnZXRTdWZmaXhFeHByZXNzaW9uID0gZnVuY3Rpb24gZ2V0U3VmZml4RXhwcmVzc2lvbigpIHtcbiAgICBpZiAocHJvcHMuc3VmZml4KSB7XG4gICAgICBzdWZmaXhDaGFyLmN1cnJlbnQgPSBwcm9wcy5zdWZmaXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICAgIHN0eWxlOiBwcm9wcy5tb2RlLFxuICAgICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICAgIGN1cnJlbmN5RGlzcGxheTogcHJvcHMuY3VycmVuY3lEaXNwbGF5LFxuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgfSk7XG4gICAgICBzdWZmaXhDaGFyLmN1cnJlbnQgPSBmb3JtYXR0ZXIuZm9ybWF0KDEpLnNwbGl0KCcxJylbMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJcIi5jb25jYXQoZXNjYXBlUmVnRXhwKHN1ZmZpeENoYXIuY3VycmVudCB8fCAnJykpLCAnZycpO1xuICB9O1xuXG4gIHZhciBmb3JtYXRWYWx1ZSA9IGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJy0nKSB7XG4gICAgICAgIC8vIE1pbnVzIHNpZ25cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuZm9ybWF0KSB7XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCBnZXRPcHRpb25zKCkpO1xuXG4gICAgICAgIHZhciBfZm9ybWF0dGVkVmFsdWUgPSBmb3JtYXR0ZXIuZm9ybWF0KHZhbHVlKTtcblxuICAgICAgICBpZiAocHJvcHMucHJlZml4KSB7XG4gICAgICAgICAgX2Zvcm1hdHRlZFZhbHVlID0gcHJvcHMucHJlZml4ICsgX2Zvcm1hdHRlZFZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzLnN1ZmZpeCkge1xuICAgICAgICAgIF9mb3JtYXR0ZWRWYWx1ZSA9IF9mb3JtYXR0ZWRWYWx1ZSArIHByb3BzLnN1ZmZpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfZm9ybWF0dGVkVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICB2YXIgcGFyc2VWYWx1ZSA9IGZ1bmN0aW9uIHBhcnNlVmFsdWUodGV4dCkge1xuICAgIHZhciBmaWx0ZXJlZFRleHQgPSB0ZXh0LnJlcGxhY2UoX3N1ZmZpeC5jdXJyZW50LCAnJykucmVwbGFjZShfcHJlZml4LmN1cnJlbnQsICcnKS50cmltKCkucmVwbGFjZSgvXFxzL2csICcnKS5yZXBsYWNlKF9jdXJyZW5jeS5jdXJyZW50LCAnJykucmVwbGFjZShfZ3JvdXAuY3VycmVudCwgJycpLnJlcGxhY2UoX21pbnVzU2lnbi5jdXJyZW50LCAnLScpLnJlcGxhY2UoX2RlY2ltYWwuY3VycmVudCwgJy4nKS5yZXBsYWNlKF9udW1lcmFsLmN1cnJlbnQsIF9pbmRleC5jdXJyZW50KTtcblxuICAgIGlmIChmaWx0ZXJlZFRleHQpIHtcbiAgICAgIGlmIChmaWx0ZXJlZFRleHQgPT09ICctJykgLy8gTWludXMgc2lnblxuICAgICAgICByZXR1cm4gZmlsdGVyZWRUZXh0O1xuICAgICAgdmFyIHBhcnNlZFZhbHVlID0gK2ZpbHRlcmVkVGV4dDtcbiAgICAgIHJldHVybiBpc05hTihwYXJzZWRWYWx1ZSkgPyBudWxsIDogcGFyc2VkVmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIHJlcGVhdCA9IGZ1bmN0aW9uIHJlcGVhdChldmVudCwgaW50ZXJ2YWwsIGRpcikge1xuICAgIHZhciBpID0gaW50ZXJ2YWwgfHwgNTAwO1xuICAgIGNsZWFyVGltZXIoKTtcbiAgICB0aW1lci5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXBlYXQoZXZlbnQsIDQwLCBkaXIpO1xuICAgIH0sIGkpO1xuICAgIHNwaW4oZXZlbnQsIGRpcik7XG4gIH07XG5cbiAgdmFyIHNwaW4gPSBmdW5jdGlvbiBzcGluKGV2ZW50LCBkaXIpIHtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgdmFyIHN0ZXAgPSBwcm9wcy5zdGVwICogZGlyO1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHBhcnNlVmFsdWUoaW5wdXRSZWYuY3VycmVudC52YWx1ZSkgfHwgMDtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHZhbGlkYXRlVmFsdWUoY3VycmVudFZhbHVlICsgc3RlcCk7IC8vIHRvdWNoIGRldmljZXMgdHJpZ2dlciB0aGUga2V5Ym9hcmQgdG8gZGlzcGxheSBiZWNhdXNlIG9mIHNldFNlbGVjdGlvblJhbmdlXG5cbiAgICAgICFEb21IYW5kbGVyLmlzVG91Y2hEZXZpY2UoKSAmJiB1cGRhdGVJbnB1dChuZXdWYWx1ZSwgbnVsbCwgJ3NwaW4nKTtcbiAgICAgIHVwZGF0ZU1vZGVsKGV2ZW50LCBuZXdWYWx1ZSk7XG4gICAgICBoYW5kbGVPbkNoYW5nZShldmVudCwgY3VycmVudFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblVwQnV0dG9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uIG9uVXBCdXR0b25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgMSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbk1vdXNlRG93biA9IGZ1bmN0aW9uIG9uVXBCdXR0b25Nb3VzZURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgcHJvcHMuYXV0b0ZvY3VzICYmIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgMSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvblRvdWNoRW5kID0gZnVuY3Rpb24gb25VcEJ1dHRvblRvdWNoRW5kKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbk1vdXNlVXAgPSBmdW5jdGlvbiBvblVwQnV0dG9uTW91c2VVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiBvblVwQnV0dG9uTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbktleVVwID0gZnVuY3Rpb24gb25VcEJ1dHRvbktleVVwKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblVwQnV0dG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uVXBCdXR0b25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkgJiYgKGV2ZW50LmtleUNvZGUgPT09IDMyIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSkge1xuICAgICAgcmVwZWF0KGV2ZW50LCBudWxsLCAxKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRG93bkJ1dHRvblRvdWNoU3RhcnQgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgLTEpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRG93bkJ1dHRvblRvdWNoRW5kID0gZnVuY3Rpb24gb25Eb3duQnV0dG9uVG91Y2hFbmQoKSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIGNsZWFyVGltZXIoKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRvd25CdXR0b25Nb3VzZURvd24gPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Nb3VzZURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgcHJvcHMuYXV0b0ZvY3VzICYmIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgLTEpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRG93bkJ1dHRvbk1vdXNlVXAgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Nb3VzZVVwKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRvd25CdXR0b25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gb25Eb3duQnV0dG9uTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Eb3duQnV0dG9uS2V5VXAgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25LZXlVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Eb3duQnV0dG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uRG93bkJ1dHRvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSAmJiAoZXZlbnQua2V5Q29kZSA9PT0gMzIgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpKSB7XG4gICAgICByZXBlYXQoZXZlbnQsIG51bGwsIC0xKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiBvbklucHV0KGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLnJlYWRPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzU3BlY2lhbENoYXIuY3VycmVudCkge1xuICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gbGFzdFZhbHVlLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgaXNTcGVjaWFsQ2hhci5jdXJyZW50ID0gZmFsc2U7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRLZXlEb3duID0gZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYXN0VmFsdWUuY3VycmVudCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblxuICAgIGlmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkpIHtcbiAgICAgIGlzU3BlY2lhbENoYXIuY3VycmVudCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZXZlbnQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0O1xuICAgIHZhciBzZWxlY3Rpb25FbmQgPSBldmVudC50YXJnZXQuc2VsZWN0aW9uRW5kO1xuICAgIHZhciBpbnB1dFZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHZhciBuZXdWYWx1ZVN0ciA9IG51bGw7XG5cbiAgICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIC8vdXBcbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIHNwaW4oZXZlbnQsIDEpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vZG93blxuXG4gICAgICBjYXNlIDQwOlxuICAgICAgICBzcGluKGV2ZW50LCAtMSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy9sZWZ0XG5cbiAgICAgIGNhc2UgMzc6XG4gICAgICAgIGlmICghaXNOdW1lcmFsQ2hhcihpbnB1dFZhbHVlLmNoYXJBdChzZWxlY3Rpb25TdGFydCAtIDEpKSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIC8vcmlnaHRcblxuICAgICAgY2FzZSAzOTpcbiAgICAgICAgaWYgKCFpc051bWVyYWxDaGFyKGlucHV0VmFsdWUuY2hhckF0KHNlbGVjdGlvblN0YXJ0KSkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2VudGVyIGFuZCB0YWJcblxuICAgICAgY2FzZSAxMzpcbiAgICAgIGNhc2UgOTpcbiAgICAgICAgbmV3VmFsdWVTdHIgPSB2YWxpZGF0ZVZhbHVlKHBhcnNlVmFsdWUoaW5wdXRWYWx1ZSkpO1xuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gZm9ybWF0VmFsdWUobmV3VmFsdWVTdHIpO1xuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ZhbHVlU3RyKTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlU3RyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2JhY2tzcGFjZVxuXG4gICAgICBjYXNlIDg6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICB2YXIgZGVsZXRlQ2hhciA9IGlucHV0VmFsdWUuY2hhckF0KHNlbGVjdGlvblN0YXJ0IC0gMSk7XG5cbiAgICAgICAgICB2YXIgX2dldERlY2ltYWxDaGFySW5kZXhlID0gZ2V0RGVjaW1hbENoYXJJbmRleGVzKGlucHV0VmFsdWUpLFxuICAgICAgICAgICAgICBkZWNpbWFsQ2hhckluZGV4ID0gX2dldERlY2ltYWxDaGFySW5kZXhlLmRlY2ltYWxDaGFySW5kZXgsXG4gICAgICAgICAgICAgIGRlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4ID0gX2dldERlY2ltYWxDaGFySW5kZXhlLmRlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4O1xuXG4gICAgICAgICAgaWYgKGlzTnVtZXJhbENoYXIoZGVsZXRlQ2hhcikpIHtcbiAgICAgICAgICAgIHZhciBkZWNpbWFsTGVuZ3RoID0gZ2V0RGVjaW1hbExlbmd0aChpbnB1dFZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKF9ncm91cC5jdXJyZW50LnRlc3QoZGVsZXRlQ2hhcikpIHtcbiAgICAgICAgICAgICAgX2dyb3VwLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMikgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0IC0gMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9kZWNpbWFsLmN1cnJlbnQudGVzdChkZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgaWYgKGRlY2ltYWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblN0YXJ0IC0gMSwgc2VsZWN0aW9uU3RhcnQgLSAxKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQgLSAxKSArIGlucHV0VmFsdWUuc2xpY2Uoc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlY2ltYWxDaGFySW5kZXggPiAwICYmIHNlbGVjdGlvblN0YXJ0ID4gZGVjaW1hbENoYXJJbmRleCkge1xuICAgICAgICAgICAgICB2YXIgaW5zZXJ0ZWRUZXh0ID0gaXNEZWNpbWFsTW9kZSgpICYmIChwcm9wcy5taW5GcmFjdGlvbkRpZ2l0cyB8fCAwKSA8IGRlY2ltYWxMZW5ndGggPyAnJyA6ICcwJztcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyBpbnNlcnRlZFRleHQgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXggPT09IDEpIHtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyAnMCcgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBwYXJzZVZhbHVlKG5ld1ZhbHVlU3RyKSA+IDAgPyBuZXdWYWx1ZVN0ciA6ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIG51bGwsICdkZWxldGUtc2luZ2xlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3VmFsdWVTdHIgPSBkZWxldGVSYW5nZShpbnB1dFZhbHVlLCBzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIG51bGwsICdkZWxldGUtcmFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gZGVsXG5cbiAgICAgIGNhc2UgNDY6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICB2YXIgX2RlbGV0ZUNoYXIgPSBpbnB1dFZhbHVlLmNoYXJBdChzZWxlY3Rpb25TdGFydCk7XG5cbiAgICAgICAgICB2YXIgX2dldERlY2ltYWxDaGFySW5kZXhlMiA9IGdldERlY2ltYWxDaGFySW5kZXhlcyhpbnB1dFZhbHVlKSxcbiAgICAgICAgICAgICAgX2RlY2ltYWxDaGFySW5kZXggPSBfZ2V0RGVjaW1hbENoYXJJbmRleGUyLmRlY2ltYWxDaGFySW5kZXgsXG4gICAgICAgICAgICAgIF9kZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeCA9IF9nZXREZWNpbWFsQ2hhckluZGV4ZTIuZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXg7XG5cbiAgICAgICAgICBpZiAoaXNOdW1lcmFsQ2hhcihfZGVsZXRlQ2hhcikpIHtcbiAgICAgICAgICAgIHZhciBfZGVjaW1hbExlbmd0aCA9IGdldERlY2ltYWxMZW5ndGgoaW5wdXRWYWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChfZ3JvdXAuY3VycmVudC50ZXN0KF9kZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgICBfZ3JvdXAuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCArIDIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfZGVjaW1hbC5jdXJyZW50LnRlc3QoX2RlbGV0ZUNoYXIpKSB7XG4gICAgICAgICAgICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcblxuICAgICAgICAgICAgICBpZiAoX2RlY2ltYWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkcmVmcy5pbnB1dC4kZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uU3RhcnQgKyAxLCBzZWxlY3Rpb25TdGFydCArIDEpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2RlY2ltYWxDaGFySW5kZXggPiAwICYmIHNlbGVjdGlvblN0YXJ0ID4gX2RlY2ltYWxDaGFySW5kZXgpIHtcbiAgICAgICAgICAgICAgdmFyIF9pbnNlcnRlZFRleHQgPSBpc0RlY2ltYWxNb2RlKCkgJiYgKHByb3BzLm1pbkZyYWN0aW9uRGlnaXRzIHx8IDApIDwgX2RlY2ltYWxMZW5ndGggPyAnJyA6ICcwJztcblxuICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpICsgX2luc2VydGVkVGV4dCArIGlucHV0VmFsdWUuc2xpY2Uoc2VsZWN0aW9uU3RhcnQgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2RlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4ID09PSAxKSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyAnMCcgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gcGFyc2VWYWx1ZShuZXdWYWx1ZVN0cikgPiAwID8gbmV3VmFsdWVTdHIgOiAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdXBkYXRlVmFsdWUoZXZlbnQsIG5ld1ZhbHVlU3RyLCBudWxsLCAnZGVsZXRlLWJhY2stc2luZ2xlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3VmFsdWVTdHIgPSBkZWxldGVSYW5nZShpbnB1dFZhbHVlLCBzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIG51bGwsICdkZWxldGUtcmFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5vbktleURvd24pIHtcbiAgICAgIHByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbklucHV0S2V5UHJlc3MgPSBmdW5jdGlvbiBvbklucHV0S2V5UHJlc3MoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29kZSA9IGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGU7XG5cbiAgICBpZiAoY29kZSAhPT0gMTMpIHtcbiAgICAgIC8vIHRvIHN1Ym1pdCBhIGZvcm1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyIF9jaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblxuICAgIHZhciBfaXNEZWNpbWFsU2lnbiA9IGlzRGVjaW1hbFNpZ24oX2NoYXIpO1xuXG4gICAgdmFyIF9pc01pbnVzU2lnbiA9IGlzTWludXNTaWduKF9jaGFyKTtcblxuICAgIGlmICg0OCA8PSBjb2RlICYmIGNvZGUgPD0gNTcgfHwgX2lzTWludXNTaWduIHx8IF9pc0RlY2ltYWxTaWduKSB7XG4gICAgICBpbnNlcnQoZXZlbnQsIF9jaGFyLCB7XG4gICAgICAgIGlzRGVjaW1hbFNpZ246IF9pc0RlY2ltYWxTaWduLFxuICAgICAgICBpc01pbnVzU2lnbjogX2lzTWludXNTaWduXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUGFzdGUgPSBmdW5jdGlvbiBvblBhc3RlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5yZWFkT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gKGV2ZW50LmNsaXBib2FyZERhdGEgfHwgd2luZG93WydjbGlwYm9hcmREYXRhJ10pLmdldERhdGEoJ1RleHQnKTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICB2YXIgZmlsdGVyZWREYXRhID0gcGFyc2VWYWx1ZShkYXRhKTtcblxuICAgICAgaWYgKGZpbHRlcmVkRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGluc2VydChldmVudCwgZmlsdGVyZWREYXRhLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgYWxsb3dNaW51c1NpZ24gPSBmdW5jdGlvbiBhbGxvd01pbnVzU2lnbigpIHtcbiAgICByZXR1cm4gcHJvcHMubWluID09PSBudWxsIHx8IHByb3BzLm1pbiA8IDA7XG4gIH07XG5cbiAgdmFyIGlzTWludXNTaWduID0gZnVuY3Rpb24gaXNNaW51c1NpZ24oX2NoYXIyKSB7XG4gICAgaWYgKF9taW51c1NpZ24uY3VycmVudC50ZXN0KF9jaGFyMikgfHwgX2NoYXIyID09PSAnLScpIHtcbiAgICAgIF9taW51c1NpZ24uY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciBpc0RlY2ltYWxTaWduID0gZnVuY3Rpb24gaXNEZWNpbWFsU2lnbihfY2hhcjMpIHtcbiAgICBpZiAoX2RlY2ltYWwuY3VycmVudC50ZXN0KF9jaGFyMykpIHtcbiAgICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgaXNEZWNpbWFsTW9kZSA9IGZ1bmN0aW9uIGlzRGVjaW1hbE1vZGUoKSB7XG4gICAgcmV0dXJuIHByb3BzLm1vZGUgPT09ICdkZWNpbWFsJztcbiAgfTtcblxuICB2YXIgZ2V0RGVjaW1hbENoYXJJbmRleGVzID0gZnVuY3Rpb24gZ2V0RGVjaW1hbENoYXJJbmRleGVzKHZhbCkge1xuICAgIHZhciBkZWNpbWFsQ2hhckluZGV4ID0gdmFsLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIGZpbHRlcmVkVmFsID0gdmFsLnJlcGxhY2UoX3ByZWZpeC5jdXJyZW50LCAnJykudHJpbSgpLnJlcGxhY2UoL1xccy9nLCAnJykucmVwbGFjZShfY3VycmVuY3kuY3VycmVudCwgJycpO1xuICAgIHZhciBkZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeCA9IGZpbHRlcmVkVmFsLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlY2ltYWxDaGFySW5kZXg6IGRlY2ltYWxDaGFySW5kZXgsXG4gICAgICBkZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeDogZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXhcbiAgICB9O1xuICB9O1xuXG4gIHZhciBnZXRDaGFySW5kZXhlcyA9IGZ1bmN0aW9uIGdldENoYXJJbmRleGVzKHZhbCkge1xuICAgIHZhciBkZWNpbWFsQ2hhckluZGV4ID0gdmFsLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIG1pbnVzQ2hhckluZGV4ID0gdmFsLnNlYXJjaChfbWludXNTaWduLmN1cnJlbnQpO1xuICAgIF9taW51c1NpZ24uY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgIHZhciBzdWZmaXhDaGFySW5kZXggPSB2YWwuc2VhcmNoKF9zdWZmaXguY3VycmVudCk7XG4gICAgX3N1ZmZpeC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIGN1cnJlbmN5Q2hhckluZGV4ID0gdmFsLnNlYXJjaChfY3VycmVuY3kuY3VycmVudCk7XG4gICAgX2N1cnJlbmN5LmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgZGVjaW1hbENoYXJJbmRleDogZGVjaW1hbENoYXJJbmRleCxcbiAgICAgIG1pbnVzQ2hhckluZGV4OiBtaW51c0NoYXJJbmRleCxcbiAgICAgIHN1ZmZpeENoYXJJbmRleDogc3VmZml4Q2hhckluZGV4LFxuICAgICAgY3VycmVuY3lDaGFySW5kZXg6IGN1cnJlbmN5Q2hhckluZGV4XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaW5zZXJ0ID0gZnVuY3Rpb24gaW5zZXJ0KGV2ZW50LCB0ZXh0KSB7XG4gICAgdmFyIHNpZ24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHtcbiAgICAgIGlzRGVjaW1hbFNpZ246IGZhbHNlLFxuICAgICAgaXNNaW51c1NpZ246IGZhbHNlXG4gICAgfTtcbiAgICB2YXIgbWludXNDaGFySW5kZXhPblRleHQgPSB0ZXh0LnNlYXJjaChfbWludXNTaWduLmN1cnJlbnQpO1xuICAgIF9taW51c1NpZ24uY3VycmVudC5sYXN0SW5kZXggPSAwO1xuXG4gICAgaWYgKCFhbGxvd01pbnVzU2lnbigpICYmIG1pbnVzQ2hhckluZGV4T25UZXh0ICE9PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGlucHV0UmVmLmN1cnJlbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgdmFyIHNlbGVjdGlvbkVuZCA9IGlucHV0UmVmLmN1cnJlbnQuc2VsZWN0aW9uRW5kO1xuICAgIHZhciBpbnB1dFZhbHVlID0gaW5wdXRSZWYuY3VycmVudC52YWx1ZS50cmltKCk7XG5cbiAgICB2YXIgX2dldENoYXJJbmRleGVzID0gZ2V0Q2hhckluZGV4ZXMoaW5wdXRWYWx1ZSksXG4gICAgICAgIGRlY2ltYWxDaGFySW5kZXggPSBfZ2V0Q2hhckluZGV4ZXMuZGVjaW1hbENoYXJJbmRleCxcbiAgICAgICAgbWludXNDaGFySW5kZXggPSBfZ2V0Q2hhckluZGV4ZXMubWludXNDaGFySW5kZXgsXG4gICAgICAgIHN1ZmZpeENoYXJJbmRleCA9IF9nZXRDaGFySW5kZXhlcy5zdWZmaXhDaGFySW5kZXgsXG4gICAgICAgIGN1cnJlbmN5Q2hhckluZGV4ID0gX2dldENoYXJJbmRleGVzLmN1cnJlbmN5Q2hhckluZGV4O1xuXG4gICAgdmFyIG5ld1ZhbHVlU3RyO1xuXG4gICAgaWYgKHNpZ24uaXNNaW51c1NpZ24pIHtcbiAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWU7XG5cbiAgICAgICAgaWYgKG1pbnVzQ2hhckluZGV4ID09PSAtMSB8fCBzZWxlY3Rpb25FbmQgIT09IDApIHtcbiAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGluc2VydFRleHQoaW5wdXRWYWx1ZSwgdGV4dCwgMCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgdGV4dCwgJ2luc2VydCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2lnbi5pc0RlY2ltYWxTaWduKSB7XG4gICAgICBpZiAoZGVjaW1hbENoYXJJbmRleCA+IDAgJiYgc2VsZWN0aW9uU3RhcnQgPT09IGRlY2ltYWxDaGFySW5kZXgpIHtcbiAgICAgICAgdXBkYXRlVmFsdWUoZXZlbnQsIGlucHV0VmFsdWUsIHRleHQsICdpbnNlcnQnKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVjaW1hbENoYXJJbmRleCA+IHNlbGVjdGlvblN0YXJ0ICYmIGRlY2ltYWxDaGFySW5kZXggPCBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIHRleHQsICdpbnNlcnQnKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVjaW1hbENoYXJJbmRleCA9PT0gLTEgJiYgcHJvcHMubWF4RnJhY3Rpb25EaWdpdHMpIHtcbiAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIHRleHQsICdpbnNlcnQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1heEZyYWN0aW9uRGlnaXRzID0gbnVtYmVyRm9ybWF0LmN1cnJlbnQucmVzb2x2ZWRPcHRpb25zKCkubWF4aW11bUZyYWN0aW9uRGlnaXRzO1xuICAgICAgdmFyIG9wZXJhdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICE9PSBzZWxlY3Rpb25FbmQgPyAncmFuZ2UtaW5zZXJ0JyA6ICdpbnNlcnQnO1xuXG4gICAgICBpZiAoZGVjaW1hbENoYXJJbmRleCA+IDAgJiYgc2VsZWN0aW9uU3RhcnQgPiBkZWNpbWFsQ2hhckluZGV4KSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCArIHRleHQubGVuZ3RoIC0gKGRlY2ltYWxDaGFySW5kZXggKyAxKSA8PSBtYXhGcmFjdGlvbkRpZ2l0cykge1xuICAgICAgICAgIHZhciBjaGFySW5kZXggPSBjdXJyZW5jeUNoYXJJbmRleCA+PSBzZWxlY3Rpb25TdGFydCA/IGN1cnJlbmN5Q2hhckluZGV4IC0gMSA6IHN1ZmZpeENoYXJJbmRleCA+PSBzZWxlY3Rpb25TdGFydCA/IHN1ZmZpeENoYXJJbmRleCA6IGlucHV0VmFsdWUubGVuZ3RoO1xuICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyB0ZXh0ICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCArIHRleHQubGVuZ3RoLCBjaGFySW5kZXgpICsgaW5wdXRWYWx1ZS5zbGljZShjaGFySW5kZXgpO1xuICAgICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgdGV4dCwgb3BlcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIHRleHQsIG9wZXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbnNlcnRUZXh0ID0gZnVuY3Rpb24gaW5zZXJ0VGV4dCh2YWx1ZSwgdGV4dCwgc3RhcnQsIGVuZCkge1xuICAgIHZhciB0ZXh0U3BsaXQgPSB0ZXh0ID09PSAnLicgPyB0ZXh0IDogdGV4dC5zcGxpdCgnLicpO1xuXG4gICAgaWYgKHRleHRTcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgIHZhciBkZWNpbWFsQ2hhckluZGV4ID0gdmFsdWUuc2xpY2Uoc3RhcnQsIGVuZCkuc2VhcmNoKF9kZWNpbWFsLmN1cnJlbnQpO1xuICAgICAgX2RlY2ltYWwuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgICAgcmV0dXJuIGRlY2ltYWxDaGFySW5kZXggPiAwID8gdmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgZm9ybWF0VmFsdWUodGV4dCkgKyB2YWx1ZS5zbGljZShlbmQpIDogdmFsdWUgfHwgZm9ybWF0VmFsdWUodGV4dCk7XG4gICAgfSBlbHNlIGlmIChlbmQgLSBzdGFydCA9PT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZm9ybWF0VmFsdWUodGV4dCk7XG4gICAgfSBlbHNlIGlmIChzdGFydCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRleHQgKyB2YWx1ZS5zbGljZShlbmQpO1xuICAgIH0gZWxzZSBpZiAoZW5kID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgwLCBzdGFydCkgKyB0ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgdGV4dCArIHZhbHVlLnNsaWNlKGVuZCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBkZWxldGVSYW5nZSA9IGZ1bmN0aW9uIGRlbGV0ZVJhbmdlKHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIG5ld1ZhbHVlU3RyO1xuICAgIGlmIChlbmQgLSBzdGFydCA9PT0gdmFsdWUubGVuZ3RoKSBuZXdWYWx1ZVN0ciA9ICcnO2Vsc2UgaWYgKHN0YXJ0ID09PSAwKSBuZXdWYWx1ZVN0ciA9IHZhbHVlLnNsaWNlKGVuZCk7ZWxzZSBpZiAoZW5kID09PSB2YWx1ZS5sZW5ndGgpIG5ld1ZhbHVlU3RyID0gdmFsdWUuc2xpY2UoMCwgc3RhcnQpO2Vsc2UgbmV3VmFsdWVTdHIgPSB2YWx1ZS5zbGljZSgwLCBzdGFydCkgKyB2YWx1ZS5zbGljZShlbmQpO1xuICAgIHJldHVybiBuZXdWYWx1ZVN0cjtcbiAgfTtcblxuICB2YXIgaW5pdEN1cnNvciA9IGZ1bmN0aW9uIGluaXRDdXJzb3IoKSB7XG4gICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gaW5wdXRSZWYuY3VycmVudC5zZWxlY3Rpb25TdGFydDtcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgdmFyIHZhbHVlTGVuZ3RoID0gaW5wdXRWYWx1ZS5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gbnVsbDsgLy8gcmVtb3ZlIHByZWZpeFxuXG4gICAgdmFyIHByZWZpeExlbmd0aCA9IChwcmVmaXhDaGFyLmN1cnJlbnQgfHwgJycpLmxlbmd0aDtcbiAgICBpbnB1dFZhbHVlID0gaW5wdXRWYWx1ZS5yZXBsYWNlKF9wcmVmaXguY3VycmVudCwgJycpO1xuICAgIHNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uU3RhcnQgLSBwcmVmaXhMZW5ndGg7XG5cbiAgICB2YXIgX2NoYXI0ID0gaW5wdXRWYWx1ZS5jaGFyQXQoc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgaWYgKGlzTnVtZXJhbENoYXIoX2NoYXI0KSkge1xuICAgICAgcmV0dXJuIHNlbGVjdGlvblN0YXJ0ICsgcHJlZml4TGVuZ3RoO1xuICAgIH0gLy9sZWZ0XG5cblxuICAgIHZhciBpID0gc2VsZWN0aW9uU3RhcnQgLSAxO1xuXG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgX2NoYXI0ID0gaW5wdXRWYWx1ZS5jaGFyQXQoaSk7XG5cbiAgICAgIGlmIChpc051bWVyYWxDaGFyKF9jaGFyNCkpIHtcbiAgICAgICAgaW5kZXggPSBpICsgcHJlZml4TGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2V0U2VsZWN0aW9uUmFuZ2UoaW5kZXggKyAxLCBpbmRleCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpID0gc2VsZWN0aW9uU3RhcnQ7XG5cbiAgICAgIHdoaWxlIChpIDwgdmFsdWVMZW5ndGgpIHtcbiAgICAgICAgX2NoYXI0ID0gaW5wdXRWYWx1ZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgaWYgKGlzTnVtZXJhbENoYXIoX2NoYXI0KSkge1xuICAgICAgICAgIGluZGV4ID0gaSArIHByZWZpeExlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2V0U2VsZWN0aW9uUmFuZ2UoaW5kZXgsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXggfHwgMDtcbiAgfTtcblxuICB2YXIgb25JbnB1dENsaWNrID0gZnVuY3Rpb24gb25JbnB1dENsaWNrKCkge1xuICAgIGluaXRDdXJzb3IoKTtcbiAgfTtcblxuICB2YXIgaXNOdW1lcmFsQ2hhciA9IGZ1bmN0aW9uIGlzTnVtZXJhbENoYXIoX2NoYXI1KSB7XG4gICAgaWYgKF9jaGFyNS5sZW5ndGggPT09IDEgJiYgKF9udW1lcmFsLmN1cnJlbnQudGVzdChfY2hhcjUpIHx8IF9kZWNpbWFsLmN1cnJlbnQudGVzdChfY2hhcjUpIHx8IF9ncm91cC5jdXJyZW50LnRlc3QoX2NoYXI1KSB8fCBfbWludXNTaWduLmN1cnJlbnQudGVzdChfY2hhcjUpKSkge1xuICAgICAgcmVzZXRSZWdleCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlc2V0UmVnZXggPSBmdW5jdGlvbiByZXNldFJlZ2V4KCkge1xuICAgIF9udW1lcmFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgX2dyb3VwLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICBfbWludXNTaWduLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgfTtcblxuICB2YXIgdXBkYXRlVmFsdWUgPSBmdW5jdGlvbiB1cGRhdGVWYWx1ZShldmVudCwgdmFsdWVTdHIsIGluc2VydGVkVmFsdWVTdHIsIG9wZXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuICAgIHZhciBuZXdWYWx1ZSA9IG51bGw7XG5cbiAgICBpZiAodmFsdWVTdHIgIT0gbnVsbCkge1xuICAgICAgbmV3VmFsdWUgPSBldmFsdWF0ZUVtcHR5KHBhcnNlVmFsdWUodmFsdWVTdHIpKTtcbiAgICAgIHVwZGF0ZUlucHV0KG5ld1ZhbHVlLCBpbnNlcnRlZFZhbHVlU3RyLCBvcGVyYXRpb24sIHZhbHVlU3RyKTtcbiAgICAgIGhhbmRsZU9uQ2hhbmdlKGV2ZW50LCBjdXJyZW50VmFsdWUsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGV2YWx1YXRlRW1wdHkgPSBmdW5jdGlvbiBldmFsdWF0ZUVtcHR5KG5ld1ZhbHVlKSB7XG4gICAgcmV0dXJuICFuZXdWYWx1ZSAmJiAhcHJvcHMuYWxsb3dFbXB0eSA/IHByb3BzLm1pbiB8fCAwIDogbmV3VmFsdWU7XG4gIH07XG5cbiAgdmFyIGhhbmRsZU9uQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlT25DaGFuZ2UoZXZlbnQsIGN1cnJlbnRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBpZiAocHJvcHMub25DaGFuZ2UgJiYgaXNWYWx1ZUNoYW5nZWQoY3VycmVudFZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiBuZXdWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc1ZhbHVlQ2hhbmdlZCA9IGZ1bmN0aW9uIGlzVmFsdWVDaGFuZ2VkKGN1cnJlbnRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09IG51bGwgJiYgY3VycmVudFZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobmV3VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIHBhcnNlZEN1cnJlbnRWYWx1ZSA9IHR5cGVvZiBjdXJyZW50VmFsdWUgPT09ICdzdHJpbmcnID8gcGFyc2VWYWx1ZShjdXJyZW50VmFsdWUpIDogY3VycmVudFZhbHVlO1xuICAgICAgcmV0dXJuIG5ld1ZhbHVlICE9PSBwYXJzZWRDdXJyZW50VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciB2YWxpZGF0ZVZhbHVlID0gZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJy0nIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5taW4gIT09IG51bGwgJiYgdmFsdWUgPCBwcm9wcy5taW4pIHtcbiAgICAgIHJldHVybiBwcm9wcy5taW47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1heCAhPT0gbnVsbCAmJiB2YWx1ZSA+IHByb3BzLm1heCkge1xuICAgICAgcmV0dXJuIHByb3BzLm1heDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUlucHV0ID0gZnVuY3Rpb24gdXBkYXRlSW5wdXQodmFsdWUsIGluc2VydGVkVmFsdWVTdHIsIG9wZXJhdGlvbiwgdmFsdWVTdHIpIHtcbiAgICBpbnNlcnRlZFZhbHVlU3RyID0gaW5zZXJ0ZWRWYWx1ZVN0ciB8fCAnJztcbiAgICB2YXIgaW5wdXRFbCA9IGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgdmFyIGlucHV0VmFsdWUgPSBpbnB1dEVsLnZhbHVlO1xuICAgIHZhciBuZXdWYWx1ZSA9IGZvcm1hdFZhbHVlKHZhbHVlKTtcbiAgICB2YXIgY3VycmVudExlbmd0aCA9IGlucHV0VmFsdWUubGVuZ3RoO1xuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZVN0cikge1xuICAgICAgbmV3VmFsdWUgPSBjb25jYXRWYWx1ZXMobmV3VmFsdWUsIHZhbHVlU3RyKTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudExlbmd0aCA9PT0gMCkge1xuICAgICAgaW5wdXRFbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZSgwLCAwKTtcbiAgICAgIHZhciBpbmRleCA9IGluaXRDdXJzb3IoKTtcbiAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSBpbmRleCArIGluc2VydGVkVmFsdWVTdHIubGVuZ3RoO1xuICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25FbmQsIHNlbGVjdGlvbkVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGlucHV0RWwuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICB2YXIgX3NlbGVjdGlvbkVuZCA9IGlucHV0RWwuc2VsZWN0aW9uRW5kO1xuICAgICAgaW5wdXRFbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgdmFyIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcblxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3JhbmdlLWluc2VydCcpIHtcbiAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBwYXJzZVZhbHVlKChpbnB1dFZhbHVlIHx8ICcnKS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkpO1xuICAgICAgICB2YXIgc3RhcnRWYWx1ZVN0ciA9IHN0YXJ0VmFsdWUgIT09IG51bGwgPyBzdGFydFZhbHVlLnRvU3RyaW5nKCkgOiAnJztcbiAgICAgICAgdmFyIHN0YXJ0RXhwciA9IHN0YXJ0VmFsdWVTdHIuc3BsaXQoJycpLmpvaW4oXCIoXCIuY29uY2F0KGdyb3VwQ2hhci5jdXJyZW50LCBcIik/XCIpKTtcbiAgICAgICAgdmFyIHNSZWdleCA9IG5ldyBSZWdFeHAoc3RhcnRFeHByLCAnZycpO1xuICAgICAgICBzUmVnZXgudGVzdChuZXdWYWx1ZSk7XG4gICAgICAgIHZhciB0RXhwciA9IGluc2VydGVkVmFsdWVTdHIuc3BsaXQoJycpLmpvaW4oXCIoXCIuY29uY2F0KGdyb3VwQ2hhci5jdXJyZW50LCBcIik/XCIpKTtcbiAgICAgICAgdmFyIHRSZWdleCA9IG5ldyBSZWdFeHAodEV4cHIsICdnJyk7XG4gICAgICAgIHRSZWdleC50ZXN0KG5ld1ZhbHVlLnNsaWNlKHNSZWdleC5sYXN0SW5kZXgpKTtcbiAgICAgICAgX3NlbGVjdGlvbkVuZCA9IHNSZWdleC5sYXN0SW5kZXggKyB0UmVnZXgubGFzdEluZGV4O1xuICAgICAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKF9zZWxlY3Rpb25FbmQsIF9zZWxlY3Rpb25FbmQpO1xuICAgICAgfSBlbHNlIGlmIChuZXdMZW5ndGggPT09IGN1cnJlbnRMZW5ndGgpIHtcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2luc2VydCcgfHwgb3BlcmF0aW9uID09PSAnZGVsZXRlLWJhY2stc2luZ2xlJykgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kICsgMSwgX3NlbGVjdGlvbkVuZCArIDEpO2Vsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJ2RlbGV0ZS1zaW5nbGUnKSBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKF9zZWxlY3Rpb25FbmQgLSAxLCBfc2VsZWN0aW9uRW5kIC0gMSk7ZWxzZSBpZiAob3BlcmF0aW9uID09PSAnZGVsZXRlLXJhbmdlJyB8fCBvcGVyYXRpb24gPT09ICdzcGluJykgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kLCBfc2VsZWN0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSBpZiAob3BlcmF0aW9uID09PSAnZGVsZXRlLWJhY2stc2luZ2xlJykge1xuICAgICAgICB2YXIgcHJldkNoYXIgPSBpbnB1dFZhbHVlLmNoYXJBdChfc2VsZWN0aW9uRW5kIC0gMSk7XG4gICAgICAgIHZhciBuZXh0Q2hhciA9IGlucHV0VmFsdWUuY2hhckF0KF9zZWxlY3Rpb25FbmQpO1xuICAgICAgICB2YXIgZGlmZiA9IGN1cnJlbnRMZW5ndGggLSBuZXdMZW5ndGg7XG5cbiAgICAgICAgdmFyIGlzR3JvdXBDaGFyID0gX2dyb3VwLmN1cnJlbnQudGVzdChuZXh0Q2hhcik7XG5cbiAgICAgICAgaWYgKGlzR3JvdXBDaGFyICYmIGRpZmYgPT09IDEpIHtcbiAgICAgICAgICBfc2VsZWN0aW9uRW5kICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzR3JvdXBDaGFyICYmIGlzTnVtZXJhbENoYXIocHJldkNoYXIpKSB7XG4gICAgICAgICAgX3NlbGVjdGlvbkVuZCArPSAtMSAqIGRpZmYgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgX2dyb3VwLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kLCBfc2VsZWN0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5wdXRWYWx1ZSA9PT0gJy0nICYmIG9wZXJhdGlvbiA9PT0gJ2luc2VydCcpIHtcbiAgICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZSgwLCAwKTtcblxuICAgICAgICB2YXIgX2luZGV4MiA9IGluaXRDdXJzb3IoKTtcblxuICAgICAgICB2YXIgX3NlbGVjdGlvbkVuZDIgPSBfaW5kZXgyICsgaW5zZXJ0ZWRWYWx1ZVN0ci5sZW5ndGggKyAxO1xuXG4gICAgICAgIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoX3NlbGVjdGlvbkVuZDIsIF9zZWxlY3Rpb25FbmQyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9zZWxlY3Rpb25FbmQgPSBfc2VsZWN0aW9uRW5kICsgKG5ld0xlbmd0aCAtIGN1cnJlbnRMZW5ndGgpO1xuICAgICAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKF9zZWxlY3Rpb25FbmQsIF9zZWxlY3Rpb25FbmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlucHV0RWwuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgdmFsdWUpO1xuICB9O1xuXG4gIHZhciB1cGRhdGVJbnB1dFZhbHVlID0gZnVuY3Rpb24gdXBkYXRlSW5wdXRWYWx1ZShuZXdWYWx1ZSkge1xuICAgIG5ld1ZhbHVlID0gZXZhbHVhdGVFbXB0eShuZXdWYWx1ZSk7XG4gICAgdmFyIGlucHV0RWwgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgIHZhciB2YWx1ZSA9IGlucHV0RWwudmFsdWU7XG5cbiAgICB2YXIgX2Zvcm1hdHRlZFZhbHVlID0gZm9ybWF0dGVkVmFsdWUobmV3VmFsdWUpO1xuXG4gICAgaWYgKHZhbHVlICE9PSBfZm9ybWF0dGVkVmFsdWUpIHtcbiAgICAgIGlucHV0RWwudmFsdWUgPSBfZm9ybWF0dGVkVmFsdWU7XG4gICAgICBpbnB1dEVsLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZvcm1hdHRlZFZhbHVlID0gZnVuY3Rpb24gZm9ybWF0dGVkVmFsdWUodmFsKSB7XG4gICAgcmV0dXJuIGZvcm1hdFZhbHVlKGV2YWx1YXRlRW1wdHkodmFsKSk7XG4gIH07XG5cbiAgdmFyIGNvbmNhdFZhbHVlcyA9IGZ1bmN0aW9uIGNvbmNhdFZhbHVlcyh2YWwxLCB2YWwyKSB7XG4gICAgaWYgKHZhbDEgJiYgdmFsMikge1xuICAgICAgdmFyIGRlY2ltYWxDaGFySW5kZXggPSB2YWwyLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgIHJldHVybiBkZWNpbWFsQ2hhckluZGV4ICE9PSAtMSA/IHZhbDEuc3BsaXQoX2RlY2ltYWwuY3VycmVudClbMF0gKyB2YWwyLnNsaWNlKGRlY2ltYWxDaGFySW5kZXgpIDogdmFsMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsMTtcbiAgfTtcblxuICB2YXIgZ2V0RGVjaW1hbExlbmd0aCA9IGZ1bmN0aW9uIGdldERlY2ltYWxMZW5ndGgodmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHZhciB2YWx1ZVNwbGl0ID0gdmFsdWUuc3BsaXQoX2RlY2ltYWwuY3VycmVudCk7XG5cbiAgICAgIGlmICh2YWx1ZVNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICByZXR1cm4gdmFsdWVTcGxpdFsxXS5yZXBsYWNlKF9zdWZmaXguY3VycmVudCwgJycpLnRyaW0oKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoX2N1cnJlbmN5LmN1cnJlbnQsICcnKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZU1vZGVsID0gZnVuY3Rpb24gdXBkYXRlTW9kZWwoZXZlbnQsIHZhbHVlKSB7XG4gICAgaWYgKHByb3BzLm9uVmFsdWVDaGFuZ2UpIHtcbiAgICAgIHByb3BzLm9uVmFsdWVDaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25JbnB1dEZvY3VzID0gZnVuY3Rpb24gb25JbnB1dEZvY3VzKGV2ZW50KSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKHRydWUpO1xuICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRCbHVyID0gZnVuY3Rpb24gb25JbnB1dEJsdXIoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUoZmFsc2UpO1xuXG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuXG4gICAgICBpZiAoaXNWYWx1ZUNoYW5nZWQoY3VycmVudFZhbHVlLCBwcm9wcy52YWx1ZSkpIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gdmFsaWRhdGVWYWx1ZShwYXJzZVZhbHVlKGN1cnJlbnRWYWx1ZSkpO1xuICAgICAgICB1cGRhdGVJbnB1dFZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wcy5vbkJsdXIgJiYgcHJvcHMub25CbHVyKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgY2xlYXJUaW1lciA9IGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG4gICAgaWYgKHRpbWVyLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIuY3VycmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjaGFuZ2VWYWx1ZSA9IGZ1bmN0aW9uIGNoYW5nZVZhbHVlKCkge1xuICAgIHZhciBuZXdWYWx1ZSA9IHZhbGlkYXRlVmFsdWUocHJvcHMudmFsdWUpO1xuICAgIHVwZGF0ZUlucHV0VmFsdWUobmV3VmFsdWUpO1xuXG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSBudWxsICYmIHByb3BzLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgdXBkYXRlTW9kZWwobnVsbCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0Rm9ybWF0dGVyID0gZnVuY3Rpb24gZ2V0Rm9ybWF0dGVyKCkge1xuICAgIHJldHVybiBudW1iZXJGb3JtYXQuY3VycmVudDtcbiAgfTtcblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRGb3JtYXR0ZXI6IGdldEZvcm1hdHRlcixcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuICAgICAgICByZXR1cm4gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3RVdGlscy5jb21iaW5lZFJlZnMoaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmKTtcbiAgfSwgW2lucHV0UmVmLCBwcm9wcy5pbnB1dFJlZl0pO1xuICB1c2VNb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3RydWN0UGFyc2VyKCk7XG4gICAgdmFyIG5ld1ZhbHVlID0gdmFsaWRhdGVWYWx1ZShwcm9wcy52YWx1ZSk7XG5cbiAgICBpZiAocHJvcHMudmFsdWUgIT09IG51bGwgJiYgcHJvcHMudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICB1cGRhdGVNb2RlbChudWxsLCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdHJ1Y3RQYXJzZXIoKTtcbiAgICBjaGFuZ2VWYWx1ZSgpO1xuICB9LCBbcHJvcHMubG9jYWxlLCBwcm9wcy5sb2NhbGVNYXRjaGVyLCBwcm9wcy5tb2RlLCBwcm9wcy5jdXJyZW5jeSwgcHJvcHMuY3VycmVuY3lEaXNwbGF5LCBwcm9wcy51c2VHcm91cGluZywgcHJvcHMubWluRnJhY3Rpb25EaWdpdHMsIHByb3BzLm1heEZyYWN0aW9uRGlnaXRzLCBwcm9wcy5zdWZmaXgsIHByb3BzLnByZWZpeF0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNoYW5nZVZhbHVlKCk7XG4gIH0sIFtwcm9wcy52YWx1ZV0pO1xuXG4gIHZhciBjcmVhdGVJbnB1dEVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVJbnB1dEVsZW1lbnQoKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtaW5wdXRudW1iZXItaW5wdXQnLCBwcm9wcy5pbnB1dENsYXNzTmFtZSk7XG4gICAgdmFyIHZhbHVlVG9SZW5kZXIgPSBmb3JtYXR0ZWRWYWx1ZShwcm9wcy52YWx1ZSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0VGV4dCwge1xuICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgIGlkOiBwcm9wcy5pbnB1dElkLFxuICAgICAgc3R5bGU6IHByb3BzLmlucHV0U3R5bGUsXG4gICAgICByb2xlOiBcInNwaW5idXR0b25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgZGVmYXVsdFZhbHVlOiB2YWx1ZVRvUmVuZGVyLFxuICAgICAgdHlwZTogcHJvcHMudHlwZSxcbiAgICAgIHNpemU6IHByb3BzLnNpemUsXG4gICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICBpbnB1dE1vZGU6IGlucHV0TW9kZSxcbiAgICAgIG1heExlbmd0aDogcHJvcHMubWF4TGVuZ3RoLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgcmVxdWlyZWQ6IHByb3BzLnJlcXVpcmVkLFxuICAgICAgcGF0dGVybjogcHJvcHMucGF0dGVybixcbiAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgIHJlYWRPbmx5OiBwcm9wcy5yZWFkT25seSxcbiAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICBhdXRvRm9jdXM6IHByb3BzLmF1dG9Gb2N1cyxcbiAgICAgIG9uS2V5RG93bjogb25JbnB1dEtleURvd24sXG4gICAgICBvbktleVByZXNzOiBvbklucHV0S2V5UHJlc3MsXG4gICAgICBvbklucHV0OiBvbklucHV0LFxuICAgICAgb25DbGljazogb25JbnB1dENsaWNrLFxuICAgICAgb25CbHVyOiBvbklucHV0Qmx1cixcbiAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgIG9uUGFzdGU6IG9uUGFzdGUsXG4gICAgICBtaW46IHByb3BzLm1pbixcbiAgICAgIG1heDogcHJvcHMubWF4LFxuICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IHByb3BzLm1pbixcbiAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBwcm9wcy5tYXgsXG4gICAgICBcImFyaWEtdmFsdWVub3dcIjogcHJvcHMudmFsdWUsXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBwcm9wcy5hcmlhTGFiZWxsZWRCeVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVVcEJ1dHRvbiA9IGZ1bmN0aW9uIGNyZWF0ZVVwQnV0dG9uKCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWlucHV0bnVtYmVyLWJ1dHRvbiBwLWlucHV0bnVtYmVyLWJ1dHRvbi11cCBwLWJ1dHRvbiBwLWJ1dHRvbi1pY29uLW9ubHkgcC1jb21wb25lbnQnLCB7XG4gICAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gICAgfSwgcHJvcHMuaW5jcmVtZW50QnV0dG9uQ2xhc3NOYW1lKTtcbiAgICB2YXIgaWNvbiA9IGNsYXNzTmFtZXMoJ3AtYnV0dG9uLWljb24nLCBwcm9wcy5pbmNyZW1lbnRCdXR0b25JY29uKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgb25Nb3VzZUxlYXZlOiBvblVwQnV0dG9uTW91c2VMZWF2ZSxcbiAgICAgIG9uTW91c2VEb3duOiBvblVwQnV0dG9uTW91c2VEb3duLFxuICAgICAgb25Nb3VzZVVwOiBvblVwQnV0dG9uTW91c2VVcCxcbiAgICAgIG9uS2V5RG93bjogb25VcEJ1dHRvbktleURvd24sXG4gICAgICBvbktleVVwOiBvblVwQnV0dG9uS2V5VXAsXG4gICAgICBvblRvdWNoU3RhcnQ6IG9uVXBCdXR0b25Ub3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaEVuZDogb25VcEJ1dHRvblRvdWNoRW5kLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaWNvblxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlRG93bkJ1dHRvbiA9IGZ1bmN0aW9uIGNyZWF0ZURvd25CdXR0b24oKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtaW5wdXRudW1iZXItYnV0dG9uIHAtaW5wdXRudW1iZXItYnV0dG9uLWRvd24gcC1idXR0b24gcC1idXR0b24taWNvbi1vbmx5IHAtY29tcG9uZW50Jywge1xuICAgICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZFxuICAgIH0sIHByb3BzLmRlY3JlbWVudEJ1dHRvbkNsYXNzTmFtZSk7XG4gICAgdmFyIGljb24gPSBjbGFzc05hbWVzKCdwLWJ1dHRvbi1pY29uJywgcHJvcHMuZGVjcmVtZW50QnV0dG9uSWNvbik7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIG9uTW91c2VMZWF2ZTogb25Eb3duQnV0dG9uTW91c2VMZWF2ZSxcbiAgICAgIG9uTW91c2VEb3duOiBvbkRvd25CdXR0b25Nb3VzZURvd24sXG4gICAgICBvbk1vdXNlVXA6IG9uRG93bkJ1dHRvbk1vdXNlVXAsXG4gICAgICBvbktleURvd246IG9uRG93bkJ1dHRvbktleURvd24sXG4gICAgICBvbktleVVwOiBvbkRvd25CdXR0b25LZXlVcCxcbiAgICAgIG9uVG91Y2hTdGFydDogb25Eb3duQnV0dG9uVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hFbmQ6IG9uRG93bkJ1dHRvblRvdWNoRW5kLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaWNvblxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQnV0dG9uR3JvdXAgPSBmdW5jdGlvbiBjcmVhdGVCdXR0b25Hcm91cCgpIHtcbiAgICB2YXIgdXBCdXR0b24gPSBwcm9wcy5zaG93QnV0dG9ucyAmJiBjcmVhdGVVcEJ1dHRvbigpO1xuICAgIHZhciBkb3duQnV0dG9uID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgY3JlYXRlRG93bkJ1dHRvbigpO1xuXG4gICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1pbnB1dG51bWJlci1idXR0b24tZ3JvdXBcIlxuICAgICAgfSwgdXBCdXR0b24sIGRvd25CdXR0b24pO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgdXBCdXR0b24sIGRvd25CdXR0b24pO1xuICB9O1xuXG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIElucHV0TnVtYmVyLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWlucHV0bnVtYmVyIHAtY29tcG9uZW50IHAtaW5wdXR3cmFwcGVyJywge1xuICAgICdwLWlucHV0d3JhcHBlci1maWxsZWQnOiBwcm9wcy52YWx1ZSAhPSBudWxsICYmIHByb3BzLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoID4gMCxcbiAgICAncC1pbnB1dHdyYXBwZXItZm9jdXMnOiBmb2N1c2VkU3RhdGUsXG4gICAgJ3AtaW5wdXRudW1iZXItYnV0dG9ucy1zdGFja2VkJzogc3RhY2tlZCxcbiAgICAncC1pbnB1dG51bWJlci1idXR0b25zLWhvcml6b250YWwnOiBob3Jpem9udGFsLFxuICAgICdwLWlucHV0bnVtYmVyLWJ1dHRvbnMtdmVydGljYWwnOiB2ZXJ0aWNhbFxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICB2YXIgaW5wdXRFbGVtZW50ID0gY3JlYXRlSW5wdXRFbGVtZW50KCk7XG4gIHZhciBidXR0b25Hcm91cCA9IGNyZWF0ZUJ1dHRvbkdyb3VwKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgaWQ6IHByb3BzLmlkLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICB9LCBvdGhlclByb3BzKSwgaW5wdXRFbGVtZW50LCBidXR0b25Hcm91cCksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBjb250ZW50OiBwcm9wcy50b29sdGlwXG4gIH0sIHByb3BzLnRvb2x0aXBPcHRpb25zKSkpO1xufSkpO1xuSW5wdXROdW1iZXIuZGlzcGxheU5hbWUgPSAnSW5wdXROdW1iZXInO1xuSW5wdXROdW1iZXIuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdJbnB1dE51bWJlcicsXG4gIHZhbHVlOiBudWxsLFxuICBpbnB1dFJlZjogbnVsbCxcbiAgZm9ybWF0OiB0cnVlLFxuICBzaG93QnV0dG9uczogZmFsc2UsXG4gIGJ1dHRvbkxheW91dDogJ3N0YWNrZWQnLFxuICBpbmNyZW1lbnRCdXR0b25DbGFzc05hbWU6IG51bGwsXG4gIGRlY3JlbWVudEJ1dHRvbkNsYXNzTmFtZTogbnVsbCxcbiAgaW5jcmVtZW50QnV0dG9uSWNvbjogJ3BpIHBpLWFuZ2xlLXVwJyxcbiAgZGVjcmVtZW50QnV0dG9uSWNvbjogJ3BpIHBpLWFuZ2xlLWRvd24nLFxuICBsb2NhbGU6IHVuZGVmaW5lZCxcbiAgbG9jYWxlTWF0Y2hlcjogdW5kZWZpbmVkLFxuICBtb2RlOiAnZGVjaW1hbCcsXG4gIHN1ZmZpeDogbnVsbCxcbiAgcHJlZml4OiBudWxsLFxuICBjdXJyZW5jeTogdW5kZWZpbmVkLFxuICBjdXJyZW5jeURpc3BsYXk6IHVuZGVmaW5lZCxcbiAgdXNlR3JvdXBpbmc6IHRydWUsXG4gIG1pbkZyYWN0aW9uRGlnaXRzOiB1bmRlZmluZWQsXG4gIG1heEZyYWN0aW9uRGlnaXRzOiB1bmRlZmluZWQsXG4gIGlkOiBudWxsLFxuICBuYW1lOiBudWxsLFxuICB0eXBlOiAndGV4dCcsXG4gIGFsbG93RW1wdHk6IHRydWUsXG4gIHN0ZXA6IDEsXG4gIG1pbjogbnVsbCxcbiAgbWF4OiBudWxsLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIHJlcXVpcmVkOiBmYWxzZSxcbiAgdGFiSW5kZXg6IG51bGwsXG4gIHBhdHRlcm46IG51bGwsXG4gIGlucHV0TW9kZTogbnVsbCxcbiAgcGxhY2Vob2xkZXI6IG51bGwsXG4gIHJlYWRPbmx5OiBmYWxzZSxcbiAgc2l6ZTogbnVsbCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgaW5wdXRJZDogbnVsbCxcbiAgYXV0b0ZvY3VzOiBmYWxzZSxcbiAgaW5wdXRTdHlsZTogbnVsbCxcbiAgaW5wdXRDbGFzc05hbWU6IG51bGwsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBhcmlhTGFiZWxsZWRCeTogbnVsbCxcbiAgb25WYWx1ZUNoYW5nZTogbnVsbCxcbiAgb25DaGFuZ2U6IG51bGwsXG4gIG9uQmx1cjogbnVsbCxcbiAgb25Gb2N1czogbnVsbCxcbiAgb25LZXlEb3duOiBudWxsXG59O1xuXG5leHBvcnQgeyBJbnB1dE51bWJlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputnumber/inputnumber.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputtext/inputtext.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/inputtext/inputtext.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputText\": function() { return /* binding */ InputText; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/keyfilter */ \"./node_modules/primereact/keyfilter/keyfilter.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar InputText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(ref);\n\n  var onKeyPress = function onKeyPress(event) {\n    props.onKeyPress && props.onKeyPress(event);\n\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.onKeyPress(event, props.keyfilter, props.validateOnly);\n    }\n  };\n\n  var onInput = function onInput(event) {\n    var validatePattern = true;\n\n    if (props.keyfilter && props.validateOnly) {\n      validatePattern = primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.validate(event, props.keyfilter);\n    }\n\n    props.onInput && props.onInput(event, validatePattern);\n\n    if (!props.onChange) {\n      var target = event.target;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(target.value) ? primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.addClass(target, 'p-filled') : primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.removeClass(target, 'p-filled');\n    }\n  };\n\n  var onPaste = function onPaste(event) {\n    props.onPaste && props.onPaste(event);\n\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.onPaste(event, props.keyfilter, props.validateOnly);\n    }\n  };\n\n  var currentValue = elementRef.current && elementRef.current.value;\n  var isFilled = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.value) || primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.defaultValue) || primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(currentValue);\n  }, [props.value, props.defaultValue, currentValue]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.combinedRefs(elementRef, ref);\n  }, [elementRef, ref]);\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.findDiffKeys(props, InputText.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_3__.classNames)('p-inputtext p-component', {\n    'p-disabled': props.disabled,\n    'p-filled': isFilled\n  }, props.className);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", _extends({\n    ref: elementRef\n  }, otherProps, {\n    className: className,\n    onInput: onInput,\n    onKeyPress: onKeyPress,\n    onPaste: onPaste\n  })), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_2__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputText.displayName = 'InputText';\nInputText.defaultProps = {\n  __TYPE: 'InputText',\n  keyfilter: null,\n  validateOnly: false,\n  tooltip: null,\n  tooltipOptions: null,\n  onInput: null,\n  onKeyPress: null,\n  onPaste: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHQvaW5wdXR0ZXh0LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0I7QUFDa0I7QUFDSjtBQUMwQjs7QUFFdkU7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2QkFBNkIsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDdEUsbUJBQW1CLHlDQUFZOztBQUUvQjtBQUNBOztBQUVBO0FBQ0EsTUFBTSxzRUFBb0I7QUFDMUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLG9FQUFrQjtBQUMxQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxvRUFBc0IsaUJBQWlCLGlFQUFtQix1QkFBdUIsb0VBQXNCO0FBQzdHO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU0sbUVBQWlCO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsMENBQWE7QUFDOUIsV0FBVyxvRUFBc0IsaUJBQWlCLG9FQUFzQix3QkFBd0Isb0VBQXNCO0FBQ3RILEdBQUc7QUFDSCxFQUFFLDRDQUFlO0FBQ2pCLElBQUksc0VBQXdCO0FBQzVCLEdBQUc7QUFDSCxtQkFBbUIsb0VBQXNCO0FBQ3pDLG1CQUFtQixzRUFBd0I7QUFDM0Msa0JBQWtCLDREQUFVO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLCtCQUErQixnREFBbUIsQ0FBQyx1REFBTztBQUM3RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHQvaW5wdXR0ZXh0LmVzbS5qcz9kMzg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEtleUZpbHRlciB9IGZyb20gJ3ByaW1lcmVhY3Qva2V5ZmlsdGVyJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIElucHV0VGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihyZWYpO1xuXG4gIHZhciBvbktleVByZXNzID0gZnVuY3Rpb24gb25LZXlQcmVzcyhldmVudCkge1xuICAgIHByb3BzLm9uS2V5UHJlc3MgJiYgcHJvcHMub25LZXlQcmVzcyhldmVudCk7XG5cbiAgICBpZiAocHJvcHMua2V5ZmlsdGVyKSB7XG4gICAgICBLZXlGaWx0ZXIub25LZXlQcmVzcyhldmVudCwgcHJvcHMua2V5ZmlsdGVyLCBwcm9wcy52YWxpZGF0ZU9ubHkpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25JbnB1dCA9IGZ1bmN0aW9uIG9uSW5wdXQoZXZlbnQpIHtcbiAgICB2YXIgdmFsaWRhdGVQYXR0ZXJuID0gdHJ1ZTtcblxuICAgIGlmIChwcm9wcy5rZXlmaWx0ZXIgJiYgcHJvcHMudmFsaWRhdGVPbmx5KSB7XG4gICAgICB2YWxpZGF0ZVBhdHRlcm4gPSBLZXlGaWx0ZXIudmFsaWRhdGUoZXZlbnQsIHByb3BzLmtleWZpbHRlcik7XG4gICAgfVxuXG4gICAgcHJvcHMub25JbnB1dCAmJiBwcm9wcy5vbklucHV0KGV2ZW50LCB2YWxpZGF0ZVBhdHRlcm4pO1xuXG4gICAgaWYgKCFwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIE9iamVjdFV0aWxzLmlzTm90RW1wdHkodGFyZ2V0LnZhbHVlKSA/IERvbUhhbmRsZXIuYWRkQ2xhc3ModGFyZ2V0LCAncC1maWxsZWQnKSA6IERvbUhhbmRsZXIucmVtb3ZlQ2xhc3ModGFyZ2V0LCAncC1maWxsZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUGFzdGUgPSBmdW5jdGlvbiBvblBhc3RlKGV2ZW50KSB7XG4gICAgcHJvcHMub25QYXN0ZSAmJiBwcm9wcy5vblBhc3RlKGV2ZW50KTtcblxuICAgIGlmIChwcm9wcy5rZXlmaWx0ZXIpIHtcbiAgICAgIEtleUZpbHRlci5vblBhc3RlKGV2ZW50LCBwcm9wcy5rZXlmaWx0ZXIsIHByb3BzLnZhbGlkYXRlT25seSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjdXJyZW50VmFsdWUgPSBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlO1xuICB2YXIgaXNGaWxsZWQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52YWx1ZSkgfHwgT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy5kZWZhdWx0VmFsdWUpIHx8IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoY3VycmVudFZhbHVlKTtcbiAgfSwgW3Byb3BzLnZhbHVlLCBwcm9wcy5kZWZhdWx0VmFsdWUsIGN1cnJlbnRWYWx1ZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhlbGVtZW50UmVmLCByZWYpO1xuICB9LCBbZWxlbWVudFJlZiwgcmVmXSk7XG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIElucHV0VGV4dC5kZWZhdWx0UHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1pbnB1dHRleHQgcC1jb21wb25lbnQnLCB7XG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1maWxsZWQnOiBpc0ZpbGxlZFxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZlxuICB9LCBvdGhlclByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgb25JbnB1dDogb25JbnB1dCxcbiAgICBvbktleVByZXNzOiBvbktleVByZXNzLFxuICAgIG9uUGFzdGU6IG9uUGFzdGVcbiAgfSkpLCBoYXNUb29sdGlwICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgY29udGVudDogcHJvcHMudG9vbHRpcFxuICB9LCBwcm9wcy50b29sdGlwT3B0aW9ucykpKTtcbn0pKTtcbklucHV0VGV4dC5kaXNwbGF5TmFtZSA9ICdJbnB1dFRleHQnO1xuSW5wdXRUZXh0LmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnSW5wdXRUZXh0JyxcbiAga2V5ZmlsdGVyOiBudWxsLFxuICB2YWxpZGF0ZU9ubHk6IGZhbHNlLFxuICB0b29sdGlwOiBudWxsLFxuICB0b29sdGlwT3B0aW9uczogbnVsbCxcbiAgb25JbnB1dDogbnVsbCxcbiAgb25LZXlQcmVzczogbnVsbCxcbiAgb25QYXN0ZTogbnVsbFxufTtcblxuZXhwb3J0IHsgSW5wdXRUZXh0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputtext/inputtext.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/keyfilter/keyfilter.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/keyfilter/keyfilter.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyFilter\": function() { return /* binding */ KeyFilter; }\n/* harmony export */ });\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nvar KeyFilter = {\n  /* eslint-disable */\n  DEFAULT_MASKS: {\n    pint: /[\\d]/,\n    \"int\": /[\\d\\-]/,\n    pnum: /[\\d\\.]/,\n    money: /[\\d\\.\\s,]/,\n    num: /[\\d\\-\\.]/,\n    hex: /[0-9a-f]/i,\n    email: /[a-z0-9_\\.\\-@]/i,\n    alpha: /[a-z_]/i,\n    alphanum: /[a-z0-9_]/i\n  },\n\n  /* eslint-enable */\n  getRegex: function getRegex(keyfilter) {\n    return KeyFilter.DEFAULT_MASKS[keyfilter] ? KeyFilter.DEFAULT_MASKS[keyfilter] : keyfilter;\n  },\n  onKeyPress: function onKeyPress(e, keyfilter, validateOnly) {\n    if (validateOnly) {\n      return;\n    }\n\n    if (e.ctrlKey || e.altKey) {\n      return;\n    }\n\n    var isPrintableKey = e.key.length === 1;\n\n    if (!isPrintableKey) {\n      return;\n    }\n\n    var regex = this.getRegex(keyfilter);\n\n    if (!regex.test(e.key)) {\n      e.preventDefault();\n    }\n  },\n  onPaste: function onPaste(e, keyfilter, validateOnly) {\n    if (validateOnly) {\n      return;\n    }\n\n    var regex = this.getRegex(keyfilter);\n    var clipboard = e.clipboardData.getData('text'); // loop over each letter pasted and if any fail prevent the paste\n\n    _toConsumableArray(clipboard).forEach(function (c) {\n      if (!regex.test(c)) {\n        e.preventDefault();\n        return false;\n      }\n    });\n  },\n  validate: function validate(e, keyfilter) {\n    var value = e.target.value,\n        validatePattern = true;\n\n    if (value && !keyfilter.test(value)) {\n      validatePattern = false;\n    }\n\n    return validatePattern;\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9rZXlmaWx0ZXIva2V5ZmlsdGVyLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxREFBcUQ7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9rZXlmaWx0ZXIva2V5ZmlsdGVyLmVzbS5qcz82ZmNlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxudmFyIEtleUZpbHRlciA9IHtcbiAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgREVGQVVMVF9NQVNLUzoge1xuICAgIHBpbnQ6IC9bXFxkXS8sXG4gICAgXCJpbnRcIjogL1tcXGRcXC1dLyxcbiAgICBwbnVtOiAvW1xcZFxcLl0vLFxuICAgIG1vbmV5OiAvW1xcZFxcLlxccyxdLyxcbiAgICBudW06IC9bXFxkXFwtXFwuXS8sXG4gICAgaGV4OiAvWzAtOWEtZl0vaSxcbiAgICBlbWFpbDogL1thLXowLTlfXFwuXFwtQF0vaSxcbiAgICBhbHBoYTogL1thLXpfXS9pLFxuICAgIGFscGhhbnVtOiAvW2EtejAtOV9dL2lcbiAgfSxcblxuICAvKiBlc2xpbnQtZW5hYmxlICovXG4gIGdldFJlZ2V4OiBmdW5jdGlvbiBnZXRSZWdleChrZXlmaWx0ZXIpIHtcbiAgICByZXR1cm4gS2V5RmlsdGVyLkRFRkFVTFRfTUFTS1Nba2V5ZmlsdGVyXSA/IEtleUZpbHRlci5ERUZBVUxUX01BU0tTW2tleWZpbHRlcl0gOiBrZXlmaWx0ZXI7XG4gIH0sXG4gIG9uS2V5UHJlc3M6IGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSwga2V5ZmlsdGVyLCB2YWxpZGF0ZU9ubHkpIHtcbiAgICBpZiAodmFsaWRhdGVPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGUuY3RybEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpc1ByaW50YWJsZUtleSA9IGUua2V5Lmxlbmd0aCA9PT0gMTtcblxuICAgIGlmICghaXNQcmludGFibGVLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcmVnZXggPSB0aGlzLmdldFJlZ2V4KGtleWZpbHRlcik7XG5cbiAgICBpZiAoIXJlZ2V4LnRlc3QoZS5rZXkpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LFxuICBvblBhc3RlOiBmdW5jdGlvbiBvblBhc3RlKGUsIGtleWZpbHRlciwgdmFsaWRhdGVPbmx5KSB7XG4gICAgaWYgKHZhbGlkYXRlT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZWdleCA9IHRoaXMuZ2V0UmVnZXgoa2V5ZmlsdGVyKTtcbiAgICB2YXIgY2xpcGJvYXJkID0gZS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQnKTsgLy8gbG9vcCBvdmVyIGVhY2ggbGV0dGVyIHBhc3RlZCBhbmQgaWYgYW55IGZhaWwgcHJldmVudCB0aGUgcGFzdGVcblxuICAgIF90b0NvbnN1bWFibGVBcnJheShjbGlwYm9hcmQpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmICghcmVnZXgudGVzdChjKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGUsIGtleWZpbHRlcikge1xuICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICB2YWxpZGF0ZVBhdHRlcm4gPSB0cnVlO1xuXG4gICAgaWYgKHZhbHVlICYmICFrZXlmaWx0ZXIudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHZhbGlkYXRlUGF0dGVybiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZVBhdHRlcm47XG4gIH1cbn07XG5cbmV4cG9ydCB7IEtleUZpbHRlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/keyfilter/keyfilter.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/overlayservice/overlayservice.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/primereact/overlayservice/overlayservice.esm.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OverlayService\": function() { return /* binding */ OverlayService; }\n/* harmony export */ });\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\nvar OverlayService = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_0__.EventBus)();\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9vdmVybGF5c2VydmljZS9vdmVybGF5c2VydmljZS5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7O0FBRTVDLHFCQUFxQiwwREFBUTs7QUFFSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9vdmVybGF5c2VydmljZS9vdmVybGF5c2VydmljZS5lc20uanM/NDhhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG52YXIgT3ZlcmxheVNlcnZpY2UgPSBFdmVudEJ1cygpO1xuXG5leHBvcnQgeyBPdmVybGF5U2VydmljZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/overlayservice/overlayservice.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/paginator/paginator.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/paginator/paginator.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Paginator\": function() { return /* binding */ Paginator; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/button */ \"./node_modules/primereact/button/button.esm.js\");\n/* harmony import */ var primereact_inputnumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/inputnumber */ \"./node_modules/primereact/inputnumber/inputnumber.esm.js\");\n/* harmony import */ var primereact_dropdown__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/dropdown */ \"./node_modules/primereact/dropdown/dropdown.esm.js\");\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar CurrentPageReport = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var report = {\n    currentPage: props.page + 1,\n    totalPages: props.pageCount,\n    first: Math.min(props.first + 1, props.totalRecords),\n    last: Math.min(props.first + props.rows, props.totalRecords),\n    rows: props.rows,\n    totalRecords: props.totalRecords\n  };\n  var text = props.reportTemplate.replace('{currentPage}', report.currentPage).replace('{totalPages}', report.totalPages).replace('{first}', report.first).replace('{last}', report.last).replace('{rows}', report.rows).replace('{totalRecords}', report.totalRecords);\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"p-paginator-current\"\n  }, text);\n\n  if (props.template) {\n    var defaultOptions = _objectSpread(_objectSpread({}, report), {\n      className: 'p-paginator-current',\n      element: element,\n      props: props\n    });\n\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nCurrentPageReport.displayName = 'CurrentPageReport';\nCurrentPageReport.defaultProps = {\n  __TYPE: 'CurrentPageReport',\n  pageCount: null,\n  page: null,\n  first: null,\n  rows: null,\n  totalRecords: null,\n  reportTemplate: '({currentPage} of {totalPages})',\n  template: null\n};\n\nvar FirstPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-paginator-first p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-double-left';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n    type: \"button\",\n    className: className,\n    icon: iconClassName,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.ariaLabel)('firstPageLabel')\n  });\n\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nFirstPageLink.displayName = 'FirstPageLink';\nFirstPageLink.defaultProps = {\n  __TYPE: 'FirstPageLink',\n  disabled: false,\n  onClick: null,\n  template: null\n};\n\nvar JumpToPageInput = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var onChange = function onChange(event) {\n    if (props.onChange) {\n      props.onChange(props.rows * (event.value - 1), props.rows);\n    }\n  };\n\n  var value = props.pageCount > 0 ? props.page + 1 : 0;\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputnumber__WEBPACK_IMPORTED_MODULE_5__.InputNumber, {\n    value: value,\n    onChange: onChange,\n    className: \"p-paginator-page-input\",\n    disabled: props.disabled\n  });\n\n  if (props.template) {\n    var defaultOptions = {\n      value: value,\n      onChange: onChange,\n      disabled: props.disabled,\n      className: 'p-paginator-page-input',\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nJumpToPageInput.displayName = 'JumpToPageInput';\nJumpToPageInput.defaultProps = {\n  __TYPE: 'JumbToPageInput',\n  page: null,\n  rows: null,\n  pageCount: null,\n  disabled: false,\n  template: null,\n  onChange: null\n};\n\nvar LastPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-paginator-last p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-double-right';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n    type: \"button\",\n    className: className,\n    icon: iconClassName,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.ariaLabel)('lastPageLabel')\n  });\n\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nLastPageLink.displayName = 'LastPageLink';\nLastPageLink.defaultProps = {\n  __TYPE: 'LastPageLink',\n  disabled: false,\n  onClick: null,\n  template: null\n};\n\nvar NextPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-paginator-next p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-right';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n    type: \"button\",\n    className: className,\n    icon: iconClassName,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.ariaLabel)('nextPageLabel')\n  });\n\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nNextPageLink.displayName = 'NextPageLink';\nNextPageLink.defaultProps = {\n  __TYPE: 'NextPageLink',\n  disabled: false,\n  onClick: null,\n  template: null\n};\n\nvar PageLinks = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var onPageLinkClick = function onPageLinkClick(event, pageLink) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        value: pageLink\n      });\n    }\n\n    event.preventDefault();\n  };\n\n  var elements;\n\n  if (props.value) {\n    var startPageInView = props.value[0];\n    var endPageInView = props.value[props.value.length - 1];\n    elements = props.value.map(function (pageLink) {\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-paginator-page p-paginator-element p-link', {\n        'p-paginator-page-start': pageLink === startPageInView,\n        'p-paginator-page-end': pageLink === endPageInView,\n        'p-highlight': pageLink - 1 === props.page\n      });\n      var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n        type: \"button\",\n        className: className,\n        onClick: function onClick(e) {\n          return onPageLinkClick(e, pageLink);\n        },\n        \"aria-label\": \"\".concat((0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.ariaLabel)('pageLabel'), \" \").concat(pageLink + 1)\n      }, pageLink);\n\n      if (props.template) {\n        var defaultOptions = {\n          onClick: function onClick(e) {\n            return onPageLinkClick(e, pageLink);\n          },\n          className: className,\n          view: {\n            startPage: startPageInView - 1,\n            endPage: endPageInView - 1\n          },\n          page: pageLink - 1,\n          currentPage: props.page,\n          totalPages: props.pageCount,\n          element: element,\n          props: props\n        };\n        element = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: pageLink\n      }, element);\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"p-paginator-pages\"\n  }, elements);\n});\nPageLinks.displayName = 'PageLinks';\nPageLinks.defaultProps = {\n  __TYPE: 'PageLinks',\n  value: null,\n  page: null,\n  rows: null,\n  pageCount: null,\n  links: null,\n  template: null\n};\n\nvar PrevPageLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-paginator-prev p-paginator-element p-link', {\n    'p-disabled': props.disabled\n  });\n  var iconClassName = 'p-paginator-icon pi pi-angle-left';\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n    type: \"button\",\n    className: className,\n    icon: iconClassName,\n    onClick: props.onClick,\n    disabled: props.disabled,\n    \"aria-label\": (0,primereact_api__WEBPACK_IMPORTED_MODULE_3__.ariaLabel)('previousPageLabel')\n  });\n\n  if (props.template) {\n    var defaultOptions = {\n      onClick: props.onClick,\n      className: className,\n      iconClassName: iconClassName,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nPrevPageLink.displayName = 'PrevPageLink';\nPrevPageLink.defaultProps = {\n  __TYPE: 'PrevPageLink',\n  disabled: false,\n  onClick: null,\n  template: null\n};\n\nvar RowsPerPageDropdown = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var hasOptions = props.options && props.options.length > 0;\n  var options = hasOptions ? props.options.map(function (opt) {\n    return {\n      label: String(opt),\n      value: opt\n    };\n  }) : [];\n  var element = hasOptions ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_dropdown__WEBPACK_IMPORTED_MODULE_6__.Dropdown, {\n    value: props.value,\n    options: options,\n    onChange: props.onChange,\n    appendTo: props.appendTo,\n    disabled: props.disabled\n  }) : null;\n\n  if (props.template) {\n    var defaultOptions = {\n      value: props.value,\n      options: options,\n      onChange: props.onChange,\n      appendTo: props.appendTo,\n      currentPage: props.page,\n      totalPages: props.pageCount,\n      totalRecords: props.totalRecords,\n      disabled: props.disabled,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nRowsPerPageDropdown.displayName = 'RowsPerPageDropdown';\nRowsPerPageDropdown.defaultProps = {\n  __TYPE: 'RowsPerPageDropdown',\n  options: null,\n  value: null,\n  page: null,\n  pageCount: null,\n  totalRecords: 0,\n  appendTo: null,\n  onChange: null,\n  template: null,\n  disabled: false\n};\n\nvar Paginator = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var rppChanged = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var page = Math.floor(props.first / props.rows);\n  var pageCount = Math.ceil(props.totalRecords / props.rows);\n  var isFirstPage = page === 0;\n  var isLastPage = page === pageCount - 1;\n  var isEmpty = pageCount === 0;\n\n  var calculatePageLinkBoundaries = function calculatePageLinkBoundaries() {\n    var numberOfPages = pageCount;\n    var visiblePages = Math.min(props.pageLinkSize, numberOfPages); //calculate range, keep current in middle if necessary\n\n    var start = Math.max(0, Math.ceil(page - visiblePages / 2));\n    var end = Math.min(numberOfPages - 1, start + visiblePages - 1); //check when approaching to last page\n\n    var delta = props.pageLinkSize - (end - start + 1);\n    start = Math.max(0, start - delta);\n    return [start, end];\n  };\n\n  var updatePageLinks = function updatePageLinks() {\n    var pageLinks = [];\n    var boundaries = calculatePageLinkBoundaries();\n    var start = boundaries[0];\n    var end = boundaries[1];\n\n    for (var i = start; i <= end; i++) {\n      pageLinks.push(i + 1);\n    }\n\n    return pageLinks;\n  };\n\n  var changePage = function changePage(first, rows) {\n    var pc = pageCount;\n    var p = Math.floor(first / rows);\n\n    if (p >= 0 && p < pc) {\n      var newPageState = {\n        first: first,\n        rows: rows,\n        page: p,\n        pageCount: pc\n      };\n\n      if (props.onPageChange) {\n        props.onPageChange(newPageState);\n      }\n    }\n  };\n\n  var changePageToFirst = function changePageToFirst(event) {\n    changePage(0, props.rows);\n    event.preventDefault();\n  };\n\n  var changePageToPrev = function changePageToPrev(event) {\n    changePage(props.first - props.rows, props.rows);\n    event.preventDefault();\n  };\n\n  var onPageLinkClick = function onPageLinkClick(event) {\n    changePage((event.value - 1) * props.rows, props.rows);\n  };\n\n  var changePageToNext = function changePageToNext(event) {\n    changePage(props.first + props.rows, props.rows);\n    event.preventDefault();\n  };\n\n  var changePageToLast = function changePageToLast(event) {\n    changePage((pageCount - 1) * props.rows, props.rows);\n    event.preventDefault();\n  };\n\n  var onRowsChange = function onRowsChange(event) {\n    var rows = event.value;\n    rppChanged.current = rows !== props.rows;\n    changePage(0, rows);\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (!rppChanged.current) {\n      changePage(0, props.rows);\n    }\n\n    rppChanged.current = false;\n  }, [props.rows]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (page > 0 && props.first >= props.totalRecords) {\n      changePage((pageCount - 1) * props.rows, props.rows);\n    }\n  }, [props.totalRecords]);\n\n  var createElement = function createElement(key, template) {\n    var element;\n\n    switch (key) {\n      case 'FirstPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(FirstPageLink, {\n          key: key,\n          onClick: changePageToFirst,\n          disabled: isFirstPage || isEmpty,\n          template: template\n        });\n        break;\n\n      case 'PrevPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrevPageLink, {\n          key: key,\n          onClick: changePageToPrev,\n          disabled: isFirstPage || isEmpty,\n          template: template\n        });\n        break;\n\n      case 'NextPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextPageLink, {\n          key: key,\n          onClick: changePageToNext,\n          disabled: isLastPage || isEmpty,\n          template: template\n        });\n        break;\n\n      case 'LastPageLink':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(LastPageLink, {\n          key: key,\n          onClick: changePageToLast,\n          disabled: isLastPage || isEmpty,\n          template: template\n        });\n        break;\n\n      case 'PageLinks':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageLinks, {\n          key: key,\n          value: updatePageLinks(),\n          page: page,\n          rows: props.rows,\n          pageCount: pageCount,\n          onClick: onPageLinkClick,\n          template: template\n        });\n        break;\n\n      case 'RowsPerPageDropdown':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(RowsPerPageDropdown, {\n          key: key,\n          value: props.rows,\n          page: page,\n          pageCount: pageCount,\n          totalRecords: props.totalRecords,\n          options: props.rowsPerPageOptions,\n          onChange: onRowsChange,\n          appendTo: props.dropdownAppendTo,\n          template: template,\n          disabled: isEmpty\n        });\n        break;\n\n      case 'CurrentPageReport':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CurrentPageReport, {\n          reportTemplate: props.currentPageReportTemplate,\n          key: key,\n          page: page,\n          pageCount: pageCount,\n          first: props.first,\n          rows: props.rows,\n          totalRecords: props.totalRecords,\n          template: template\n        });\n        break;\n\n      case 'JumpToPageInput':\n        element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(JumpToPageInput, {\n          key: key,\n          rows: props.rows,\n          page: page,\n          pageCount: pageCount,\n          onChange: changePage,\n          disabled: isEmpty,\n          template: template\n        });\n        break;\n\n      default:\n        element = null;\n        break;\n    }\n\n    return element;\n  };\n\n  var createElements = function createElements() {\n    var template = props.template;\n\n    if (template) {\n      if (_typeof(template) === 'object') {\n        return template.layout ? template.layout.split(' ').map(function (value) {\n          var key = value.trim();\n          return createElement(key, template[key]);\n        }) : Object.entries(template).map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              _template = _ref2[1];\n\n          return createElement(key, _template);\n        });\n      }\n\n      return template.split(' ').map(function (value) {\n        return createElement(value.trim());\n      });\n    }\n\n    return null;\n  };\n\n  if (!props.alwaysShow && pageCount === 1) {\n    return null;\n  } else {\n    var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.findDiffKeys(props, Paginator.defaultProps);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-paginator p-component', props.className);\n    var leftContent = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.leftContent, props);\n    var rightContent = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.rightContent, props);\n    var elements = createElements();\n    var leftElement = leftContent && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-paginator-left-content\"\n    }, leftContent);\n    var rightElement = rightContent && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-paginator-right-content\"\n    }, rightContent);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      style: props.style\n    }, otherProps), leftElement, elements, rightElement);\n  }\n}));\nPaginator.displayName = 'Paginator';\nPaginator.defaultProps = {\n  __TYPE: 'Paginator',\n  totalRecords: 0,\n  rows: 0,\n  first: 0,\n  pageLinkSize: 5,\n  rowsPerPageOptions: null,\n  alwaysShow: true,\n  style: null,\n  className: null,\n  template: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',\n  onPageChange: null,\n  leftContent: null,\n  rightContent: null,\n  dropdownAppendTo: null,\n  currentPageReportTemplate: '({currentPage} of {totalPages})'\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9wYWdpbmF0b3IvcGFnaW5hdG9yLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBK0I7QUFDb0I7QUFDUTtBQUNoQjtBQUNBO0FBQ1U7QUFDTjs7QUFFL0M7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELDRDQUE0QyxvS0FBb0ssbUZBQW1GLEtBQUs7QUFDMWUscUNBQXFDLHVDQUFVO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsWUFBWSxpQ0FBaUMsV0FBVyxnQ0FBZ0Ms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O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oscUJBQXFCLHNFQUF3QjtBQUM3QyxvQkFBb0IsNERBQVU7QUFDOUIsc0JBQXNCLHVFQUF5QjtBQUMvQyx1QkFBdUIsdUVBQXlCO0FBQ2hEO0FBQ0Esa0RBQWtELGdEQUFtQjtBQUNyRTtBQUNBLEtBQUs7QUFDTCxvREFBb0QsZ0RBQW1CO0FBQ3ZFO0FBQ0EsS0FBSztBQUNMLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWEsSUFBSSxXQUFXO0FBQzVEOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9wYWdpbmF0b3IvcGFnaW5hdG9yLmVzbS5qcz9iMDgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVVwZGF0ZUVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcbmltcG9ydCB7IGFyaWFMYWJlbCB9IGZyb20gJ3ByaW1lcmVhY3QvYXBpJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ3ByaW1lcmVhY3QvYnV0dG9uJztcbmltcG9ydCB7IElucHV0TnVtYmVyIH0gZnJvbSAncHJpbWVyZWFjdC9pbnB1dG51bWJlcic7XG5pbXBvcnQgeyBEcm9wZG93biB9IGZyb20gJ3ByaW1lcmVhY3QvZHJvcGRvd24nO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIEN1cnJlbnRQYWdlUmVwb3J0ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciByZXBvcnQgPSB7XG4gICAgY3VycmVudFBhZ2U6IHByb3BzLnBhZ2UgKyAxLFxuICAgIHRvdGFsUGFnZXM6IHByb3BzLnBhZ2VDb3VudCxcbiAgICBmaXJzdDogTWF0aC5taW4ocHJvcHMuZmlyc3QgKyAxLCBwcm9wcy50b3RhbFJlY29yZHMpLFxuICAgIGxhc3Q6IE1hdGgubWluKHByb3BzLmZpcnN0ICsgcHJvcHMucm93cywgcHJvcHMudG90YWxSZWNvcmRzKSxcbiAgICByb3dzOiBwcm9wcy5yb3dzLFxuICAgIHRvdGFsUmVjb3JkczogcHJvcHMudG90YWxSZWNvcmRzXG4gIH07XG4gIHZhciB0ZXh0ID0gcHJvcHMucmVwb3J0VGVtcGxhdGUucmVwbGFjZSgne2N1cnJlbnRQYWdlfScsIHJlcG9ydC5jdXJyZW50UGFnZSkucmVwbGFjZSgne3RvdGFsUGFnZXN9JywgcmVwb3J0LnRvdGFsUGFnZXMpLnJlcGxhY2UoJ3tmaXJzdH0nLCByZXBvcnQuZmlyc3QpLnJlcGxhY2UoJ3tsYXN0fScsIHJlcG9ydC5sYXN0KS5yZXBsYWNlKCd7cm93c30nLCByZXBvcnQucm93cykucmVwbGFjZSgne3RvdGFsUmVjb3Jkc30nLCByZXBvcnQudG90YWxSZWNvcmRzKTtcbiAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLXBhZ2luYXRvci1jdXJyZW50XCJcbiAgfSwgdGV4dCk7XG5cbiAgaWYgKHByb3BzLnRlbXBsYXRlKSB7XG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXBvcnQpLCB7XG4gICAgICBjbGFzc05hbWU6ICdwLXBhZ2luYXRvci1jdXJyZW50JyxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9KTtcblxuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnRlbXBsYXRlLCBkZWZhdWx0T3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn0pO1xuQ3VycmVudFBhZ2VSZXBvcnQuZGlzcGxheU5hbWUgPSAnQ3VycmVudFBhZ2VSZXBvcnQnO1xuQ3VycmVudFBhZ2VSZXBvcnQuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdDdXJyZW50UGFnZVJlcG9ydCcsXG4gIHBhZ2VDb3VudDogbnVsbCxcbiAgcGFnZTogbnVsbCxcbiAgZmlyc3Q6IG51bGwsXG4gIHJvd3M6IG51bGwsXG4gIHRvdGFsUmVjb3JkczogbnVsbCxcbiAgcmVwb3J0VGVtcGxhdGU6ICcoe2N1cnJlbnRQYWdlfSBvZiB7dG90YWxQYWdlc30pJyxcbiAgdGVtcGxhdGU6IG51bGxcbn07XG5cbnZhciBGaXJzdFBhZ2VMaW5rID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXBhZ2luYXRvci1maXJzdCBwLXBhZ2luYXRvci1lbGVtZW50IHAtbGluaycsIHtcbiAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gIH0pO1xuICB2YXIgaWNvbkNsYXNzTmFtZSA9ICdwLXBhZ2luYXRvci1pY29uIHBpIHBpLWFuZ2xlLWRvdWJsZS1sZWZ0JztcbiAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIGljb246IGljb25DbGFzc05hbWUsXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCgnZmlyc3RQYWdlTGFiZWwnKVxuICB9KTtcblxuICBpZiAocHJvcHMudGVtcGxhdGUpIHtcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBpY29uQ2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHByb3BzOiBwcm9wc1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMudGVtcGxhdGUsIGRlZmF1bHRPcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufSk7XG5GaXJzdFBhZ2VMaW5rLmRpc3BsYXlOYW1lID0gJ0ZpcnN0UGFnZUxpbmsnO1xuRmlyc3RQYWdlTGluay5kZWZhdWx0UHJvcHMgPSB7XG4gIF9fVFlQRTogJ0ZpcnN0UGFnZUxpbmsnLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIG9uQ2xpY2s6IG51bGwsXG4gIHRlbXBsYXRlOiBudWxsXG59O1xuXG52YXIgSnVtcFRvUGFnZUlucHV0ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICBwcm9wcy5vbkNoYW5nZShwcm9wcy5yb3dzICogKGV2ZW50LnZhbHVlIC0gMSksIHByb3BzLnJvd3MpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdmFsdWUgPSBwcm9wcy5wYWdlQ291bnQgPiAwID8gcHJvcHMucGFnZSArIDEgOiAwO1xuICB2YXIgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0TnVtYmVyLCB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICBjbGFzc05hbWU6IFwicC1wYWdpbmF0b3ItcGFnZS1pbnB1dFwiLFxuICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZFxuICB9KTtcblxuICBpZiAocHJvcHMudGVtcGxhdGUpIHtcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBjbGFzc05hbWU6ICdwLXBhZ2luYXRvci1wYWdlLWlucHV0JyxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnRlbXBsYXRlLCBkZWZhdWx0T3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn0pO1xuSnVtcFRvUGFnZUlucHV0LmRpc3BsYXlOYW1lID0gJ0p1bXBUb1BhZ2VJbnB1dCc7XG5KdW1wVG9QYWdlSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdKdW1iVG9QYWdlSW5wdXQnLFxuICBwYWdlOiBudWxsLFxuICByb3dzOiBudWxsLFxuICBwYWdlQ291bnQ6IG51bGwsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgdGVtcGxhdGU6IG51bGwsXG4gIG9uQ2hhbmdlOiBudWxsXG59O1xuXG52YXIgTGFzdFBhZ2VMaW5rID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXBhZ2luYXRvci1sYXN0IHAtcGFnaW5hdG9yLWVsZW1lbnQgcC1saW5rJywge1xuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgfSk7XG4gIHZhciBpY29uQ2xhc3NOYW1lID0gJ3AtcGFnaW5hdG9yLWljb24gcGkgcGktYW5nbGUtZG91YmxlLXJpZ2h0JztcbiAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIGljb246IGljb25DbGFzc05hbWUsXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCgnbGFzdFBhZ2VMYWJlbCcpXG4gIH0pO1xuXG4gIGlmIChwcm9wcy50ZW1wbGF0ZSkge1xuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIGljb25DbGFzc05hbWU6IGljb25DbGFzc05hbWUsXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgZGVmYXVsdE9wdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59KTtcbkxhc3RQYWdlTGluay5kaXNwbGF5TmFtZSA9ICdMYXN0UGFnZUxpbmsnO1xuTGFzdFBhZ2VMaW5rLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnTGFzdFBhZ2VMaW5rJyxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBvbkNsaWNrOiBudWxsLFxuICB0ZW1wbGF0ZTogbnVsbFxufTtcblxudmFyIE5leHRQYWdlTGluayA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3ItbmV4dCBwLXBhZ2luYXRvci1lbGVtZW50IHAtbGluaycsIHtcbiAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gIH0pO1xuICB2YXIgaWNvbkNsYXNzTmFtZSA9ICdwLXBhZ2luYXRvci1pY29uIHBpIHBpLWFuZ2xlLXJpZ2h0JztcbiAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIGljb246IGljb25DbGFzc05hbWUsXG4gICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCgnbmV4dFBhZ2VMYWJlbCcpXG4gIH0pO1xuXG4gIGlmIChwcm9wcy50ZW1wbGF0ZSkge1xuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIGljb25DbGFzc05hbWU6IGljb25DbGFzc05hbWUsXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgZGVmYXVsdE9wdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59KTtcbk5leHRQYWdlTGluay5kaXNwbGF5TmFtZSA9ICdOZXh0UGFnZUxpbmsnO1xuTmV4dFBhZ2VMaW5rLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnTmV4dFBhZ2VMaW5rJyxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBvbkNsaWNrOiBudWxsLFxuICB0ZW1wbGF0ZTogbnVsbFxufTtcblxudmFyIFBhZ2VMaW5rcyA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgb25QYWdlTGlua0NsaWNrID0gZnVuY3Rpb24gb25QYWdlTGlua0NsaWNrKGV2ZW50LCBwYWdlTGluaykge1xuICAgIGlmIChwcm9wcy5vbkNsaWNrKSB7XG4gICAgICBwcm9wcy5vbkNsaWNrKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiBwYWdlTGlua1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgZWxlbWVudHM7XG5cbiAgaWYgKHByb3BzLnZhbHVlKSB7XG4gICAgdmFyIHN0YXJ0UGFnZUluVmlldyA9IHByb3BzLnZhbHVlWzBdO1xuICAgIHZhciBlbmRQYWdlSW5WaWV3ID0gcHJvcHMudmFsdWVbcHJvcHMudmFsdWUubGVuZ3RoIC0gMV07XG4gICAgZWxlbWVudHMgPSBwcm9wcy52YWx1ZS5tYXAoZnVuY3Rpb24gKHBhZ2VMaW5rKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3ItcGFnZSBwLXBhZ2luYXRvci1lbGVtZW50IHAtbGluaycsIHtcbiAgICAgICAgJ3AtcGFnaW5hdG9yLXBhZ2Utc3RhcnQnOiBwYWdlTGluayA9PT0gc3RhcnRQYWdlSW5WaWV3LFxuICAgICAgICAncC1wYWdpbmF0b3ItcGFnZS1lbmQnOiBwYWdlTGluayA9PT0gZW5kUGFnZUluVmlldyxcbiAgICAgICAgJ3AtaGlnaGxpZ2h0JzogcGFnZUxpbmsgLSAxID09PSBwcm9wcy5wYWdlXG4gICAgICB9KTtcbiAgICAgIHZhciBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25QYWdlTGlua0NsaWNrKGUsIHBhZ2VMaW5rKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiXCIuY29uY2F0KGFyaWFMYWJlbCgncGFnZUxhYmVsJyksIFwiIFwiKS5jb25jYXQocGFnZUxpbmsgKyAxKVxuICAgICAgfSwgcGFnZUxpbmspO1xuXG4gICAgICBpZiAocHJvcHMudGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9uUGFnZUxpbmtDbGljayhlLCBwYWdlTGluayk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICBzdGFydFBhZ2U6IHN0YXJ0UGFnZUluVmlldyAtIDEsXG4gICAgICAgICAgICBlbmRQYWdlOiBlbmRQYWdlSW5WaWV3IC0gMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFnZTogcGFnZUxpbmsgLSAxLFxuICAgICAgICAgIGN1cnJlbnRQYWdlOiBwcm9wcy5wYWdlLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IHByb3BzLnBhZ2VDb3VudCxcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgICB9O1xuICAgICAgICBlbGVtZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgZGVmYXVsdE9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgICAga2V5OiBwYWdlTGlua1xuICAgICAgfSwgZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwicC1wYWdpbmF0b3ItcGFnZXNcIlxuICB9LCBlbGVtZW50cyk7XG59KTtcblBhZ2VMaW5rcy5kaXNwbGF5TmFtZSA9ICdQYWdlTGlua3MnO1xuUGFnZUxpbmtzLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnUGFnZUxpbmtzJyxcbiAgdmFsdWU6IG51bGwsXG4gIHBhZ2U6IG51bGwsXG4gIHJvd3M6IG51bGwsXG4gIHBhZ2VDb3VudDogbnVsbCxcbiAgbGlua3M6IG51bGwsXG4gIHRlbXBsYXRlOiBudWxsXG59O1xuXG52YXIgUHJldlBhZ2VMaW5rID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXBhZ2luYXRvci1wcmV2IHAtcGFnaW5hdG9yLWVsZW1lbnQgcC1saW5rJywge1xuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgfSk7XG4gIHZhciBpY29uQ2xhc3NOYW1lID0gJ3AtcGFnaW5hdG9yLWljb24gcGkgcGktYW5nbGUtbGVmdCc7XG4gIHZhciBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBpY29uOiBpY29uQ2xhc3NOYW1lLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwoJ3ByZXZpb3VzUGFnZUxhYmVsJylcbiAgfSk7XG5cbiAgaWYgKHByb3BzLnRlbXBsYXRlKSB7XG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgaWNvbkNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZSxcbiAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnRlbXBsYXRlLCBkZWZhdWx0T3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn0pO1xuUHJldlBhZ2VMaW5rLmRpc3BsYXlOYW1lID0gJ1ByZXZQYWdlTGluayc7XG5QcmV2UGFnZUxpbmsuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdQcmV2UGFnZUxpbmsnLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIG9uQ2xpY2s6IG51bGwsXG4gIHRlbXBsYXRlOiBudWxsXG59O1xuXG52YXIgUm93c1BlclBhZ2VEcm9wZG93biA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgaGFzT3B0aW9ucyA9IHByb3BzLm9wdGlvbnMgJiYgcHJvcHMub3B0aW9ucy5sZW5ndGggPiAwO1xuICB2YXIgb3B0aW9ucyA9IGhhc09wdGlvbnMgPyBwcm9wcy5vcHRpb25zLm1hcChmdW5jdGlvbiAob3B0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiBTdHJpbmcob3B0KSxcbiAgICAgIHZhbHVlOiBvcHRcbiAgICB9O1xuICB9KSA6IFtdO1xuICB2YXIgZWxlbWVudCA9IGhhc09wdGlvbnMgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93biwge1xuICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZSxcbiAgICBhcHBlbmRUbzogcHJvcHMuYXBwZW5kVG8sXG4gICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkXG4gIH0pIDogbnVsbDtcblxuICBpZiAocHJvcHMudGVtcGxhdGUpIHtcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgYXBwZW5kVG86IHByb3BzLmFwcGVuZFRvLFxuICAgICAgY3VycmVudFBhZ2U6IHByb3BzLnBhZ2UsXG4gICAgICB0b3RhbFBhZ2VzOiBwcm9wcy5wYWdlQ291bnQsXG4gICAgICB0b3RhbFJlY29yZHM6IHByb3BzLnRvdGFsUmVjb3JkcyxcbiAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnRlbXBsYXRlLCBkZWZhdWx0T3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn0pO1xuUm93c1BlclBhZ2VEcm9wZG93bi5kaXNwbGF5TmFtZSA9ICdSb3dzUGVyUGFnZURyb3Bkb3duJztcblJvd3NQZXJQYWdlRHJvcGRvd24uZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdSb3dzUGVyUGFnZURyb3Bkb3duJyxcbiAgb3B0aW9uczogbnVsbCxcbiAgdmFsdWU6IG51bGwsXG4gIHBhZ2U6IG51bGwsXG4gIHBhZ2VDb3VudDogbnVsbCxcbiAgdG90YWxSZWNvcmRzOiAwLFxuICBhcHBlbmRUbzogbnVsbCxcbiAgb25DaGFuZ2U6IG51bGwsXG4gIHRlbXBsYXRlOiBudWxsLFxuICBkaXNhYmxlZDogZmFsc2Vcbn07XG5cbnZhciBQYWdpbmF0b3IgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBycHBDaGFuZ2VkID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIHBhZ2UgPSBNYXRoLmZsb29yKHByb3BzLmZpcnN0IC8gcHJvcHMucm93cyk7XG4gIHZhciBwYWdlQ291bnQgPSBNYXRoLmNlaWwocHJvcHMudG90YWxSZWNvcmRzIC8gcHJvcHMucm93cyk7XG4gIHZhciBpc0ZpcnN0UGFnZSA9IHBhZ2UgPT09IDA7XG4gIHZhciBpc0xhc3RQYWdlID0gcGFnZSA9PT0gcGFnZUNvdW50IC0gMTtcbiAgdmFyIGlzRW1wdHkgPSBwYWdlQ291bnQgPT09IDA7XG5cbiAgdmFyIGNhbGN1bGF0ZVBhZ2VMaW5rQm91bmRhcmllcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVBhZ2VMaW5rQm91bmRhcmllcygpIHtcbiAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IHBhZ2VDb3VudDtcbiAgICB2YXIgdmlzaWJsZVBhZ2VzID0gTWF0aC5taW4ocHJvcHMucGFnZUxpbmtTaXplLCBudW1iZXJPZlBhZ2VzKTsgLy9jYWxjdWxhdGUgcmFuZ2UsIGtlZXAgY3VycmVudCBpbiBtaWRkbGUgaWYgbmVjZXNzYXJ5XG5cbiAgICB2YXIgc3RhcnQgPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwocGFnZSAtIHZpc2libGVQYWdlcyAvIDIpKTtcbiAgICB2YXIgZW5kID0gTWF0aC5taW4obnVtYmVyT2ZQYWdlcyAtIDEsIHN0YXJ0ICsgdmlzaWJsZVBhZ2VzIC0gMSk7IC8vY2hlY2sgd2hlbiBhcHByb2FjaGluZyB0byBsYXN0IHBhZ2VcblxuICAgIHZhciBkZWx0YSA9IHByb3BzLnBhZ2VMaW5rU2l6ZSAtIChlbmQgLSBzdGFydCArIDEpO1xuICAgIHN0YXJ0ID0gTWF0aC5tYXgoMCwgc3RhcnQgLSBkZWx0YSk7XG4gICAgcmV0dXJuIFtzdGFydCwgZW5kXTtcbiAgfTtcblxuICB2YXIgdXBkYXRlUGFnZUxpbmtzID0gZnVuY3Rpb24gdXBkYXRlUGFnZUxpbmtzKCkge1xuICAgIHZhciBwYWdlTGlua3MgPSBbXTtcbiAgICB2YXIgYm91bmRhcmllcyA9IGNhbGN1bGF0ZVBhZ2VMaW5rQm91bmRhcmllcygpO1xuICAgIHZhciBzdGFydCA9IGJvdW5kYXJpZXNbMF07XG4gICAgdmFyIGVuZCA9IGJvdW5kYXJpZXNbMV07XG5cbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgIHBhZ2VMaW5rcy5wdXNoKGkgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFnZUxpbmtzO1xuICB9O1xuXG4gIHZhciBjaGFuZ2VQYWdlID0gZnVuY3Rpb24gY2hhbmdlUGFnZShmaXJzdCwgcm93cykge1xuICAgIHZhciBwYyA9IHBhZ2VDb3VudDtcbiAgICB2YXIgcCA9IE1hdGguZmxvb3IoZmlyc3QgLyByb3dzKTtcblxuICAgIGlmIChwID49IDAgJiYgcCA8IHBjKSB7XG4gICAgICB2YXIgbmV3UGFnZVN0YXRlID0ge1xuICAgICAgICBmaXJzdDogZmlyc3QsXG4gICAgICAgIHJvd3M6IHJvd3MsXG4gICAgICAgIHBhZ2U6IHAsXG4gICAgICAgIHBhZ2VDb3VudDogcGNcbiAgICAgIH07XG5cbiAgICAgIGlmIChwcm9wcy5vblBhZ2VDaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMub25QYWdlQ2hhbmdlKG5ld1BhZ2VTdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBjaGFuZ2VQYWdlVG9GaXJzdCA9IGZ1bmN0aW9uIGNoYW5nZVBhZ2VUb0ZpcnN0KGV2ZW50KSB7XG4gICAgY2hhbmdlUGFnZSgwLCBwcm9wcy5yb3dzKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBjaGFuZ2VQYWdlVG9QcmV2ID0gZnVuY3Rpb24gY2hhbmdlUGFnZVRvUHJldihldmVudCkge1xuICAgIGNoYW5nZVBhZ2UocHJvcHMuZmlyc3QgLSBwcm9wcy5yb3dzLCBwcm9wcy5yb3dzKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBvblBhZ2VMaW5rQ2xpY2sgPSBmdW5jdGlvbiBvblBhZ2VMaW5rQ2xpY2soZXZlbnQpIHtcbiAgICBjaGFuZ2VQYWdlKChldmVudC52YWx1ZSAtIDEpICogcHJvcHMucm93cywgcHJvcHMucm93cyk7XG4gIH07XG5cbiAgdmFyIGNoYW5nZVBhZ2VUb05leHQgPSBmdW5jdGlvbiBjaGFuZ2VQYWdlVG9OZXh0KGV2ZW50KSB7XG4gICAgY2hhbmdlUGFnZShwcm9wcy5maXJzdCArIHByb3BzLnJvd3MsIHByb3BzLnJvd3MpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIGNoYW5nZVBhZ2VUb0xhc3QgPSBmdW5jdGlvbiBjaGFuZ2VQYWdlVG9MYXN0KGV2ZW50KSB7XG4gICAgY2hhbmdlUGFnZSgocGFnZUNvdW50IC0gMSkgKiBwcm9wcy5yb3dzLCBwcm9wcy5yb3dzKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBvblJvd3NDaGFuZ2UgPSBmdW5jdGlvbiBvblJvd3NDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgcm93cyA9IGV2ZW50LnZhbHVlO1xuICAgIHJwcENoYW5nZWQuY3VycmVudCA9IHJvd3MgIT09IHByb3BzLnJvd3M7XG4gICAgY2hhbmdlUGFnZSgwLCByb3dzKTtcbiAgfTtcblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghcnBwQ2hhbmdlZC5jdXJyZW50KSB7XG4gICAgICBjaGFuZ2VQYWdlKDAsIHByb3BzLnJvd3MpO1xuICAgIH1cblxuICAgIHJwcENoYW5nZWQuY3VycmVudCA9IGZhbHNlO1xuICB9LCBbcHJvcHMucm93c10pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwYWdlID4gMCAmJiBwcm9wcy5maXJzdCA+PSBwcm9wcy50b3RhbFJlY29yZHMpIHtcbiAgICAgIGNoYW5nZVBhZ2UoKHBhZ2VDb3VudCAtIDEpICogcHJvcHMucm93cywgcHJvcHMucm93cyk7XG4gICAgfVxuICB9LCBbcHJvcHMudG90YWxSZWNvcmRzXSk7XG5cbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KGtleSwgdGVtcGxhdGUpIHtcbiAgICB2YXIgZWxlbWVudDtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICdGaXJzdFBhZ2VMaW5rJzpcbiAgICAgICAgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpcnN0UGFnZUxpbmssIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBvbkNsaWNrOiBjaGFuZ2VQYWdlVG9GaXJzdCxcbiAgICAgICAgICBkaXNhYmxlZDogaXNGaXJzdFBhZ2UgfHwgaXNFbXB0eSxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdQcmV2UGFnZUxpbmsnOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJldlBhZ2VMaW5rLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgb25DbGljazogY2hhbmdlUGFnZVRvUHJldixcbiAgICAgICAgICBkaXNhYmxlZDogaXNGaXJzdFBhZ2UgfHwgaXNFbXB0eSxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdOZXh0UGFnZUxpbmsnOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTmV4dFBhZ2VMaW5rLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgb25DbGljazogY2hhbmdlUGFnZVRvTmV4dCxcbiAgICAgICAgICBkaXNhYmxlZDogaXNMYXN0UGFnZSB8fCBpc0VtcHR5LFxuICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0xhc3RQYWdlTGluayc6XG4gICAgICAgIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMYXN0UGFnZUxpbmssIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBvbkNsaWNrOiBjaGFuZ2VQYWdlVG9MYXN0LFxuICAgICAgICAgIGRpc2FibGVkOiBpc0xhc3RQYWdlIHx8IGlzRW1wdHksXG4gICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnUGFnZUxpbmtzJzpcbiAgICAgICAgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VMaW5rcywge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiB1cGRhdGVQYWdlTGlua3MoKSxcbiAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgIHJvd3M6IHByb3BzLnJvd3MsXG4gICAgICAgICAgcGFnZUNvdW50OiBwYWdlQ291bnQsXG4gICAgICAgICAgb25DbGljazogb25QYWdlTGlua0NsaWNrLFxuICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ1Jvd3NQZXJQYWdlRHJvcGRvd24nOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm93c1BlclBhZ2VEcm9wZG93biwge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiBwcm9wcy5yb3dzLFxuICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgcGFnZUNvdW50OiBwYWdlQ291bnQsXG4gICAgICAgICAgdG90YWxSZWNvcmRzOiBwcm9wcy50b3RhbFJlY29yZHMsXG4gICAgICAgICAgb3B0aW9uczogcHJvcHMucm93c1BlclBhZ2VPcHRpb25zLFxuICAgICAgICAgIG9uQ2hhbmdlOiBvblJvd3NDaGFuZ2UsXG4gICAgICAgICAgYXBwZW5kVG86IHByb3BzLmRyb3Bkb3duQXBwZW5kVG8sXG4gICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgICAgICAgIGRpc2FibGVkOiBpc0VtcHR5XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnQ3VycmVudFBhZ2VSZXBvcnQnOlxuICAgICAgICBlbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ3VycmVudFBhZ2VSZXBvcnQsIHtcbiAgICAgICAgICByZXBvcnRUZW1wbGF0ZTogcHJvcHMuY3VycmVudFBhZ2VSZXBvcnRUZW1wbGF0ZSxcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgIHBhZ2VDb3VudDogcGFnZUNvdW50LFxuICAgICAgICAgIGZpcnN0OiBwcm9wcy5maXJzdCxcbiAgICAgICAgICByb3dzOiBwcm9wcy5yb3dzLFxuICAgICAgICAgIHRvdGFsUmVjb3JkczogcHJvcHMudG90YWxSZWNvcmRzLFxuICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0p1bXBUb1BhZ2VJbnB1dCc6XG4gICAgICAgIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChKdW1wVG9QYWdlSW5wdXQsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICByb3dzOiBwcm9wcy5yb3dzLFxuICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgcGFnZUNvdW50OiBwYWdlQ291bnQsXG4gICAgICAgICAgb25DaGFuZ2U6IGNoYW5nZVBhZ2UsXG4gICAgICAgICAgZGlzYWJsZWQ6IGlzRW1wdHksXG4gICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9O1xuXG4gIHZhciBjcmVhdGVFbGVtZW50cyA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRzKCkge1xuICAgIHZhciB0ZW1wbGF0ZSA9IHByb3BzLnRlbXBsYXRlO1xuXG4gICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICBpZiAoX3R5cGVvZih0ZW1wbGF0ZSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZS5sYXlvdXQgPyB0ZW1wbGF0ZS5sYXlvdXQuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChrZXksIHRlbXBsYXRlW2tleV0pO1xuICAgICAgICB9KSA6IE9iamVjdC5lbnRyaWVzKHRlbXBsYXRlKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgICAgICAga2V5ID0gX3JlZjJbMF0sXG4gICAgICAgICAgICAgIF90ZW1wbGF0ZSA9IF9yZWYyWzFdO1xuXG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoa2V5LCBfdGVtcGxhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRlbXBsYXRlLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCh2YWx1ZS50cmltKCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgaWYgKCFwcm9wcy5hbHdheXNTaG93ICYmIHBhZ2VDb3VudCA9PT0gMSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZhciBvdGhlclByb3BzID0gT2JqZWN0VXRpbHMuZmluZERpZmZLZXlzKHByb3BzLCBQYWdpbmF0b3IuZGVmYXVsdFByb3BzKTtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3IgcC1jb21wb25lbnQnLCBwcm9wcy5jbGFzc05hbWUpO1xuICAgIHZhciBsZWZ0Q29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMubGVmdENvbnRlbnQsIHByb3BzKTtcbiAgICB2YXIgcmlnaHRDb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5yaWdodENvbnRlbnQsIHByb3BzKTtcbiAgICB2YXIgZWxlbWVudHMgPSBjcmVhdGVFbGVtZW50cygpO1xuICAgIHZhciBsZWZ0RWxlbWVudCA9IGxlZnRDb250ZW50ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXBhZ2luYXRvci1sZWZ0LWNvbnRlbnRcIlxuICAgIH0sIGxlZnRDb250ZW50KTtcbiAgICB2YXIgcmlnaHRFbGVtZW50ID0gcmlnaHRDb250ZW50ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXBhZ2luYXRvci1yaWdodC1jb250ZW50XCJcbiAgICB9LCByaWdodENvbnRlbnQpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICAgIH0sIG90aGVyUHJvcHMpLCBsZWZ0RWxlbWVudCwgZWxlbWVudHMsIHJpZ2h0RWxlbWVudCk7XG4gIH1cbn0pKTtcblBhZ2luYXRvci5kaXNwbGF5TmFtZSA9ICdQYWdpbmF0b3InO1xuUGFnaW5hdG9yLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnUGFnaW5hdG9yJyxcbiAgdG90YWxSZWNvcmRzOiAwLFxuICByb3dzOiAwLFxuICBmaXJzdDogMCxcbiAgcGFnZUxpbmtTaXplOiA1LFxuICByb3dzUGVyUGFnZU9wdGlvbnM6IG51bGwsXG4gIGFsd2F5c1Nob3c6IHRydWUsXG4gIHN0eWxlOiBudWxsLFxuICBjbGFzc05hbWU6IG51bGwsXG4gIHRlbXBsYXRlOiAnRmlyc3RQYWdlTGluayBQcmV2UGFnZUxpbmsgUGFnZUxpbmtzIE5leHRQYWdlTGluayBMYXN0UGFnZUxpbmsgUm93c1BlclBhZ2VEcm9wZG93bicsXG4gIG9uUGFnZUNoYW5nZTogbnVsbCxcbiAgbGVmdENvbnRlbnQ6IG51bGwsXG4gIHJpZ2h0Q29udGVudDogbnVsbCxcbiAgZHJvcGRvd25BcHBlbmRUbzogbnVsbCxcbiAgY3VycmVudFBhZ2VSZXBvcnRUZW1wbGF0ZTogJyh7Y3VycmVudFBhZ2V9IG9mIHt0b3RhbFBhZ2VzfSknXG59O1xuXG5leHBvcnQgeyBQYWdpbmF0b3IgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/paginator/paginator.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/tree/tree.esm.js":
/*!**************************************************!*\
  !*** ./node_modules/primereact/tree/tree.esm.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Tree\": function() { return /* binding */ Tree; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray$2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$2(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray$2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$2(arr) || _nonIterableSpread();\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$2(arr, i) || _nonIterableRest();\n}\n\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray$1(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen); }\n\nfunction _arrayLikeToArray$1(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar UITreeNode = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var contentRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var nodeTouched = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var isLeaf = props.isNodeLeaf(props.node);\n  var expanded = (props.expandedKeys ? props.expandedKeys[props.node.key] !== undefined : false) || props.node.expanded;\n\n  var expand = function expand(event) {\n    var expandedKeys = props.expandedKeys ? _objectSpread$1({}, props.expandedKeys) : {};\n    expandedKeys[props.node.key] = true;\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys\n    });\n    invokeToggleEvents(event, true);\n  };\n\n  var collapse = function collapse(event) {\n    var expandedKeys = _objectSpread$1({}, props.expandedKeys);\n\n    delete expandedKeys[props.node.key];\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys\n    });\n    invokeToggleEvents(event, false);\n  };\n\n  var onTogglerClick = function onTogglerClick(event) {\n    if (props.disabled) {\n      return;\n    }\n\n    expanded ? collapse(event) : expand(event);\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  var invokeToggleEvents = function invokeToggleEvents(event, isExpanded) {\n    if (isExpanded) {\n      if (props.onExpand) {\n        props.onExpand({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    } else {\n      if (props.onCollapse) {\n        props.onCollapse({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    }\n  };\n\n  var onNodeKeyDown = function onNodeKeyDown(event) {\n    if (props.disabled) {\n      return;\n    }\n\n    var nodeElement = event.target.parentElement;\n\n    if (!primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(nodeElement, 'p-treenode')) {\n      return;\n    }\n\n    switch (event.which) {\n      //down arrow\n      case 40:\n        var listElement = nodeElement.children[1];\n\n        if (listElement) {\n          focusNode(listElement.children[0]);\n        } else {\n          var nextNodeElement = nodeElement.nextElementSibling;\n\n          while (nextNodeElement) {\n            if (!primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(nextNodeElement, 'p-treenode-droppoint')) {\n              break;\n            }\n\n            nextNodeElement = nextNodeElement.nextElementSibling;\n          }\n\n          if (nextNodeElement) {\n            focusNode(nextNodeElement);\n          } else {\n            var nextSiblingAncestor = findNextSiblingOfAncestor(nodeElement);\n            nextSiblingAncestor && focusNode(nextSiblingAncestor);\n          }\n        }\n\n        event.preventDefault();\n        break;\n      //up arrow\n\n      case 38:\n        if (nodeElement.previousElementSibling) {\n          focusNode(findLastVisibleDescendant(nodeElement.previousElementSibling));\n        } else {\n          var parentNodeElement = getParentNodeElement(nodeElement);\n          parentNodeElement && focusNode(parentNodeElement);\n        }\n\n        event.preventDefault();\n        break;\n      //right arrow\n\n      case 39:\n        if (!expanded) {\n          expand(event);\n        }\n\n        event.preventDefault();\n        break;\n      //left arrow\n\n      case 37:\n        if (expanded) {\n          collapse(event);\n        }\n\n        event.preventDefault();\n        break;\n      //enter\n\n      case 13:\n        onClick(event);\n        event.preventDefault();\n        break;\n    }\n  };\n\n  var findNextSiblingOfAncestor = function findNextSiblingOfAncestor(nodeElement) {\n    var parentNodeElement = getParentNodeElement(nodeElement);\n    return parentNodeElement ? parentNodeElement.nextElementSibling || findNextSiblingOfAncestor(parentNodeElement) : null;\n  };\n\n  var findLastVisibleDescendant = function findLastVisibleDescendant(nodeElement) {\n    var childrenListElement = nodeElement.children[1];\n\n    if (childrenListElement) {\n      var lastChildElement = childrenListElement.children[childrenListElement.children.length - 1];\n      return findLastVisibleDescendant(lastChildElement);\n    } else {\n      return nodeElement;\n    }\n  };\n\n  var getParentNodeElement = function getParentNodeElement(nodeElement) {\n    var parentNodeElement = nodeElement.parentElement.parentElement;\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(parentNodeElement, 'p-treenode') ? parentNodeElement : null;\n  };\n\n  var focusNode = function focusNode(element) {\n    element && element.children[0] && element.children[0].focus();\n  };\n\n  var onClick = function onClick(event) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n\n    var targetNode = event.target.nodeName;\n\n    if (props.disabled || targetNode === 'INPUT' || targetNode === 'BUTTON' || targetNode === 'A' || primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.hasClass(event.target, 'p-clickable')) {\n      return;\n    }\n\n    if (props.selectionMode && props.node.selectable !== false) {\n      var selectionKeys;\n\n      if (isCheckboxSelectionMode()) {\n        var checked = isChecked();\n        selectionKeys = props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n\n        if (checked) {\n          if (props.propagateSelectionDown) propagateDown(props.node, false, selectionKeys);else delete selectionKeys[props.node.key];\n\n          if (props.propagateSelectionUp && props.onPropagateUp) {\n            props.onPropagateUp({\n              originalEvent: event,\n              check: false,\n              selectionKeys: selectionKeys\n            });\n          }\n\n          if (props.onUnselect) {\n            props.onUnselect({\n              originalEvent: event,\n              node: props.node\n            });\n          }\n        } else {\n          if (props.propagateSelectionDown) propagateDown(props.node, true, selectionKeys);else selectionKeys[props.node.key] = {\n            checked: true\n          };\n\n          if (props.propagateSelectionUp && props.onPropagateUp) {\n            props.onPropagateUp({\n              originalEvent: event,\n              check: true,\n              selectionKeys: selectionKeys\n            });\n          }\n\n          if (props.onSelect) {\n            props.onSelect({\n              originalEvent: event,\n              node: props.node\n            });\n          }\n        }\n      } else {\n        var selected = isSelected();\n        var metaSelection = nodeTouched.current ? false : props.metaKeySelection;\n\n        if (metaSelection) {\n          var metaKey = event.metaKey || event.ctrlKey;\n\n          if (selected && metaKey) {\n            if (isSingleSelectionMode()) {\n              selectionKeys = null;\n            } else {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[props.node.key];\n            }\n\n            if (props.onUnselect) {\n              props.onUnselect({\n                originalEvent: event,\n                node: props.node\n              });\n            }\n          } else {\n            if (isSingleSelectionMode()) {\n              selectionKeys = props.node.key;\n            } else if (isMultipleSelectionMode()) {\n              selectionKeys = !metaKey ? {} : props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[props.node.key] = true;\n            }\n\n            if (props.onSelect) {\n              props.onSelect({\n                originalEvent: event,\n                node: props.node\n              });\n            }\n          }\n        } else {\n          if (isSingleSelectionMode()) {\n            if (selected) {\n              selectionKeys = null;\n\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            } else {\n              selectionKeys = props.node.key;\n\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            }\n          } else {\n            if (selected) {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[props.node.key];\n\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            } else {\n              selectionKeys = props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[props.node.key] = true;\n\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            }\n          }\n        }\n      }\n\n      if (props.onSelectionChange) {\n        props.onSelectionChange({\n          originalEvent: event,\n          value: selectionKeys\n        });\n      }\n    }\n\n    nodeTouched.current = false;\n  };\n\n  var onDoubleClick = function onDoubleClick(event) {\n    if (props.onDoubleClick) {\n      props.onDoubleClick({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n  };\n\n  var onRightClick = function onRightClick(event) {\n    if (props.disabled) {\n      return;\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.clearSelection();\n\n    if (props.onContextMenuSelectionChange) {\n      props.onContextMenuSelectionChange({\n        originalEvent: event,\n        value: props.node.key\n      });\n    }\n\n    if (props.onContextMenu) {\n      props.onContextMenu({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n  };\n\n  var propagateUp = function propagateUp(event) {\n    var check = event.check;\n    var selectionKeys = event.selectionKeys;\n    var checkedChildCount = 0;\n    var childPartialSelected = false;\n\n    var _iterator = _createForOfIteratorHelper$1(props.node.children),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var child = _step.value;\n        if (selectionKeys[child.key] && selectionKeys[child.key].checked) checkedChildCount++;else if (selectionKeys[child.key] && selectionKeys[child.key].partialChecked) childPartialSelected = true;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (check && checkedChildCount === props.node.children.length) {\n      selectionKeys[props.node.key] = {\n        checked: true,\n        partialChecked: false\n      };\n    } else {\n      if (!check) {\n        delete selectionKeys[props.node.key];\n      }\n\n      if (childPartialSelected || checkedChildCount > 0 && checkedChildCount !== props.node.children.length) selectionKeys[props.node.key] = {\n        checked: false,\n        partialChecked: true\n      };else delete selectionKeys[props.node.key];\n    }\n\n    if (props.propagateSelectionUp && props.onPropagateUp) {\n      props.onPropagateUp(event);\n    }\n  };\n\n  var propagateDown = function propagateDown(node, check, selectionKeys) {\n    if (check) selectionKeys[node.key] = {\n      checked: true,\n      partialChecked: false\n    };else delete selectionKeys[node.key];\n\n    if (node.children && node.children.length) {\n      for (var i = 0; i < node.children.length; i++) {\n        propagateDown(node.children[i], check, selectionKeys);\n      }\n    }\n  };\n\n  var isSelected = function isSelected() {\n    if (props.selectionMode && props.selectionKeys) return isSingleSelectionMode() ? props.selectionKeys === props.node.key : props.selectionKeys[props.node.key] !== undefined;else return false;\n  };\n\n  var isChecked = function isChecked() {\n    return props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].checked : false;\n  };\n\n  var isPartialChecked = function isPartialChecked() {\n    return props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].partialChecked : false;\n  };\n\n  var isSingleSelectionMode = function isSingleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'single';\n  };\n\n  var isMultipleSelectionMode = function isMultipleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'multiple';\n  };\n\n  var isCheckboxSelectionMode = function isCheckboxSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'checkbox';\n  };\n\n  var onTouchEnd = function onTouchEnd() {\n    nodeTouched.current = true;\n  };\n\n  var onDropPoint = function onDropPoint(event, position) {\n    event.preventDefault();\n\n    if (props.node.droppable !== false) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\n\n      if (props.onDropPoint) {\n        var dropIndex = position === -1 ? props.index : props.index + 1;\n        props.onDropPoint({\n          originalEvent: event,\n          path: props.path,\n          index: dropIndex,\n          position: position\n        });\n      }\n    }\n  };\n\n  var onDropPointDragOver = function onDropPointDragOver(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      event.dataTransfer.dropEffect = 'move';\n      event.preventDefault();\n    }\n  };\n\n  var onDropPointDragEnter = function onDropPointDragEnter(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(event.target, 'p-treenode-droppoint-active');\n    }\n  };\n\n  var onDropPointDragLeave = function onDropPointDragLeave(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\n    }\n  };\n\n  var onDrop = function onDrop(event) {\n    if (props.dragdropScope && props.node.droppable !== false) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(contentRef.current, 'p-treenode-dragover');\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (props.onDrop) {\n        props.onDrop({\n          originalEvent: event,\n          path: props.path,\n          index: props.index\n        });\n      }\n    }\n  };\n\n  var onDragOver = function onDragOver(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      event.dataTransfer.dropEffect = 'move';\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n\n  var onDragEnter = function onDragEnter(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.addClass(contentRef.current, 'p-treenode-dragover');\n    }\n  };\n\n  var onDragLeave = function onDragLeave(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      var rect = event.currentTarget.getBoundingClientRect();\n\n      if (event.nativeEvent.x > rect.left + rect.width || event.nativeEvent.x < rect.left || event.nativeEvent.y >= Math.floor(rect.top + rect.height) || event.nativeEvent.y < rect.top) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_1__.DomHandler.removeClass(contentRef.current, 'p-treenode-dragover');\n      }\n    }\n  };\n\n  var onDragStart = function onDragStart(event) {\n    event.dataTransfer.setData('text', props.dragdropScope);\n    event.dataTransfer.setData(props.dragdropScope, props.dragdropScope);\n\n    if (props.onDragStart) {\n      props.onDragStart({\n        originalEvent: event,\n        path: props.path,\n        index: props.index\n      });\n    }\n  };\n\n  var onDragEnd = function onDragEnd(event) {\n    if (props.onDragEnd) {\n      props.onDragEnd({\n        originalEvent: event\n      });\n    }\n  };\n\n  var createLabel = function createLabel() {\n    var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"p-treenode-label\"\n    }, props.node.label);\n\n    if (props.nodeTemplate) {\n      var defaultContentOptions = {\n        onTogglerClick: onTogglerClick,\n        className: 'p-treenode-label',\n        element: content,\n        props: props,\n        expanded: expanded\n      };\n      content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.nodeTemplate, props.node, defaultContentOptions);\n    }\n\n    return content;\n  };\n\n  var createCheckbox = function createCheckbox() {\n    if (isCheckboxSelectionMode() && props.node.selectable !== false) {\n      var checked = isChecked();\n      var partialChecked = isPartialChecked();\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-checkbox-box', {\n        'p-highlight': checked,\n        'p-indeterminate': partialChecked,\n        'p-disabled': props.disabled\n      });\n      var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-checkbox-icon p-c', {\n        'pi pi-check': checked,\n        'pi pi-minus': partialChecked\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-checkbox p-component\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: className,\n        role: \"checkbox\",\n        \"aria-checked\": checked\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: icon\n      })));\n    }\n\n    return null;\n  };\n\n  var createIcon = function createIcon() {\n    var icon = props.node.icon || (expanded ? props.node.expandedIcon : props.node.collapsedIcon);\n\n    if (icon) {\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-treenode-icon', icon);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: className\n      });\n    }\n\n    return null;\n  };\n\n  var createToggler = function createToggler() {\n    var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-tree-toggler-icon pi pi-fw', {\n      'pi-chevron-right': !expanded,\n      'pi-chevron-down': expanded\n    });\n    var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: \"p-tree-toggler p-link\",\n      tabIndex: -1,\n      onClick: onTogglerClick\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: iconClassName\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_2__.Ripple, null));\n\n    if (props.togglerTemplate) {\n      var defaultContentOptions = {\n        onClick: onTogglerClick,\n        containerClassName: 'p-tree-toggler p-link',\n        iconClassName: 'p-tree-toggler-icon',\n        element: content,\n        props: props,\n        expanded: expanded\n      };\n      content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.togglerTemplate, props.node, defaultContentOptions);\n    }\n\n    return content;\n  };\n\n  var createDropPoint = function createDropPoint(position) {\n    if (props.dragdropScope) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-treenode-droppoint\",\n        onDrop: function onDrop(event) {\n          return onDropPoint(event, position);\n        },\n        onDragOver: onDropPointDragOver,\n        onDragEnter: onDropPointDragEnter,\n        onDragLeave: onDropPointDragLeave\n      });\n    }\n\n    return null;\n  };\n\n  var createContent = function createContent() {\n    var selected = isSelected();\n    var checked = isChecked();\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-treenode-content', props.node.className, {\n      'p-treenode-selectable': props.selectionMode && props.node.selectable !== false,\n      'p-highlight': isCheckboxSelectionMode() ? checked : selected,\n      'p-highlight-contextmenu': props.contextMenuSelectionKey && props.contextMenuSelectionKey === props.node.key,\n      'p-disabled': props.disabled\n    });\n    var toggler = createToggler();\n    var checkbox = createCheckbox();\n    var icon = createIcon();\n    var label = createLabel();\n    var tabIndex = props.disabled ? undefined : 0;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: contentRef,\n      className: className,\n      style: props.node.style,\n      onClick: onClick,\n      onDoubleClick: onDoubleClick,\n      onContextMenu: onRightClick,\n      onTouchEnd: onTouchEnd,\n      draggable: props.dragdropScope && props.node.draggable !== false && !props.disabled,\n      onDrop: onDrop,\n      onDragOver: onDragOver,\n      onDragEnter: onDragEnter,\n      onDragLeave: onDragLeave,\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      tabIndex: tabIndex,\n      onKeyDown: onNodeKeyDown,\n      role: \"treeitem\",\n      \"aria-posinset\": props.index + 1,\n      \"aria-expanded\": expanded,\n      \"aria-selected\": checked || selected\n    }, toggler, checkbox, icon, label);\n  };\n\n  var createChildren = function createChildren() {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(props.node.children) && expanded) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: \"p-treenode-children\",\n        role: \"group\"\n      }, props.node.children.map(function (childNode, index) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(UITreeNode, {\n          key: childNode.key || childNode.label,\n          node: childNode,\n          parent: props.node,\n          index: index,\n          last: index === props.node.children.length - 1,\n          path: props.path + '-' + index,\n          disabled: props.disabled,\n          selectionMode: props.selectionMode,\n          selectionKeys: props.selectionKeys,\n          onSelectionChange: props.onSelectionChange,\n          metaKeySelection: props.metaKeySelection,\n          propagateSelectionDown: props.propagateSelectionDown,\n          propagateSelectionUp: props.propagateSelectionUp,\n          contextMenuSelectionKey: props.contextMenuSelectionKey,\n          onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n          onContextMenu: props.onContextMenu,\n          onExpand: props.onExpand,\n          onCollapse: props.onCollapse,\n          onSelect: props.onSelect,\n          onUnselect: props.onUnselect,\n          onClick: props.onClick,\n          onDoubleClick: props.onDoubleClick,\n          expandedKeys: props.expandedKeys,\n          onToggle: props.onToggle,\n          onPropagateUp: propagateUp,\n          nodeTemplate: props.nodeTemplate,\n          togglerTemplate: props.togglerTemplate,\n          isNodeLeaf: props.isNodeLeaf,\n          dragdropScope: props.dragdropScope,\n          onDragStart: props.onDragStart,\n          onDragEnd: props.onDragEnd,\n          onDrop: props.onDrop,\n          onDropPoint: props.onDropPoint\n        });\n      }));\n    }\n\n    return null;\n  };\n\n  var createNode = function createNode() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-treenode', {\n      'p-treenode-leaf': isLeaf\n    }, props.node.className);\n    var content = createContent();\n    var children = createChildren();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      className: className,\n      style: props.node.style\n    }, content, children);\n  };\n\n  var node = createNode();\n\n  if (props.dragdropScope && !props.disabled) {\n    var beforeDropPoint = createDropPoint(-1);\n    var afterDropPoint = props.last ? createDropPoint(1) : null;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, beforeDropPoint, node, afterDropPoint);\n  }\n\n  return node;\n});\nUITreeNode.displayName = 'UITreeNode';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar Tree = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterValueState = _React$useState2[0],\n      setFilterValueState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.expandedKeys),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      expandedKeysState = _React$useState4[0],\n      setExpandedKeysState = _React$useState4[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var filteredNodes = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n  var dragState = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var filterChanged = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var filteredValue = props.onFilterValueChange ? props.filterValue : filterValueState;\n  var expandedKeys = props.onToggle ? props.expandedKeys : expandedKeysState;\n  var filterOptions = {\n    filter: function filter(e) {\n      return onFilterInputChange(e);\n    },\n    reset: function reset() {\n      return resetFilter();\n    }\n  };\n\n  var getRootNode = function getRootNode() {\n    return props.filter && filteredNodes.current ? filteredNodes.current : props.value;\n  };\n\n  var onToggle = function onToggle(event) {\n    if (props.onToggle) {\n      props.onToggle(event);\n    } else {\n      setExpandedKeysState(event.value);\n    }\n  };\n\n  var onDragStart = function onDragStart(event) {\n    dragState.current = {\n      path: event.path,\n      index: event.index\n    };\n  };\n\n  var onDragEnd = function onDragEnd() {\n    dragState.current = null;\n  };\n\n  var onDrop = function onDrop(event) {\n    if (validateDropNode(dragState.current.path, event.path)) {\n      var value = JSON.parse(JSON.stringify(props.value));\n      var dragPaths = dragState.current.path.split('-');\n      dragPaths.pop();\n      var dragNodeParent = findNode(value, dragPaths);\n      var dragNode = dragNodeParent ? dragNodeParent.children[dragState.current.index] : value[dragState.current.index];\n      var dropNode = findNode(value, event.path.split('-'));\n      if (dropNode.children) dropNode.children.push(dragNode);else dropNode.children = [dragNode];\n      if (dragNodeParent) dragNodeParent.children.splice(dragState.current.index, 1);else value.splice(dragState.current.index, 1);\n\n      if (props.onDragDrop) {\n        props.onDragDrop({\n          originalEvent: event.originalEvent,\n          value: value,\n          dragNode: dragNode,\n          dropNode: dropNode,\n          dropIndex: event.index\n        });\n      }\n    }\n  };\n\n  var onDropPoint = function onDropPoint(event) {\n    if (validateDropPoint(event)) {\n      var value = JSON.parse(JSON.stringify(props.value));\n      var dragPaths = dragState.current.path.split('-');\n      dragPaths.pop();\n      var dropPaths = event.path.split('-');\n      dropPaths.pop();\n      var dragNodeParent = findNode(value, dragPaths);\n      var dropNodeParent = findNode(value, dropPaths);\n      var dragNode = dragNodeParent ? dragNodeParent.children[dragState.current.index] : value[dragState.current.index];\n      var siblings = areSiblings(dragState.current.path, event.path);\n      if (dragNodeParent) dragNodeParent.children.splice(dragState.current.index, 1);else value.splice(dragState.current.index, 1);\n\n      if (event.position < 0) {\n        var dropIndex = siblings ? dragState.current.index > event.index ? event.index : event.index - 1 : event.index;\n        if (dropNodeParent) dropNodeParent.children.splice(dropIndex, 0, dragNode);else value.splice(dropIndex, 0, dragNode);\n      } else {\n        if (dropNodeParent) dropNodeParent.children.push(dragNode);else value.push(dragNode);\n      }\n\n      if (props.onDragDrop) {\n        props.onDragDrop({\n          originalEvent: event.originalEvent,\n          value: value,\n          dragNode: dragNode,\n          dropNode: dropNodeParent,\n          dropIndex: event.index\n        });\n      }\n    }\n  };\n\n  var validateDrop = function validateDrop(dragPath, dropPath) {\n    if (!dragPath) {\n      return false;\n    } else {\n      //same node\n      if (dragPath === dropPath) {\n        return false;\n      } //parent dropped on an descendant\n\n\n      if (dropPath.indexOf(dragPath) === 0) {\n        return false;\n      }\n\n      return true;\n    }\n  };\n\n  var validateDropNode = function validateDropNode(dragPath, dropPath) {\n    var _validateDrop = validateDrop(dragPath, dropPath);\n\n    if (_validateDrop) {\n      //child dropped on parent\n      if (dragPath.indexOf('-') > 0 && dragPath.substring(0, dragPath.lastIndexOf('-')) === dropPath) {\n        return false;\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var validateDropPoint = function validateDropPoint(event) {\n    var _validateDrop = validateDrop(dragState.current.path, event.path);\n\n    if (_validateDrop) {\n      //child dropped to next sibling's drop point\n      if (event.position === -1 && areSiblings(dragState.current.path, event.path) && dragState.current.index + 1 === event.index) {\n        return false;\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var areSiblings = function areSiblings(path1, path2) {\n    if (path1.length === 1 && path2.length === 1) return true;else return path1.substring(0, path1.lastIndexOf('-')) === path2.substring(0, path2.lastIndexOf('-'));\n  };\n\n  var findNode = function findNode(value, path) {\n    if (path.length === 0) {\n      return null;\n    } else {\n      var index = parseInt(path[0], 10);\n      var nextSearchRoot = value.children ? value.children[index] : value[index];\n\n      if (path.length === 1) {\n        return nextSearchRoot;\n      } else {\n        path.shift();\n        return findNode(nextSearchRoot, path);\n      }\n    }\n  };\n\n  var isNodeLeaf = function isNodeLeaf(node) {\n    return node.leaf === false ? false : !(node.children && node.children.length);\n  };\n\n  var onFilterInputKeyDown = function onFilterInputKeyDown(event) {\n    //enter\n    if (event.which === 13) {\n      event.preventDefault();\n    }\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    filterChanged.current = true;\n    var value = event.target.value;\n\n    if (props.onFilterValueChange) {\n      props.onFilterValueChange({\n        originalEvent: event,\n        value: value\n      });\n    } else {\n      setFilterValueState(value);\n    }\n  };\n\n  var filter = function filter(value) {\n    setFilterValueState(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(value) ? value : '');\n\n    _filter();\n  };\n\n  var _filter = function _filter() {\n    if (!filterChanged.current) {\n      return;\n    }\n\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isEmpty(filteredValue)) {\n      filteredNodes.current = props.value;\n    } else {\n      filteredNodes.current = [];\n      var searchFields = props.filterBy.split(',');\n      var filterText = filteredValue.toLocaleLowerCase(props.filterLocale);\n      var isStrictMode = props.filterMode === 'strict';\n\n      var _iterator = _createForOfIteratorHelper(props.value),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var node = _step.value;\n\n          var copyNode = _objectSpread({}, node);\n\n          var paramsWithoutNode = {\n            searchFields: searchFields,\n            filterText: filterText,\n            isStrictMode: isStrictMode\n          };\n\n          if (isStrictMode && (findFilteredNodes(copyNode, paramsWithoutNode) || isFilterMatched(copyNode, paramsWithoutNode)) || !isStrictMode && (isFilterMatched(copyNode, paramsWithoutNode) || findFilteredNodes(copyNode, paramsWithoutNode))) {\n            filteredNodes.current.push(copyNode);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    filterChanged.current = false;\n  };\n\n  var findFilteredNodes = function findFilteredNodes(node, paramsWithoutNode) {\n    if (node) {\n      var matched = false;\n\n      if (node.children) {\n        var childNodes = _toConsumableArray(node.children);\n\n        node.children = [];\n\n        var _iterator2 = _createForOfIteratorHelper(childNodes),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var childNode = _step2.value;\n\n            var copyChildNode = _objectSpread({}, childNode);\n\n            if (isFilterMatched(copyChildNode, paramsWithoutNode)) {\n              matched = true;\n              node.children.push(copyChildNode);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n\n      if (matched) {\n        node.expanded = true;\n        return true;\n      }\n    }\n  };\n\n  var isFilterMatched = function isFilterMatched(node, _ref) {\n    var searchFields = _ref.searchFields,\n        filterText = _ref.filterText,\n        isStrictMode = _ref.isStrictMode;\n    var matched = false;\n\n    var _iterator3 = _createForOfIteratorHelper(searchFields),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var field = _step3.value;\n        var fieldValue = String(primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.resolveFieldData(node, field)).toLocaleLowerCase(props.filterLocale);\n\n        if (fieldValue.indexOf(filterText) > -1) {\n          matched = true;\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    if (!matched || isStrictMode && !isNodeLeaf(node)) {\n      matched = findFilteredNodes(node, {\n        searchFields: searchFields,\n        filterText: filterText,\n        isStrictMode: isStrictMode\n      }) || matched;\n    }\n\n    return matched;\n  };\n\n  var resetFilter = function resetFilter() {\n    setFilterValueState('');\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      filter: filter,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n\n  var createRootChild = function createRootChild(node, index, last) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(UITreeNode, {\n      key: node.key || node.label,\n      node: node,\n      index: index,\n      last: last,\n      path: String(index),\n      disabled: props.disabled,\n      selectionMode: props.selectionMode,\n      selectionKeys: props.selectionKeys,\n      onSelectionChange: props.onSelectionChange,\n      metaKeySelection: props.metaKeySelection,\n      contextMenuSelectionKey: props.contextMenuSelectionKey,\n      onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n      onContextMenu: props.onContextMenu,\n      propagateSelectionDown: props.propagateSelectionDown,\n      propagateSelectionUp: props.propagateSelectionUp,\n      onExpand: props.onExpand,\n      onCollapse: props.onCollapse,\n      onSelect: props.onSelect,\n      onUnselect: props.onUnselect,\n      expandedKeys: expandedKeys,\n      onToggle: onToggle,\n      nodeTemplate: props.nodeTemplate,\n      togglerTemplate: props.togglerTemplate,\n      isNodeLeaf: isNodeLeaf,\n      dragdropScope: props.dragdropScope,\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      onDrop: onDrop,\n      onDropPoint: onDropPoint,\n      onClick: props.onNodeClick,\n      onDoubleClick: props.onNodeDoubleClick\n    });\n  };\n\n  var createRootChildren = function createRootChildren() {\n    if (props.filter) {\n      filterChanged.current = true;\n\n      _filter();\n    }\n\n    var value = getRootNode();\n    return value.map(function (node, index) {\n      return createRootChild(node, index, index === value.length - 1);\n    });\n  };\n\n  var createModel = function createModel() {\n    if (props.value) {\n      var rootNodes = createRootChildren();\n      var contentClass = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-tree-container', props.contentClassName);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: contentClass,\n        role: \"tree\",\n        \"aria-label\": props.ariaLabel,\n        \"aria-labelledby\": props.ariaLabelledBy,\n        style: props.contentStyle\n      }, rootNodes);\n    }\n\n    return null;\n  };\n\n  var createLoader = function createLoader() {\n    if (props.loading) {\n      var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-tree-loading-icon pi-spin', props.loadingIcon);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-tree-loading-overlay p-component-overlay\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: icon\n      }));\n    }\n\n    return null;\n  };\n\n  var createFilter = function createFilter() {\n    if (props.filter) {\n      var value = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.isNotEmpty(filteredValue) ? filteredValue : '';\n\n      var _content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-tree-filter-container\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        type: \"text\",\n        value: value,\n        autoComplete: \"off\",\n        className: \"p-tree-filter p-inputtext p-component\",\n        placeholder: props.filterPlaceholder,\n        onKeyDown: onFilterInputKeyDown,\n        onChange: onFilterInputChange,\n        disabled: props.disabled\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-tree-filter-icon pi pi-search\"\n      }));\n\n      if (props.filterTemplate) {\n        var defaultContentOptions = {\n          className: 'p-tree-filter-container',\n          element: _content,\n          filterOptions: filterOptions,\n          filterInputKeyDown: onFilterInputKeyDown,\n          filterInputChange: onFilterInputChange,\n          filterIconClassName: 'p-dropdown-filter-icon pi pi-search',\n          props: props\n        };\n        _content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.filterTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, _content);\n    }\n\n    return null;\n  };\n\n  var createHeader = function createHeader() {\n    if (props.showHeader) {\n      var filterElement = createFilter();\n      var _content2 = filterElement;\n\n      if (props.header) {\n        var defaultContentOptions = {\n          filterContainerClassName: 'p-tree-filter-container',\n          filterIconClasssName: 'p-tree-filter-icon pi pi-search',\n          filterInput: {\n            className: 'p-tree-filter p-inputtext p-component',\n            onKeyDown: onFilterInputKeyDown,\n            onChange: onFilterInputChange\n          },\n          filterElement: filterElement,\n          element: _content2,\n          props: props\n        };\n        _content2 = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.header, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-tree-header\"\n      }, _content2);\n    }\n\n    return null;\n  };\n\n  var createFooter = function createFooter() {\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.getJSXElement(props.footer, props);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-tree-footer\"\n    }, content);\n  };\n\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_1__.ObjectUtils.findDiffKeys(props, Tree.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_1__.classNames)('p-tree p-component', props.className, {\n    'p-tree-selectable': props.selectionMode,\n    'p-tree-loading': props.loading,\n    'p-disabled': props.disabled\n  });\n  var loader = createLoader();\n  var content = createModel();\n  var header = createHeader();\n  var footer = createFooter();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    id: props.id,\n    ref: elementRef,\n    className: className,\n    style: props.style\n  }, otherProps), loader, header, content, footer);\n}));\nTree.displayName = 'Tree';\nTree.defaultProps = {\n  __TYPE: 'Tree',\n  id: null,\n  value: null,\n  disabled: false,\n  selectionMode: null,\n  selectionKeys: null,\n  onSelectionChange: null,\n  contextMenuSelectionKey: null,\n  onContextMenuSelectionChange: null,\n  expandedKeys: null,\n  style: null,\n  className: null,\n  contentStyle: null,\n  contentClassName: null,\n  metaKeySelection: true,\n  propagateSelectionUp: true,\n  propagateSelectionDown: true,\n  loading: false,\n  loadingIcon: 'pi pi-spinner',\n  dragdropScope: null,\n  header: null,\n  footer: null,\n  showHeader: true,\n  filter: false,\n  filterValue: null,\n  filterBy: 'label',\n  filterMode: 'lenient',\n  filterPlaceholder: null,\n  filterLocale: undefined,\n  filterTemplate: null,\n  nodeTemplate: null,\n  togglerTemplate: null,\n  onSelect: null,\n  onUnselect: null,\n  onExpand: null,\n  onCollapse: null,\n  onToggle: null,\n  onDragDrop: null,\n  onContextMenu: null,\n  onFilterValueChange: null,\n  onNodeClick: null,\n  onNodeDoubleClick: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC90cmVlL3RyZWUuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStCO0FBQ3dDO0FBQzVCOztBQUUzQztBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0QkFBNEIsK0JBQStCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkRBQTJELGlGQUFpRixXQUFXLDBIQUEwSCxnQkFBZ0IsV0FBVyx5QkFBeUIsU0FBUyx3QkFBd0IsNEJBQTRCLGNBQWMsU0FBUywrQkFBK0Isc0JBQXNCLFdBQVcsWUFBWSxnS0FBZ0ssa0RBQWtELFNBQVMsa0JBQWtCLGtCQUFrQixvQkFBb0Isc0JBQXNCLDhCQUE4QixjQUFjLHVCQUF1QixlQUFlLFlBQVksb0JBQW9CLE1BQU0saUVBQWlFLFVBQVU7O0FBRWo5QixvREFBb0QsZ0JBQWdCLGtFQUFrRSx3REFBd0QsNkRBQTZELHNEQUFzRDs7QUFFalQseUNBQXlD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QW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGdCQUFnQixnREFBbUI7QUFDMUM7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVFQUF5QjtBQUM1Qzs7QUFFQSwwQkFBMEIsZ0RBQW1CLENBQUMsMkNBQWM7QUFDNUQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVFQUF5QjtBQUM3Qzs7QUFFQSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsdUVBQXlCO0FBQzNDLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsbUJBQW1CLHNFQUF3QjtBQUMzQyxrQkFBa0IsNERBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC90cmVlL3RyZWUuZXNtLmpzPzU3ZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcywgRG9tSGFuZGxlciwgT2JqZWN0VXRpbHMgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMihhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDIoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMihvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDIobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQyKG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMihhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDIoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIG93bktleXMkMShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQxKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQxKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBVSVRyZWVOb2RlID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBjb250ZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgbm9kZVRvdWNoZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgaXNMZWFmID0gcHJvcHMuaXNOb2RlTGVhZihwcm9wcy5ub2RlKTtcbiAgdmFyIGV4cGFuZGVkID0gKHByb3BzLmV4cGFuZGVkS2V5cyA/IHByb3BzLmV4cGFuZGVkS2V5c1twcm9wcy5ub2RlLmtleV0gIT09IHVuZGVmaW5lZCA6IGZhbHNlKSB8fCBwcm9wcy5ub2RlLmV4cGFuZGVkO1xuXG4gIHZhciBleHBhbmQgPSBmdW5jdGlvbiBleHBhbmQoZXZlbnQpIHtcbiAgICB2YXIgZXhwYW5kZWRLZXlzID0gcHJvcHMuZXhwYW5kZWRLZXlzID8gX29iamVjdFNwcmVhZCQxKHt9LCBwcm9wcy5leHBhbmRlZEtleXMpIDoge307XG4gICAgZXhwYW5kZWRLZXlzW3Byb3BzLm5vZGUua2V5XSA9IHRydWU7XG4gICAgcHJvcHMub25Ub2dnbGUoe1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICB2YWx1ZTogZXhwYW5kZWRLZXlzXG4gICAgfSk7XG4gICAgaW52b2tlVG9nZ2xlRXZlbnRzKGV2ZW50LCB0cnVlKTtcbiAgfTtcblxuICB2YXIgY29sbGFwc2UgPSBmdW5jdGlvbiBjb2xsYXBzZShldmVudCkge1xuICAgIHZhciBleHBhbmRlZEtleXMgPSBfb2JqZWN0U3ByZWFkJDEoe30sIHByb3BzLmV4cGFuZGVkS2V5cyk7XG5cbiAgICBkZWxldGUgZXhwYW5kZWRLZXlzW3Byb3BzLm5vZGUua2V5XTtcbiAgICBwcm9wcy5vblRvZ2dsZSh7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIHZhbHVlOiBleHBhbmRlZEtleXNcbiAgICB9KTtcbiAgICBpbnZva2VUb2dnbGVFdmVudHMoZXZlbnQsIGZhbHNlKTtcbiAgfTtcblxuICB2YXIgb25Ub2dnbGVyQ2xpY2sgPSBmdW5jdGlvbiBvblRvZ2dsZXJDbGljayhldmVudCkge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV4cGFuZGVkID8gY29sbGFwc2UoZXZlbnQpIDogZXhwYW5kKGV2ZW50KTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gIHZhciBpbnZva2VUb2dnbGVFdmVudHMgPSBmdW5jdGlvbiBpbnZva2VUb2dnbGVFdmVudHMoZXZlbnQsIGlzRXhwYW5kZWQpIHtcbiAgICBpZiAoaXNFeHBhbmRlZCkge1xuICAgICAgaWYgKHByb3BzLm9uRXhwYW5kKSB7XG4gICAgICAgIHByb3BzLm9uRXhwYW5kKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcHMub25Db2xsYXBzZSkge1xuICAgICAgICBwcm9wcy5vbkNvbGxhcHNlKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25Ob2RlS2V5RG93biA9IGZ1bmN0aW9uIG9uTm9kZUtleURvd24oZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbm9kZUVsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcblxuICAgIGlmICghRG9tSGFuZGxlci5oYXNDbGFzcyhub2RlRWxlbWVudCwgJ3AtdHJlZW5vZGUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIC8vZG93biBhcnJvd1xuICAgICAgY2FzZSA0MDpcbiAgICAgICAgdmFyIGxpc3RFbGVtZW50ID0gbm9kZUVsZW1lbnQuY2hpbGRyZW5bMV07XG5cbiAgICAgICAgaWYgKGxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgZm9jdXNOb2RlKGxpc3RFbGVtZW50LmNoaWxkcmVuWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV4dE5vZGVFbGVtZW50ID0gbm9kZUVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgd2hpbGUgKG5leHROb2RlRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKCFEb21IYW5kbGVyLmhhc0NsYXNzKG5leHROb2RlRWxlbWVudCwgJ3AtdHJlZW5vZGUtZHJvcHBvaW50JykpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5leHROb2RlRWxlbWVudCA9IG5leHROb2RlRWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5leHROb2RlRWxlbWVudCkge1xuICAgICAgICAgICAgZm9jdXNOb2RlKG5leHROb2RlRWxlbWVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXh0U2libGluZ0FuY2VzdG9yID0gZmluZE5leHRTaWJsaW5nT2ZBbmNlc3Rvcihub2RlRWxlbWVudCk7XG4gICAgICAgICAgICBuZXh0U2libGluZ0FuY2VzdG9yICYmIGZvY3VzTm9kZShuZXh0U2libGluZ0FuY2VzdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vdXAgYXJyb3dcblxuICAgICAgY2FzZSAzODpcbiAgICAgICAgaWYgKG5vZGVFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICBmb2N1c05vZGUoZmluZExhc3RWaXNpYmxlRGVzY2VuZGFudChub2RlRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHBhcmVudE5vZGVFbGVtZW50ID0gZ2V0UGFyZW50Tm9kZUVsZW1lbnQobm9kZUVsZW1lbnQpO1xuICAgICAgICAgIHBhcmVudE5vZGVFbGVtZW50ICYmIGZvY3VzTm9kZShwYXJlbnROb2RlRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vcmlnaHQgYXJyb3dcblxuICAgICAgY2FzZSAzOTpcbiAgICAgICAgaWYgKCFleHBhbmRlZCkge1xuICAgICAgICAgIGV4cGFuZChldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vbGVmdCBhcnJvd1xuXG4gICAgICBjYXNlIDM3OlxuICAgICAgICBpZiAoZXhwYW5kZWQpIHtcbiAgICAgICAgICBjb2xsYXBzZShldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vZW50ZXJcblxuICAgICAgY2FzZSAxMzpcbiAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZmluZE5leHRTaWJsaW5nT2ZBbmNlc3RvciA9IGZ1bmN0aW9uIGZpbmROZXh0U2libGluZ09mQW5jZXN0b3Iobm9kZUVsZW1lbnQpIHtcbiAgICB2YXIgcGFyZW50Tm9kZUVsZW1lbnQgPSBnZXRQYXJlbnROb2RlRWxlbWVudChub2RlRWxlbWVudCk7XG4gICAgcmV0dXJuIHBhcmVudE5vZGVFbGVtZW50ID8gcGFyZW50Tm9kZUVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nIHx8IGZpbmROZXh0U2libGluZ09mQW5jZXN0b3IocGFyZW50Tm9kZUVsZW1lbnQpIDogbnVsbDtcbiAgfTtcblxuICB2YXIgZmluZExhc3RWaXNpYmxlRGVzY2VuZGFudCA9IGZ1bmN0aW9uIGZpbmRMYXN0VmlzaWJsZURlc2NlbmRhbnQobm9kZUVsZW1lbnQpIHtcbiAgICB2YXIgY2hpbGRyZW5MaXN0RWxlbWVudCA9IG5vZGVFbGVtZW50LmNoaWxkcmVuWzFdO1xuXG4gICAgaWYgKGNoaWxkcmVuTGlzdEVsZW1lbnQpIHtcbiAgICAgIHZhciBsYXN0Q2hpbGRFbGVtZW50ID0gY2hpbGRyZW5MaXN0RWxlbWVudC5jaGlsZHJlbltjaGlsZHJlbkxpc3RFbGVtZW50LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgICAgcmV0dXJuIGZpbmRMYXN0VmlzaWJsZURlc2NlbmRhbnQobGFzdENoaWxkRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBub2RlRWxlbWVudDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldFBhcmVudE5vZGVFbGVtZW50ID0gZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZUVsZW1lbnQobm9kZUVsZW1lbnQpIHtcbiAgICB2YXIgcGFyZW50Tm9kZUVsZW1lbnQgPSBub2RlRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIERvbUhhbmRsZXIuaGFzQ2xhc3MocGFyZW50Tm9kZUVsZW1lbnQsICdwLXRyZWVub2RlJykgPyBwYXJlbnROb2RlRWxlbWVudCA6IG51bGw7XG4gIH07XG5cbiAgdmFyIGZvY3VzTm9kZSA9IGZ1bmN0aW9uIGZvY3VzTm9kZShlbGVtZW50KSB7XG4gICAgZWxlbWVudCAmJiBlbGVtZW50LmNoaWxkcmVuWzBdICYmIGVsZW1lbnQuY2hpbGRyZW5bMF0uZm9jdXMoKTtcbiAgfTtcblxuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgcHJvcHMub25DbGljayh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0Tm9kZSA9IGV2ZW50LnRhcmdldC5ub2RlTmFtZTtcblxuICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCB0YXJnZXROb2RlID09PSAnSU5QVVQnIHx8IHRhcmdldE5vZGUgPT09ICdCVVRUT04nIHx8IHRhcmdldE5vZGUgPT09ICdBJyB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtY2xpY2thYmxlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuc2VsZWN0aW9uTW9kZSAmJiBwcm9wcy5ub2RlLnNlbGVjdGFibGUgIT09IGZhbHNlKSB7XG4gICAgICB2YXIgc2VsZWN0aW9uS2V5cztcblxuICAgICAgaWYgKGlzQ2hlY2tib3hTZWxlY3Rpb25Nb2RlKCkpIHtcbiAgICAgICAgdmFyIGNoZWNrZWQgPSBpc0NoZWNrZWQoKTtcbiAgICAgICAgc2VsZWN0aW9uS2V5cyA9IHByb3BzLnNlbGVjdGlvbktleXMgPyBfb2JqZWN0U3ByZWFkJDEoe30sIHByb3BzLnNlbGVjdGlvbktleXMpIDoge307XG5cbiAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICBpZiAocHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uRG93bikgcHJvcGFnYXRlRG93bihwcm9wcy5ub2RlLCBmYWxzZSwgc2VsZWN0aW9uS2V5cyk7ZWxzZSBkZWxldGUgc2VsZWN0aW9uS2V5c1twcm9wcy5ub2RlLmtleV07XG5cbiAgICAgICAgICBpZiAocHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uVXAgJiYgcHJvcHMub25Qcm9wYWdhdGVVcCkge1xuICAgICAgICAgICAgcHJvcHMub25Qcm9wYWdhdGVVcCh7XG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICBjaGVjazogZmFsc2UsXG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXM6IHNlbGVjdGlvbktleXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9wcy5vblVuc2VsZWN0KSB7XG4gICAgICAgICAgICBwcm9wcy5vblVuc2VsZWN0KHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgIG5vZGU6IHByb3BzLm5vZGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uRG93bikgcHJvcGFnYXRlRG93bihwcm9wcy5ub2RlLCB0cnVlLCBzZWxlY3Rpb25LZXlzKTtlbHNlIHNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldID0ge1xuICAgICAgICAgICAgY2hlY2tlZDogdHJ1ZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAocHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uVXAgJiYgcHJvcHMub25Qcm9wYWdhdGVVcCkge1xuICAgICAgICAgICAgcHJvcHMub25Qcm9wYWdhdGVVcCh7XG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICBjaGVjazogdHJ1ZSxcbiAgICAgICAgICAgICAgc2VsZWN0aW9uS2V5czogc2VsZWN0aW9uS2V5c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb3BzLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICBwcm9wcy5vblNlbGVjdCh7XG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IGlzU2VsZWN0ZWQoKTtcbiAgICAgICAgdmFyIG1ldGFTZWxlY3Rpb24gPSBub2RlVG91Y2hlZC5jdXJyZW50ID8gZmFsc2UgOiBwcm9wcy5tZXRhS2V5U2VsZWN0aW9uO1xuXG4gICAgICAgIGlmIChtZXRhU2VsZWN0aW9uKSB7XG4gICAgICAgICAgdmFyIG1ldGFLZXkgPSBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXk7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWQgJiYgbWV0YUtleSkge1xuICAgICAgICAgICAgaWYgKGlzU2luZ2xlU2VsZWN0aW9uTW9kZSgpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uS2V5cyA9IF9vYmplY3RTcHJlYWQkMSh7fSwgcHJvcHMuc2VsZWN0aW9uS2V5cyk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BzLm9uVW5zZWxlY3QpIHtcbiAgICAgICAgICAgICAgcHJvcHMub25VbnNlbGVjdCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgbm9kZTogcHJvcHMubm9kZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzU2luZ2xlU2VsZWN0aW9uTW9kZSgpKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSBwcm9wcy5ub2RlLmtleTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNNdWx0aXBsZVNlbGVjdGlvbk1vZGUoKSkge1xuICAgICAgICAgICAgICBzZWxlY3Rpb25LZXlzID0gIW1ldGFLZXkgPyB7fSA6IHByb3BzLnNlbGVjdGlvbktleXMgPyBfb2JqZWN0U3ByZWFkJDEoe30sIHByb3BzLnNlbGVjdGlvbktleXMpIDoge307XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BzLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgIHByb3BzLm9uU2VsZWN0KHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNTaW5nbGVTZWxlY3Rpb25Nb2RlKCkpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgICBzZWxlY3Rpb25LZXlzID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAocHJvcHMub25VbnNlbGVjdCkge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uVW5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSBwcm9wcy5ub2RlLmtleTtcblxuICAgICAgICAgICAgICBpZiAocHJvcHMub25TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5vblNlbGVjdCh7XG4gICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgIG5vZGU6IHByb3BzLm5vZGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uS2V5cyA9IF9vYmplY3RTcHJlYWQkMSh7fSwgcHJvcHMuc2VsZWN0aW9uS2V5cyk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XTtcblxuICAgICAgICAgICAgICBpZiAocHJvcHMub25VbnNlbGVjdCkge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uVW5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSBwcm9wcy5zZWxlY3Rpb25LZXlzID8gX29iamVjdFNwcmVhZCQxKHt9LCBwcm9wcy5zZWxlY3Rpb25LZXlzKSA6IHt9O1xuICAgICAgICAgICAgICBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BzLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgcHJvcHMub25TZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICBub2RlOiBwcm9wcy5ub2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICB2YWx1ZTogc2VsZWN0aW9uS2V5c1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBub2RlVG91Y2hlZC5jdXJyZW50ID0gZmFsc2U7XG4gIH07XG5cbiAgdmFyIG9uRG91YmxlQ2xpY2sgPSBmdW5jdGlvbiBvbkRvdWJsZUNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uRG91YmxlQ2xpY2spIHtcbiAgICAgIHByb3BzLm9uRG91YmxlQ2xpY2soe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgbm9kZTogcHJvcHMubm9kZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblJpZ2h0Q2xpY2sgPSBmdW5jdGlvbiBvblJpZ2h0Q2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBEb21IYW5kbGVyLmNsZWFyU2VsZWN0aW9uKCk7XG5cbiAgICBpZiAocHJvcHMub25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICB2YWx1ZTogcHJvcHMubm9kZS5rZXlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5vbkNvbnRleHRNZW51KSB7XG4gICAgICBwcm9wcy5vbkNvbnRleHRNZW51KHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIG5vZGU6IHByb3BzLm5vZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcHJvcGFnYXRlVXAgPSBmdW5jdGlvbiBwcm9wYWdhdGVVcChldmVudCkge1xuICAgIHZhciBjaGVjayA9IGV2ZW50LmNoZWNrO1xuICAgIHZhciBzZWxlY3Rpb25LZXlzID0gZXZlbnQuc2VsZWN0aW9uS2V5cztcbiAgICB2YXIgY2hlY2tlZENoaWxkQ291bnQgPSAwO1xuICAgIHZhciBjaGlsZFBhcnRpYWxTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEocHJvcHMubm9kZS5jaGlsZHJlbiksXG4gICAgICAgIF9zdGVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBjaGlsZCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICBpZiAoc2VsZWN0aW9uS2V5c1tjaGlsZC5rZXldICYmIHNlbGVjdGlvbktleXNbY2hpbGQua2V5XS5jaGVja2VkKSBjaGVja2VkQ2hpbGRDb3VudCsrO2Vsc2UgaWYgKHNlbGVjdGlvbktleXNbY2hpbGQua2V5XSAmJiBzZWxlY3Rpb25LZXlzW2NoaWxkLmtleV0ucGFydGlhbENoZWNrZWQpIGNoaWxkUGFydGlhbFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgfVxuXG4gICAgaWYgKGNoZWNrICYmIGNoZWNrZWRDaGlsZENvdW50ID09PSBwcm9wcy5ub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgc2VsZWN0aW9uS2V5c1twcm9wcy5ub2RlLmtleV0gPSB7XG4gICAgICAgIGNoZWNrZWQ6IHRydWUsXG4gICAgICAgIHBhcnRpYWxDaGVja2VkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjaGVjaykge1xuICAgICAgICBkZWxldGUgc2VsZWN0aW9uS2V5c1twcm9wcy5ub2RlLmtleV07XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGlsZFBhcnRpYWxTZWxlY3RlZCB8fCBjaGVja2VkQ2hpbGRDb3VudCA+IDAgJiYgY2hlY2tlZENoaWxkQ291bnQgIT09IHByb3BzLm5vZGUuY2hpbGRyZW4ubGVuZ3RoKSBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XSA9IHtcbiAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgIHBhcnRpYWxDaGVja2VkOiB0cnVlXG4gICAgICB9O2Vsc2UgZGVsZXRlIHNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25VcCAmJiBwcm9wcy5vblByb3BhZ2F0ZVVwKSB7XG4gICAgICBwcm9wcy5vblByb3BhZ2F0ZVVwKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHByb3BhZ2F0ZURvd24gPSBmdW5jdGlvbiBwcm9wYWdhdGVEb3duKG5vZGUsIGNoZWNrLCBzZWxlY3Rpb25LZXlzKSB7XG4gICAgaWYgKGNoZWNrKSBzZWxlY3Rpb25LZXlzW25vZGUua2V5XSA9IHtcbiAgICAgIGNoZWNrZWQ6IHRydWUsXG4gICAgICBwYXJ0aWFsQ2hlY2tlZDogZmFsc2VcbiAgICB9O2Vsc2UgZGVsZXRlIHNlbGVjdGlvbktleXNbbm9kZS5rZXldO1xuXG4gICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9wYWdhdGVEb3duKG5vZGUuY2hpbGRyZW5baV0sIGNoZWNrLCBzZWxlY3Rpb25LZXlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc1NlbGVjdGVkKCkge1xuICAgIGlmIChwcm9wcy5zZWxlY3Rpb25Nb2RlICYmIHByb3BzLnNlbGVjdGlvbktleXMpIHJldHVybiBpc1NpbmdsZVNlbGVjdGlvbk1vZGUoKSA/IHByb3BzLnNlbGVjdGlvbktleXMgPT09IHByb3BzLm5vZGUua2V5IDogcHJvcHMuc2VsZWN0aW9uS2V5c1twcm9wcy5ub2RlLmtleV0gIT09IHVuZGVmaW5lZDtlbHNlIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgaXNDaGVja2VkID0gZnVuY3Rpb24gaXNDaGVja2VkKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25LZXlzID8gcHJvcHMuc2VsZWN0aW9uS2V5c1twcm9wcy5ub2RlLmtleV0gJiYgcHJvcHMuc2VsZWN0aW9uS2V5c1twcm9wcy5ub2RlLmtleV0uY2hlY2tlZCA6IGZhbHNlO1xuICB9O1xuXG4gIHZhciBpc1BhcnRpYWxDaGVja2VkID0gZnVuY3Rpb24gaXNQYXJ0aWFsQ2hlY2tlZCgpIHtcbiAgICByZXR1cm4gcHJvcHMuc2VsZWN0aW9uS2V5cyA/IHByb3BzLnNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldICYmIHByb3BzLnNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldLnBhcnRpYWxDaGVja2VkIDogZmFsc2U7XG4gIH07XG5cbiAgdmFyIGlzU2luZ2xlU2VsZWN0aW9uTW9kZSA9IGZ1bmN0aW9uIGlzU2luZ2xlU2VsZWN0aW9uTW9kZSgpIHtcbiAgICByZXR1cm4gcHJvcHMuc2VsZWN0aW9uTW9kZSAmJiBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJztcbiAgfTtcblxuICB2YXIgaXNNdWx0aXBsZVNlbGVjdGlvbk1vZGUgPSBmdW5jdGlvbiBpc011bHRpcGxlU2VsZWN0aW9uTW9kZSgpIHtcbiAgICByZXR1cm4gcHJvcHMuc2VsZWN0aW9uTW9kZSAmJiBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlwbGUnO1xuICB9O1xuXG4gIHZhciBpc0NoZWNrYm94U2VsZWN0aW9uTW9kZSA9IGZ1bmN0aW9uIGlzQ2hlY2tib3hTZWxlY3Rpb25Nb2RlKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25Nb2RlICYmIHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICdjaGVja2JveCc7XG4gIH07XG5cbiAgdmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbiBvblRvdWNoRW5kKCkge1xuICAgIG5vZGVUb3VjaGVkLmN1cnJlbnQgPSB0cnVlO1xuICB9O1xuXG4gIHZhciBvbkRyb3BQb2ludCA9IGZ1bmN0aW9uIG9uRHJvcFBvaW50KGV2ZW50LCBwb3NpdGlvbikge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAocHJvcHMubm9kZS5kcm9wcGFibGUgIT09IGZhbHNlKSB7XG4gICAgICBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKGV2ZW50LnRhcmdldCwgJ3AtdHJlZW5vZGUtZHJvcHBvaW50LWFjdGl2ZScpO1xuXG4gICAgICBpZiAocHJvcHMub25Ecm9wUG9pbnQpIHtcbiAgICAgICAgdmFyIGRyb3BJbmRleCA9IHBvc2l0aW9uID09PSAtMSA/IHByb3BzLmluZGV4IDogcHJvcHMuaW5kZXggKyAxO1xuICAgICAgICBwcm9wcy5vbkRyb3BQb2ludCh7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgcGF0aDogcHJvcHMucGF0aCxcbiAgICAgICAgICBpbmRleDogZHJvcEluZGV4LFxuICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRHJvcFBvaW50RHJhZ092ZXIgPSBmdW5jdGlvbiBvbkRyb3BQb2ludERyYWdPdmVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlc1sxXSA9PT0gcHJvcHMuZHJhZ2Ryb3BTY29wZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRyb3BQb2ludERyYWdFbnRlciA9IGZ1bmN0aW9uIG9uRHJvcFBvaW50RHJhZ0VudGVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlc1sxXSA9PT0gcHJvcHMuZHJhZ2Ryb3BTY29wZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XG4gICAgICBEb21IYW5kbGVyLmFkZENsYXNzKGV2ZW50LnRhcmdldCwgJ3AtdHJlZW5vZGUtZHJvcHBvaW50LWFjdGl2ZScpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Ecm9wUG9pbnREcmFnTGVhdmUgPSBmdW5jdGlvbiBvbkRyb3BQb2ludERyYWdMZWF2ZShldmVudCkge1xuICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIudHlwZXNbMV0gPT09IHByb3BzLmRyYWdkcm9wU2NvcGUudG9Mb2NhbGVMb3dlckNhc2UoKSkge1xuICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhldmVudC50YXJnZXQsICdwLXRyZWVub2RlLWRyb3Bwb2ludC1hY3RpdmUnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRHJvcCA9IGZ1bmN0aW9uIG9uRHJvcChldmVudCkge1xuICAgIGlmIChwcm9wcy5kcmFnZHJvcFNjb3BlICYmIHByb3BzLm5vZGUuZHJvcHBhYmxlICE9PSBmYWxzZSkge1xuICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhjb250ZW50UmVmLmN1cnJlbnQsICdwLXRyZWVub2RlLWRyYWdvdmVyJyk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGlmIChwcm9wcy5vbkRyb3ApIHtcbiAgICAgICAgcHJvcHMub25Ecm9wKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICBwYXRoOiBwcm9wcy5wYXRoLFxuICAgICAgICAgIGluZGV4OiBwcm9wcy5pbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRHJhZ092ZXIgPSBmdW5jdGlvbiBvbkRyYWdPdmVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlc1sxXSA9PT0gcHJvcHMuZHJhZ2Ryb3BTY29wZS50b0xvY2FsZUxvd2VyQ2FzZSgpICYmIHByb3BzLm5vZGUuZHJvcHBhYmxlICE9PSBmYWxzZSkge1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRyYWdFbnRlciA9IGZ1bmN0aW9uIG9uRHJhZ0VudGVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlc1sxXSA9PT0gcHJvcHMuZHJhZ2Ryb3BTY29wZS50b0xvY2FsZUxvd2VyQ2FzZSgpICYmIHByb3BzLm5vZGUuZHJvcHBhYmxlICE9PSBmYWxzZSkge1xuICAgICAgRG9tSGFuZGxlci5hZGRDbGFzcyhjb250ZW50UmVmLmN1cnJlbnQsICdwLXRyZWVub2RlLWRyYWdvdmVyJyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRyYWdMZWF2ZSA9IGZ1bmN0aW9uIG9uRHJhZ0xlYXZlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlc1sxXSA9PT0gcHJvcHMuZHJhZ2Ryb3BTY29wZS50b0xvY2FsZUxvd2VyQ2FzZSgpICYmIHByb3BzLm5vZGUuZHJvcHBhYmxlICE9PSBmYWxzZSkge1xuICAgICAgdmFyIHJlY3QgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBpZiAoZXZlbnQubmF0aXZlRXZlbnQueCA+IHJlY3QubGVmdCArIHJlY3Qud2lkdGggfHwgZXZlbnQubmF0aXZlRXZlbnQueCA8IHJlY3QubGVmdCB8fCBldmVudC5uYXRpdmVFdmVudC55ID49IE1hdGguZmxvb3IocmVjdC50b3AgKyByZWN0LmhlaWdodCkgfHwgZXZlbnQubmF0aXZlRXZlbnQueSA8IHJlY3QudG9wKSB7XG4gICAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoY29udGVudFJlZi5jdXJyZW50LCAncC10cmVlbm9kZS1kcmFnb3ZlcicpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25EcmFnU3RhcnQgPSBmdW5jdGlvbiBvbkRyYWdTdGFydChldmVudCkge1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0JywgcHJvcHMuZHJhZ2Ryb3BTY29wZSk7XG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEocHJvcHMuZHJhZ2Ryb3BTY29wZSwgcHJvcHMuZHJhZ2Ryb3BTY29wZSk7XG5cbiAgICBpZiAocHJvcHMub25EcmFnU3RhcnQpIHtcbiAgICAgIHByb3BzLm9uRHJhZ1N0YXJ0KHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHBhdGg6IHByb3BzLnBhdGgsXG4gICAgICAgIGluZGV4OiBwcm9wcy5pbmRleFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRyYWdFbmQgPSBmdW5jdGlvbiBvbkRyYWdFbmQoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMub25EcmFnRW5kKSB7XG4gICAgICBwcm9wcy5vbkRyYWdFbmQoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGVMYWJlbCA9IGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKCkge1xuICAgIHZhciBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXRyZWVub2RlLWxhYmVsXCJcbiAgICB9LCBwcm9wcy5ub2RlLmxhYmVsKTtcblxuICAgIGlmIChwcm9wcy5ub2RlVGVtcGxhdGUpIHtcbiAgICAgIHZhciBkZWZhdWx0Q29udGVudE9wdGlvbnMgPSB7XG4gICAgICAgIG9uVG9nZ2xlckNsaWNrOiBvblRvZ2dsZXJDbGljayxcbiAgICAgICAgY2xhc3NOYW1lOiAncC10cmVlbm9kZS1sYWJlbCcsXG4gICAgICAgIGVsZW1lbnQ6IGNvbnRlbnQsXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkXG4gICAgICB9O1xuICAgICAgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMubm9kZVRlbXBsYXRlLCBwcm9wcy5ub2RlLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50O1xuICB9O1xuXG4gIHZhciBjcmVhdGVDaGVja2JveCA9IGZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KCkge1xuICAgIGlmIChpc0NoZWNrYm94U2VsZWN0aW9uTW9kZSgpICYmIHByb3BzLm5vZGUuc2VsZWN0YWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgIHZhciBjaGVja2VkID0gaXNDaGVja2VkKCk7XG4gICAgICB2YXIgcGFydGlhbENoZWNrZWQgPSBpc1BhcnRpYWxDaGVja2VkKCk7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jaGVja2JveC1ib3gnLCB7XG4gICAgICAgICdwLWhpZ2hsaWdodCc6IGNoZWNrZWQsXG4gICAgICAgICdwLWluZGV0ZXJtaW5hdGUnOiBwYXJ0aWFsQ2hlY2tlZCxcbiAgICAgICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZFxuICAgICAgfSk7XG4gICAgICB2YXIgaWNvbiA9IGNsYXNzTmFtZXMoJ3AtY2hlY2tib3gtaWNvbiBwLWMnLCB7XG4gICAgICAgICdwaSBwaS1jaGVjayc6IGNoZWNrZWQsXG4gICAgICAgICdwaSBwaS1taW51cyc6IHBhcnRpYWxDaGVja2VkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWNoZWNrYm94IHAtY29tcG9uZW50XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIHJvbGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgXCJhcmlhLWNoZWNrZWRcIjogY2hlY2tlZFxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBpY29uXG4gICAgICB9KSkpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJY29uID0gZnVuY3Rpb24gY3JlYXRlSWNvbigpIHtcbiAgICB2YXIgaWNvbiA9IHByb3BzLm5vZGUuaWNvbiB8fCAoZXhwYW5kZWQgPyBwcm9wcy5ub2RlLmV4cGFuZGVkSWNvbiA6IHByb3BzLm5vZGUuY29sbGFwc2VkSWNvbik7XG5cbiAgICBpZiAoaWNvbikge1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdHJlZW5vZGUtaWNvbicsIGljb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlVG9nZ2xlciA9IGZ1bmN0aW9uIGNyZWF0ZVRvZ2dsZXIoKSB7XG4gICAgdmFyIGljb25DbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXRyZWUtdG9nZ2xlci1pY29uIHBpIHBpLWZ3Jywge1xuICAgICAgJ3BpLWNoZXZyb24tcmlnaHQnOiAhZXhwYW5kZWQsXG4gICAgICAncGktY2hldnJvbi1kb3duJzogZXhwYW5kZWRcbiAgICB9KTtcbiAgICB2YXIgY29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IFwicC10cmVlLXRvZ2dsZXIgcC1saW5rXCIsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBvbkNsaWNrOiBvblRvZ2dsZXJDbGlja1xuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGljb25DbGFzc05hbWVcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG5cbiAgICBpZiAocHJvcHMudG9nZ2xlclRlbXBsYXRlKSB7XG4gICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICBvbkNsaWNrOiBvblRvZ2dsZXJDbGljayxcbiAgICAgICAgY29udGFpbmVyQ2xhc3NOYW1lOiAncC10cmVlLXRvZ2dsZXIgcC1saW5rJyxcbiAgICAgICAgaWNvbkNsYXNzTmFtZTogJ3AtdHJlZS10b2dnbGVyLWljb24nLFxuICAgICAgICBlbGVtZW50OiBjb250ZW50LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIGV4cGFuZGVkOiBleHBhbmRlZFxuICAgICAgfTtcbiAgICAgIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnRvZ2dsZXJUZW1wbGF0ZSwgcHJvcHMubm9kZSwgZGVmYXVsdENvbnRlbnRPcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbiAgfTtcblxuICB2YXIgY3JlYXRlRHJvcFBvaW50ID0gZnVuY3Rpb24gY3JlYXRlRHJvcFBvaW50KHBvc2l0aW9uKSB7XG4gICAgaWYgKHByb3BzLmRyYWdkcm9wU2NvcGUpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdHJlZW5vZGUtZHJvcHBvaW50XCIsXG4gICAgICAgIG9uRHJvcDogZnVuY3Rpb24gb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG9uRHJvcFBvaW50KGV2ZW50LCBwb3NpdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRHJhZ092ZXI6IG9uRHJvcFBvaW50RHJhZ092ZXIsXG4gICAgICAgIG9uRHJhZ0VudGVyOiBvbkRyb3BQb2ludERyYWdFbnRlcixcbiAgICAgICAgb25EcmFnTGVhdmU6IG9uRHJvcFBvaW50RHJhZ0xlYXZlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgdmFyIHNlbGVjdGVkID0gaXNTZWxlY3RlZCgpO1xuICAgIHZhciBjaGVja2VkID0gaXNDaGVja2VkKCk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdHJlZW5vZGUtY29udGVudCcsIHByb3BzLm5vZGUuY2xhc3NOYW1lLCB7XG4gICAgICAncC10cmVlbm9kZS1zZWxlY3RhYmxlJzogcHJvcHMuc2VsZWN0aW9uTW9kZSAmJiBwcm9wcy5ub2RlLnNlbGVjdGFibGUgIT09IGZhbHNlLFxuICAgICAgJ3AtaGlnaGxpZ2h0JzogaXNDaGVja2JveFNlbGVjdGlvbk1vZGUoKSA/IGNoZWNrZWQgOiBzZWxlY3RlZCxcbiAgICAgICdwLWhpZ2hsaWdodC1jb250ZXh0bWVudSc6IHByb3BzLmNvbnRleHRNZW51U2VsZWN0aW9uS2V5ICYmIHByb3BzLmNvbnRleHRNZW51U2VsZWN0aW9uS2V5ID09PSBwcm9wcy5ub2RlLmtleSxcbiAgICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgICB9KTtcbiAgICB2YXIgdG9nZ2xlciA9IGNyZWF0ZVRvZ2dsZXIoKTtcbiAgICB2YXIgY2hlY2tib3ggPSBjcmVhdGVDaGVja2JveCgpO1xuICAgIHZhciBpY29uID0gY3JlYXRlSWNvbigpO1xuICAgIHZhciBsYWJlbCA9IGNyZWF0ZUxhYmVsKCk7XG4gICAgdmFyIHRhYkluZGV4ID0gcHJvcHMuZGlzYWJsZWQgPyB1bmRlZmluZWQgOiAwO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICByZWY6IGNvbnRlbnRSZWYsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5ub2RlLnN0eWxlLFxuICAgICAgb25DbGljazogb25DbGljayxcbiAgICAgIG9uRG91YmxlQ2xpY2s6IG9uRG91YmxlQ2xpY2ssXG4gICAgICBvbkNvbnRleHRNZW51OiBvblJpZ2h0Q2xpY2ssXG4gICAgICBvblRvdWNoRW5kOiBvblRvdWNoRW5kLFxuICAgICAgZHJhZ2dhYmxlOiBwcm9wcy5kcmFnZHJvcFNjb3BlICYmIHByb3BzLm5vZGUuZHJhZ2dhYmxlICE9PSBmYWxzZSAmJiAhcHJvcHMuZGlzYWJsZWQsXG4gICAgICBvbkRyb3A6IG9uRHJvcCxcbiAgICAgIG9uRHJhZ092ZXI6IG9uRHJhZ092ZXIsXG4gICAgICBvbkRyYWdFbnRlcjogb25EcmFnRW50ZXIsXG4gICAgICBvbkRyYWdMZWF2ZTogb25EcmFnTGVhdmUsXG4gICAgICBvbkRyYWdTdGFydDogb25EcmFnU3RhcnQsXG4gICAgICBvbkRyYWdFbmQ6IG9uRHJhZ0VuZCxcbiAgICAgIHRhYkluZGV4OiB0YWJJbmRleCxcbiAgICAgIG9uS2V5RG93bjogb25Ob2RlS2V5RG93bixcbiAgICAgIHJvbGU6IFwidHJlZWl0ZW1cIixcbiAgICAgIFwiYXJpYS1wb3NpbnNldFwiOiBwcm9wcy5pbmRleCArIDEsXG4gICAgICBcImFyaWEtZXhwYW5kZWRcIjogZXhwYW5kZWQsXG4gICAgICBcImFyaWEtc2VsZWN0ZWRcIjogY2hlY2tlZCB8fCBzZWxlY3RlZFxuICAgIH0sIHRvZ2dsZXIsIGNoZWNrYm94LCBpY29uLCBsYWJlbCk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNoaWxkcmVuID0gZnVuY3Rpb24gY3JlYXRlQ2hpbGRyZW4oKSB7XG4gICAgaWYgKE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMubm9kZS5jaGlsZHJlbikgJiYgZXhwYW5kZWQpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdHJlZW5vZGUtY2hpbGRyZW5cIixcbiAgICAgICAgcm9sZTogXCJncm91cFwiXG4gICAgICB9LCBwcm9wcy5ub2RlLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGROb2RlLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVUlUcmVlTm9kZSwge1xuICAgICAgICAgIGtleTogY2hpbGROb2RlLmtleSB8fCBjaGlsZE5vZGUubGFiZWwsXG4gICAgICAgICAgbm9kZTogY2hpbGROb2RlLFxuICAgICAgICAgIHBhcmVudDogcHJvcHMubm9kZSxcbiAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgbGFzdDogaW5kZXggPT09IHByb3BzLm5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMSxcbiAgICAgICAgICBwYXRoOiBwcm9wcy5wYXRoICsgJy0nICsgaW5kZXgsXG4gICAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgICAgIHNlbGVjdGlvbk1vZGU6IHByb3BzLnNlbGVjdGlvbk1vZGUsXG4gICAgICAgICAgc2VsZWN0aW9uS2V5czogcHJvcHMuc2VsZWN0aW9uS2V5cyxcbiAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZTogcHJvcHMub25TZWxlY3Rpb25DaGFuZ2UsXG4gICAgICAgICAgbWV0YUtleVNlbGVjdGlvbjogcHJvcHMubWV0YUtleVNlbGVjdGlvbixcbiAgICAgICAgICBwcm9wYWdhdGVTZWxlY3Rpb25Eb3duOiBwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25Eb3duLFxuICAgICAgICAgIHByb3BhZ2F0ZVNlbGVjdGlvblVwOiBwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25VcCxcbiAgICAgICAgICBjb250ZXh0TWVudVNlbGVjdGlvbktleTogcHJvcHMuY29udGV4dE1lbnVTZWxlY3Rpb25LZXksXG4gICAgICAgICAgb25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZTogcHJvcHMub25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZSxcbiAgICAgICAgICBvbkNvbnRleHRNZW51OiBwcm9wcy5vbkNvbnRleHRNZW51LFxuICAgICAgICAgIG9uRXhwYW5kOiBwcm9wcy5vbkV4cGFuZCxcbiAgICAgICAgICBvbkNvbGxhcHNlOiBwcm9wcy5vbkNvbGxhcHNlLFxuICAgICAgICAgIG9uU2VsZWN0OiBwcm9wcy5vblNlbGVjdCxcbiAgICAgICAgICBvblVuc2VsZWN0OiBwcm9wcy5vblVuc2VsZWN0LFxuICAgICAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgb25Eb3VibGVDbGljazogcHJvcHMub25Eb3VibGVDbGljayxcbiAgICAgICAgICBleHBhbmRlZEtleXM6IHByb3BzLmV4cGFuZGVkS2V5cyxcbiAgICAgICAgICBvblRvZ2dsZTogcHJvcHMub25Ub2dnbGUsXG4gICAgICAgICAgb25Qcm9wYWdhdGVVcDogcHJvcGFnYXRlVXAsXG4gICAgICAgICAgbm9kZVRlbXBsYXRlOiBwcm9wcy5ub2RlVGVtcGxhdGUsXG4gICAgICAgICAgdG9nZ2xlclRlbXBsYXRlOiBwcm9wcy50b2dnbGVyVGVtcGxhdGUsXG4gICAgICAgICAgaXNOb2RlTGVhZjogcHJvcHMuaXNOb2RlTGVhZixcbiAgICAgICAgICBkcmFnZHJvcFNjb3BlOiBwcm9wcy5kcmFnZHJvcFNjb3BlLFxuICAgICAgICAgIG9uRHJhZ1N0YXJ0OiBwcm9wcy5vbkRyYWdTdGFydCxcbiAgICAgICAgICBvbkRyYWdFbmQ6IHByb3BzLm9uRHJhZ0VuZCxcbiAgICAgICAgICBvbkRyb3A6IHByb3BzLm9uRHJvcCxcbiAgICAgICAgICBvbkRyb3BQb2ludDogcHJvcHMub25Ecm9wUG9pbnRcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU5vZGUgPSBmdW5jdGlvbiBjcmVhdGVOb2RlKCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXRyZWVub2RlJywge1xuICAgICAgJ3AtdHJlZW5vZGUtbGVhZic6IGlzTGVhZlxuICAgIH0sIHByb3BzLm5vZGUuY2xhc3NOYW1lKTtcbiAgICB2YXIgY29udGVudCA9IGNyZWF0ZUNvbnRlbnQoKTtcbiAgICB2YXIgY2hpbGRyZW4gPSBjcmVhdGVDaGlsZHJlbigpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHByb3BzLm5vZGUuc3R5bGVcbiAgICB9LCBjb250ZW50LCBjaGlsZHJlbik7XG4gIH07XG5cbiAgdmFyIG5vZGUgPSBjcmVhdGVOb2RlKCk7XG5cbiAgaWYgKHByb3BzLmRyYWdkcm9wU2NvcGUgJiYgIXByb3BzLmRpc2FibGVkKSB7XG4gICAgdmFyIGJlZm9yZURyb3BQb2ludCA9IGNyZWF0ZURyb3BQb2ludCgtMSk7XG4gICAgdmFyIGFmdGVyRHJvcFBvaW50ID0gcHJvcHMubGFzdCA/IGNyZWF0ZURyb3BQb2ludCgxKSA6IG51bGw7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBiZWZvcmVEcm9wUG9pbnQsIG5vZGUsIGFmdGVyRHJvcFBvaW50KTtcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufSk7XG5VSVRyZWVOb2RlLmRpc3BsYXlOYW1lID0gJ1VJVHJlZU5vZGUnO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxudmFyIFRyZWUgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKCcnKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgZmlsdGVyVmFsdWVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGaWx0ZXJWYWx1ZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLmV4cGFuZGVkS2V5cyksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMywgMiksXG4gICAgICBleHBhbmRlZEtleXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRFeHBhbmRlZEtleXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG5cbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBmaWx0ZXJlZE5vZGVzID0gUmVhY3QudXNlUmVmKFtdKTtcbiAgdmFyIGRyYWdTdGF0ZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGZpbHRlckNoYW5nZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgZmlsdGVyZWRWYWx1ZSA9IHByb3BzLm9uRmlsdGVyVmFsdWVDaGFuZ2UgPyBwcm9wcy5maWx0ZXJWYWx1ZSA6IGZpbHRlclZhbHVlU3RhdGU7XG4gIHZhciBleHBhbmRlZEtleXMgPSBwcm9wcy5vblRvZ2dsZSA/IHByb3BzLmV4cGFuZGVkS2V5cyA6IGV4cGFuZGVkS2V5c1N0YXRlO1xuICB2YXIgZmlsdGVyT3B0aW9ucyA9IHtcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihlKSB7XG4gICAgICByZXR1cm4gb25GaWx0ZXJJbnB1dENoYW5nZShlKTtcbiAgICB9LFxuICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHJldHVybiByZXNldEZpbHRlcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0Um9vdE5vZGUgPSBmdW5jdGlvbiBnZXRSb290Tm9kZSgpIHtcbiAgICByZXR1cm4gcHJvcHMuZmlsdGVyICYmIGZpbHRlcmVkTm9kZXMuY3VycmVudCA/IGZpbHRlcmVkTm9kZXMuY3VycmVudCA6IHByb3BzLnZhbHVlO1xuICB9O1xuXG4gIHZhciBvblRvZ2dsZSA9IGZ1bmN0aW9uIG9uVG9nZ2xlKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uVG9nZ2xlKSB7XG4gICAgICBwcm9wcy5vblRvZ2dsZShldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEV4cGFuZGVkS2V5c1N0YXRlKGV2ZW50LnZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gb25EcmFnU3RhcnQoZXZlbnQpIHtcbiAgICBkcmFnU3RhdGUuY3VycmVudCA9IHtcbiAgICAgIHBhdGg6IGV2ZW50LnBhdGgsXG4gICAgICBpbmRleDogZXZlbnQuaW5kZXhcbiAgICB9O1xuICB9O1xuXG4gIHZhciBvbkRyYWdFbmQgPSBmdW5jdGlvbiBvbkRyYWdFbmQoKSB7XG4gICAgZHJhZ1N0YXRlLmN1cnJlbnQgPSBudWxsO1xuICB9O1xuXG4gIHZhciBvbkRyb3AgPSBmdW5jdGlvbiBvbkRyb3AoZXZlbnQpIHtcbiAgICBpZiAodmFsaWRhdGVEcm9wTm9kZShkcmFnU3RhdGUuY3VycmVudC5wYXRoLCBldmVudC5wYXRoKSkge1xuICAgICAgdmFyIHZhbHVlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9wcy52YWx1ZSkpO1xuICAgICAgdmFyIGRyYWdQYXRocyA9IGRyYWdTdGF0ZS5jdXJyZW50LnBhdGguc3BsaXQoJy0nKTtcbiAgICAgIGRyYWdQYXRocy5wb3AoKTtcbiAgICAgIHZhciBkcmFnTm9kZVBhcmVudCA9IGZpbmROb2RlKHZhbHVlLCBkcmFnUGF0aHMpO1xuICAgICAgdmFyIGRyYWdOb2RlID0gZHJhZ05vZGVQYXJlbnQgPyBkcmFnTm9kZVBhcmVudC5jaGlsZHJlbltkcmFnU3RhdGUuY3VycmVudC5pbmRleF0gOiB2YWx1ZVtkcmFnU3RhdGUuY3VycmVudC5pbmRleF07XG4gICAgICB2YXIgZHJvcE5vZGUgPSBmaW5kTm9kZSh2YWx1ZSwgZXZlbnQucGF0aC5zcGxpdCgnLScpKTtcbiAgICAgIGlmIChkcm9wTm9kZS5jaGlsZHJlbikgZHJvcE5vZGUuY2hpbGRyZW4ucHVzaChkcmFnTm9kZSk7ZWxzZSBkcm9wTm9kZS5jaGlsZHJlbiA9IFtkcmFnTm9kZV07XG4gICAgICBpZiAoZHJhZ05vZGVQYXJlbnQpIGRyYWdOb2RlUGFyZW50LmNoaWxkcmVuLnNwbGljZShkcmFnU3RhdGUuY3VycmVudC5pbmRleCwgMSk7ZWxzZSB2YWx1ZS5zcGxpY2UoZHJhZ1N0YXRlLmN1cnJlbnQuaW5kZXgsIDEpO1xuXG4gICAgICBpZiAocHJvcHMub25EcmFnRHJvcCkge1xuICAgICAgICBwcm9wcy5vbkRyYWdEcm9wKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBkcmFnTm9kZTogZHJhZ05vZGUsXG4gICAgICAgICAgZHJvcE5vZGU6IGRyb3BOb2RlLFxuICAgICAgICAgIGRyb3BJbmRleDogZXZlbnQuaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRyb3BQb2ludCA9IGZ1bmN0aW9uIG9uRHJvcFBvaW50KGV2ZW50KSB7XG4gICAgaWYgKHZhbGlkYXRlRHJvcFBvaW50KGV2ZW50KSkge1xuICAgICAgdmFyIHZhbHVlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9wcy52YWx1ZSkpO1xuICAgICAgdmFyIGRyYWdQYXRocyA9IGRyYWdTdGF0ZS5jdXJyZW50LnBhdGguc3BsaXQoJy0nKTtcbiAgICAgIGRyYWdQYXRocy5wb3AoKTtcbiAgICAgIHZhciBkcm9wUGF0aHMgPSBldmVudC5wYXRoLnNwbGl0KCctJyk7XG4gICAgICBkcm9wUGF0aHMucG9wKCk7XG4gICAgICB2YXIgZHJhZ05vZGVQYXJlbnQgPSBmaW5kTm9kZSh2YWx1ZSwgZHJhZ1BhdGhzKTtcbiAgICAgIHZhciBkcm9wTm9kZVBhcmVudCA9IGZpbmROb2RlKHZhbHVlLCBkcm9wUGF0aHMpO1xuICAgICAgdmFyIGRyYWdOb2RlID0gZHJhZ05vZGVQYXJlbnQgPyBkcmFnTm9kZVBhcmVudC5jaGlsZHJlbltkcmFnU3RhdGUuY3VycmVudC5pbmRleF0gOiB2YWx1ZVtkcmFnU3RhdGUuY3VycmVudC5pbmRleF07XG4gICAgICB2YXIgc2libGluZ3MgPSBhcmVTaWJsaW5ncyhkcmFnU3RhdGUuY3VycmVudC5wYXRoLCBldmVudC5wYXRoKTtcbiAgICAgIGlmIChkcmFnTm9kZVBhcmVudCkgZHJhZ05vZGVQYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGRyYWdTdGF0ZS5jdXJyZW50LmluZGV4LCAxKTtlbHNlIHZhbHVlLnNwbGljZShkcmFnU3RhdGUuY3VycmVudC5pbmRleCwgMSk7XG5cbiAgICAgIGlmIChldmVudC5wb3NpdGlvbiA8IDApIHtcbiAgICAgICAgdmFyIGRyb3BJbmRleCA9IHNpYmxpbmdzID8gZHJhZ1N0YXRlLmN1cnJlbnQuaW5kZXggPiBldmVudC5pbmRleCA/IGV2ZW50LmluZGV4IDogZXZlbnQuaW5kZXggLSAxIDogZXZlbnQuaW5kZXg7XG4gICAgICAgIGlmIChkcm9wTm9kZVBhcmVudCkgZHJvcE5vZGVQYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGRyb3BJbmRleCwgMCwgZHJhZ05vZGUpO2Vsc2UgdmFsdWUuc3BsaWNlKGRyb3BJbmRleCwgMCwgZHJhZ05vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRyb3BOb2RlUGFyZW50KSBkcm9wTm9kZVBhcmVudC5jaGlsZHJlbi5wdXNoKGRyYWdOb2RlKTtlbHNlIHZhbHVlLnB1c2goZHJhZ05vZGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMub25EcmFnRHJvcCkge1xuICAgICAgICBwcm9wcy5vbkRyYWdEcm9wKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBkcmFnTm9kZTogZHJhZ05vZGUsXG4gICAgICAgICAgZHJvcE5vZGU6IGRyb3BOb2RlUGFyZW50LFxuICAgICAgICAgIGRyb3BJbmRleDogZXZlbnQuaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciB2YWxpZGF0ZURyb3AgPSBmdW5jdGlvbiB2YWxpZGF0ZURyb3AoZHJhZ1BhdGgsIGRyb3BQYXRoKSB7XG4gICAgaWYgKCFkcmFnUGF0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL3NhbWUgbm9kZVxuICAgICAgaWYgKGRyYWdQYXRoID09PSBkcm9wUGF0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IC8vcGFyZW50IGRyb3BwZWQgb24gYW4gZGVzY2VuZGFudFxuXG5cbiAgICAgIGlmIChkcm9wUGF0aC5pbmRleE9mKGRyYWdQYXRoKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdmFsaWRhdGVEcm9wTm9kZSA9IGZ1bmN0aW9uIHZhbGlkYXRlRHJvcE5vZGUoZHJhZ1BhdGgsIGRyb3BQYXRoKSB7XG4gICAgdmFyIF92YWxpZGF0ZURyb3AgPSB2YWxpZGF0ZURyb3AoZHJhZ1BhdGgsIGRyb3BQYXRoKTtcblxuICAgIGlmIChfdmFsaWRhdGVEcm9wKSB7XG4gICAgICAvL2NoaWxkIGRyb3BwZWQgb24gcGFyZW50XG4gICAgICBpZiAoZHJhZ1BhdGguaW5kZXhPZignLScpID4gMCAmJiBkcmFnUGF0aC5zdWJzdHJpbmcoMCwgZHJhZ1BhdGgubGFzdEluZGV4T2YoJy0nKSkgPT09IGRyb3BQYXRoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHZhbGlkYXRlRHJvcFBvaW50ID0gZnVuY3Rpb24gdmFsaWRhdGVEcm9wUG9pbnQoZXZlbnQpIHtcbiAgICB2YXIgX3ZhbGlkYXRlRHJvcCA9IHZhbGlkYXRlRHJvcChkcmFnU3RhdGUuY3VycmVudC5wYXRoLCBldmVudC5wYXRoKTtcblxuICAgIGlmIChfdmFsaWRhdGVEcm9wKSB7XG4gICAgICAvL2NoaWxkIGRyb3BwZWQgdG8gbmV4dCBzaWJsaW5nJ3MgZHJvcCBwb2ludFxuICAgICAgaWYgKGV2ZW50LnBvc2l0aW9uID09PSAtMSAmJiBhcmVTaWJsaW5ncyhkcmFnU3RhdGUuY3VycmVudC5wYXRoLCBldmVudC5wYXRoKSAmJiBkcmFnU3RhdGUuY3VycmVudC5pbmRleCArIDEgPT09IGV2ZW50LmluZGV4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGFyZVNpYmxpbmdzID0gZnVuY3Rpb24gYXJlU2libGluZ3MocGF0aDEsIHBhdGgyKSB7XG4gICAgaWYgKHBhdGgxLmxlbmd0aCA9PT0gMSAmJiBwYXRoMi5sZW5ndGggPT09IDEpIHJldHVybiB0cnVlO2Vsc2UgcmV0dXJuIHBhdGgxLnN1YnN0cmluZygwLCBwYXRoMS5sYXN0SW5kZXhPZignLScpKSA9PT0gcGF0aDIuc3Vic3RyaW5nKDAsIHBhdGgyLmxhc3RJbmRleE9mKCctJykpO1xuICB9O1xuXG4gIHZhciBmaW5kTm9kZSA9IGZ1bmN0aW9uIGZpbmROb2RlKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQocGF0aFswXSwgMTApO1xuICAgICAgdmFyIG5leHRTZWFyY2hSb290ID0gdmFsdWUuY2hpbGRyZW4gPyB2YWx1ZS5jaGlsZHJlbltpbmRleF0gOiB2YWx1ZVtpbmRleF07XG5cbiAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gbmV4dFNlYXJjaFJvb3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBmaW5kTm9kZShuZXh0U2VhcmNoUm9vdCwgcGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc05vZGVMZWFmID0gZnVuY3Rpb24gaXNOb2RlTGVhZihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubGVhZiA9PT0gZmFsc2UgPyBmYWxzZSA6ICEobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIG9uRmlsdGVySW5wdXRLZXlEb3duID0gZnVuY3Rpb24gb25GaWx0ZXJJbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICAvL2VudGVyXG4gICAgaWYgKGV2ZW50LndoaWNoID09PSAxMykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRmlsdGVySW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiBvbkZpbHRlcklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgZmlsdGVyQ2hhbmdlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB2YXIgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG5cbiAgICBpZiAocHJvcHMub25GaWx0ZXJWYWx1ZUNoYW5nZSkge1xuICAgICAgcHJvcHMub25GaWx0ZXJWYWx1ZUNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRGaWx0ZXJWYWx1ZVN0YXRlKHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uIGZpbHRlcih2YWx1ZSkge1xuICAgIHNldEZpbHRlclZhbHVlU3RhdGUoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6ICcnKTtcblxuICAgIF9maWx0ZXIoKTtcbiAgfTtcblxuICB2YXIgX2ZpbHRlciA9IGZ1bmN0aW9uIF9maWx0ZXIoKSB7XG4gICAgaWYgKCFmaWx0ZXJDaGFuZ2VkLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0VXRpbHMuaXNFbXB0eShmaWx0ZXJlZFZhbHVlKSkge1xuICAgICAgZmlsdGVyZWROb2Rlcy5jdXJyZW50ID0gcHJvcHMudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlcmVkTm9kZXMuY3VycmVudCA9IFtdO1xuICAgICAgdmFyIHNlYXJjaEZpZWxkcyA9IHByb3BzLmZpbHRlckJ5LnNwbGl0KCcsJyk7XG4gICAgICB2YXIgZmlsdGVyVGV4dCA9IGZpbHRlcmVkVmFsdWUudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgIHZhciBpc1N0cmljdE1vZGUgPSBwcm9wcy5maWx0ZXJNb2RlID09PSAnc3RyaWN0JztcblxuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb3BzLnZhbHVlKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgdmFyIGNvcHlOb2RlID0gX29iamVjdFNwcmVhZCh7fSwgbm9kZSk7XG5cbiAgICAgICAgICB2YXIgcGFyYW1zV2l0aG91dE5vZGUgPSB7XG4gICAgICAgICAgICBzZWFyY2hGaWVsZHM6IHNlYXJjaEZpZWxkcyxcbiAgICAgICAgICAgIGZpbHRlclRleHQ6IGZpbHRlclRleHQsXG4gICAgICAgICAgICBpc1N0cmljdE1vZGU6IGlzU3RyaWN0TW9kZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoaXNTdHJpY3RNb2RlICYmIChmaW5kRmlsdGVyZWROb2Rlcyhjb3B5Tm9kZSwgcGFyYW1zV2l0aG91dE5vZGUpIHx8IGlzRmlsdGVyTWF0Y2hlZChjb3B5Tm9kZSwgcGFyYW1zV2l0aG91dE5vZGUpKSB8fCAhaXNTdHJpY3RNb2RlICYmIChpc0ZpbHRlck1hdGNoZWQoY29weU5vZGUsIHBhcmFtc1dpdGhvdXROb2RlKSB8fCBmaW5kRmlsdGVyZWROb2Rlcyhjb3B5Tm9kZSwgcGFyYW1zV2l0aG91dE5vZGUpKSkge1xuICAgICAgICAgICAgZmlsdGVyZWROb2Rlcy5jdXJyZW50LnB1c2goY29weU5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZpbHRlckNoYW5nZWQuY3VycmVudCA9IGZhbHNlO1xuICB9O1xuXG4gIHZhciBmaW5kRmlsdGVyZWROb2RlcyA9IGZ1bmN0aW9uIGZpbmRGaWx0ZXJlZE5vZGVzKG5vZGUsIHBhcmFtc1dpdGhvdXROb2RlKSB7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIHZhciBtYXRjaGVkID0gZmFsc2U7XG5cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBjaGlsZE5vZGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5vZGUuY2hpbGRyZW4pO1xuXG4gICAgICAgIG5vZGUuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNoaWxkTm9kZXMpLFxuICAgICAgICAgICAgX3N0ZXAyO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZE5vZGUgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBjb3B5Q2hpbGROb2RlID0gX29iamVjdFNwcmVhZCh7fSwgY2hpbGROb2RlKTtcblxuICAgICAgICAgICAgaWYgKGlzRmlsdGVyTWF0Y2hlZChjb3B5Q2hpbGROb2RlLCBwYXJhbXNXaXRob3V0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChjb3B5Q2hpbGROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgIG5vZGUuZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzRmlsdGVyTWF0Y2hlZCA9IGZ1bmN0aW9uIGlzRmlsdGVyTWF0Y2hlZChub2RlLCBfcmVmKSB7XG4gICAgdmFyIHNlYXJjaEZpZWxkcyA9IF9yZWYuc2VhcmNoRmllbGRzLFxuICAgICAgICBmaWx0ZXJUZXh0ID0gX3JlZi5maWx0ZXJUZXh0LFxuICAgICAgICBpc1N0cmljdE1vZGUgPSBfcmVmLmlzU3RyaWN0TW9kZTtcbiAgICB2YXIgbWF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzZWFyY2hGaWVsZHMpLFxuICAgICAgICBfc3RlcDM7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIGZpZWxkID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICB2YXIgZmllbGRWYWx1ZSA9IFN0cmluZyhPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG5vZGUsIGZpZWxkKSkudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKTtcblxuICAgICAgICBpZiAoZmllbGRWYWx1ZS5pbmRleE9mKGZpbHRlclRleHQpID4gLTEpIHtcbiAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgIH1cblxuICAgIGlmICghbWF0Y2hlZCB8fCBpc1N0cmljdE1vZGUgJiYgIWlzTm9kZUxlYWYobm9kZSkpIHtcbiAgICAgIG1hdGNoZWQgPSBmaW5kRmlsdGVyZWROb2Rlcyhub2RlLCB7XG4gICAgICAgIHNlYXJjaEZpZWxkczogc2VhcmNoRmllbGRzLFxuICAgICAgICBmaWx0ZXJUZXh0OiBmaWx0ZXJUZXh0LFxuICAgICAgICBpc1N0cmljdE1vZGU6IGlzU3RyaWN0TW9kZVxuICAgICAgfSkgfHwgbWF0Y2hlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hlZDtcbiAgfTtcblxuICB2YXIgcmVzZXRGaWx0ZXIgPSBmdW5jdGlvbiByZXNldEZpbHRlcigpIHtcbiAgICBzZXRGaWx0ZXJWYWx1ZVN0YXRlKCcnKTtcbiAgfTtcblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZVJvb3RDaGlsZCA9IGZ1bmN0aW9uIGNyZWF0ZVJvb3RDaGlsZChub2RlLCBpbmRleCwgbGFzdCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChVSVRyZWVOb2RlLCB7XG4gICAgICBrZXk6IG5vZGUua2V5IHx8IG5vZGUubGFiZWwsXG4gICAgICBub2RlOiBub2RlLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgbGFzdDogbGFzdCxcbiAgICAgIHBhdGg6IFN0cmluZyhpbmRleCksXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBzZWxlY3Rpb25Nb2RlOiBwcm9wcy5zZWxlY3Rpb25Nb2RlLFxuICAgICAgc2VsZWN0aW9uS2V5czogcHJvcHMuc2VsZWN0aW9uS2V5cyxcbiAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlOiBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSxcbiAgICAgIG1ldGFLZXlTZWxlY3Rpb246IHByb3BzLm1ldGFLZXlTZWxlY3Rpb24sXG4gICAgICBjb250ZXh0TWVudVNlbGVjdGlvbktleTogcHJvcHMuY29udGV4dE1lbnVTZWxlY3Rpb25LZXksXG4gICAgICBvbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlOiBwcm9wcy5vbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlLFxuICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25Db250ZXh0TWVudSxcbiAgICAgIHByb3BhZ2F0ZVNlbGVjdGlvbkRvd246IHByb3BzLnByb3BhZ2F0ZVNlbGVjdGlvbkRvd24sXG4gICAgICBwcm9wYWdhdGVTZWxlY3Rpb25VcDogcHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uVXAsXG4gICAgICBvbkV4cGFuZDogcHJvcHMub25FeHBhbmQsXG4gICAgICBvbkNvbGxhcHNlOiBwcm9wcy5vbkNvbGxhcHNlLFxuICAgICAgb25TZWxlY3Q6IHByb3BzLm9uU2VsZWN0LFxuICAgICAgb25VbnNlbGVjdDogcHJvcHMub25VbnNlbGVjdCxcbiAgICAgIGV4cGFuZGVkS2V5czogZXhwYW5kZWRLZXlzLFxuICAgICAgb25Ub2dnbGU6IG9uVG9nZ2xlLFxuICAgICAgbm9kZVRlbXBsYXRlOiBwcm9wcy5ub2RlVGVtcGxhdGUsXG4gICAgICB0b2dnbGVyVGVtcGxhdGU6IHByb3BzLnRvZ2dsZXJUZW1wbGF0ZSxcbiAgICAgIGlzTm9kZUxlYWY6IGlzTm9kZUxlYWYsXG4gICAgICBkcmFnZHJvcFNjb3BlOiBwcm9wcy5kcmFnZHJvcFNjb3BlLFxuICAgICAgb25EcmFnU3RhcnQ6IG9uRHJhZ1N0YXJ0LFxuICAgICAgb25EcmFnRW5kOiBvbkRyYWdFbmQsXG4gICAgICBvbkRyb3A6IG9uRHJvcCxcbiAgICAgIG9uRHJvcFBvaW50OiBvbkRyb3BQb2ludCxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uTm9kZUNsaWNrLFxuICAgICAgb25Eb3VibGVDbGljazogcHJvcHMub25Ob2RlRG91YmxlQ2xpY2tcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlUm9vdENoaWxkcmVuID0gZnVuY3Rpb24gY3JlYXRlUm9vdENoaWxkcmVuKCkge1xuICAgIGlmIChwcm9wcy5maWx0ZXIpIHtcbiAgICAgIGZpbHRlckNoYW5nZWQuY3VycmVudCA9IHRydWU7XG5cbiAgICAgIF9maWx0ZXIoKTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBnZXRSb290Tm9kZSgpO1xuICAgIHJldHVybiB2YWx1ZS5tYXAoZnVuY3Rpb24gKG5vZGUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gY3JlYXRlUm9vdENoaWxkKG5vZGUsIGluZGV4LCBpbmRleCA9PT0gdmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1vZGVsID0gZnVuY3Rpb24gY3JlYXRlTW9kZWwoKSB7XG4gICAgaWYgKHByb3BzLnZhbHVlKSB7XG4gICAgICB2YXIgcm9vdE5vZGVzID0gY3JlYXRlUm9vdENoaWxkcmVuKCk7XG4gICAgICB2YXIgY29udGVudENsYXNzID0gY2xhc3NOYW1lcygncC10cmVlLWNvbnRhaW5lcicsIHByb3BzLmNvbnRlbnRDbGFzc05hbWUpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNvbnRlbnRDbGFzcyxcbiAgICAgICAgcm9sZTogXCJ0cmVlXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBwcm9wcy5hcmlhTGFiZWwsXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLmFyaWFMYWJlbGxlZEJ5LFxuICAgICAgICBzdHlsZTogcHJvcHMuY29udGVudFN0eWxlXG4gICAgICB9LCByb290Tm9kZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVMb2FkZXIgPSBmdW5jdGlvbiBjcmVhdGVMb2FkZXIoKSB7XG4gICAgaWYgKHByb3BzLmxvYWRpbmcpIHtcbiAgICAgIHZhciBpY29uID0gY2xhc3NOYW1lcygncC10cmVlLWxvYWRpbmctaWNvbiBwaS1zcGluJywgcHJvcHMubG9hZGluZ0ljb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdHJlZS1sb2FkaW5nLW92ZXJsYXkgcC1jb21wb25lbnQtb3ZlcmxheVwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGljb25cbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlRmlsdGVyID0gZnVuY3Rpb24gY3JlYXRlRmlsdGVyKCkge1xuICAgIGlmIChwcm9wcy5maWx0ZXIpIHtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoZmlsdGVyZWRWYWx1ZSkgPyBmaWx0ZXJlZFZhbHVlIDogJyc7XG5cbiAgICAgIHZhciBfY29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdHJlZS1maWx0ZXItY29udGFpbmVyXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLXRyZWUtZmlsdGVyIHAtaW5wdXR0ZXh0IHAtY29tcG9uZW50XCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5maWx0ZXJQbGFjZWhvbGRlcixcbiAgICAgICAgb25LZXlEb3duOiBvbkZpbHRlcklucHV0S2V5RG93bixcbiAgICAgICAgb25DaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZFxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLXRyZWUtZmlsdGVyLWljb24gcGkgcGktc2VhcmNoXCJcbiAgICAgIH0pKTtcblxuICAgICAgaWYgKHByb3BzLmZpbHRlclRlbXBsYXRlKSB7XG4gICAgICAgIHZhciBkZWZhdWx0Q29udGVudE9wdGlvbnMgPSB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAncC10cmVlLWZpbHRlci1jb250YWluZXInLFxuICAgICAgICAgIGVsZW1lbnQ6IF9jb250ZW50LFxuICAgICAgICAgIGZpbHRlck9wdGlvbnM6IGZpbHRlck9wdGlvbnMsXG4gICAgICAgICAgZmlsdGVySW5wdXRLZXlEb3duOiBvbkZpbHRlcklucHV0S2V5RG93bixcbiAgICAgICAgICBmaWx0ZXJJbnB1dENoYW5nZTogb25GaWx0ZXJJbnB1dENoYW5nZSxcbiAgICAgICAgICBmaWx0ZXJJY29uQ2xhc3NOYW1lOiAncC1kcm9wZG93bi1maWx0ZXItaWNvbiBwaSBwaS1zZWFyY2gnLFxuICAgICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgICB9O1xuICAgICAgICBfY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuZmlsdGVyVGVtcGxhdGUsIGRlZmF1bHRDb250ZW50T3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgX2NvbnRlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVIZWFkZXIgPSBmdW5jdGlvbiBjcmVhdGVIZWFkZXIoKSB7XG4gICAgaWYgKHByb3BzLnNob3dIZWFkZXIpIHtcbiAgICAgIHZhciBmaWx0ZXJFbGVtZW50ID0gY3JlYXRlRmlsdGVyKCk7XG4gICAgICB2YXIgX2NvbnRlbnQyID0gZmlsdGVyRWxlbWVudDtcblxuICAgICAgaWYgKHByb3BzLmhlYWRlcikge1xuICAgICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICAgIGZpbHRlckNvbnRhaW5lckNsYXNzTmFtZTogJ3AtdHJlZS1maWx0ZXItY29udGFpbmVyJyxcbiAgICAgICAgICBmaWx0ZXJJY29uQ2xhc3NzTmFtZTogJ3AtdHJlZS1maWx0ZXItaWNvbiBwaSBwaS1zZWFyY2gnLFxuICAgICAgICAgIGZpbHRlcklucHV0OiB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdwLXRyZWUtZmlsdGVyIHAtaW5wdXR0ZXh0IHAtY29tcG9uZW50JyxcbiAgICAgICAgICAgIG9uS2V5RG93bjogb25GaWx0ZXJJbnB1dEtleURvd24sXG4gICAgICAgICAgICBvbkNoYW5nZTogb25GaWx0ZXJJbnB1dENoYW5nZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmlsdGVyRWxlbWVudDogZmlsdGVyRWxlbWVudCxcbiAgICAgICAgICBlbGVtZW50OiBfY29udGVudDIsXG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH07XG4gICAgICAgIF9jb250ZW50MiA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuaGVhZGVyLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC10cmVlLWhlYWRlclwiXG4gICAgICB9LCBfY29udGVudDIpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVGb290ZXIgPSBmdW5jdGlvbiBjcmVhdGVGb290ZXIoKSB7XG4gICAgdmFyIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmZvb3RlciwgcHJvcHMpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC10cmVlLWZvb3RlclwiXG4gICAgfSwgY29udGVudCk7XG4gIH07XG5cbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIFRyZWUuZGVmYXVsdFByb3BzKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdHJlZSBwLWNvbXBvbmVudCcsIHByb3BzLmNsYXNzTmFtZSwge1xuICAgICdwLXRyZWUtc2VsZWN0YWJsZSc6IHByb3BzLnNlbGVjdGlvbk1vZGUsXG4gICAgJ3AtdHJlZS1sb2FkaW5nJzogcHJvcHMubG9hZGluZyxcbiAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gIH0pO1xuICB2YXIgbG9hZGVyID0gY3JlYXRlTG9hZGVyKCk7XG4gIHZhciBjb250ZW50ID0gY3JlYXRlTW9kZWwoKTtcbiAgdmFyIGhlYWRlciA9IGNyZWF0ZUhlYWRlcigpO1xuICB2YXIgZm9vdGVyID0gY3JlYXRlRm9vdGVyKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgaWQ6IHByb3BzLmlkLFxuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgfSwgb3RoZXJQcm9wcyksIGxvYWRlciwgaGVhZGVyLCBjb250ZW50LCBmb290ZXIpO1xufSkpO1xuVHJlZS5kaXNwbGF5TmFtZSA9ICdUcmVlJztcblRyZWUuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdUcmVlJyxcbiAgaWQ6IG51bGwsXG4gIHZhbHVlOiBudWxsLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIHNlbGVjdGlvbk1vZGU6IG51bGwsXG4gIHNlbGVjdGlvbktleXM6IG51bGwsXG4gIG9uU2VsZWN0aW9uQ2hhbmdlOiBudWxsLFxuICBjb250ZXh0TWVudVNlbGVjdGlvbktleTogbnVsbCxcbiAgb25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZTogbnVsbCxcbiAgZXhwYW5kZWRLZXlzOiBudWxsLFxuICBzdHlsZTogbnVsbCxcbiAgY2xhc3NOYW1lOiBudWxsLFxuICBjb250ZW50U3R5bGU6IG51bGwsXG4gIGNvbnRlbnRDbGFzc05hbWU6IG51bGwsXG4gIG1ldGFLZXlTZWxlY3Rpb246IHRydWUsXG4gIHByb3BhZ2F0ZVNlbGVjdGlvblVwOiB0cnVlLFxuICBwcm9wYWdhdGVTZWxlY3Rpb25Eb3duOiB0cnVlLFxuICBsb2FkaW5nOiBmYWxzZSxcbiAgbG9hZGluZ0ljb246ICdwaSBwaS1zcGlubmVyJyxcbiAgZHJhZ2Ryb3BTY29wZTogbnVsbCxcbiAgaGVhZGVyOiBudWxsLFxuICBmb290ZXI6IG51bGwsXG4gIHNob3dIZWFkZXI6IHRydWUsXG4gIGZpbHRlcjogZmFsc2UsXG4gIGZpbHRlclZhbHVlOiBudWxsLFxuICBmaWx0ZXJCeTogJ2xhYmVsJyxcbiAgZmlsdGVyTW9kZTogJ2xlbmllbnQnLFxuICBmaWx0ZXJQbGFjZWhvbGRlcjogbnVsbCxcbiAgZmlsdGVyTG9jYWxlOiB1bmRlZmluZWQsXG4gIGZpbHRlclRlbXBsYXRlOiBudWxsLFxuICBub2RlVGVtcGxhdGU6IG51bGwsXG4gIHRvZ2dsZXJUZW1wbGF0ZTogbnVsbCxcbiAgb25TZWxlY3Q6IG51bGwsXG4gIG9uVW5zZWxlY3Q6IG51bGwsXG4gIG9uRXhwYW5kOiBudWxsLFxuICBvbkNvbGxhcHNlOiBudWxsLFxuICBvblRvZ2dsZTogbnVsbCxcbiAgb25EcmFnRHJvcDogbnVsbCxcbiAgb25Db250ZXh0TWVudTogbnVsbCxcbiAgb25GaWx0ZXJWYWx1ZUNoYW5nZTogbnVsbCxcbiAgb25Ob2RlQ2xpY2s6IG51bGwsXG4gIG9uTm9kZURvdWJsZUNsaWNrOiBudWxsXG59O1xuXG5leHBvcnQgeyBUcmVlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/tree/tree.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/treetable/treetable.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/treetable/treetable.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TreeTable\": function() { return /* binding */ TreeTable; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_paginator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/paginator */ \"./node_modules/primereact/paginator/paginator.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayLikeToArray$4(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$4(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray$4(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$4(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$4(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$4(arr, i) || _nonIterableRest();\n}\n\nfunction _readOnlyError(name) {\n  throw new TypeError(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nvar TreeTableBodyCell = function TreeTableBodyCell(props) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      editingState = _React$useState2[0],\n      setEditingState = _React$useState2[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var keyHelperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var selfClick = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var overlayEventListener = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var tabIndexTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n    type: 'click',\n    listener: function listener(e) {\n      if (!selfClick.current && isOutsideClicked(e.target)) {\n        switchCellToViewMode(e);\n      }\n\n      selfClick.current = false;\n    }\n  }),\n      _useEventListener2 = _slicedToArray(_useEventListener, 2),\n      bindDocumentClickListener = _useEventListener2[0],\n      unbindDocumentClickListener = _useEventListener2[1];\n\n  var onClick = function onClick() {\n    if (props.editor && !editingState && (props.selectOnEdit || !props.selectOnEdit && props.selected)) {\n      selfClick.current = true;\n      setEditingState(true);\n      bindDocumentClickListener();\n\n      overlayEventListener.current = function (e) {\n        if (!isOutsideClicked(e.target)) {\n          selfClick.current = true;\n        }\n      };\n\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_6__.OverlayService.on('overlay-click', overlayEventListener.current);\n    }\n  };\n\n  var onKeyDown = function onKeyDown(event) {\n    if (event.which === 13 || event.which === 9) {\n      switchCellToViewMode(event);\n    }\n  };\n\n  var isOutsideClicked = function isOutsideClicked(target) {\n    return elementRef.current && !(elementRef.current.isSameNode(target) || elementRef.current.contains(target));\n  };\n\n  var closeCell = function closeCell() {\n    /* When using the 'tab' key, the focus event of the next cell is not called in IE. */\n    setTimeout(function () {\n      setEditingState(false);\n      unbindDocumentClickListener();\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_6__.OverlayService.off('overlay-click', overlayEventListener.current);\n      _readOnlyError(\"overlayEventListener\");\n    }, 1);\n  };\n\n  var onEditorFocus = function onEditorFocus(event) {\n    onClick();\n  };\n\n  var switchCellToViewMode = function switchCellToViewMode(event) {\n    if (props.cellEditValidator) {\n      var valid = props.cellEditValidator({\n        originalEvent: event,\n        columnProps: props\n      });\n\n      if (valid) {\n        closeCell();\n      }\n    } else {\n      closeCell();\n    }\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (elementRef.current && props.editor) {\n      clearTimeout(tabIndexTimeout.current);\n\n      if (editingState) {\n        var focusable = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(elementRef.current, 'input');\n\n        if (focusable && document.activeElement !== focusable && !focusable.hasAttribute('data-isCellEditing')) {\n          focusable.setAttribute('data-isCellEditing', true);\n          focusable.focus();\n        }\n\n        keyHelperRef.current.tabIndex = -1;\n      } else {\n        tabIndexTimeout.current = setTimeout(function () {\n          if (keyHelperRef.current) {\n            keyHelperRef.current.setAttribute('tabindex', 0);\n          }\n        }, 50);\n      }\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(function () {\n    if (overlayEventListener.current) {\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_6__.OverlayService.off('overlay-click', overlayEventListener.current);\n      overlayEventListener.current = null;\n    }\n  });\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)(props.bodyClassName || props.className, {\n    'p-editable-column': props.editor,\n    'p-cell-editing': props.editor ? editingState : false\n  });\n  var style = props.bodyStyle || props.style;\n  var content;\n\n  if (editingState) {\n    if (props.editor) content = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.getJSXElement(props.editor, {\n      node: props.node,\n      rowData: props.node.data,\n      value: primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.resolveFieldData(props.node.data, props.field),\n      field: props.field,\n      rowIndex: props.rowIndex,\n      props: props\n    });else throw new Error('Editor is not found on column.');\n  } else {\n    if (props.body) content = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.getJSXElement(props.body, props.node, {\n      field: props.field,\n      rowIndex: props.rowIndex,\n      props: props\n    });else content = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.resolveFieldData(props.node.data, props.field);\n  }\n  /* eslint-disable */\n\n\n  var editorKeyHelper = props.editor && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", {\n    tabIndex: 0,\n    ref: keyHelperRef,\n    className: \"p-cell-editor-key-helper p-hidden-accessible\",\n    onFocus: onEditorFocus\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null));\n  /* eslint-enable */\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    ref: elementRef,\n    className: className,\n    style: style,\n    onClick: onClick,\n    onKeyDown: onKeyDown\n  }, props.children, editorKeyHelper, content);\n};\nTreeTableBodyCell.displayName = 'TreeTableBodyCell';\n\nfunction _createForOfIteratorHelper$3(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray$3(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen); }\n\nfunction _arrayLikeToArray$3(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar TreeTableRow = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var checkboxRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var checkboxBoxRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var nodeTouched = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var expanded = props.expandedKeys ? props.expandedKeys[props.node.key] !== undefined : false;\n\n  var onTogglerClick = function onTogglerClick(event) {\n    expanded ? collapse(event) : expand(event);\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  var expand = function expand(event) {\n    var expandedKeys = props.expandedKeys ? _objectSpread$2({}, props.expandedKeys) : {};\n    expandedKeys[props.node.key] = true;\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys\n    });\n    invokeToggleEvents(event, true);\n  };\n\n  var collapse = function collapse(event) {\n    var expandedKeys = _objectSpread$2({}, props.expandedKeys);\n\n    delete expandedKeys[props.node.key];\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys\n    });\n    invokeToggleEvents(event, false);\n  };\n\n  var invokeToggleEvents = function invokeToggleEvents(event, expanded) {\n    if (expanded) {\n      if (props.onExpand) {\n        props.onExpand({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    } else {\n      if (props.onCollapse) {\n        props.onCollapse({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    }\n  };\n\n  var onClick = function onClick(event) {\n    if (props.onRowClick) {\n      props.onRowClick(event, props.node);\n    }\n\n    nodeTouched.current = false;\n  };\n\n  var onTouchEnd = function onTouchEnd() {\n    nodeTouched.current = true;\n  };\n\n  var onCheckboxChange = function onCheckboxChange(event) {\n    var checked = isChecked();\n    var selectionKeys = props.selectionKeys ? _objectSpread$2({}, props.selectionKeys) : {};\n\n    if (checked) {\n      if (props.propagateSelectionDown) propagateDown(props.node, false, selectionKeys);else delete selectionKeys[props.node.key];\n\n      if (props.propagateSelectionUp && props.onPropagateUp) {\n        props.onPropagateUp({\n          originalEvent: event,\n          check: false,\n          selectionKeys: selectionKeys\n        });\n      }\n\n      if (props.onUnselect) {\n        props.onUnselect({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    } else {\n      if (props.propagateSelectionDown) propagateDown(props.node, true, selectionKeys);else selectionKeys[props.node.key] = {\n        checked: true\n      };\n\n      if (props.propagateSelectionUp && props.onPropagateUp) {\n        props.onPropagateUp({\n          originalEvent: event,\n          check: true,\n          selectionKeys: selectionKeys\n        });\n      }\n\n      if (props.onSelect) {\n        props.onSelect({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    }\n\n    if (props.onSelectionChange) {\n      props.onSelectionChange({\n        originalEvent: event,\n        value: selectionKeys\n      });\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.clearSelection();\n  };\n\n  var onCheckboxFocus = function onCheckboxFocus() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.addClass(checkboxBoxRef.current, 'p-focus');\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.addClass(checkboxRef.current, 'p-checkbox-focused');\n  };\n\n  var onCheckboxBlur = function onCheckboxBlur() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.removeClass(checkboxBoxRef.current, 'p-focus');\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.removeClass(checkboxRef.current, 'p-checkbox-focused');\n  };\n\n  var propagateUp = function propagateUp(event) {\n    var check = event.check;\n    var selectionKeys = event.selectionKeys;\n    var checkedChildCount = 0;\n    var childPartialSelected = false;\n\n    var _iterator = _createForOfIteratorHelper$3(props.node.children),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var child = _step.value;\n        if (selectionKeys[child.key] && selectionKeys[child.key].checked) checkedChildCount++;else if (selectionKeys[child.key] && selectionKeys[child.key].partialChecked) childPartialSelected = true;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (check && checkedChildCount === props.node.children.length) {\n      selectionKeys[props.node.key] = {\n        checked: true,\n        partialChecked: false\n      };\n    } else {\n      if (!check) {\n        delete selectionKeys[props.node.key];\n      }\n\n      if (childPartialSelected || checkedChildCount > 0 && checkedChildCount !== props.node.children.length) selectionKeys[props.node.key] = {\n        checked: false,\n        partialChecked: true\n      };else selectionKeys[props.node.key] = {\n        checked: false,\n        partialChecked: false\n      };\n    }\n\n    if (props.propagateSelectionUp && props.onPropagateUp) {\n      props.onPropagateUp(event);\n    }\n  };\n\n  var propagateDown = function propagateDown(node, check, selectionKeys) {\n    if (check) selectionKeys[node.key] = {\n      checked: true,\n      partialChecked: false\n    };else delete selectionKeys[node.key];\n\n    if (node.children && node.children.length) {\n      for (var i = 0; i < node.children.length; i++) {\n        propagateDown(node.children[i], check, selectionKeys);\n      }\n    }\n  };\n\n  var onRightClick = function onRightClick(event) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.clearSelection();\n\n    if (props.onContextMenuSelectionChange) {\n      props.onContextMenuSelectionChange({\n        originalEvent: event,\n        value: props.node.key\n      });\n    }\n\n    if (props.onContextMenu) {\n      props.onContextMenu({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n  };\n\n  var onKeyDown = function onKeyDown(event) {\n    if (event.target === elementRef.current) {\n      var rowElement = event.currentTarget;\n\n      switch (event.which) {\n        //down arrow\n        case 40:\n          var nextRow = rowElement.nextElementSibling;\n\n          if (nextRow) {\n            nextRow.focus();\n          }\n\n          event.preventDefault();\n          break;\n        //up arrow\n\n        case 38:\n          var previousRow = rowElement.previousElementSibling;\n\n          if (previousRow) {\n            previousRow.focus();\n          }\n\n          event.preventDefault();\n          break;\n        //right arrow\n\n        case 39:\n          if (!expanded) {\n            expand(event);\n          }\n\n          event.preventDefault();\n          break;\n        //left arrow\n\n        case 37:\n          if (expanded) {\n            collapse(event);\n          }\n\n          event.preventDefault();\n          break;\n        //enter\n\n        case 13:\n          onClick(event);\n          event.preventDefault();\n          break;\n      }\n    }\n  };\n\n  var isSelected = function isSelected() {\n    if ((props.selectionMode === 'single' || props.selectionMode === 'multiple') && props.selectionKeys) return props.selectionMode === 'single' ? props.selectionKeys === props.node.key : props.selectionKeys[props.node.key] !== undefined;else return false;\n  };\n\n  var isChecked = function isChecked() {\n    return props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].checked : false;\n  };\n\n  var isPartialChecked = function isPartialChecked() {\n    return props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].partialChecked : false;\n  };\n\n  var createToggler = function createToggler() {\n    var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-treetable-toggler-icon pi pi-fw', {\n      'pi-chevron-right': !expanded,\n      'pi-chevron-down': expanded\n    });\n    var style = {\n      marginLeft: props.level * 16 + 'px',\n      visibility: props.node.leaf === false || props.node.children && props.node.children.length ? 'visible' : 'hidden'\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: \"p-treetable-toggler p-link p-unselectable-text\",\n      onClick: onTogglerClick,\n      tabIndex: -1,\n      style: style\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n      className: iconClassName\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_5__.Ripple, null));\n  };\n\n  var createCheckbox = function createCheckbox() {\n    if (props.selectionMode === 'checkbox' && props.node.selectable !== false) {\n      var checked = isChecked();\n      var partialChecked = isPartialChecked();\n\n      var _className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-checkbox-box', {\n        'p-highlight': checked,\n        'p-indeterminate': partialChecked\n      });\n\n      var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-checkbox-icon p-c', {\n        'pi pi-check': checked,\n        'pi pi-minus': partialChecked\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-checkbox p-treetable-checkbox p-component\",\n        ref: checkboxRef,\n        onClick: onCheckboxChange,\n        role: \"checkbox\",\n        \"aria-checked\": checked\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-hidden-accessible\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        type: \"checkbox\",\n        onFocus: onCheckboxFocus,\n        onBlur: onCheckboxBlur\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: _className,\n        ref: checkboxBoxRef\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: icon\n      })));\n    } else {\n      return null;\n    }\n  };\n\n  var createCell = function createCell(column) {\n    var toggler, checkbox;\n\n    if (column.props.expander) {\n      toggler = createToggler();\n      checkbox = createCheckbox();\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TreeTableBodyCell, _extends({\n      key: column.props.columnKey || column.props.field\n    }, column.props, {\n      column: column,\n      selectOnEdit: props.selectOnEdit,\n      selected: isSelected(),\n      node: props.node,\n      rowIndex: props.rowIndex\n    }), toggler, checkbox);\n  };\n\n  var createChildren = function createChildren() {\n    if (expanded && props.node.children) {\n      return props.node.children.map(function (childNode, index) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TreeTableRow, {\n          key: childNode.key || JSON.stringify(childNode.data),\n          level: props.level + 1,\n          rowIndex: props.rowIndex + '_' + index,\n          node: childNode,\n          columns: props.columns,\n          expandedKeys: props.expandedKeys,\n          selectOnEdit: props.selectOnEdit,\n          onToggle: props.onToggle,\n          onExpand: props.onExpand,\n          onCollapse: props.onCollapse,\n          selectionMode: props.selectionMode,\n          selectionKeys: props.selectionKeys,\n          onSelectionChange: props.onSelectionChange,\n          metaKeySelection: props.metaKeySelection,\n          onRowClick: props.onRowClick,\n          onSelect: props.onSelect,\n          onUnselect: props.onUnselect,\n          propagateSelectionUp: props.propagateSelectionUp,\n          propagateSelectionDown: props.propagateSelectionDown,\n          onPropagateUp: propagateUp,\n          rowClassName: props.rowClassName,\n          contextMenuSelectionKey: props.contextMenuSelectionKey,\n          onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n          onContextMenu: props.onContextMenu\n        });\n      });\n    } else {\n      return null;\n    }\n  };\n\n  var cells = props.columns.map(createCell);\n  var children = createChildren();\n  var className = {\n    'p-highlight': isSelected(),\n    'p-highlight-contextmenu': props.contextMenuSelectionKey && props.contextMenuSelectionKey === props.node.key\n  };\n\n  if (props.rowClassName) {\n    var rowClassName = props.rowClassName(props.node);\n    className = _objectSpread$2(_objectSpread$2({}, className), rowClassName);\n  }\n\n  className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)(className, props.node.className);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n    ref: elementRef,\n    tabIndex: 0,\n    className: className,\n    style: props.node.style,\n    onClick: onClick,\n    onTouchEnd: onTouchEnd,\n    onContextMenu: onRightClick,\n    onKeyDown: onKeyDown\n  }, cells), children);\n});\nTreeTableRow.displayName = 'TreeTableRow';\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper$2(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray$2(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen); }\n\nfunction _arrayLikeToArray$2(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar TreeTableBody = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var isSingleSelectionMode = props.selectionMode === 'single';\n  var isMultipleSelectionMode = props.selectionMode === 'multiple';\n\n  var flattenizeTree = function flattenizeTree(nodes) {\n    var rows = [];\n    nodes = nodes || props.value;\n\n    var _iterator = _createForOfIteratorHelper$2(nodes),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var node = _step.value;\n        rows.push(node.key);\n\n        if (isExpandedKey(node.key)) {\n          rows = rows.concat(flattenizeTree(node.children));\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return rows;\n  };\n\n  var isExpandedKey = function isExpandedKey(key) {\n    return props.expandedKeys && !!props.expandedKeys[key];\n  };\n\n  var onRowClick = function onRowClick(event, node) {\n    if (props.onRowClick) {\n      props.onRowClick({\n        originalEvent: event,\n        node: node\n      });\n    }\n\n    var targetNode = event.target.nodeName;\n\n    if (targetNode === 'INPUT' || targetNode === 'BUTTON' || targetNode === 'A' || primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.hasClass(event.target, 'p-clickable')) {\n      return;\n    }\n\n    if ((isSingleSelectionMode || isMultipleSelectionMode) && node.selectable !== false) {\n      var selectionKeys;\n      var selected = isSelected(node);\n      var metaSelection = props.metaKeySelection;\n      var flatKeys = flattenizeTree();\n      var rowIndex = flatKeys.findIndex(function (key) {\n        return key === node.key;\n      });\n\n      if (isMultipleSelectionMode && event.shiftKey) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.clearSelection(); // find first selected row\n\n        var anchorRowIndex = flatKeys.findIndex(function (key) {\n          return props.selectionKeys[key];\n        });\n        var rangeStart = Math.min(rowIndex, anchorRowIndex);\n        var rangeEnd = Math.max(rowIndex, anchorRowIndex);\n        selectionKeys = _objectSpread$1({}, props.selectionKeys);\n\n        for (var i = rangeStart; i <= rangeEnd; i++) {\n          var rowKey = flatKeys[i];\n          selectionKeys[rowKey] = true;\n        }\n      } else {\n        //anchorRowIndex = rowIndex;\n        if (metaSelection) {\n          var metaKey = event.metaKey || event.ctrlKey;\n\n          if (selected && metaKey) {\n            if (isSingleSelectionMode) {\n              selectionKeys = null;\n            } else {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[node.key];\n            }\n\n            if (props.onUnselect) {\n              props.onUnselect({\n                originalEvent: event,\n                node: node\n              });\n            }\n          } else {\n            if (isSingleSelectionMode) {\n              selectionKeys = node.key;\n            } else if (isMultipleSelectionMode) {\n              selectionKeys = !metaKey ? {} : props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[node.key] = true;\n            }\n\n            if (props.onSelect) {\n              props.onSelect({\n                originalEvent: event,\n                node: node\n              });\n            }\n          }\n        } else {\n          if (isSingleSelectionMode) {\n            if (selected) {\n              selectionKeys = null;\n\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: node\n                });\n              }\n            } else {\n              selectionKeys = node.key;\n\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: node\n                });\n              }\n            }\n          } else {\n            if (selected) {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[node.key];\n\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: node\n                });\n              }\n            } else {\n              selectionKeys = props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[node.key] = true;\n\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: node\n                });\n              }\n            }\n          }\n        }\n      }\n\n      if (props.onSelectionChange) {\n        props.onSelectionChange({\n          originalEvent: event,\n          value: selectionKeys\n        });\n      }\n    }\n  };\n\n  var isSelected = function isSelected(node) {\n    if ((isSingleSelectionMode || isMultipleSelectionMode) && props.selectionKeys) return isSingleSelectionMode ? props.selectionKeys === node.key : props.selectionKeys[node.key] !== undefined;else return false;\n  };\n\n  var createRow = function createRow(node, index) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TreeTableRow, {\n      key: node.key || JSON.stringify(node.data),\n      level: 0,\n      rowIndex: index,\n      selectOnEdit: props.selectOnEdit,\n      node: node,\n      columns: props.columns,\n      expandedKeys: props.expandedKeys,\n      onToggle: props.onToggle,\n      onExpand: props.onExpand,\n      onCollapse: props.onCollapse,\n      selectionMode: props.selectionMode,\n      selectionKeys: props.selectionKeys,\n      onSelectionChange: props.onSelectionChange,\n      metaKeySelection: props.metaKeySelection,\n      onRowClick: onRowClick,\n      onSelect: props.onSelect,\n      onUnselect: props.onUnselect,\n      propagateSelectionUp: props.propagateSelectionUp,\n      propagateSelectionDown: props.propagateSelectionDown,\n      rowClassName: props.rowClassName,\n      contextMenuSelectionKey: props.contextMenuSelectionKey,\n      onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n      onContextMenu: props.onContextMenu\n    });\n  };\n\n  var createRows = function createRows() {\n    if (props.paginator && !props.lazy) {\n      var rpp = props.rows || 0;\n      var startIndex = props.first || 0;\n      var endIndex = startIndex + rpp;\n      var rows = [];\n\n      for (var i = startIndex; i < endIndex; i++) {\n        var rowData = props.value[i];\n        if (rowData) rows.push(createRow(props.value[i]));else break;\n      }\n\n      return rows;\n    } else {\n      return props.value.map(createRow);\n    }\n  };\n\n  var createEmptyMessage = function createEmptyMessage() {\n    if (props.loading) {\n      return null;\n    } else {\n      var colSpan = props.columns ? props.columns.length : null;\n\n      var _content = props.emptyMessage || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('emptyMessage');\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n        className: \"p-treetable-emptymessage\",\n        colSpan: colSpan\n      }, _content));\n    }\n  };\n\n  var content = props.value && props.value.length ? createRows() : createEmptyMessage();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tbody\", {\n    className: \"p-treetable-tbody\"\n  }, content);\n});\nTreeTableBody.displayName = 'TreeTableBody';\n\nvar TreeTableFooter = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var createFooterCell = function createFooterCell(column, index) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n      key: column.field || index,\n      className: column.props.footerClassName || column.props.className,\n      style: column.props.footerStyle || column.props.style,\n      rowSpan: column.props.rowSpan,\n      colSpan: column.props.colSpan\n    }, column.props.footer);\n  };\n\n  var createFooterRow = function createFooterRow(row, index) {\n    var rowColumns = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(row.props.children);\n    var rowFooterCells = rowColumns.map(createFooterCell);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n      key: index\n    }, rowFooterCells);\n  };\n\n  var createColumnGroup = function createColumnGroup() {\n    var rows = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(props.columnGroup.props.children);\n    return rows.map(createFooterRow);\n  };\n\n  var createColumns = function createColumns(columns) {\n    if (columns) {\n      var headerCells = columns.map(createFooterCell);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, headerCells);\n    } else {\n      return null;\n    }\n  };\n\n  var hasFooter = function hasFooter() {\n    if (props.columnGroup) {\n      return true;\n    } else {\n      for (var i = 0; i < props.columns.length; i++) {\n        if (props.columns[i].props.footer) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  var content = props.columnGroup ? createColumnGroup() : createColumns(props.columns);\n\n  if (hasFooter()) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tfoot\", {\n      className: \"p-treetable-tfoot\"\n    }, content);\n  } else {\n    return null;\n  }\n});\nTreeTableFooter.displayName = 'TreeTableFooter';\n\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray$1(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen); }\n\nfunction _arrayLikeToArray$1(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar TreeTableHeader = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var filterTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var onHeaderClick = function onHeaderClick(event, column) {\n    if (column.props.sortable) {\n      var targetNode = event.target;\n\n      if (primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.hasClass(targetNode, 'p-sortable-column') || primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.hasClass(targetNode, 'p-column-title') || primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.hasClass(targetNode, 'p-sortable-column-icon') || primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.hasClass(targetNode.parentElement, 'p-sortable-column-icon')) {\n        props.onSort({\n          originalEvent: event,\n          sortField: column.props.sortField || column.props.field,\n          sortFunction: column.props.sortFunction,\n          sortable: column.props.sortable\n        });\n        primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.clearSelection();\n      }\n    }\n  };\n\n  var onHeaderMouseDown = function onHeaderMouseDown(event, column) {\n    if (props.reorderableColumns && column.props.reorderable) {\n      if (event.target.nodeName !== 'INPUT') event.currentTarget.draggable = true;else if (event.target.nodeName === 'INPUT') event.currentTarget.draggable = false;\n    }\n  };\n\n  var onHeaderKeyDown = function onHeaderKeyDown(event, column) {\n    if (event.key === 'Enter') {\n      onHeaderClick(event, column);\n      event.preventDefault();\n    }\n  };\n\n  var getMultiSortMetaDataIndex = function getMultiSortMetaDataIndex(column) {\n    if (props.multiSortMeta) {\n      for (var i = 0; i < props.multiSortMeta.length; i++) {\n        if (props.multiSortMeta[i].field === column.props.field) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  };\n\n  var onResizerMouseDown = function onResizerMouseDown(event, column) {\n    if (props.resizableColumns && props.onResizeStart) {\n      props.onResizeStart({\n        originalEvent: event,\n        columnEl: event.target.parentElement,\n        column: column\n      });\n    }\n  };\n\n  var _onDragStart = function onDragStart(event, column) {\n    if (props.onDragStart) {\n      props.onDragStart({\n        originalEvent: event,\n        column: column\n      });\n    }\n  };\n\n  var _onDragOver = function onDragOver(event, column) {\n    if (props.onDragOver) {\n      props.onDragOver({\n        originalEvent: event,\n        column: column\n      });\n    }\n  };\n\n  var _onDragLeave = function onDragLeave(event, column) {\n    if (props.onDragLeave) {\n      props.onDragLeave({\n        originalEvent: event,\n        column: column\n      });\n    }\n  };\n\n  var _onDrop = function onDrop(event, column) {\n    if (props.onDrop) {\n      props.onDrop({\n        originalEvent: event,\n        column: column\n      });\n    }\n  };\n\n  var onFilterInput = function onFilterInput(e, column) {\n    if (column.props.filter && props.onFilter) {\n      if (filterTimeout.current) {\n        clearTimeout(filterTimeout.current);\n      }\n\n      var filterValue = e.target.value;\n      filterTimeout.current = setTimeout(function () {\n        props.onFilter({\n          value: filterValue,\n          field: column.props.field,\n          matchMode: column.props.filterMatchMode || 'startsWith'\n        });\n        filterTimeout.current = null;\n      }, props.filterDelay);\n    }\n  };\n\n  var hasColumnFilter = function hasColumnFilter(columns) {\n    if (columns) {\n      var _iterator = _createForOfIteratorHelper$1(columns),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var col = _step.value;\n\n          if (col.props.filter) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    return false;\n  };\n\n  var getAriaSort = function getAriaSort(column, sorted, sortOrder) {\n    if (column.props.sortable) {\n      var sortIcon = sorted ? sortOrder < 0 ? 'pi-sort-down' : 'pi-sort-up' : 'pi-sort';\n      if (sortIcon === 'pi-sort-down') return 'descending';else if (sortIcon === 'pi-sort-up') return 'ascending';else return 'none';\n    } else {\n      return null;\n    }\n  };\n\n  var getColumnProp = function getColumnProp(column) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return column ? typeof args[0] === 'string' ? column.props[args[0]] : (args[0] || column).props[args[1]] : null;\n  };\n\n  var createSortIcon = function createSortIcon(column, sorted, sortOrder) {\n    if (column.props.sortable) {\n      var sortIcon = sorted ? sortOrder < 0 ? 'pi-sort-amount-down' : 'pi-sort-amount-up-alt' : 'pi-sort-alt';\n      var sortIconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-sortable-column-icon', 'pi pi-fw', sortIcon);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: sortIconClassName\n      });\n    } else {\n      return null;\n    }\n  };\n\n  var createResizer = function createResizer(column) {\n    if (props.resizableColumns) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-column-resizer p-clickable\",\n        onMouseDown: function onMouseDown(e) {\n          return onResizerMouseDown(e, column);\n        }\n      });\n    } else {\n      return null;\n    }\n  };\n\n  var createSortBadge = function createSortBadge(sortMetaDataIndex) {\n    if (sortMetaDataIndex !== -1 && props.multiSortMeta && props.multiSortMeta.length > 1) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-sortable-column-badge\"\n      }, sortMetaDataIndex + 1);\n    }\n\n    return null;\n  };\n\n  var createHeaderCell = function createHeaderCell(column, options) {\n    var filterElement;\n\n    if (column.props.filter && options.renderFilter) {\n      filterElement = column.props.filterElement || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_7__.InputText, {\n        onInput: function onInput(e) {\n          return onFilterInput(e, column);\n        },\n        type: props.filterType,\n        defaultValue: props.filters && props.filters[column.props.field] ? props.filters[column.props.field].value : null,\n        className: \"p-column-filter\",\n        placeholder: column.props.filterPlaceholder,\n        maxLength: column.props.filterMaxLength\n      });\n    }\n\n    if (options.filterOnly) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n        key: column.props.columnKey || column.props.field || options.index,\n        className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-filter-column', column.props.filterHeaderClassName),\n        style: column.props.filterHeaderStyle || column.props.style,\n        rowSpan: column.props.rowSpan,\n        colSpan: column.props.colSpan\n      }, filterElement);\n    } else {\n      var sortMetaDataIndex = getMultiSortMetaDataIndex(column);\n      var multiSortMetaData = sortMetaDataIndex !== -1 ? props.multiSortMeta[sortMetaDataIndex] : null;\n      var singleSorted = column.props.field === props.sortField;\n      var multipleSorted = multiSortMetaData !== null;\n      var sorted = column.props.sortable && (singleSorted || multipleSorted);\n      var sortOrder = 0;\n      if (singleSorted) sortOrder = props.sortOrder;else if (multipleSorted) sortOrder = multiSortMetaData.order;\n      var sortIconElement = createSortIcon(column, sorted, sortOrder);\n      var ariaSortData = getAriaSort(column, sorted, sortOrder);\n      var sortBadge = createSortBadge(sortMetaDataIndex);\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)(column.props.headerClassName || column.props.className, {\n        'p-sortable-column': column.props.sortable,\n        'p-highlight': sorted,\n        'p-resizable-column': props.resizableColumns && getColumnProp(column, 'resizeable')\n      });\n      var resizer = createResizer(column);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n        key: column.columnKey || column.field || options.index,\n        className: className,\n        style: column.props.headerStyle || column.props.style,\n        tabIndex: column.props.sortable ? props.tabIndex : null,\n        onClick: function onClick(e) {\n          return onHeaderClick(e, column);\n        },\n        onMouseDown: function onMouseDown(e) {\n          return onHeaderMouseDown(e, column);\n        },\n        onKeyDown: function onKeyDown(e) {\n          return onHeaderKeyDown(e, column);\n        },\n        rowSpan: column.props.rowSpan,\n        colSpan: column.props.colSpan,\n        \"aria-sort\": ariaSortData,\n        onDragStart: function onDragStart(e) {\n          return _onDragStart(e, column);\n        },\n        onDragOver: function onDragOver(e) {\n          return _onDragOver(e, column);\n        },\n        onDragLeave: function onDragLeave(e) {\n          return _onDragLeave(e, column);\n        },\n        onDrop: function onDrop(e) {\n          return _onDrop(e, column);\n        }\n      }, resizer, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-column-title\"\n      }, column.props.header), sortIconElement, sortBadge, filterElement);\n    }\n  };\n\n  var createHeaderRow = function createHeaderRow(row, index) {\n    var rowColumns = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(row.props.children);\n    var rowHeaderCells = rowColumns.map(function (col, i) {\n      return createHeaderCell(col, {\n        index: i,\n        filterOnly: false,\n        renderFilter: true\n      });\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n      key: index\n    }, rowHeaderCells);\n  };\n\n  var createColumnGroup = function createColumnGroup() {\n    var rows = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(props.columnGroup.props.children);\n    return rows.map(createHeaderRow);\n  };\n\n  var createColumns = function createColumns(columns) {\n    if (columns) {\n      if (hasColumnFilter(columns)) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, columns.map(function (col, i) {\n          return createHeaderCell(col, {\n            index: i,\n            filterOnly: false,\n            renderFilter: false\n          });\n        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, columns.map(function (col, i) {\n          return createHeaderCell(col, {\n            index: i,\n            filterOnly: true,\n            renderFilter: true\n          });\n        })));\n      } else {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, columns.map(function (col, i) {\n          return createHeaderCell(col, {\n            index: i,\n            filterOnly: false,\n            renderFilter: false\n          });\n        }));\n      }\n    } else {\n      return null;\n    }\n  };\n\n  var content = props.columnGroup ? createColumnGroup() : createColumns(props.columns);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"thead\", {\n    className: \"p-treetable-thead\"\n  }, content);\n});\nTreeTableHeader.displayName = 'TreeTableHeader';\n\nvar TreeTableScrollableView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var scrollHeaderRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var scrollHeaderBoxRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var scrollBodyRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var scrollTableRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var scrollFooterRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var scrollFooterBoxRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var setScrollHeight = function setScrollHeight() {\n    if (props.scrollHeight) {\n      if (props.scrollHeight.indexOf('%') !== -1) {\n        var datatableContainer = findDataTableContainer(elementRef.current);\n        scrollBodyRef.current.style.visibility = 'hidden';\n        scrollBodyRef.current.style.height = '100px'; //temporary height to calculate static height\n\n        var containerHeight = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getOuterHeight(datatableContainer);\n        var relativeHeight = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getOuterHeight(datatableContainer.parentElement) * parseInt(props.scrollHeight, 10) / 100;\n        var staticHeight = containerHeight - 100; //total height of headers, footers, paginators\n\n        var scrollBodyHeight = relativeHeight - staticHeight;\n        scrollBodyRef.current.style.height = 'auto';\n        scrollBodyRef.current.style.maxHeight = scrollBodyHeight + 'px';\n        scrollBodyRef.current.style.visibility = 'visible';\n      } else {\n        scrollBodyRef.current.style.maxHeight = props.scrollHeight;\n      }\n    }\n  };\n\n  var findDataTableContainer = function findDataTableContainer(element) {\n    if (element) {\n      var el = element;\n\n      while (el && !primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.hasClass(el, 'p-treetable')) {\n        el = el.parentElement;\n      }\n\n      return el;\n    } else {\n      return null;\n    }\n  };\n\n  var onHeaderScroll = function onHeaderScroll() {\n    scrollHeaderRef.current.scrollLeft = 0;\n  };\n\n  var onBodyScroll = function onBodyScroll() {\n    var frozenView = elementRef.current.previousElementSibling;\n    var frozenScrollBody;\n\n    if (frozenView) {\n      frozenScrollBody = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(frozenView, '.p-treetable-scrollable-body');\n    }\n\n    scrollHeaderBoxRef.current.style.marginLeft = -1 * scrollBodyRef.current.scrollLeft + 'px';\n\n    if (scrollFooterBoxRef.current) {\n      scrollFooterBoxRef.current.style.marginLeft = -1 * scrollBodyRef.current.scrollLeft + 'px';\n    }\n\n    if (frozenScrollBody) {\n      frozenScrollBody.scrollTop = scrollBodyRef.current.scrollTop;\n    }\n  };\n\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useMountEffect)(function () {\n    if (!props.frozen) {\n      var scrollBarWidth = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.calculateScrollbarWidth();\n      scrollHeaderBoxRef.current.style.marginRight = scrollBarWidth + 'px';\n\n      if (scrollFooterBoxRef.current) {\n        scrollFooterBoxRef.current.style.marginRight = scrollBarWidth + 'px';\n      }\n    } else {\n      scrollBodyRef.current.style.paddingBottom = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.calculateScrollbarWidth() + 'px';\n    }\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    setScrollHeight();\n  });\n\n  var createColGroup = function createColGroup() {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.isNotEmpty(props.columns)) {\n      var cols = props.columns.map(function (col, i) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"col\", {\n          key: col.field + '_' + i\n        });\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"colgroup\", {\n        className: \"p-treetable-scrollable-colgroup\"\n      }, cols);\n    } else {\n      return null;\n    }\n  };\n\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-treetable-scrollable-view', {\n    'p-treetable-frozen-view': props.frozen,\n    'p-treetable-unfrozen-view': !props.frozen && props.frozenWidth\n  });\n  var width = props.frozen ? props.frozenWidth : 'calc(100% - ' + props.frozenWidth + ')';\n  var left = props.frozen ? null : props.frozenWidth;\n  var colGroup = createColGroup();\n  var scrollableBodyStyle = !props.frozen && props.scrollHeight ? {\n    overflowY: 'scroll'\n  } : null;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: className,\n    style: {\n      width: width,\n      left: left\n    },\n    ref: elementRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-treetable-scrollable-header\",\n    ref: scrollHeaderRef,\n    onScroll: onHeaderScroll\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-treetable-scrollable-header-box\",\n    ref: scrollHeaderBoxRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    className: \"p-treetable-scrollable-header-table\"\n  }, colGroup, props.header))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-treetable-scrollable-body\",\n    ref: scrollBodyRef,\n    style: scrollableBodyStyle,\n    onScroll: onBodyScroll\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    ref: scrollTableRef,\n    style: {\n      top: '0'\n    },\n    className: \"p-treetable-scrollable-body-table\"\n  }, colGroup, props.body)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-treetable-scrollable-footer\",\n    ref: scrollFooterRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-treetable-scrollable-footer-box\",\n    ref: scrollFooterBoxRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    className: \"p-treetable-scrollable-footer-table\"\n  }, colGroup, props.footer))));\n});\nTreeTableScrollableView.displayName = 'TreeTableScrollableView';\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar TreeTable = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.expandedKeys),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      expandedKeysState = _React$useState2[0],\n      setExpandedKeysState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.first),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      firstState = _React$useState4[0],\n      setFirstState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.rows),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      rowsState = _React$useState6[0],\n      setRowsState = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.sortField),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      sortFieldState = _React$useState8[0],\n      setSortFieldState = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.sortOrder),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      sortOrderState = _React$useState10[0],\n      setSortOrderState = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.multiSortMeta),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      multiSortMetaState = _React$useState12[0],\n      setMultiSortMetaState = _React$useState12[1];\n\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.filters),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      filtersState = _React$useState14[0],\n      setFiltersState = _React$useState14[1];\n\n  var _React$useState15 = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      columnOrderState = _React$useState16[0],\n      setColumnOrderState = _React$useState16[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizerHelperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var reorderIndicatorUpRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var reorderIndicatorDownRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnResizing = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeColumn = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeColumnProps = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var lastResizerHelperX = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  var iconWidth = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  var iconHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  var draggedColumnEl = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var draggedColumn = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var dropPosition = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnSortable = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnSortFunction = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var columnField = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n    type: 'mousemove',\n    listener: function listener(event) {\n      if (columnResizing.current) {\n        onColumnResize(event);\n      }\n    }\n  }),\n      _useEventListener2 = _slicedToArray(_useEventListener, 2),\n      bindDocumentMouseMoveListener = _useEventListener2[0],\n      unbindDocumentMouseMoveListener = _useEventListener2[1];\n\n  var _useEventListener3 = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)({\n    type: 'mouseup',\n    listener: function listener(event) {\n      if (columnResizing.current) {\n        columnResizing.current = false;\n        onColumnResizeEnd(event);\n      }\n    }\n  }),\n      _useEventListener4 = _slicedToArray(_useEventListener3, 2),\n      bindDocumentMouseUpListener = _useEventListener4[0],\n      unbindDocumentMouseUpListener = _useEventListener4[1];\n\n  var onToggle = function onToggle(event) {\n    if (props.onToggle) {\n      props.onToggle(event);\n    } else {\n      setExpandedKeysState(event.value);\n    }\n  };\n\n  var onPageChange = function onPageChange(event) {\n    if (props.onPage) {\n      props.onPage(event);\n    } else {\n      setFirstState(event.first);\n      setRowsState(event.rows);\n    }\n  };\n\n  var onSort = function onSort(event) {\n    var sortField = event.sortField;\n    var sortOrder = props.defaultSortOrder;\n    var multiSortMeta;\n    var eventMeta;\n    columnSortable.current = event.sortable;\n    columnSortFunction.current = event.sortFunction;\n    columnField.current = event.sortField;\n\n    if (props.sortMode === 'multiple') {\n      var metaKey = event.originalEvent.metaKey || event.originalEvent.ctrlKey;\n      multiSortMeta = _toConsumableArray(getMultiSortMeta());\n\n      if (multiSortMeta && multiSortMeta instanceof Array) {\n        var sortMeta = multiSortMeta.find(function (sortMeta) {\n          return sortMeta.field === sortField;\n        });\n        sortOrder = sortMeta ? getCalculatedSortOrder(sortMeta.order) : sortOrder;\n      }\n\n      var newMetaData = {\n        field: sortField,\n        order: sortOrder\n      };\n\n      if (sortOrder) {\n        if (!multiSortMeta || !metaKey) {\n          multiSortMeta = [];\n        }\n\n        addSortMeta(newMetaData, multiSortMeta);\n      } else if (props.removableSort && multiSortMeta) {\n        removeSortMeta(newMetaData, multiSortMeta);\n      }\n\n      eventMeta = {\n        multiSortMeta: multiSortMeta\n      };\n    } else {\n      sortOrder = getSortField() === sortField ? getCalculatedSortOrder(getSortOrder()) : sortOrder;\n\n      if (props.removableSort) {\n        sortField = sortOrder ? sortField : null;\n      }\n\n      eventMeta = {\n        sortField: sortField,\n        sortOrder: sortOrder\n      };\n    }\n\n    if (props.onSort) {\n      props.onSort(eventMeta);\n    } else {\n      setFirstState(0);\n      setSortFieldState(eventMeta.sortField);\n      setSortOrderState(eventMeta.sortOrder);\n      setMultiSortMetaState(eventMeta.multiSortMeta);\n    }\n  };\n\n  var getCalculatedSortOrder = function getCalculatedSortOrder(currentOrder) {\n    return props.removableSort ? props.defaultSortOrder === currentOrder ? currentOrder * -1 : 0 : currentOrder * -1;\n  };\n\n  var addSortMeta = function addSortMeta(meta, multiSortMeta) {\n    var index = -1;\n\n    for (var i = 0; i < multiSortMeta.length; i++) {\n      if (multiSortMeta[i].field === meta.field) {\n        index = i;\n        break;\n      }\n    }\n\n    if (index >= 0) multiSortMeta[index] = meta;else multiSortMeta.push(meta);\n  };\n\n  var removeSortMeta = function removeSortMeta(meta, multiSortMeta) {\n    var index = -1;\n\n    for (var i = 0; i < multiSortMeta.length; i++) {\n      if (multiSortMeta[i].field === meta.field) {\n        index = i;\n        break;\n      }\n    }\n\n    if (index >= 0) {\n      multiSortMeta.splice(index, 1);\n    }\n\n    multiSortMeta = multiSortMeta.length > 0 ? multiSortMeta : null;\n  };\n\n  var sortSingle = function sortSingle(data) {\n    return sortNodes(data);\n  };\n\n  var sortNodes = function sortNodes(data) {\n    var value = _toConsumableArray(data);\n\n    if (columnSortable.current && columnSortable.current === 'custom' && columnSortFunction.current) {\n      value = columnSortFunction.current({\n        rowData: value,\n        field: getSortField(),\n        order: getSortOrder()\n      });\n    } else {\n      value.sort(function (node1, node2) {\n        var sortField = getSortField();\n        var value1 = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.resolveFieldData(node1.data, sortField);\n        var value2 = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.resolveFieldData(node2.data, sortField);\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.sort(value1, value2, getSortOrder(), primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].locale, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].nullSortOrder);\n      });\n\n      for (var i = 0; i < value.length; i++) {\n        if (value[i].children && value[i].children.length) {\n          value[i].children = sortNodes(value[i].children);\n        }\n      }\n    }\n\n    return value;\n  };\n\n  var sortMultiple = function sortMultiple(data) {\n    var multiSortMeta = getMultiSortMeta();\n    if (multiSortMeta) return sortMultipleNodes(data, multiSortMeta);else return data;\n  };\n\n  var sortMultipleNodes = function sortMultipleNodes(data, multiSortMeta) {\n    var value = _toConsumableArray(data);\n\n    value.sort(function (node1, node2) {\n      return multisortField(node1, node2, multiSortMeta, 0);\n    });\n\n    for (var i = 0; i < value.length; i++) {\n      if (value[i].children && value[i].children.length) {\n        value[i].children = sortMultipleNodes(value[i].children, multiSortMeta);\n      }\n    }\n\n    return value;\n  };\n\n  var multisortField = function multisortField(node1, node2, multiSortMeta, index) {\n    var value1 = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.resolveFieldData(node1.data, multiSortMeta[index].field);\n    var value2 = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.resolveFieldData(node2.data, multiSortMeta[index].field);\n    var result = null;\n    if (value1 == null && value2 != null) result = -1;else if (value1 != null && value2 == null) result = 1;else if (value1 == null && value2 == null) result = 0;else {\n      if (value1 === value2) {\n        return multiSortMeta.length - 1 > index ? multisortField(node1, node2, multiSortMeta, index + 1) : 0;\n      } else {\n        if ((typeof value1 === 'string' || value1 instanceof String) && (typeof value2 === 'string' || value2 instanceof String)) return multiSortMeta[index].order * value1.localeCompare(value2, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].locale, {\n          numeric: true\n        });else result = value1 < value2 ? -1 : 1;\n      }\n    }\n    return multiSortMeta[index].order * result;\n  };\n\n  var filter = function filter(value, field, mode) {\n    onFilter({\n      value: value,\n      field: field,\n      matchMode: mode\n    });\n  };\n\n  var onFilter = function onFilter(event) {\n    var filters = getFilters();\n    var newFilters = filters ? _objectSpread({}, filters) : {};\n    if (!isFilterBlank(event.value)) newFilters[event.field] = {\n      value: event.value,\n      matchMode: event.matchMode\n    };else if (newFilters[event.field]) delete newFilters[event.field];\n\n    if (props.onFilter) {\n      props.onFilter({\n        filters: newFilters\n      });\n    } else {\n      setFirstState(0);\n      setFiltersState(newFilters);\n    }\n  };\n\n  var isFilterBlank = function isFilterBlank(filter) {\n    if (filter !== null && filter !== undefined) {\n      if (typeof filter === 'string' && filter.trim().length === 0 || filter instanceof Array && filter.length === 0) return true;else return false;\n    }\n\n    return true;\n  };\n\n  var onColumnResizeStart = function onColumnResizeStart(event) {\n    var containerLeft = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getOffset(elementRef.current).left;\n    resizeColumn.current = event.columnEl;\n    resizeColumnProps.current = event.column;\n    columnResizing.current = true;\n    lastResizerHelperX.current = event.originalEvent.pageX - containerLeft + elementRef.current.scrollLeft;\n    bindColumnResizeEvents();\n  };\n\n  var onColumnResize = function onColumnResize(event) {\n    var containerLeft = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getOffset(elementRef.current).left;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.addClass(elementRef.current, 'p-unselectable-text');\n    resizerHelperRef.current.style.height = elementRef.current.offsetHeight + 'px';\n    resizerHelperRef.current.style.top = 0 + 'px';\n    resizerHelperRef.current.style.left = event.pageX - containerLeft + elementRef.current.scrollLeft + 'px';\n    resizerHelperRef.current.style.display = 'block';\n  };\n\n  var onColumnResizeEnd = function onColumnResizeEnd(event) {\n    var delta = resizerHelperRef.current.offsetLeft - lastResizerHelperX.current;\n    var columnWidth = resizeColumn.current.offsetWidth;\n    var newColumnWidth = columnWidth + delta;\n    var minWidth = resizeColumn.current.style.minWidth || 15;\n\n    if (columnWidth + delta > parseInt(minWidth, 10)) {\n      if (props.columnResizeMode === 'fit') {\n        var nextColumn = resizeColumn.current.nextElementSibling;\n        var nextColumnWidth = nextColumn.offsetWidth - delta;\n\n        if (newColumnWidth > 15 && nextColumnWidth > 15) {\n          if (props.scrollable) {\n            var scrollableView = findParentScrollableView(resizeColumn.current);\n            var scrollableBodyTable = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-body-table');\n            var scrollableHeaderTable = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-header-table');\n            var scrollableFooterTable = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(scrollableView, 'table.p-treetable-scrollable-footer-table');\n            var resizeColumnIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.index(resizeColumn.current);\n            resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n            resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n            resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n          } else {\n            resizeColumn.current.style.width = newColumnWidth + 'px';\n\n            if (nextColumn) {\n              nextColumn.style.width = nextColumnWidth + 'px';\n            }\n          }\n        }\n      } else if (props.columnResizeMode === 'expand') {\n        if (props.scrollable) {\n          var _scrollableView = findParentScrollableView(resizeColumn.current);\n\n          var _scrollableBodyTable = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(_scrollableView, 'table.p-treetable-scrollable-body-table');\n\n          var _scrollableHeaderTable = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(_scrollableView, 'table.p-treetable-scrollable-header-table');\n\n          var _scrollableFooterTable = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.findSingle(_scrollableView, 'table.p-treetable-scrollable-footer-table');\n\n          _scrollableBodyTable.style.width = _scrollableBodyTable.offsetWidth + delta + 'px';\n          _scrollableHeaderTable.style.width = _scrollableHeaderTable.offsetWidth + delta + 'px';\n\n          if (_scrollableFooterTable) {\n            _scrollableFooterTable.style.width = _scrollableHeaderTable.offsetWidth + delta + 'px';\n          }\n\n          var _resizeColumnIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.index(resizeColumn.current);\n\n          resizeColGroup(_scrollableHeaderTable, _resizeColumnIndex, newColumnWidth, null);\n          resizeColGroup(_scrollableBodyTable, _resizeColumnIndex, newColumnWidth, null);\n          resizeColGroup(_scrollableFooterTable, _resizeColumnIndex, newColumnWidth, null);\n        } else {\n          table.style.width = table.offsetWidth + delta + 'px';\n          resizeColumn.current.style.width = newColumnWidth + 'px';\n        }\n      }\n\n      if (props.onColumnResizeEnd) {\n        props.onColumnResizeEnd({\n          element: resizeColumn.current,\n          column: resizeColumnProps.current,\n          delta: delta\n        });\n      }\n    }\n\n    resizerHelperRef.current.style.display = 'none';\n    resizeColumn.current = null;\n    resizeColumnProps.current = null;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.removeClass(elementRef.current, 'p-unselectable-text');\n    unbindColumnResizeEvents();\n  };\n\n  var findParentScrollableView = function findParentScrollableView(column) {\n    if (column) {\n      var parent = column.parentElement;\n\n      while (parent && !primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.hasClass(parent, 'p-treetable-scrollable-view')) {\n        parent = parent.parentElement;\n      }\n\n      return parent;\n    } else {\n      return null;\n    }\n  };\n\n  var resizeColGroup = function resizeColGroup(table, resizeColumnIndex, newColumnWidth, nextColumnWidth) {\n    if (table) {\n      var colGroup = table.children[0].nodeName === 'COLGROUP' ? table.children[0] : null;\n\n      if (colGroup) {\n        var col = colGroup.children[resizeColumnIndex];\n        var nextCol = col.nextElementSibling;\n        col.style.width = newColumnWidth + 'px';\n\n        if (nextCol && nextColumnWidth) {\n          nextCol.style.width = nextColumnWidth + 'px';\n        }\n      } else {\n        throw new Error('Scrollable tables require a colgroup to support resizable columns');\n      }\n    }\n  };\n\n  var bindColumnResizeEvents = function bindColumnResizeEvents() {\n    bindDocumentMouseMoveListener();\n    bindDocumentMouseUpListener();\n  };\n\n  var unbindColumnResizeEvents = function unbindColumnResizeEvents() {\n    unbindDocumentMouseMoveListener();\n    unbindDocumentMouseUpListener();\n  };\n\n  var onColumnDragStart = function onColumnDragStart(e) {\n    var event = e.originalEvent,\n        column = e.column;\n\n    if (columnResizing.current) {\n      event.preventDefault();\n      return;\n    }\n\n    iconWidth.current = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getHiddenElementOuterWidth(reorderIndicatorUpRef.current);\n    iconHeight.current = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getHiddenElementOuterHeight(reorderIndicatorUpRef.current);\n    draggedColumnEl.current = findParentHeader(event.currentTarget);\n    draggedColumn.current = column;\n    event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\n  };\n\n  var onColumnDragOver = function onColumnDragOver(e) {\n    var event = e.originalEvent;\n    var dropHeader = findParentHeader(event.currentTarget);\n\n    if (props.reorderableColumns && draggedColumnEl.current && dropHeader) {\n      event.preventDefault();\n      var containerOffset = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getOffset(elementRef.current);\n      var dropHeaderOffset = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.getOffset(dropHeader);\n\n      if (draggedColumnEl.current !== dropHeader) {\n        var targetLeft = dropHeaderOffset.left - containerOffset.left; //let targetTop =  containerOffset.top - dropHeaderOffset.top;\n\n        var columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n        reorderIndicatorUpRef.current.style.top = dropHeaderOffset.top - containerOffset.top - (iconHeight.current - 1) + 'px';\n        reorderIndicatorDownRef.current.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n\n        if (event.pageX > columnCenter) {\n          reorderIndicatorUpRef.current.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(iconWidth.current / 2) + 'px';\n          reorderIndicatorDownRef.current.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(iconWidth.current / 2) + 'px';\n          dropPosition.current = 1;\n        } else {\n          reorderIndicatorUpRef.current.style.left = targetLeft - Math.ceil(iconWidth.current / 2) + 'px';\n          reorderIndicatorDownRef.current.style.left = targetLeft - Math.ceil(iconWidth.current / 2) + 'px';\n          dropPosition.current = -1;\n        }\n\n        reorderIndicatorUpRef.current.style.display = 'block';\n        reorderIndicatorDownRef.current.style.display = 'block';\n      }\n    }\n  };\n\n  var onColumnDragLeave = function onColumnDragLeave(e) {\n    var event = e.originalEvent;\n\n    if (props.reorderableColumns && draggedColumnEl.current) {\n      event.preventDefault();\n      reorderIndicatorUpRef.current.style.display = 'none';\n      reorderIndicatorDownRef.current.style.display = 'none';\n    }\n  };\n\n  var onColumnDrop = function onColumnDrop(e) {\n    var event = e.originalEvent,\n        column = e.column;\n    event.preventDefault();\n\n    if (draggedColumnEl.current) {\n      var dragIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.index(draggedColumnEl.current);\n      var dropIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.DomHandler.index(findParentHeader(event.currentTarget));\n      var allowDrop = dragIndex !== dropIndex;\n\n      if (allowDrop && (dropIndex - dragIndex === 1 && dropPosition.current === -1 || dragIndex - dropIndex === 1 && dropPosition.current === 1)) {\n        allowDrop = false;\n      }\n\n      if (allowDrop) {\n        var columns = columnOrderState ? getColumns() : react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(props.children);\n\n        var isSameColumn = function isSameColumn(col1, col2) {\n          return col1.props.columnKey || col2.props.columnKey ? primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.equals(col1, col2, 'props.columnKey') : primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.equals(col1, col2, 'props.field');\n        };\n\n        var dragColIndex = columns.findIndex(function (child) {\n          return isSameColumn(child, draggedColumn.current);\n        });\n        var dropColIndex = columns.findIndex(function (child) {\n          return isSameColumn(child, column);\n        });\n\n        if (dropColIndex < dragColIndex && dropPosition.current === 1) {\n          dropColIndex++;\n        }\n\n        if (dropColIndex > dragColIndex && dropPosition.current === -1) {\n          dropColIndex--;\n        }\n\n        primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.reorderArray(columns, dragColIndex, dropColIndex);\n        var columnOrder = [];\n\n        var _iterator = _createForOfIteratorHelper(columns),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _column = _step.value;\n            columnOrder.push(_column.props.columnKey || _column.props.field);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        setColumnOrderState(columnOrder);\n\n        if (props.onColReorder) {\n          props.onColReorder({\n            dragIndex: dragColIndex,\n            dropIndex: dropColIndex,\n            columns: columns\n          });\n        }\n      }\n\n      reorderIndicatorUpRef.current.style.display = 'none';\n      reorderIndicatorDownRef.current.style.display = 'none';\n      draggedColumnEl.current.draggable = false;\n      draggedColumnEl.current = null;\n      dropPosition.current = null;\n    }\n  };\n\n  var findParentHeader = function findParentHeader(element) {\n    if (element.nodeName === 'TH') {\n      return element;\n    } else {\n      var parent = element.parentElement;\n\n      while (parent.nodeName !== 'TH') {\n        parent = parent.parentElement;\n        if (!parent) break;\n      }\n\n      return parent;\n    }\n  };\n\n  var getExpandedKeys = function getExpandedKeys() {\n    return props.onToggle ? props.expandedKeys : expandedKeysState;\n  };\n\n  var getFirst = function getFirst() {\n    return props.onPage ? props.first : firstState;\n  };\n\n  var getRows = function getRows() {\n    return props.onPage ? props.rows : rowsState;\n  };\n\n  var getSortField = function getSortField() {\n    return props.onSort ? props.sortField : sortFieldState;\n  };\n\n  var getSortOrder = function getSortOrder() {\n    return props.onSort ? props.sortOrder : sortOrderState;\n  };\n\n  var getMultiSortMeta = function getMultiSortMeta() {\n    return (props.onSort ? props.multiSortMeta : multiSortMetaState) || [];\n  };\n\n  var getFilters = function getFilters() {\n    return props.onFilter ? props.filters : filtersState;\n  };\n\n  var findColumnByKey = function findColumnByKey(columns, key) {\n    if (columns && columns.length) {\n      for (var i = 0; i < columns.length; i++) {\n        var child = columns[i];\n\n        if (child.props.columnKey === key || child.props.field === key) {\n          return child;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  var getColumns = function getColumns() {\n    var columns = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(props.children);\n\n    if (columns && columns.length) {\n      if (props.reorderableColumns && columnOrderState) {\n        var orderedColumns = [];\n\n        var _iterator2 = _createForOfIteratorHelper(columnOrderState),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var columnKey = _step2.value;\n            var column = findColumnByKey(columns, columnKey);\n\n            if (column) {\n              orderedColumns.push(column);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        return [].concat(orderedColumns, _toConsumableArray(columns.filter(function (item) {\n          return orderedColumns.indexOf(item) < 0;\n        })));\n      } else {\n        return columns;\n      }\n    }\n\n    return null;\n  };\n\n  var getTotalRecords = function getTotalRecords(data) {\n    return props.lazy ? props.totalRecords : data ? data.length : 0;\n  };\n\n  var isSingleSelectionMode = function isSingleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'single';\n  };\n\n  var isMultipleSelectionMode = function isMultipleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'multiple';\n  };\n\n  var isRowSelectionMode = function isRowSelectionMode() {\n    return isSingleSelectionMode() || isMultipleSelectionMode();\n  };\n\n  var getFrozenColumns = function getFrozenColumns(columns) {\n    var frozenColumns = null;\n\n    var _iterator3 = _createForOfIteratorHelper(columns),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var col = _step3.value;\n\n        if (col.props.frozen) {\n          frozenColumns = frozenColumns || [];\n          frozenColumns.push(col);\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    return frozenColumns;\n  };\n\n  var getScrollableColumns = function getScrollableColumns(columns) {\n    var scrollableColumns = null;\n\n    var _iterator4 = _createForOfIteratorHelper(columns),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var col = _step4.value;\n\n        if (!col.props.frozen) {\n          scrollableColumns = scrollableColumns || [];\n          scrollableColumns.push(col);\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n\n    return scrollableColumns;\n  };\n\n  var filterLocal = function filterLocal(value) {\n    var filteredNodes = [];\n    var filters = getFilters();\n    var columns = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(props.children);\n    var isStrictMode = props.filterMode === 'strict';\n\n    var _iterator5 = _createForOfIteratorHelper(value),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var node = _step5.value;\n\n        var copyNode = _objectSpread({}, node);\n\n        var localMatch = true;\n        var globalMatch = false;\n\n        for (var j = 0; j < columns.length; j++) {\n          var col = columns[j];\n          var filterMeta = filters ? filters[col.props.field] : null;\n          var filterField = col.props.field;\n          var filterValue = void 0,\n              filterConstraint = void 0,\n              paramsWithoutNode = void 0,\n              options = void 0; //local\n\n          if (filterMeta) {\n            var filterMatchMode = filterMeta.matchMode || col.props.filterMatchMode || 'startsWith';\n            filterValue = filterMeta.value;\n            filterConstraint = filterMatchMode === 'custom' ? col.props.filterFunction : primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filters[filterMatchMode];\n            options = {\n              rowData: node,\n              filters: filters,\n              props: props,\n              column: {\n                filterMeta: filterMeta,\n                filterField: filterField,\n                props: col.props\n              }\n            };\n            paramsWithoutNode = {\n              filterField: filterField,\n              filterValue: filterValue,\n              filterConstraint: filterConstraint,\n              isStrictMode: isStrictMode,\n              options: options\n            };\n\n            if (isStrictMode && !(findFilteredNodes(copyNode, paramsWithoutNode) || isFilterMatched(copyNode, paramsWithoutNode)) || !isStrictMode && !(isFilterMatched(copyNode, paramsWithoutNode) || findFilteredNodes(copyNode, paramsWithoutNode))) {\n              localMatch = false;\n            }\n\n            if (!localMatch) {\n              break;\n            }\n          } //global\n\n\n          if (props.globalFilter && !globalMatch) {\n            var copyNodeForGlobal = _objectSpread({}, copyNode);\n\n            filterValue = props.globalFilter;\n            filterConstraint = primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filters.contains;\n            paramsWithoutNode = {\n              filterField: filterField,\n              filterValue: filterValue,\n              filterConstraint: filterConstraint,\n              isStrictMode: isStrictMode\n            };\n\n            if (isStrictMode && (findFilteredNodes(copyNodeForGlobal, paramsWithoutNode) || isFilterMatched(copyNodeForGlobal, paramsWithoutNode)) || !isStrictMode && (isFilterMatched(copyNodeForGlobal, paramsWithoutNode) || findFilteredNodes(copyNodeForGlobal, paramsWithoutNode))) {\n              globalMatch = true;\n              copyNode = copyNodeForGlobal;\n            }\n          }\n        }\n\n        var matches = localMatch;\n\n        if (props.globalFilter) {\n          matches = localMatch && globalMatch;\n        }\n\n        if (matches) {\n          filteredNodes.push(copyNode);\n        }\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n\n    return filteredNodes;\n  };\n\n  var findFilteredNodes = function findFilteredNodes(node, paramsWithoutNode) {\n    if (node) {\n      var matched = false;\n\n      if (node.children) {\n        var childNodes = _toConsumableArray(node.children);\n\n        node.children = [];\n\n        var _iterator6 = _createForOfIteratorHelper(childNodes),\n            _step6;\n\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var childNode = _step6.value;\n\n            var copyChildNode = _objectSpread({}, childNode);\n\n            if (isFilterMatched(copyChildNode, paramsWithoutNode)) {\n              matched = true;\n              node.children.push(copyChildNode);\n            }\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n      }\n\n      if (matched) {\n        return true;\n      }\n    }\n  };\n\n  var isFilterMatched = function isFilterMatched(node, _ref) {\n    var filterField = _ref.filterField,\n        filterValue = _ref.filterValue,\n        filterConstraint = _ref.filterConstraint,\n        isStrictMode = _ref.isStrictMode,\n        options = _ref.options;\n    var matched = false;\n    var dataFieldValue = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.resolveFieldData(node.data, filterField);\n\n    if (filterConstraint(dataFieldValue, filterValue, props.filterLocale, options)) {\n      matched = true;\n    }\n\n    if (!matched || isStrictMode && !isNodeLeaf(node)) {\n      matched = findFilteredNodes(node, {\n        filterField: filterField,\n        filterValue: filterValue,\n        filterConstraint: filterConstraint,\n        isStrictMode: isStrictMode\n      }) || matched;\n    }\n\n    return matched;\n  };\n\n  var isNodeLeaf = function isNodeLeaf(node) {\n    return node.leaf === false ? false : !(node.children && node.children.length);\n  };\n\n  var processData = function processData() {\n    var data = props.value || [];\n\n    if (!props.lazy) {\n      if (data && data.length) {\n        var filters = getFilters();\n        var sortField = getSortField();\n        var multiSortMeta = getMultiSortMeta();\n\n        if (primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.isNotEmpty(filters) || props.globalFilter) {\n          data = filterLocal(data);\n        }\n\n        if (sortField || primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.isNotEmpty(multiSortMeta)) {\n          if (props.sortMode === 'single') data = sortSingle(data);else if (props.sortMode === 'multiple') data = sortMultiple(data);\n        }\n      }\n    }\n\n    return data;\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      filter: filter,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n\n  var createTableHeader = function createTableHeader(columns, columnGroup) {\n    var sortField = getSortField();\n    var sortOrder = getSortOrder();\n\n    var multiSortMeta = _toConsumableArray(getMultiSortMeta());\n\n    var filters = getFilters();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TreeTableHeader, {\n      columns: columns,\n      columnGroup: columnGroup,\n      tabIndex: props.tabIndex,\n      onSort: onSort,\n      sortField: sortField,\n      sortOrder: sortOrder,\n      multiSortMeta: multiSortMeta,\n      resizableColumns: props.resizableColumns,\n      onResizeStart: onColumnResizeStart,\n      reorderableColumns: props.reorderableColumns,\n      onDragStart: onColumnDragStart,\n      onDragOver: onColumnDragOver,\n      onDragLeave: onColumnDragLeave,\n      onDrop: onColumnDrop,\n      onFilter: onFilter,\n      filters: filters,\n      filterDelay: props.filterDelay\n    });\n  };\n\n  var createTableFooter = function createTableFooter(columns, columnGroup) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TreeTableFooter, {\n      columns: columns,\n      columnGroup: columnGroup\n    });\n  };\n\n  var createTableBody = function createTableBody(value, columns) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TreeTableBody, {\n      value: value,\n      columns: columns,\n      expandedKeys: getExpandedKeys(),\n      selectOnEdit: props.selectOnEdit,\n      onToggle: onToggle,\n      onExpand: props.onExpand,\n      onCollapse: props.onCollapse,\n      paginator: props.paginator,\n      first: getFirst(),\n      rows: getRows(),\n      selectionMode: props.selectionMode,\n      selectionKeys: props.selectionKeys,\n      onSelectionChange: props.onSelectionChange,\n      metaKeySelection: props.metaKeySelection,\n      onRowClick: props.onRowClick,\n      onSelect: props.onSelect,\n      onUnselect: props.onUnselect,\n      propagateSelectionUp: props.propagateSelectionUp,\n      propagateSelectionDown: props.propagateSelectionDown,\n      lazy: props.lazy,\n      rowClassName: props.rowClassName,\n      emptyMessage: props.emptyMessage,\n      loading: props.loading,\n      contextMenuSelectionKey: props.contextMenuSelectionKey,\n      onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n      onContextMenu: props.onContextMenu\n    });\n  };\n\n  var createPaginator = function createPaginator(position, totalRecords) {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-paginator-' + position, props.paginatorClassName);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_paginator__WEBPACK_IMPORTED_MODULE_3__.Paginator, {\n      first: getFirst(),\n      rows: getRows(),\n      pageLinkSize: props.pageLinkSize,\n      className: className,\n      onPageChange: onPageChange,\n      template: props.paginatorTemplate,\n      totalRecords: totalRecords,\n      rowsPerPageOptions: props.rowsPerPageOptions,\n      currentPageReportTemplate: props.currentPageReportTemplate,\n      leftContent: props.paginatorLeft,\n      rightContent: props.paginatorRight,\n      alwaysShow: props.alwaysShowPaginator,\n      dropdownAppendTo: props.paginatorDropdownAppendTo\n    });\n  };\n\n  var createScrollableView = function createScrollableView(value, columns, frozen, headerColumnGroup, footerColumnGroup) {\n    var header = createTableHeader(columns, headerColumnGroup);\n    var footer = createTableFooter(columns, footerColumnGroup);\n    var body = createTableBody(value, columns);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TreeTableScrollableView, {\n      columns: columns,\n      header: header,\n      body: body,\n      footer: footer,\n      scrollHeight: props.scrollHeight,\n      frozen: frozen,\n      frozenWidth: props.frozenWidth\n    });\n  };\n\n  var createScrollableTable = function createScrollableTable(value) {\n    var columns = getColumns();\n    var frozenColumns = getFrozenColumns(columns);\n    var scrollableColumns = frozenColumns ? getScrollableColumns(columns) : columns;\n    var frozenView, scrollableView;\n\n    if (frozenColumns) {\n      frozenView = createScrollableView(value, frozenColumns, true, props.frozenHeaderColumnGroup, props.frozenFooterColumnGroup);\n    }\n\n    scrollableView = createScrollableView(value, scrollableColumns, false, props.headerColumnGroup, props.footerColumnGroup);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-treetable-scrollable-wrapper\"\n    }, frozenView, scrollableView);\n  };\n\n  var createRegularTable = function createRegularTable(value) {\n    var columns = getColumns();\n    var header = createTableHeader(columns, props.headerColumnGroup);\n    var footer = createTableFooter(columns, props.footerColumnGroup);\n    var body = createTableBody(value, columns);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-treetable-wrapper\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n      style: props.tableStyle,\n      className: props.tableClassName\n    }, header, footer, body));\n  };\n\n  var createTable = function createTable(value) {\n    return props.scrollable ? createScrollableTable(value) : createRegularTable(value);\n  };\n\n  var createLoader = function createLoader() {\n    if (props.loading) {\n      var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-treetable-loading-icon pi-spin', props.loadingIcon);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-treetable-loading\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-treetable-loading-overlay p-component-overlay\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: iconClassName\n      })));\n    }\n\n    return null;\n  };\n\n  var data = processData();\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_4__.ObjectUtils.findDiffKeys(props, TreeTable.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_4__.classNames)('p-treetable p-component', {\n    'p-treetable-hoverable-rows': props.rowHover,\n    'p-treetable-selectable': isRowSelectionMode(),\n    'p-treetable-resizable': props.resizableColumns,\n    'p-treetable-resizable-fit': props.resizableColumns && props.columnResizeMode === 'fit',\n    'p-treetable-auto-layout': props.autoLayout,\n    'p-treetable-striped': props.stripedRows,\n    'p-treetable-gridlines': props.showGridlines\n  }, props.className);\n  var table = createTable(data);\n  var totalRecords = getTotalRecords(data);\n  var headerFacet = props.header && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-treetable-header\"\n  }, props.header);\n  var footerFacet = props.footer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-treetable-footer\"\n  }, props.footer);\n  var paginatorTop = props.paginator && props.paginatorPosition !== 'bottom' && createPaginator('top', totalRecords);\n  var paginatorBottom = props.paginator && props.paginatorPosition !== 'top' && createPaginator('bottom', totalRecords);\n  var loader = createLoader();\n  var resizeHelper = props.resizableColumns && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    ref: resizerHelperRef,\n    className: \"p-column-resizer-helper\",\n    style: {\n      display: 'none'\n    }\n  });\n  var reorderIndicatorUp = props.reorderableColumns && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    ref: reorderIndicatorUpRef,\n    className: \"pi pi-arrow-down p-datatable-reorder-indicator-up\",\n    style: {\n      position: 'absolute',\n      display: 'none'\n    }\n  });\n  var reorderIndicatorDown = props.reorderableColumns && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    ref: reorderIndicatorDownRef,\n    className: \"pi pi-arrow-up p-datatable-reorder-indicator-down\",\n    style: {\n      position: 'absolute',\n      display: 'none'\n    }\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style,\n    \"data-scrollselectors\": \".p-treetable-scrollable-body\"\n  }, otherProps), loader, headerFacet, paginatorTop, table, paginatorBottom, footerFacet, resizeHelper, reorderIndicatorUp, reorderIndicatorDown);\n});\nTreeTable.displayName = 'TreeTable';\nTreeTable.defaultProps = {\n  __TYPE: 'TreeTable',\n  id: null,\n  value: null,\n  header: null,\n  footer: null,\n  style: null,\n  className: null,\n  tableStyle: null,\n  tableClassName: null,\n  expandedKeys: null,\n  paginator: false,\n  paginatorPosition: 'bottom',\n  alwaysShowPaginator: true,\n  paginatorClassName: null,\n  paginatorTemplate: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',\n  paginatorLeft: null,\n  paginatorRight: null,\n  paginatorDropdownAppendTo: null,\n  pageLinkSize: 5,\n  rowsPerPageOptions: null,\n  currentPageReportTemplate: '({currentPage} of {totalPages})',\n  first: null,\n  rows: null,\n  totalRecords: null,\n  lazy: false,\n  sortField: null,\n  sortOrder: null,\n  multiSortMeta: null,\n  sortMode: 'single',\n  defaultSortOrder: 1,\n  removableSort: false,\n  selectionMode: null,\n  selectionKeys: null,\n  contextMenuSelectionKey: null,\n  metaKeySelection: true,\n  selectOnEdit: true,\n  propagateSelectionUp: true,\n  propagateSelectionDown: true,\n  autoLayout: false,\n  rowClassName: null,\n  loading: false,\n  loadingIcon: 'pi pi-spinner',\n  tabIndex: 0,\n  scrollable: false,\n  scrollHeight: null,\n  reorderableColumns: false,\n  headerColumnGroup: null,\n  footerColumnGroup: null,\n  frozenHeaderColumnGroup: null,\n  frozenFooterColumnGroup: null,\n  frozenWidth: null,\n  resizableColumns: false,\n  columnResizeMode: 'fit',\n  emptyMessage: null,\n  filters: null,\n  globalFilter: null,\n  filterMode: 'lenient',\n  filterDelay: 300,\n  filterLocale: undefined,\n  rowHover: false,\n  showGridlines: false,\n  stripedRows: false,\n  onFilter: null,\n  onExpand: null,\n  onCollapse: null,\n  onToggle: null,\n  onPage: null,\n  onSort: null,\n  onSelect: null,\n  onUnselect: null,\n  onRowClick: null,\n  onSelectionChange: null,\n  onContextMenuSelectionChange: null,\n  onColumnResizeEnd: null,\n  onColReorder: null,\n  onContextMenu: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC90cmVldGFibGUvdHJlZXRhYmxlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQStCO0FBQzBDO0FBQ2E7QUFDckM7QUFDc0I7QUFDNUI7QUFDZ0I7QUFDVjs7QUFFakQ7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHlDQUFZO0FBQy9CLHFCQUFxQix5Q0FBWTtBQUNqQyxrQkFBa0IseUNBQVk7QUFDOUIsNkJBQTZCLHlDQUFZO0FBQ3pDLHdCQUF3Qix5Q0FBWTs7QUFFcEMsMEJBQTBCLGtFQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L3RyZWV0YWJsZS90cmVldGFibGUuZXNtLmpzP2RiZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByaW1lUmVhY3QsIHsgbG9jYWxlT3B0aW9uLCBGaWx0ZXJTZXJ2aWNlIH0gZnJvbSAncHJpbWVyZWFjdC9hcGknO1xuaW1wb3J0IHsgdXNlRXZlbnRMaXN0ZW5lciwgdXNlVW5tb3VudEVmZmVjdCwgdXNlTW91bnRFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IFBhZ2luYXRvciB9IGZyb20gJ3ByaW1lcmVhY3QvcGFnaW5hdG9yJztcbmltcG9ydCB7IERvbUhhbmRsZXIsIGNsYXNzTmFtZXMsIE9iamVjdFV0aWxzIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5pbXBvcnQgeyBSaXBwbGUgfSBmcm9tICdwcmltZXJlYWN0L3JpcHBsZSc7XG5pbXBvcnQgeyBPdmVybGF5U2VydmljZSB9IGZyb20gJ3ByaW1lcmVhY3Qvb3ZlcmxheXNlcnZpY2UnO1xuaW1wb3J0IHsgSW5wdXRUZXh0IH0gZnJvbSAncHJpbWVyZWFjdC9pbnB1dHRleHQnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkNChhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDQoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkNChvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDQobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ0KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkNChhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkNChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxuZnVuY3Rpb24gX3JlYWRPbmx5RXJyb3IobmFtZSkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyByZWFkLW9ubHlcIik7XG59XG5cbnZhciBUcmVlVGFibGVCb2R5Q2VsbCA9IGZ1bmN0aW9uIFRyZWVUYWJsZUJvZHlDZWxsKHByb3BzKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGVkaXRpbmdTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRFZGl0aW5nU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIga2V5SGVscGVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgc2VsZkNsaWNrID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIG92ZXJsYXlFdmVudExpc3RlbmVyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgdGFiSW5kZXhUaW1lb3V0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBfdXNlRXZlbnRMaXN0ZW5lciA9IHVzZUV2ZW50TGlzdGVuZXIoe1xuICAgIHR5cGU6ICdjbGljaycsXG4gICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGUpIHtcbiAgICAgIGlmICghc2VsZkNsaWNrLmN1cnJlbnQgJiYgaXNPdXRzaWRlQ2xpY2tlZChlLnRhcmdldCkpIHtcbiAgICAgICAgc3dpdGNoQ2VsbFRvVmlld01vZGUoZSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGZDbGljay5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuICB9KSxcbiAgICAgIF91c2VFdmVudExpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VFdmVudExpc3RlbmVyLCAyKSxcbiAgICAgIGJpbmREb2N1bWVudENsaWNrTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjJbMF0sXG4gICAgICB1bmJpbmREb2N1bWVudENsaWNrTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjJbMV07XG5cbiAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgIGlmIChwcm9wcy5lZGl0b3IgJiYgIWVkaXRpbmdTdGF0ZSAmJiAocHJvcHMuc2VsZWN0T25FZGl0IHx8ICFwcm9wcy5zZWxlY3RPbkVkaXQgJiYgcHJvcHMuc2VsZWN0ZWQpKSB7XG4gICAgICBzZWxmQ2xpY2suY3VycmVudCA9IHRydWU7XG4gICAgICBzZXRFZGl0aW5nU3RhdGUodHJ1ZSk7XG4gICAgICBiaW5kRG9jdW1lbnRDbGlja0xpc3RlbmVyKCk7XG5cbiAgICAgIG92ZXJsYXlFdmVudExpc3RlbmVyLmN1cnJlbnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWlzT3V0c2lkZUNsaWNrZWQoZS50YXJnZXQpKSB7XG4gICAgICAgICAgc2VsZkNsaWNrLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBPdmVybGF5U2VydmljZS5vbignb3ZlcmxheS1jbGljaycsIG92ZXJsYXlFdmVudExpc3RlbmVyLmN1cnJlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LndoaWNoID09PSAxMyB8fCBldmVudC53aGljaCA9PT0gOSkge1xuICAgICAgc3dpdGNoQ2VsbFRvVmlld01vZGUoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNPdXRzaWRlQ2xpY2tlZCA9IGZ1bmN0aW9uIGlzT3V0c2lkZUNsaWNrZWQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudCAmJiAhKGVsZW1lbnRSZWYuY3VycmVudC5pc1NhbWVOb2RlKHRhcmdldCkgfHwgZWxlbWVudFJlZi5jdXJyZW50LmNvbnRhaW5zKHRhcmdldCkpO1xuICB9O1xuXG4gIHZhciBjbG9zZUNlbGwgPSBmdW5jdGlvbiBjbG9zZUNlbGwoKSB7XG4gICAgLyogV2hlbiB1c2luZyB0aGUgJ3RhYicga2V5LCB0aGUgZm9jdXMgZXZlbnQgb2YgdGhlIG5leHQgY2VsbCBpcyBub3QgY2FsbGVkIGluIElFLiAqL1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2V0RWRpdGluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIHVuYmluZERvY3VtZW50Q2xpY2tMaXN0ZW5lcigpO1xuICAgICAgT3ZlcmxheVNlcnZpY2Uub2ZmKCdvdmVybGF5LWNsaWNrJywgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCk7XG4gICAgICBfcmVhZE9ubHlFcnJvcihcIm92ZXJsYXlFdmVudExpc3RlbmVyXCIpO1xuICAgIH0sIDEpO1xuICB9O1xuXG4gIHZhciBvbkVkaXRvckZvY3VzID0gZnVuY3Rpb24gb25FZGl0b3JGb2N1cyhldmVudCkge1xuICAgIG9uQ2xpY2soKTtcbiAgfTtcblxuICB2YXIgc3dpdGNoQ2VsbFRvVmlld01vZGUgPSBmdW5jdGlvbiBzd2l0Y2hDZWxsVG9WaWV3TW9kZShldmVudCkge1xuICAgIGlmIChwcm9wcy5jZWxsRWRpdFZhbGlkYXRvcikge1xuICAgICAgdmFyIHZhbGlkID0gcHJvcHMuY2VsbEVkaXRWYWxpZGF0b3Ioe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgY29sdW1uUHJvcHM6IHByb3BzXG4gICAgICB9KTtcblxuICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgIGNsb3NlQ2VsbCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjbG9zZUNlbGwoKTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50ICYmIHByb3BzLmVkaXRvcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRhYkluZGV4VGltZW91dC5jdXJyZW50KTtcblxuICAgICAgaWYgKGVkaXRpbmdTdGF0ZSkge1xuICAgICAgICB2YXIgZm9jdXNhYmxlID0gRG9tSGFuZGxlci5maW5kU2luZ2xlKGVsZW1lbnRSZWYuY3VycmVudCwgJ2lucHV0Jyk7XG5cbiAgICAgICAgaWYgKGZvY3VzYWJsZSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBmb2N1c2FibGUgJiYgIWZvY3VzYWJsZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtaXNDZWxsRWRpdGluZycpKSB7XG4gICAgICAgICAgZm9jdXNhYmxlLnNldEF0dHJpYnV0ZSgnZGF0YS1pc0NlbGxFZGl0aW5nJywgdHJ1ZSk7XG4gICAgICAgICAgZm9jdXNhYmxlLmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBrZXlIZWxwZXJSZWYuY3VycmVudC50YWJJbmRleCA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFiSW5kZXhUaW1lb3V0LmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoa2V5SGVscGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGtleUhlbHBlclJlZi5jdXJyZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAob3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCkge1xuICAgICAgT3ZlcmxheVNlcnZpY2Uub2ZmKCdvdmVybGF5LWNsaWNrJywgb3ZlcmxheUV2ZW50TGlzdGVuZXIuY3VycmVudCk7XG4gICAgICBvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH0pO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyhwcm9wcy5ib2R5Q2xhc3NOYW1lIHx8IHByb3BzLmNsYXNzTmFtZSwge1xuICAgICdwLWVkaXRhYmxlLWNvbHVtbic6IHByb3BzLmVkaXRvcixcbiAgICAncC1jZWxsLWVkaXRpbmcnOiBwcm9wcy5lZGl0b3IgPyBlZGl0aW5nU3RhdGUgOiBmYWxzZVxuICB9KTtcbiAgdmFyIHN0eWxlID0gcHJvcHMuYm9keVN0eWxlIHx8IHByb3BzLnN0eWxlO1xuICB2YXIgY29udGVudDtcblxuICBpZiAoZWRpdGluZ1N0YXRlKSB7XG4gICAgaWYgKHByb3BzLmVkaXRvcikgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuZWRpdG9yLCB7XG4gICAgICBub2RlOiBwcm9wcy5ub2RlLFxuICAgICAgcm93RGF0YTogcHJvcHMubm9kZS5kYXRhLFxuICAgICAgdmFsdWU6IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocHJvcHMubm9kZS5kYXRhLCBwcm9wcy5maWVsZCksXG4gICAgICBmaWVsZDogcHJvcHMuZmllbGQsXG4gICAgICByb3dJbmRleDogcHJvcHMucm93SW5kZXgsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9KTtlbHNlIHRocm93IG5ldyBFcnJvcignRWRpdG9yIGlzIG5vdCBmb3VuZCBvbiBjb2x1bW4uJyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHByb3BzLmJvZHkpIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmJvZHksIHByb3BzLm5vZGUsIHtcbiAgICAgIGZpZWxkOiBwcm9wcy5maWVsZCxcbiAgICAgIHJvd0luZGV4OiBwcm9wcy5yb3dJbmRleCxcbiAgICAgIHByb3BzOiBwcm9wc1xuICAgIH0pO2Vsc2UgY29udGVudCA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocHJvcHMubm9kZS5kYXRhLCBwcm9wcy5maWVsZCk7XG4gIH1cbiAgLyogZXNsaW50LWRpc2FibGUgKi9cblxuXG4gIHZhciBlZGl0b3JLZXlIZWxwZXIgPSBwcm9wcy5lZGl0b3IgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICB0YWJJbmRleDogMCxcbiAgICByZWY6IGtleUhlbHBlclJlZixcbiAgICBjbGFzc05hbWU6IFwicC1jZWxsLWVkaXRvci1rZXktaGVscGVyIHAtaGlkZGVuLWFjY2Vzc2libGVcIixcbiAgICBvbkZvY3VzOiBvbkVkaXRvckZvY3VzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsKSk7XG4gIC8qIGVzbGludC1lbmFibGUgKi9cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgcmVmOiBlbGVtZW50UmVmLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duXG4gIH0sIHByb3BzLmNoaWxkcmVuLCBlZGl0b3JLZXlIZWxwZXIsIGNvbnRlbnQpO1xufTtcblRyZWVUYWJsZUJvZHlDZWxsLmRpc3BsYXlOYW1lID0gJ1RyZWVUYWJsZUJvZHlDZWxsJztcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMyhvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyhvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyhvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDMobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMyhhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyQyKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDIodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkMihPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDIoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIFRyZWVUYWJsZVJvdyA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGNoZWNrYm94UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY2hlY2tib3hCb3hSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBub2RlVG91Y2hlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIHZhciBleHBhbmRlZCA9IHByb3BzLmV4cGFuZGVkS2V5cyA/IHByb3BzLmV4cGFuZGVkS2V5c1twcm9wcy5ub2RlLmtleV0gIT09IHVuZGVmaW5lZCA6IGZhbHNlO1xuXG4gIHZhciBvblRvZ2dsZXJDbGljayA9IGZ1bmN0aW9uIG9uVG9nZ2xlckNsaWNrKGV2ZW50KSB7XG4gICAgZXhwYW5kZWQgPyBjb2xsYXBzZShldmVudCkgOiBleHBhbmQoZXZlbnQpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG5cbiAgdmFyIGV4cGFuZCA9IGZ1bmN0aW9uIGV4cGFuZChldmVudCkge1xuICAgIHZhciBleHBhbmRlZEtleXMgPSBwcm9wcy5leHBhbmRlZEtleXMgPyBfb2JqZWN0U3ByZWFkJDIoe30sIHByb3BzLmV4cGFuZGVkS2V5cykgOiB7fTtcbiAgICBleHBhbmRlZEtleXNbcHJvcHMubm9kZS5rZXldID0gdHJ1ZTtcbiAgICBwcm9wcy5vblRvZ2dsZSh7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIHZhbHVlOiBleHBhbmRlZEtleXNcbiAgICB9KTtcbiAgICBpbnZva2VUb2dnbGVFdmVudHMoZXZlbnQsIHRydWUpO1xuICB9O1xuXG4gIHZhciBjb2xsYXBzZSA9IGZ1bmN0aW9uIGNvbGxhcHNlKGV2ZW50KSB7XG4gICAgdmFyIGV4cGFuZGVkS2V5cyA9IF9vYmplY3RTcHJlYWQkMih7fSwgcHJvcHMuZXhwYW5kZWRLZXlzKTtcblxuICAgIGRlbGV0ZSBleHBhbmRlZEtleXNbcHJvcHMubm9kZS5rZXldO1xuICAgIHByb3BzLm9uVG9nZ2xlKHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgdmFsdWU6IGV4cGFuZGVkS2V5c1xuICAgIH0pO1xuICAgIGludm9rZVRvZ2dsZUV2ZW50cyhldmVudCwgZmFsc2UpO1xuICB9O1xuXG4gIHZhciBpbnZva2VUb2dnbGVFdmVudHMgPSBmdW5jdGlvbiBpbnZva2VUb2dnbGVFdmVudHMoZXZlbnQsIGV4cGFuZGVkKSB7XG4gICAgaWYgKGV4cGFuZGVkKSB7XG4gICAgICBpZiAocHJvcHMub25FeHBhbmQpIHtcbiAgICAgICAgcHJvcHMub25FeHBhbmQoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIG5vZGU6IHByb3BzLm5vZGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wcy5vbkNvbGxhcHNlKSB7XG4gICAgICAgIHByb3BzLm9uQ29sbGFwc2Uoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIG5vZGU6IHByb3BzLm5vZGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgIGlmIChwcm9wcy5vblJvd0NsaWNrKSB7XG4gICAgICBwcm9wcy5vblJvd0NsaWNrKGV2ZW50LCBwcm9wcy5ub2RlKTtcbiAgICB9XG5cbiAgICBub2RlVG91Y2hlZC5jdXJyZW50ID0gZmFsc2U7XG4gIH07XG5cbiAgdmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbiBvblRvdWNoRW5kKCkge1xuICAgIG5vZGVUb3VjaGVkLmN1cnJlbnQgPSB0cnVlO1xuICB9O1xuXG4gIHZhciBvbkNoZWNrYm94Q2hhbmdlID0gZnVuY3Rpb24gb25DaGVja2JveENoYW5nZShldmVudCkge1xuICAgIHZhciBjaGVja2VkID0gaXNDaGVja2VkKCk7XG4gICAgdmFyIHNlbGVjdGlvbktleXMgPSBwcm9wcy5zZWxlY3Rpb25LZXlzID8gX29iamVjdFNwcmVhZCQyKHt9LCBwcm9wcy5zZWxlY3Rpb25LZXlzKSA6IHt9O1xuXG4gICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgIGlmIChwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25Eb3duKSBwcm9wYWdhdGVEb3duKHByb3BzLm5vZGUsIGZhbHNlLCBzZWxlY3Rpb25LZXlzKTtlbHNlIGRlbGV0ZSBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XTtcblxuICAgICAgaWYgKHByb3BzLnByb3BhZ2F0ZVNlbGVjdGlvblVwICYmIHByb3BzLm9uUHJvcGFnYXRlVXApIHtcbiAgICAgICAgcHJvcHMub25Qcm9wYWdhdGVVcCh7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgY2hlY2s6IGZhbHNlLFxuICAgICAgICAgIHNlbGVjdGlvbktleXM6IHNlbGVjdGlvbktleXNcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vblVuc2VsZWN0KSB7XG4gICAgICAgIHByb3BzLm9uVW5zZWxlY3Qoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIG5vZGU6IHByb3BzLm5vZGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25Eb3duKSBwcm9wYWdhdGVEb3duKHByb3BzLm5vZGUsIHRydWUsIHNlbGVjdGlvbktleXMpO2Vsc2Ugc2VsZWN0aW9uS2V5c1twcm9wcy5ub2RlLmtleV0gPSB7XG4gICAgICAgIGNoZWNrZWQ6IHRydWVcbiAgICAgIH07XG5cbiAgICAgIGlmIChwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25VcCAmJiBwcm9wcy5vblByb3BhZ2F0ZVVwKSB7XG4gICAgICAgIHByb3BzLm9uUHJvcGFnYXRlVXAoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGNoZWNrOiB0cnVlLFxuICAgICAgICAgIHNlbGVjdGlvbktleXM6IHNlbGVjdGlvbktleXNcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vblNlbGVjdCkge1xuICAgICAgICBwcm9wcy5vblNlbGVjdCh7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgbm9kZTogcHJvcHMubm9kZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvcHMub25TZWxlY3Rpb25DaGFuZ2UpIHtcbiAgICAgIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiBzZWxlY3Rpb25LZXlzXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBEb21IYW5kbGVyLmNsZWFyU2VsZWN0aW9uKCk7XG4gIH07XG5cbiAgdmFyIG9uQ2hlY2tib3hGb2N1cyA9IGZ1bmN0aW9uIG9uQ2hlY2tib3hGb2N1cygpIHtcbiAgICBEb21IYW5kbGVyLmFkZENsYXNzKGNoZWNrYm94Qm94UmVmLmN1cnJlbnQsICdwLWZvY3VzJyk7XG4gICAgRG9tSGFuZGxlci5hZGRDbGFzcyhjaGVja2JveFJlZi5jdXJyZW50LCAncC1jaGVja2JveC1mb2N1c2VkJyk7XG4gIH07XG5cbiAgdmFyIG9uQ2hlY2tib3hCbHVyID0gZnVuY3Rpb24gb25DaGVja2JveEJsdXIoKSB7XG4gICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhjaGVja2JveEJveFJlZi5jdXJyZW50LCAncC1mb2N1cycpO1xuICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoY2hlY2tib3hSZWYuY3VycmVudCwgJ3AtY2hlY2tib3gtZm9jdXNlZCcpO1xuICB9O1xuXG4gIHZhciBwcm9wYWdhdGVVcCA9IGZ1bmN0aW9uIHByb3BhZ2F0ZVVwKGV2ZW50KSB7XG4gICAgdmFyIGNoZWNrID0gZXZlbnQuY2hlY2s7XG4gICAgdmFyIHNlbGVjdGlvbktleXMgPSBldmVudC5zZWxlY3Rpb25LZXlzO1xuICAgIHZhciBjaGVja2VkQ2hpbGRDb3VudCA9IDA7XG4gICAgdmFyIGNoaWxkUGFydGlhbFNlbGVjdGVkID0gZmFsc2U7XG5cbiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMyhwcm9wcy5ub2RlLmNoaWxkcmVuKSxcbiAgICAgICAgX3N0ZXA7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gX3N0ZXAudmFsdWU7XG4gICAgICAgIGlmIChzZWxlY3Rpb25LZXlzW2NoaWxkLmtleV0gJiYgc2VsZWN0aW9uS2V5c1tjaGlsZC5rZXldLmNoZWNrZWQpIGNoZWNrZWRDaGlsZENvdW50Kys7ZWxzZSBpZiAoc2VsZWN0aW9uS2V5c1tjaGlsZC5rZXldICYmIHNlbGVjdGlvbktleXNbY2hpbGQua2V5XS5wYXJ0aWFsQ2hlY2tlZCkgY2hpbGRQYXJ0aWFsU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICB9XG5cbiAgICBpZiAoY2hlY2sgJiYgY2hlY2tlZENoaWxkQ291bnQgPT09IHByb3BzLm5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XSA9IHtcbiAgICAgICAgY2hlY2tlZDogdHJ1ZSxcbiAgICAgICAgcGFydGlhbENoZWNrZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNoZWNrKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoaWxkUGFydGlhbFNlbGVjdGVkIHx8IGNoZWNrZWRDaGlsZENvdW50ID4gMCAmJiBjaGVja2VkQ2hpbGRDb3VudCAhPT0gcHJvcHMubm9kZS5jaGlsZHJlbi5sZW5ndGgpIHNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldID0ge1xuICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgcGFydGlhbENoZWNrZWQ6IHRydWVcbiAgICAgIH07ZWxzZSBzZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XSA9IHtcbiAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgIHBhcnRpYWxDaGVja2VkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uVXAgJiYgcHJvcHMub25Qcm9wYWdhdGVVcCkge1xuICAgICAgcHJvcHMub25Qcm9wYWdhdGVVcChldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBwcm9wYWdhdGVEb3duID0gZnVuY3Rpb24gcHJvcGFnYXRlRG93bihub2RlLCBjaGVjaywgc2VsZWN0aW9uS2V5cykge1xuICAgIGlmIChjaGVjaykgc2VsZWN0aW9uS2V5c1tub2RlLmtleV0gPSB7XG4gICAgICBjaGVja2VkOiB0cnVlLFxuICAgICAgcGFydGlhbENoZWNrZWQ6IGZhbHNlXG4gICAgfTtlbHNlIGRlbGV0ZSBzZWxlY3Rpb25LZXlzW25vZGUua2V5XTtcblxuICAgIGlmIChub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcHJvcGFnYXRlRG93bihub2RlLmNoaWxkcmVuW2ldLCBjaGVjaywgc2VsZWN0aW9uS2V5cyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblJpZ2h0Q2xpY2sgPSBmdW5jdGlvbiBvblJpZ2h0Q2xpY2soZXZlbnQpIHtcbiAgICBEb21IYW5kbGVyLmNsZWFyU2VsZWN0aW9uKCk7XG5cbiAgICBpZiAocHJvcHMub25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICB2YWx1ZTogcHJvcHMubm9kZS5rZXlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5vbkNvbnRleHRNZW51KSB7XG4gICAgICBwcm9wcy5vbkNvbnRleHRNZW51KHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIG5vZGU6IHByb3BzLm5vZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgcm93RWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgICAgLy9kb3duIGFycm93XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgdmFyIG5leHRSb3cgPSByb3dFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcblxuICAgICAgICAgIGlmIChuZXh0Um93KSB7XG4gICAgICAgICAgICBuZXh0Um93LmZvY3VzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy91cCBhcnJvd1xuXG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgdmFyIHByZXZpb3VzUm93ID0gcm93RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgaWYgKHByZXZpb3VzUm93KSB7XG4gICAgICAgICAgICBwcmV2aW91c1Jvdy5mb2N1cygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vcmlnaHQgYXJyb3dcblxuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIGlmICghZXhwYW5kZWQpIHtcbiAgICAgICAgICAgIGV4cGFuZChldmVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy9sZWZ0IGFycm93XG5cbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICBpZiAoZXhwYW5kZWQpIHtcbiAgICAgICAgICAgIGNvbGxhcHNlKGV2ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvL2VudGVyXG5cbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBvbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzU2VsZWN0ZWQoKSB7XG4gICAgaWYgKChwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJyB8fCBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlwbGUnKSAmJiBwcm9wcy5zZWxlY3Rpb25LZXlzKSByZXR1cm4gcHJvcHMuc2VsZWN0aW9uTW9kZSA9PT0gJ3NpbmdsZScgPyBwcm9wcy5zZWxlY3Rpb25LZXlzID09PSBwcm9wcy5ub2RlLmtleSA6IHByb3BzLnNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldICE9PSB1bmRlZmluZWQ7ZWxzZSByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGlzQ2hlY2tlZCA9IGZ1bmN0aW9uIGlzQ2hlY2tlZCgpIHtcbiAgICByZXR1cm4gcHJvcHMuc2VsZWN0aW9uS2V5cyA/IHByb3BzLnNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldICYmIHByb3BzLnNlbGVjdGlvbktleXNbcHJvcHMubm9kZS5rZXldLmNoZWNrZWQgOiBmYWxzZTtcbiAgfTtcblxuICB2YXIgaXNQYXJ0aWFsQ2hlY2tlZCA9IGZ1bmN0aW9uIGlzUGFydGlhbENoZWNrZWQoKSB7XG4gICAgcmV0dXJuIHByb3BzLnNlbGVjdGlvbktleXMgPyBwcm9wcy5zZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XSAmJiBwcm9wcy5zZWxlY3Rpb25LZXlzW3Byb3BzLm5vZGUua2V5XS5wYXJ0aWFsQ2hlY2tlZCA6IGZhbHNlO1xuICB9O1xuXG4gIHZhciBjcmVhdGVUb2dnbGVyID0gZnVuY3Rpb24gY3JlYXRlVG9nZ2xlcigpIHtcbiAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdHJlZXRhYmxlLXRvZ2dsZXItaWNvbiBwaSBwaS1mdycsIHtcbiAgICAgICdwaS1jaGV2cm9uLXJpZ2h0JzogIWV4cGFuZGVkLFxuICAgICAgJ3BpLWNoZXZyb24tZG93bic6IGV4cGFuZGVkXG4gICAgfSk7XG4gICAgdmFyIHN0eWxlID0ge1xuICAgICAgbWFyZ2luTGVmdDogcHJvcHMubGV2ZWwgKiAxNiArICdweCcsXG4gICAgICB2aXNpYmlsaXR5OiBwcm9wcy5ub2RlLmxlYWYgPT09IGZhbHNlIHx8IHByb3BzLm5vZGUuY2hpbGRyZW4gJiYgcHJvcHMubm9kZS5jaGlsZHJlbi5sZW5ndGggPyAndmlzaWJsZScgOiAnaGlkZGVuJ1xuICAgIH07XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IFwicC10cmVldGFibGUtdG9nZ2xlciBwLWxpbmsgcC11bnNlbGVjdGFibGUtdGV4dFwiLFxuICAgICAgb25DbGljazogb25Ub2dnbGVyQ2xpY2ssXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBzdHlsZTogc3R5bGVcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVDaGVja2JveCA9IGZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KCkge1xuICAgIGlmIChwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnY2hlY2tib3gnICYmIHByb3BzLm5vZGUuc2VsZWN0YWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgIHZhciBjaGVja2VkID0gaXNDaGVja2VkKCk7XG4gICAgICB2YXIgcGFydGlhbENoZWNrZWQgPSBpc1BhcnRpYWxDaGVja2VkKCk7XG5cbiAgICAgIHZhciBfY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jaGVja2JveC1ib3gnLCB7XG4gICAgICAgICdwLWhpZ2hsaWdodCc6IGNoZWNrZWQsXG4gICAgICAgICdwLWluZGV0ZXJtaW5hdGUnOiBwYXJ0aWFsQ2hlY2tlZFxuICAgICAgfSk7XG5cbiAgICAgIHZhciBpY29uID0gY2xhc3NOYW1lcygncC1jaGVja2JveC1pY29uIHAtYycsIHtcbiAgICAgICAgJ3BpIHBpLWNoZWNrJzogY2hlY2tlZCxcbiAgICAgICAgJ3BpIHBpLW1pbnVzJzogcGFydGlhbENoZWNrZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY2hlY2tib3ggcC10cmVldGFibGUtY2hlY2tib3ggcC1jb21wb25lbnRcIixcbiAgICAgICAgcmVmOiBjaGVja2JveFJlZixcbiAgICAgICAgb25DbGljazogb25DaGVja2JveENoYW5nZSxcbiAgICAgICAgcm9sZTogXCJjaGVja2JveFwiLFxuICAgICAgICBcImFyaWEtY2hlY2tlZFwiOiBjaGVja2VkXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWhpZGRlbi1hY2Nlc3NpYmxlXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgIG9uRm9jdXM6IG9uQ2hlY2tib3hGb2N1cyxcbiAgICAgICAgb25CbHVyOiBvbkNoZWNrYm94Qmx1clxuICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogX2NsYXNzTmFtZSxcbiAgICAgICAgcmVmOiBjaGVja2JveEJveFJlZlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBpY29uXG4gICAgICB9KSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNlbGwgPSBmdW5jdGlvbiBjcmVhdGVDZWxsKGNvbHVtbikge1xuICAgIHZhciB0b2dnbGVyLCBjaGVja2JveDtcblxuICAgIGlmIChjb2x1bW4ucHJvcHMuZXhwYW5kZXIpIHtcbiAgICAgIHRvZ2dsZXIgPSBjcmVhdGVUb2dnbGVyKCk7XG4gICAgICBjaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyZWVUYWJsZUJvZHlDZWxsLCBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGNvbHVtbi5wcm9wcy5jb2x1bW5LZXkgfHwgY29sdW1uLnByb3BzLmZpZWxkXG4gICAgfSwgY29sdW1uLnByb3BzLCB7XG4gICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgIHNlbGVjdE9uRWRpdDogcHJvcHMuc2VsZWN0T25FZGl0LFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQoKSxcbiAgICAgIG5vZGU6IHByb3BzLm5vZGUsXG4gICAgICByb3dJbmRleDogcHJvcHMucm93SW5kZXhcbiAgICB9KSwgdG9nZ2xlciwgY2hlY2tib3gpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVDaGlsZHJlbiA9IGZ1bmN0aW9uIGNyZWF0ZUNoaWxkcmVuKCkge1xuICAgIGlmIChleHBhbmRlZCAmJiBwcm9wcy5ub2RlLmNoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gcHJvcHMubm9kZS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkTm9kZSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyZWVUYWJsZVJvdywge1xuICAgICAgICAgIGtleTogY2hpbGROb2RlLmtleSB8fCBKU09OLnN0cmluZ2lmeShjaGlsZE5vZGUuZGF0YSksXG4gICAgICAgICAgbGV2ZWw6IHByb3BzLmxldmVsICsgMSxcbiAgICAgICAgICByb3dJbmRleDogcHJvcHMucm93SW5kZXggKyAnXycgKyBpbmRleCxcbiAgICAgICAgICBub2RlOiBjaGlsZE5vZGUsXG4gICAgICAgICAgY29sdW1uczogcHJvcHMuY29sdW1ucyxcbiAgICAgICAgICBleHBhbmRlZEtleXM6IHByb3BzLmV4cGFuZGVkS2V5cyxcbiAgICAgICAgICBzZWxlY3RPbkVkaXQ6IHByb3BzLnNlbGVjdE9uRWRpdCxcbiAgICAgICAgICBvblRvZ2dsZTogcHJvcHMub25Ub2dnbGUsXG4gICAgICAgICAgb25FeHBhbmQ6IHByb3BzLm9uRXhwYW5kLFxuICAgICAgICAgIG9uQ29sbGFwc2U6IHByb3BzLm9uQ29sbGFwc2UsXG4gICAgICAgICAgc2VsZWN0aW9uTW9kZTogcHJvcHMuc2VsZWN0aW9uTW9kZSxcbiAgICAgICAgICBzZWxlY3Rpb25LZXlzOiBwcm9wcy5zZWxlY3Rpb25LZXlzLFxuICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlOiBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSxcbiAgICAgICAgICBtZXRhS2V5U2VsZWN0aW9uOiBwcm9wcy5tZXRhS2V5U2VsZWN0aW9uLFxuICAgICAgICAgIG9uUm93Q2xpY2s6IHByb3BzLm9uUm93Q2xpY2ssXG4gICAgICAgICAgb25TZWxlY3Q6IHByb3BzLm9uU2VsZWN0LFxuICAgICAgICAgIG9uVW5zZWxlY3Q6IHByb3BzLm9uVW5zZWxlY3QsXG4gICAgICAgICAgcHJvcGFnYXRlU2VsZWN0aW9uVXA6IHByb3BzLnByb3BhZ2F0ZVNlbGVjdGlvblVwLFxuICAgICAgICAgIHByb3BhZ2F0ZVNlbGVjdGlvbkRvd246IHByb3BzLnByb3BhZ2F0ZVNlbGVjdGlvbkRvd24sXG4gICAgICAgICAgb25Qcm9wYWdhdGVVcDogcHJvcGFnYXRlVXAsXG4gICAgICAgICAgcm93Q2xhc3NOYW1lOiBwcm9wcy5yb3dDbGFzc05hbWUsXG4gICAgICAgICAgY29udGV4dE1lbnVTZWxlY3Rpb25LZXk6IHByb3BzLmNvbnRleHRNZW51U2VsZWN0aW9uS2V5LFxuICAgICAgICAgIG9uQ29udGV4dE1lbnVTZWxlY3Rpb25DaGFuZ2U6IHByb3BzLm9uQ29udGV4dE1lbnVTZWxlY3Rpb25DaGFuZ2UsXG4gICAgICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25Db250ZXh0TWVudVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNlbGxzID0gcHJvcHMuY29sdW1ucy5tYXAoY3JlYXRlQ2VsbCk7XG4gIHZhciBjaGlsZHJlbiA9IGNyZWF0ZUNoaWxkcmVuKCk7XG4gIHZhciBjbGFzc05hbWUgPSB7XG4gICAgJ3AtaGlnaGxpZ2h0JzogaXNTZWxlY3RlZCgpLFxuICAgICdwLWhpZ2hsaWdodC1jb250ZXh0bWVudSc6IHByb3BzLmNvbnRleHRNZW51U2VsZWN0aW9uS2V5ICYmIHByb3BzLmNvbnRleHRNZW51U2VsZWN0aW9uS2V5ID09PSBwcm9wcy5ub2RlLmtleVxuICB9O1xuXG4gIGlmIChwcm9wcy5yb3dDbGFzc05hbWUpIHtcbiAgICB2YXIgcm93Q2xhc3NOYW1lID0gcHJvcHMucm93Q2xhc3NOYW1lKHByb3BzLm5vZGUpO1xuICAgIGNsYXNzTmFtZSA9IF9vYmplY3RTcHJlYWQkMihfb2JqZWN0U3ByZWFkJDIoe30sIGNsYXNzTmFtZSksIHJvd0NsYXNzTmFtZSk7XG4gIH1cblxuICBjbGFzc05hbWUgPSBjbGFzc05hbWVzKGNsYXNzTmFtZSwgcHJvcHMubm9kZS5jbGFzc05hbWUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwge1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICB0YWJJbmRleDogMCxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMubm9kZS5zdHlsZSxcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIG9uVG91Y2hFbmQ6IG9uVG91Y2hFbmQsXG4gICAgb25Db250ZXh0TWVudTogb25SaWdodENsaWNrLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duXG4gIH0sIGNlbGxzKSwgY2hpbGRyZW4pO1xufSk7XG5UcmVlVGFibGVSb3cuZGlzcGxheU5hbWUgPSAnVHJlZVRhYmxlUm93JztcblxuZnVuY3Rpb24gb3duS2V5cyQxKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDEodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkMShPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMihvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDIobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQyKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxudmFyIFRyZWVUYWJsZUJvZHkgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGlzU2luZ2xlU2VsZWN0aW9uTW9kZSA9IHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICdzaW5nbGUnO1xuICB2YXIgaXNNdWx0aXBsZVNlbGVjdGlvbk1vZGUgPSBwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlwbGUnO1xuXG4gIHZhciBmbGF0dGVuaXplVHJlZSA9IGZ1bmN0aW9uIGZsYXR0ZW5pemVUcmVlKG5vZGVzKSB7XG4gICAgdmFyIHJvd3MgPSBbXTtcbiAgICBub2RlcyA9IG5vZGVzIHx8IHByb3BzLnZhbHVlO1xuXG4gICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIobm9kZXMpLFxuICAgICAgICBfc3RlcDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICB2YXIgbm9kZSA9IF9zdGVwLnZhbHVlO1xuICAgICAgICByb3dzLnB1c2gobm9kZS5rZXkpO1xuXG4gICAgICAgIGlmIChpc0V4cGFuZGVkS2V5KG5vZGUua2V5KSkge1xuICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdChmbGF0dGVuaXplVHJlZShub2RlLmNoaWxkcmVuKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvd3M7XG4gIH07XG5cbiAgdmFyIGlzRXhwYW5kZWRLZXkgPSBmdW5jdGlvbiBpc0V4cGFuZGVkS2V5KGtleSkge1xuICAgIHJldHVybiBwcm9wcy5leHBhbmRlZEtleXMgJiYgISFwcm9wcy5leHBhbmRlZEtleXNba2V5XTtcbiAgfTtcblxuICB2YXIgb25Sb3dDbGljayA9IGZ1bmN0aW9uIG9uUm93Q2xpY2soZXZlbnQsIG5vZGUpIHtcbiAgICBpZiAocHJvcHMub25Sb3dDbGljaykge1xuICAgICAgcHJvcHMub25Sb3dDbGljayh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBub2RlOiBub2RlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0Tm9kZSA9IGV2ZW50LnRhcmdldC5ub2RlTmFtZTtcblxuICAgIGlmICh0YXJnZXROb2RlID09PSAnSU5QVVQnIHx8IHRhcmdldE5vZGUgPT09ICdCVVRUT04nIHx8IHRhcmdldE5vZGUgPT09ICdBJyB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtY2xpY2thYmxlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoKGlzU2luZ2xlU2VsZWN0aW9uTW9kZSB8fCBpc011bHRpcGxlU2VsZWN0aW9uTW9kZSkgJiYgbm9kZS5zZWxlY3RhYmxlICE9PSBmYWxzZSkge1xuICAgICAgdmFyIHNlbGVjdGlvbktleXM7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBpc1NlbGVjdGVkKG5vZGUpO1xuICAgICAgdmFyIG1ldGFTZWxlY3Rpb24gPSBwcm9wcy5tZXRhS2V5U2VsZWN0aW9uO1xuICAgICAgdmFyIGZsYXRLZXlzID0gZmxhdHRlbml6ZVRyZWUoKTtcbiAgICAgIHZhciByb3dJbmRleCA9IGZsYXRLZXlzLmZpbmRJbmRleChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgPT09IG5vZGUua2V5O1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpc011bHRpcGxlU2VsZWN0aW9uTW9kZSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICBEb21IYW5kbGVyLmNsZWFyU2VsZWN0aW9uKCk7IC8vIGZpbmQgZmlyc3Qgc2VsZWN0ZWQgcm93XG5cbiAgICAgICAgdmFyIGFuY2hvclJvd0luZGV4ID0gZmxhdEtleXMuZmluZEluZGV4KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMuc2VsZWN0aW9uS2V5c1trZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJhbmdlU3RhcnQgPSBNYXRoLm1pbihyb3dJbmRleCwgYW5jaG9yUm93SW5kZXgpO1xuICAgICAgICB2YXIgcmFuZ2VFbmQgPSBNYXRoLm1heChyb3dJbmRleCwgYW5jaG9yUm93SW5kZXgpO1xuICAgICAgICBzZWxlY3Rpb25LZXlzID0gX29iamVjdFNwcmVhZCQxKHt9LCBwcm9wcy5zZWxlY3Rpb25LZXlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gcmFuZ2VTdGFydDsgaSA8PSByYW5nZUVuZDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJvd0tleSA9IGZsYXRLZXlzW2ldO1xuICAgICAgICAgIHNlbGVjdGlvbktleXNbcm93S2V5XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vYW5jaG9yUm93SW5kZXggPSByb3dJbmRleDtcbiAgICAgICAgaWYgKG1ldGFTZWxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgbWV0YUtleSA9IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleTtcblxuICAgICAgICAgIGlmIChzZWxlY3RlZCAmJiBtZXRhS2V5KSB7XG4gICAgICAgICAgICBpZiAoaXNTaW5nbGVTZWxlY3Rpb25Nb2RlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uS2V5cyA9IF9vYmplY3RTcHJlYWQkMSh7fSwgcHJvcHMuc2VsZWN0aW9uS2V5cyk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzZWxlY3Rpb25LZXlzW25vZGUua2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BzLm9uVW5zZWxlY3QpIHtcbiAgICAgICAgICAgICAgcHJvcHMub25VbnNlbGVjdCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgbm9kZTogbm9kZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzU2luZ2xlU2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgICBzZWxlY3Rpb25LZXlzID0gbm9kZS5rZXk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTXVsdGlwbGVTZWxlY3Rpb25Nb2RlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSAhbWV0YUtleSA/IHt9IDogcHJvcHMuc2VsZWN0aW9uS2V5cyA/IF9vYmplY3RTcHJlYWQkMSh7fSwgcHJvcHMuc2VsZWN0aW9uS2V5cykgOiB7fTtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uS2V5c1tub2RlLmtleV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcHMub25TZWxlY3QpIHtcbiAgICAgICAgICAgICAgcHJvcHMub25TZWxlY3Qoe1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc1NpbmdsZVNlbGVjdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgICBzZWxlY3Rpb25LZXlzID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAocHJvcHMub25VbnNlbGVjdCkge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uVW5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICBub2RlOiBub2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSBub2RlLmtleTtcblxuICAgICAgICAgICAgICBpZiAocHJvcHMub25TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5vblNlbGVjdCh7XG4gICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgIG5vZGU6IG5vZGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uS2V5cyA9IF9vYmplY3RTcHJlYWQkMSh7fSwgcHJvcHMuc2VsZWN0aW9uS2V5cyk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzZWxlY3Rpb25LZXlzW25vZGUua2V5XTtcblxuICAgICAgICAgICAgICBpZiAocHJvcHMub25VbnNlbGVjdCkge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uVW5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICBub2RlOiBub2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbktleXMgPSBwcm9wcy5zZWxlY3Rpb25LZXlzID8gX29iamVjdFNwcmVhZCQxKHt9LCBwcm9wcy5zZWxlY3Rpb25LZXlzKSA6IHt9O1xuICAgICAgICAgICAgICBzZWxlY3Rpb25LZXlzW25vZGUua2V5XSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BzLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgcHJvcHMub25TZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICBub2RlOiBub2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICB2YWx1ZTogc2VsZWN0aW9uS2V5c1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc1NlbGVjdGVkKG5vZGUpIHtcbiAgICBpZiAoKGlzU2luZ2xlU2VsZWN0aW9uTW9kZSB8fCBpc011bHRpcGxlU2VsZWN0aW9uTW9kZSkgJiYgcHJvcHMuc2VsZWN0aW9uS2V5cykgcmV0dXJuIGlzU2luZ2xlU2VsZWN0aW9uTW9kZSA/IHByb3BzLnNlbGVjdGlvbktleXMgPT09IG5vZGUua2V5IDogcHJvcHMuc2VsZWN0aW9uS2V5c1tub2RlLmtleV0gIT09IHVuZGVmaW5lZDtlbHNlIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgY3JlYXRlUm93ID0gZnVuY3Rpb24gY3JlYXRlUm93KG5vZGUsIGluZGV4KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyZWVUYWJsZVJvdywge1xuICAgICAga2V5OiBub2RlLmtleSB8fCBKU09OLnN0cmluZ2lmeShub2RlLmRhdGEpLFxuICAgICAgbGV2ZWw6IDAsXG4gICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICBzZWxlY3RPbkVkaXQ6IHByb3BzLnNlbGVjdE9uRWRpdCxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICBjb2x1bW5zOiBwcm9wcy5jb2x1bW5zLFxuICAgICAgZXhwYW5kZWRLZXlzOiBwcm9wcy5leHBhbmRlZEtleXMsXG4gICAgICBvblRvZ2dsZTogcHJvcHMub25Ub2dnbGUsXG4gICAgICBvbkV4cGFuZDogcHJvcHMub25FeHBhbmQsXG4gICAgICBvbkNvbGxhcHNlOiBwcm9wcy5vbkNvbGxhcHNlLFxuICAgICAgc2VsZWN0aW9uTW9kZTogcHJvcHMuc2VsZWN0aW9uTW9kZSxcbiAgICAgIHNlbGVjdGlvbktleXM6IHByb3BzLnNlbGVjdGlvbktleXMsXG4gICAgICBvblNlbGVjdGlvbkNoYW5nZTogcHJvcHMub25TZWxlY3Rpb25DaGFuZ2UsXG4gICAgICBtZXRhS2V5U2VsZWN0aW9uOiBwcm9wcy5tZXRhS2V5U2VsZWN0aW9uLFxuICAgICAgb25Sb3dDbGljazogb25Sb3dDbGljayxcbiAgICAgIG9uU2VsZWN0OiBwcm9wcy5vblNlbGVjdCxcbiAgICAgIG9uVW5zZWxlY3Q6IHByb3BzLm9uVW5zZWxlY3QsXG4gICAgICBwcm9wYWdhdGVTZWxlY3Rpb25VcDogcHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uVXAsXG4gICAgICBwcm9wYWdhdGVTZWxlY3Rpb25Eb3duOiBwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25Eb3duLFxuICAgICAgcm93Q2xhc3NOYW1lOiBwcm9wcy5yb3dDbGFzc05hbWUsXG4gICAgICBjb250ZXh0TWVudVNlbGVjdGlvbktleTogcHJvcHMuY29udGV4dE1lbnVTZWxlY3Rpb25LZXksXG4gICAgICBvbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlOiBwcm9wcy5vbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlLFxuICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25Db250ZXh0TWVudVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVSb3dzID0gZnVuY3Rpb24gY3JlYXRlUm93cygpIHtcbiAgICBpZiAocHJvcHMucGFnaW5hdG9yICYmICFwcm9wcy5sYXp5KSB7XG4gICAgICB2YXIgcnBwID0gcHJvcHMucm93cyB8fCAwO1xuICAgICAgdmFyIHN0YXJ0SW5kZXggPSBwcm9wcy5maXJzdCB8fCAwO1xuICAgICAgdmFyIGVuZEluZGV4ID0gc3RhcnRJbmRleCArIHJwcDtcbiAgICAgIHZhciByb3dzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgICB2YXIgcm93RGF0YSA9IHByb3BzLnZhbHVlW2ldO1xuICAgICAgICBpZiAocm93RGF0YSkgcm93cy5wdXNoKGNyZWF0ZVJvdyhwcm9wcy52YWx1ZVtpXSkpO2Vsc2UgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByb3dzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvcHMudmFsdWUubWFwKGNyZWF0ZVJvdyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGVFbXB0eU1lc3NhZ2UgPSBmdW5jdGlvbiBjcmVhdGVFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHByb3BzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY29sU3BhbiA9IHByb3BzLmNvbHVtbnMgPyBwcm9wcy5jb2x1bW5zLmxlbmd0aCA6IG51bGw7XG5cbiAgICAgIHZhciBfY29udGVudCA9IHByb3BzLmVtcHR5TWVzc2FnZSB8fCBsb2NhbGVPcHRpb24oJ2VtcHR5TWVzc2FnZScpO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtdHJlZXRhYmxlLWVtcHR5bWVzc2FnZVwiLFxuICAgICAgICBjb2xTcGFuOiBjb2xTcGFuXG4gICAgICB9LCBfY29udGVudCkpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY29udGVudCA9IHByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlLmxlbmd0aCA/IGNyZWF0ZVJvd3MoKSA6IGNyZWF0ZUVtcHR5TWVzc2FnZSgpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtdHJlZXRhYmxlLXRib2R5XCJcbiAgfSwgY29udGVudCk7XG59KTtcblRyZWVUYWJsZUJvZHkuZGlzcGxheU5hbWUgPSAnVHJlZVRhYmxlQm9keSc7XG5cbnZhciBUcmVlVGFibGVGb290ZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGNyZWF0ZUZvb3RlckNlbGwgPSBmdW5jdGlvbiBjcmVhdGVGb290ZXJDZWxsKGNvbHVtbiwgaW5kZXgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgICBrZXk6IGNvbHVtbi5maWVsZCB8fCBpbmRleCxcbiAgICAgIGNsYXNzTmFtZTogY29sdW1uLnByb3BzLmZvb3RlckNsYXNzTmFtZSB8fCBjb2x1bW4ucHJvcHMuY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IGNvbHVtbi5wcm9wcy5mb290ZXJTdHlsZSB8fCBjb2x1bW4ucHJvcHMuc3R5bGUsXG4gICAgICByb3dTcGFuOiBjb2x1bW4ucHJvcHMucm93U3BhbixcbiAgICAgIGNvbFNwYW46IGNvbHVtbi5wcm9wcy5jb2xTcGFuXG4gICAgfSwgY29sdW1uLnByb3BzLmZvb3Rlcik7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZvb3RlclJvdyA9IGZ1bmN0aW9uIGNyZWF0ZUZvb3RlclJvdyhyb3csIGluZGV4KSB7XG4gICAgdmFyIHJvd0NvbHVtbnMgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHJvdy5wcm9wcy5jaGlsZHJlbik7XG4gICAgdmFyIHJvd0Zvb3RlckNlbGxzID0gcm93Q29sdW1ucy5tYXAoY3JlYXRlRm9vdGVyQ2VsbCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwge1xuICAgICAga2V5OiBpbmRleFxuICAgIH0sIHJvd0Zvb3RlckNlbGxzKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ29sdW1uR3JvdXAgPSBmdW5jdGlvbiBjcmVhdGVDb2x1bW5Hcm91cCgpIHtcbiAgICB2YXIgcm93cyA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkocHJvcHMuY29sdW1uR3JvdXAucHJvcHMuY2hpbGRyZW4pO1xuICAgIHJldHVybiByb3dzLm1hcChjcmVhdGVGb290ZXJSb3cpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVDb2x1bW5zID0gZnVuY3Rpb24gY3JlYXRlQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgaWYgKGNvbHVtbnMpIHtcbiAgICAgIHZhciBoZWFkZXJDZWxscyA9IGNvbHVtbnMubWFwKGNyZWF0ZUZvb3RlckNlbGwpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgaGVhZGVyQ2VsbHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhc0Zvb3RlciA9IGZ1bmN0aW9uIGhhc0Zvb3RlcigpIHtcbiAgICBpZiAocHJvcHMuY29sdW1uR3JvdXApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmNvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByb3BzLmNvbHVtbnNbaV0ucHJvcHMuZm9vdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGNvbnRlbnQgPSBwcm9wcy5jb2x1bW5Hcm91cCA/IGNyZWF0ZUNvbHVtbkdyb3VwKCkgOiBjcmVhdGVDb2x1bW5zKHByb3BzLmNvbHVtbnMpO1xuXG4gIGlmIChoYXNGb290ZXIoKSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRmb290XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXRyZWV0YWJsZS10Zm9vdFwiXG4gICAgfSwgY29udGVudCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pO1xuVHJlZVRhYmxlRm9vdGVyLmRpc3BsYXlOYW1lID0gJ1RyZWVUYWJsZUZvb3Rlcic7XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG52YXIgVHJlZVRhYmxlSGVhZGVyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBmaWx0ZXJUaW1lb3V0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBvbkhlYWRlckNsaWNrID0gZnVuY3Rpb24gb25IZWFkZXJDbGljayhldmVudCwgY29sdW1uKSB7XG4gICAgaWYgKGNvbHVtbi5wcm9wcy5zb3J0YWJsZSkge1xuICAgICAgdmFyIHRhcmdldE5vZGUgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgIGlmIChEb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldE5vZGUsICdwLXNvcnRhYmxlLWNvbHVtbicpIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3ModGFyZ2V0Tm9kZSwgJ3AtY29sdW1uLXRpdGxlJykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyh0YXJnZXROb2RlLCAncC1zb3J0YWJsZS1jb2x1bW4taWNvbicpIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3ModGFyZ2V0Tm9kZS5wYXJlbnRFbGVtZW50LCAncC1zb3J0YWJsZS1jb2x1bW4taWNvbicpKSB7XG4gICAgICAgIHByb3BzLm9uU29ydCh7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgc29ydEZpZWxkOiBjb2x1bW4ucHJvcHMuc29ydEZpZWxkIHx8IGNvbHVtbi5wcm9wcy5maWVsZCxcbiAgICAgICAgICBzb3J0RnVuY3Rpb246IGNvbHVtbi5wcm9wcy5zb3J0RnVuY3Rpb24sXG4gICAgICAgICAgc29ydGFibGU6IGNvbHVtbi5wcm9wcy5zb3J0YWJsZVxuICAgICAgICB9KTtcbiAgICAgICAgRG9tSGFuZGxlci5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25IZWFkZXJNb3VzZURvd24gPSBmdW5jdGlvbiBvbkhlYWRlck1vdXNlRG93bihldmVudCwgY29sdW1uKSB7XG4gICAgaWYgKHByb3BzLnJlb3JkZXJhYmxlQ29sdW1ucyAmJiBjb2x1bW4ucHJvcHMucmVvcmRlcmFibGUpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgIT09ICdJTlBVVCcpIGV2ZW50LmN1cnJlbnRUYXJnZXQuZHJhZ2dhYmxlID0gdHJ1ZTtlbHNlIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICdJTlBVVCcpIGV2ZW50LmN1cnJlbnRUYXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkhlYWRlcktleURvd24gPSBmdW5jdGlvbiBvbkhlYWRlcktleURvd24oZXZlbnQsIGNvbHVtbikge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIG9uSGVhZGVyQ2xpY2soZXZlbnQsIGNvbHVtbik7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0TXVsdGlTb3J0TWV0YURhdGFJbmRleCA9IGZ1bmN0aW9uIGdldE11bHRpU29ydE1ldGFEYXRhSW5kZXgoY29sdW1uKSB7XG4gICAgaWYgKHByb3BzLm11bHRpU29ydE1ldGEpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubXVsdGlTb3J0TWV0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJvcHMubXVsdGlTb3J0TWV0YVtpXS5maWVsZCA9PT0gY29sdW1uLnByb3BzLmZpZWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgdmFyIG9uUmVzaXplck1vdXNlRG93biA9IGZ1bmN0aW9uIG9uUmVzaXplck1vdXNlRG93bihldmVudCwgY29sdW1uKSB7XG4gICAgaWYgKHByb3BzLnJlc2l6YWJsZUNvbHVtbnMgJiYgcHJvcHMub25SZXNpemVTdGFydCkge1xuICAgICAgcHJvcHMub25SZXNpemVTdGFydCh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBjb2x1bW5FbDogZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQsXG4gICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9vbkRyYWdTdGFydCA9IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2ZW50LCBjb2x1bW4pIHtcbiAgICBpZiAocHJvcHMub25EcmFnU3RhcnQpIHtcbiAgICAgIHByb3BzLm9uRHJhZ1N0YXJ0KHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9vbkRyYWdPdmVyID0gZnVuY3Rpb24gb25EcmFnT3ZlcihldmVudCwgY29sdW1uKSB7XG4gICAgaWYgKHByb3BzLm9uRHJhZ092ZXIpIHtcbiAgICAgIHByb3BzLm9uRHJhZ092ZXIoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgY29sdW1uOiBjb2x1bW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX29uRHJhZ0xlYXZlID0gZnVuY3Rpb24gb25EcmFnTGVhdmUoZXZlbnQsIGNvbHVtbikge1xuICAgIGlmIChwcm9wcy5vbkRyYWdMZWF2ZSkge1xuICAgICAgcHJvcHMub25EcmFnTGVhdmUoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgY29sdW1uOiBjb2x1bW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX29uRHJvcCA9IGZ1bmN0aW9uIG9uRHJvcChldmVudCwgY29sdW1uKSB7XG4gICAgaWYgKHByb3BzLm9uRHJvcCkge1xuICAgICAgcHJvcHMub25Ecm9wKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRmlsdGVySW5wdXQgPSBmdW5jdGlvbiBvbkZpbHRlcklucHV0KGUsIGNvbHVtbikge1xuICAgIGlmIChjb2x1bW4ucHJvcHMuZmlsdGVyICYmIHByb3BzLm9uRmlsdGVyKSB7XG4gICAgICBpZiAoZmlsdGVyVGltZW91dC5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChmaWx0ZXJUaW1lb3V0LmN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlsdGVyVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgIGZpbHRlclRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBwcm9wcy5vbkZpbHRlcih7XG4gICAgICAgICAgdmFsdWU6IGZpbHRlclZhbHVlLFxuICAgICAgICAgIGZpZWxkOiBjb2x1bW4ucHJvcHMuZmllbGQsXG4gICAgICAgICAgbWF0Y2hNb2RlOiBjb2x1bW4ucHJvcHMuZmlsdGVyTWF0Y2hNb2RlIHx8ICdzdGFydHNXaXRoJ1xuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyVGltZW91dC5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH0sIHByb3BzLmZpbHRlckRlbGF5KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhc0NvbHVtbkZpbHRlciA9IGZ1bmN0aW9uIGhhc0NvbHVtbkZpbHRlcihjb2x1bW5zKSB7XG4gICAgaWYgKGNvbHVtbnMpIHtcbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKGNvbHVtbnMpLFxuICAgICAgICAgIF9zdGVwO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBjb2wgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgIGlmIChjb2wucHJvcHMuZmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGdldEFyaWFTb3J0ID0gZnVuY3Rpb24gZ2V0QXJpYVNvcnQoY29sdW1uLCBzb3J0ZWQsIHNvcnRPcmRlcikge1xuICAgIGlmIChjb2x1bW4ucHJvcHMuc29ydGFibGUpIHtcbiAgICAgIHZhciBzb3J0SWNvbiA9IHNvcnRlZCA/IHNvcnRPcmRlciA8IDAgPyAncGktc29ydC1kb3duJyA6ICdwaS1zb3J0LXVwJyA6ICdwaS1zb3J0JztcbiAgICAgIGlmIChzb3J0SWNvbiA9PT0gJ3BpLXNvcnQtZG93bicpIHJldHVybiAnZGVzY2VuZGluZyc7ZWxzZSBpZiAoc29ydEljb24gPT09ICdwaS1zb3J0LXVwJykgcmV0dXJuICdhc2NlbmRpbmcnO2Vsc2UgcmV0dXJuICdub25lJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHZhciBnZXRDb2x1bW5Qcm9wID0gZnVuY3Rpb24gZ2V0Q29sdW1uUHJvcChjb2x1bW4pIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sdW1uID8gdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnID8gY29sdW1uLnByb3BzW2FyZ3NbMF1dIDogKGFyZ3NbMF0gfHwgY29sdW1uKS5wcm9wc1thcmdzWzFdXSA6IG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNvcnRJY29uID0gZnVuY3Rpb24gY3JlYXRlU29ydEljb24oY29sdW1uLCBzb3J0ZWQsIHNvcnRPcmRlcikge1xuICAgIGlmIChjb2x1bW4ucHJvcHMuc29ydGFibGUpIHtcbiAgICAgIHZhciBzb3J0SWNvbiA9IHNvcnRlZCA/IHNvcnRPcmRlciA8IDAgPyAncGktc29ydC1hbW91bnQtZG93bicgOiAncGktc29ydC1hbW91bnQtdXAtYWx0JyA6ICdwaS1zb3J0LWFsdCc7XG4gICAgICB2YXIgc29ydEljb25DbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXNvcnRhYmxlLWNvbHVtbi1pY29uJywgJ3BpIHBpLWZ3Jywgc29ydEljb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogc29ydEljb25DbGFzc05hbWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVJlc2l6ZXIgPSBmdW5jdGlvbiBjcmVhdGVSZXNpemVyKGNvbHVtbikge1xuICAgIGlmIChwcm9wcy5yZXNpemFibGVDb2x1bW5zKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLXJlc2l6ZXIgcC1jbGlja2FibGVcIixcbiAgICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25SZXNpemVyTW91c2VEb3duKGUsIGNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNvcnRCYWRnZSA9IGZ1bmN0aW9uIGNyZWF0ZVNvcnRCYWRnZShzb3J0TWV0YURhdGFJbmRleCkge1xuICAgIGlmIChzb3J0TWV0YURhdGFJbmRleCAhPT0gLTEgJiYgcHJvcHMubXVsdGlTb3J0TWV0YSAmJiBwcm9wcy5tdWx0aVNvcnRNZXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1zb3J0YWJsZS1jb2x1bW4tYmFkZ2VcIlxuICAgICAgfSwgc29ydE1ldGFEYXRhSW5kZXggKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlSGVhZGVyQ2VsbCA9IGZ1bmN0aW9uIGNyZWF0ZUhlYWRlckNlbGwoY29sdW1uLCBvcHRpb25zKSB7XG4gICAgdmFyIGZpbHRlckVsZW1lbnQ7XG5cbiAgICBpZiAoY29sdW1uLnByb3BzLmZpbHRlciAmJiBvcHRpb25zLnJlbmRlckZpbHRlcikge1xuICAgICAgZmlsdGVyRWxlbWVudCA9IGNvbHVtbi5wcm9wcy5maWx0ZXJFbGVtZW50IHx8IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0VGV4dCwge1xuICAgICAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KGUpIHtcbiAgICAgICAgICByZXR1cm4gb25GaWx0ZXJJbnB1dChlLCBjb2x1bW4pO1xuICAgICAgICB9LFxuICAgICAgICB0eXBlOiBwcm9wcy5maWx0ZXJUeXBlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHByb3BzLmZpbHRlcnMgJiYgcHJvcHMuZmlsdGVyc1tjb2x1bW4ucHJvcHMuZmllbGRdID8gcHJvcHMuZmlsdGVyc1tjb2x1bW4ucHJvcHMuZmllbGRdLnZhbHVlIDogbnVsbCxcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLWZpbHRlclwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogY29sdW1uLnByb3BzLmZpbHRlclBsYWNlaG9sZGVyLFxuICAgICAgICBtYXhMZW5ndGg6IGNvbHVtbi5wcm9wcy5maWx0ZXJNYXhMZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmZpbHRlck9ubHkpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIHtcbiAgICAgICAga2V5OiBjb2x1bW4ucHJvcHMuY29sdW1uS2V5IHx8IGNvbHVtbi5wcm9wcy5maWVsZCB8fCBvcHRpb25zLmluZGV4LFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3AtZmlsdGVyLWNvbHVtbicsIGNvbHVtbi5wcm9wcy5maWx0ZXJIZWFkZXJDbGFzc05hbWUpLFxuICAgICAgICBzdHlsZTogY29sdW1uLnByb3BzLmZpbHRlckhlYWRlclN0eWxlIHx8IGNvbHVtbi5wcm9wcy5zdHlsZSxcbiAgICAgICAgcm93U3BhbjogY29sdW1uLnByb3BzLnJvd1NwYW4sXG4gICAgICAgIGNvbFNwYW46IGNvbHVtbi5wcm9wcy5jb2xTcGFuXG4gICAgICB9LCBmaWx0ZXJFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNvcnRNZXRhRGF0YUluZGV4ID0gZ2V0TXVsdGlTb3J0TWV0YURhdGFJbmRleChjb2x1bW4pO1xuICAgICAgdmFyIG11bHRpU29ydE1ldGFEYXRhID0gc29ydE1ldGFEYXRhSW5kZXggIT09IC0xID8gcHJvcHMubXVsdGlTb3J0TWV0YVtzb3J0TWV0YURhdGFJbmRleF0gOiBudWxsO1xuICAgICAgdmFyIHNpbmdsZVNvcnRlZCA9IGNvbHVtbi5wcm9wcy5maWVsZCA9PT0gcHJvcHMuc29ydEZpZWxkO1xuICAgICAgdmFyIG11bHRpcGxlU29ydGVkID0gbXVsdGlTb3J0TWV0YURhdGEgIT09IG51bGw7XG4gICAgICB2YXIgc29ydGVkID0gY29sdW1uLnByb3BzLnNvcnRhYmxlICYmIChzaW5nbGVTb3J0ZWQgfHwgbXVsdGlwbGVTb3J0ZWQpO1xuICAgICAgdmFyIHNvcnRPcmRlciA9IDA7XG4gICAgICBpZiAoc2luZ2xlU29ydGVkKSBzb3J0T3JkZXIgPSBwcm9wcy5zb3J0T3JkZXI7ZWxzZSBpZiAobXVsdGlwbGVTb3J0ZWQpIHNvcnRPcmRlciA9IG11bHRpU29ydE1ldGFEYXRhLm9yZGVyO1xuICAgICAgdmFyIHNvcnRJY29uRWxlbWVudCA9IGNyZWF0ZVNvcnRJY29uKGNvbHVtbiwgc29ydGVkLCBzb3J0T3JkZXIpO1xuICAgICAgdmFyIGFyaWFTb3J0RGF0YSA9IGdldEFyaWFTb3J0KGNvbHVtbiwgc29ydGVkLCBzb3J0T3JkZXIpO1xuICAgICAgdmFyIHNvcnRCYWRnZSA9IGNyZWF0ZVNvcnRCYWRnZShzb3J0TWV0YURhdGFJbmRleCk7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyhjb2x1bW4ucHJvcHMuaGVhZGVyQ2xhc3NOYW1lIHx8IGNvbHVtbi5wcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgJ3Atc29ydGFibGUtY29sdW1uJzogY29sdW1uLnByb3BzLnNvcnRhYmxlLFxuICAgICAgICAncC1oaWdobGlnaHQnOiBzb3J0ZWQsXG4gICAgICAgICdwLXJlc2l6YWJsZS1jb2x1bW4nOiBwcm9wcy5yZXNpemFibGVDb2x1bW5zICYmIGdldENvbHVtblByb3AoY29sdW1uLCAncmVzaXplYWJsZScpXG4gICAgICB9KTtcbiAgICAgIHZhciByZXNpemVyID0gY3JlYXRlUmVzaXplcihjb2x1bW4pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwge1xuICAgICAgICBrZXk6IGNvbHVtbi5jb2x1bW5LZXkgfHwgY29sdW1uLmZpZWxkIHx8IG9wdGlvbnMuaW5kZXgsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogY29sdW1uLnByb3BzLmhlYWRlclN0eWxlIHx8IGNvbHVtbi5wcm9wcy5zdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6IGNvbHVtbi5wcm9wcy5zb3J0YWJsZSA/IHByb3BzLnRhYkluZGV4IDogbnVsbCxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSGVhZGVyQ2xpY2soZSwgY29sdW1uKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25IZWFkZXJNb3VzZURvd24oZSwgY29sdW1uKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICAgIHJldHVybiBvbkhlYWRlcktleURvd24oZSwgY29sdW1uKTtcbiAgICAgICAgfSxcbiAgICAgICAgcm93U3BhbjogY29sdW1uLnByb3BzLnJvd1NwYW4sXG4gICAgICAgIGNvbFNwYW46IGNvbHVtbi5wcm9wcy5jb2xTcGFuLFxuICAgICAgICBcImFyaWEtc29ydFwiOiBhcmlhU29ydERhdGEsXG4gICAgICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBvbkRyYWdTdGFydChlKSB7XG4gICAgICAgICAgcmV0dXJuIF9vbkRyYWdTdGFydChlLCBjb2x1bW4pO1xuICAgICAgICB9LFxuICAgICAgICBvbkRyYWdPdmVyOiBmdW5jdGlvbiBvbkRyYWdPdmVyKGUpIHtcbiAgICAgICAgICByZXR1cm4gX29uRHJhZ092ZXIoZSwgY29sdW1uKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25EcmFnTGVhdmU6IGZ1bmN0aW9uIG9uRHJhZ0xlYXZlKGUpIHtcbiAgICAgICAgICByZXR1cm4gX29uRHJhZ0xlYXZlKGUsIGNvbHVtbik7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRHJvcDogZnVuY3Rpb24gb25Ecm9wKGUpIHtcbiAgICAgICAgICByZXR1cm4gX29uRHJvcChlLCBjb2x1bW4pO1xuICAgICAgICB9XG4gICAgICB9LCByZXNpemVyLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1jb2x1bW4tdGl0bGVcIlxuICAgICAgfSwgY29sdW1uLnByb3BzLmhlYWRlciksIHNvcnRJY29uRWxlbWVudCwgc29ydEJhZGdlLCBmaWx0ZXJFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUhlYWRlclJvdyA9IGZ1bmN0aW9uIGNyZWF0ZUhlYWRlclJvdyhyb3csIGluZGV4KSB7XG4gICAgdmFyIHJvd0NvbHVtbnMgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHJvdy5wcm9wcy5jaGlsZHJlbik7XG4gICAgdmFyIHJvd0hlYWRlckNlbGxzID0gcm93Q29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCwgaSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUhlYWRlckNlbGwoY29sLCB7XG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBmaWx0ZXJPbmx5OiBmYWxzZSxcbiAgICAgICAgcmVuZGVyRmlsdGVyOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgcm93SGVhZGVyQ2VsbHMpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVDb2x1bW5Hcm91cCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbHVtbkdyb3VwKCkge1xuICAgIHZhciByb3dzID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShwcm9wcy5jb2x1bW5Hcm91cC5wcm9wcy5jaGlsZHJlbik7XG4gICAgcmV0dXJuIHJvd3MubWFwKGNyZWF0ZUhlYWRlclJvdyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNvbHVtbnMgPSBmdW5jdGlvbiBjcmVhdGVDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICBpZiAoY29sdW1ucykge1xuICAgICAgaWYgKGhhc0NvbHVtbkZpbHRlcihjb2x1bW5zKSkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCwgaSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVIZWFkZXJDZWxsKGNvbCwge1xuICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICBmaWx0ZXJPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIHJlbmRlckZpbHRlcjogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2wsIGkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlSGVhZGVyQ2VsbChjb2wsIHtcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgZmlsdGVyT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHJlbmRlckZpbHRlcjogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCwgaSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVIZWFkZXJDZWxsKGNvbCwge1xuICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICBmaWx0ZXJPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIHJlbmRlckZpbHRlcjogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNvbnRlbnQgPSBwcm9wcy5jb2x1bW5Hcm91cCA/IGNyZWF0ZUNvbHVtbkdyb3VwKCkgOiBjcmVhdGVDb2x1bW5zKHByb3BzLmNvbHVtbnMpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtdHJlZXRhYmxlLXRoZWFkXCJcbiAgfSwgY29udGVudCk7XG59KTtcblRyZWVUYWJsZUhlYWRlci5kaXNwbGF5TmFtZSA9ICdUcmVlVGFibGVIZWFkZXInO1xuXG52YXIgVHJlZVRhYmxlU2Nyb2xsYWJsZVZpZXcgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzY3JvbGxIZWFkZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzY3JvbGxIZWFkZXJCb3hSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzY3JvbGxCb2R5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgc2Nyb2xsVGFibGVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzY3JvbGxGb290ZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzY3JvbGxGb290ZXJCb3hSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgdmFyIHNldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uIHNldFNjcm9sbEhlaWdodCgpIHtcbiAgICBpZiAocHJvcHMuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICBpZiAocHJvcHMuc2Nyb2xsSGVpZ2h0LmluZGV4T2YoJyUnKSAhPT0gLTEpIHtcbiAgICAgICAgdmFyIGRhdGF0YWJsZUNvbnRhaW5lciA9IGZpbmREYXRhVGFibGVDb250YWluZXIoZWxlbWVudFJlZi5jdXJyZW50KTtcbiAgICAgICAgc2Nyb2xsQm9keVJlZi5jdXJyZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgc2Nyb2xsQm9keVJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9ICcxMDBweCc7IC8vdGVtcG9yYXJ5IGhlaWdodCB0byBjYWxjdWxhdGUgc3RhdGljIGhlaWdodFxuXG4gICAgICAgIHZhciBjb250YWluZXJIZWlnaHQgPSBEb21IYW5kbGVyLmdldE91dGVySGVpZ2h0KGRhdGF0YWJsZUNvbnRhaW5lcik7XG4gICAgICAgIHZhciByZWxhdGl2ZUhlaWdodCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJIZWlnaHQoZGF0YXRhYmxlQ29udGFpbmVyLnBhcmVudEVsZW1lbnQpICogcGFyc2VJbnQocHJvcHMuc2Nyb2xsSGVpZ2h0LCAxMCkgLyAxMDA7XG4gICAgICAgIHZhciBzdGF0aWNIZWlnaHQgPSBjb250YWluZXJIZWlnaHQgLSAxMDA7IC8vdG90YWwgaGVpZ2h0IG9mIGhlYWRlcnMsIGZvb3RlcnMsIHBhZ2luYXRvcnNcblxuICAgICAgICB2YXIgc2Nyb2xsQm9keUhlaWdodCA9IHJlbGF0aXZlSGVpZ2h0IC0gc3RhdGljSGVpZ2h0O1xuICAgICAgICBzY3JvbGxCb2R5UmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICBzY3JvbGxCb2R5UmVmLmN1cnJlbnQuc3R5bGUubWF4SGVpZ2h0ID0gc2Nyb2xsQm9keUhlaWdodCArICdweCc7XG4gICAgICAgIHNjcm9sbEJvZHlSZWYuY3VycmVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2Nyb2xsQm9keVJlZi5jdXJyZW50LnN0eWxlLm1heEhlaWdodCA9IHByb3BzLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGZpbmREYXRhVGFibGVDb250YWluZXIgPSBmdW5jdGlvbiBmaW5kRGF0YVRhYmxlQ29udGFpbmVyKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdmFyIGVsID0gZWxlbWVudDtcblxuICAgICAgd2hpbGUgKGVsICYmICFEb21IYW5kbGVyLmhhc0NsYXNzKGVsLCAncC10cmVldGFibGUnKSkge1xuICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkhlYWRlclNjcm9sbCA9IGZ1bmN0aW9uIG9uSGVhZGVyU2Nyb2xsKCkge1xuICAgIHNjcm9sbEhlYWRlclJlZi5jdXJyZW50LnNjcm9sbExlZnQgPSAwO1xuICB9O1xuXG4gIHZhciBvbkJvZHlTY3JvbGwgPSBmdW5jdGlvbiBvbkJvZHlTY3JvbGwoKSB7XG4gICAgdmFyIGZyb3plblZpZXcgPSBlbGVtZW50UmVmLmN1cnJlbnQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICB2YXIgZnJvemVuU2Nyb2xsQm9keTtcblxuICAgIGlmIChmcm96ZW5WaWV3KSB7XG4gICAgICBmcm96ZW5TY3JvbGxCb2R5ID0gRG9tSGFuZGxlci5maW5kU2luZ2xlKGZyb3plblZpZXcsICcucC10cmVldGFibGUtc2Nyb2xsYWJsZS1ib2R5Jyk7XG4gICAgfVxuXG4gICAgc2Nyb2xsSGVhZGVyQm94UmVmLmN1cnJlbnQuc3R5bGUubWFyZ2luTGVmdCA9IC0xICogc2Nyb2xsQm9keVJlZi5jdXJyZW50LnNjcm9sbExlZnQgKyAncHgnO1xuXG4gICAgaWYgKHNjcm9sbEZvb3RlckJveFJlZi5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxGb290ZXJCb3hSZWYuY3VycmVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gLTEgKiBzY3JvbGxCb2R5UmVmLmN1cnJlbnQuc2Nyb2xsTGVmdCArICdweCc7XG4gICAgfVxuXG4gICAgaWYgKGZyb3plblNjcm9sbEJvZHkpIHtcbiAgICAgIGZyb3plblNjcm9sbEJvZHkuc2Nyb2xsVG9wID0gc2Nyb2xsQm9keVJlZi5jdXJyZW50LnNjcm9sbFRvcDtcbiAgICB9XG4gIH07XG5cbiAgdXNlTW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghcHJvcHMuZnJvemVuKSB7XG4gICAgICB2YXIgc2Nyb2xsQmFyV2lkdGggPSBEb21IYW5kbGVyLmNhbGN1bGF0ZVNjcm9sbGJhcldpZHRoKCk7XG4gICAgICBzY3JvbGxIZWFkZXJCb3hSZWYuY3VycmVudC5zdHlsZS5tYXJnaW5SaWdodCA9IHNjcm9sbEJhcldpZHRoICsgJ3B4JztcblxuICAgICAgaWYgKHNjcm9sbEZvb3RlckJveFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHNjcm9sbEZvb3RlckJveFJlZi5jdXJyZW50LnN0eWxlLm1hcmdpblJpZ2h0ID0gc2Nyb2xsQmFyV2lkdGggKyAncHgnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxCb2R5UmVmLmN1cnJlbnQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IERvbUhhbmRsZXIuY2FsY3VsYXRlU2Nyb2xsYmFyV2lkdGgoKSArICdweCc7XG4gICAgfVxuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZXRTY3JvbGxIZWlnaHQoKTtcbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZUNvbEdyb3VwID0gZnVuY3Rpb24gY3JlYXRlQ29sR3JvdXAoKSB7XG4gICAgaWYgKE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMuY29sdW1ucykpIHtcbiAgICAgIHZhciBjb2xzID0gcHJvcHMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCwgaSkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjb2xcIiwge1xuICAgICAgICAgIGtleTogY29sLmZpZWxkICsgJ18nICsgaVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiY29sZ3JvdXBcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC10cmVldGFibGUtc2Nyb2xsYWJsZS1jb2xncm91cFwiXG4gICAgICB9LCBjb2xzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXRyZWV0YWJsZS1zY3JvbGxhYmxlLXZpZXcnLCB7XG4gICAgJ3AtdHJlZXRhYmxlLWZyb3plbi12aWV3JzogcHJvcHMuZnJvemVuLFxuICAgICdwLXRyZWV0YWJsZS11bmZyb3plbi12aWV3JzogIXByb3BzLmZyb3plbiAmJiBwcm9wcy5mcm96ZW5XaWR0aFxuICB9KTtcbiAgdmFyIHdpZHRoID0gcHJvcHMuZnJvemVuID8gcHJvcHMuZnJvemVuV2lkdGggOiAnY2FsYygxMDAlIC0gJyArIHByb3BzLmZyb3plbldpZHRoICsgJyknO1xuICB2YXIgbGVmdCA9IHByb3BzLmZyb3plbiA/IG51bGwgOiBwcm9wcy5mcm96ZW5XaWR0aDtcbiAgdmFyIGNvbEdyb3VwID0gY3JlYXRlQ29sR3JvdXAoKTtcbiAgdmFyIHNjcm9sbGFibGVCb2R5U3R5bGUgPSAhcHJvcHMuZnJvemVuICYmIHByb3BzLnNjcm9sbEhlaWdodCA/IHtcbiAgICBvdmVyZmxvd1k6ICdzY3JvbGwnXG4gIH0gOiBudWxsO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBsZWZ0OiBsZWZ0XG4gICAgfSxcbiAgICByZWY6IGVsZW1lbnRSZWZcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWhlYWRlclwiLFxuICAgIHJlZjogc2Nyb2xsSGVhZGVyUmVmLFxuICAgIG9uU2Nyb2xsOiBvbkhlYWRlclNjcm9sbFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtdHJlZXRhYmxlLXNjcm9sbGFibGUtaGVhZGVyLWJveFwiLFxuICAgIHJlZjogc2Nyb2xsSGVhZGVyQm94UmVmXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWhlYWRlci10YWJsZVwiXG4gIH0sIGNvbEdyb3VwLCBwcm9wcy5oZWFkZXIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicC10cmVldGFibGUtc2Nyb2xsYWJsZS1ib2R5XCIsXG4gICAgcmVmOiBzY3JvbGxCb2R5UmVmLFxuICAgIHN0eWxlOiBzY3JvbGxhYmxlQm9keVN0eWxlLFxuICAgIG9uU2Nyb2xsOiBvbkJvZHlTY3JvbGxcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7XG4gICAgcmVmOiBzY3JvbGxUYWJsZVJlZixcbiAgICBzdHlsZToge1xuICAgICAgdG9wOiAnMCdcbiAgICB9LFxuICAgIGNsYXNzTmFtZTogXCJwLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWJvZHktdGFibGVcIlxuICB9LCBjb2xHcm91cCwgcHJvcHMuYm9keSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtdHJlZXRhYmxlLXNjcm9sbGFibGUtZm9vdGVyXCIsXG4gICAgcmVmOiBzY3JvbGxGb290ZXJSZWZcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWZvb3Rlci1ib3hcIixcbiAgICByZWY6IHNjcm9sbEZvb3RlckJveFJlZlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIHtcbiAgICBjbGFzc05hbWU6IFwicC10cmVldGFibGUtc2Nyb2xsYWJsZS1mb290ZXItdGFibGVcIlxuICB9LCBjb2xHcm91cCwgcHJvcHMuZm9vdGVyKSkpKTtcbn0pO1xuVHJlZVRhYmxlU2Nyb2xsYWJsZVZpZXcuZGlzcGxheU5hbWUgPSAnVHJlZVRhYmxlU2Nyb2xsYWJsZVZpZXcnO1xuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIFRyZWVUYWJsZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5leHBhbmRlZEtleXMpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBleHBhbmRlZEtleXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRFeHBhbmRlZEtleXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5maXJzdCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMywgMiksXG4gICAgICBmaXJzdFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFswXSxcbiAgICAgIHNldEZpcnN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGU1ID0gUmVhY3QudXNlU3RhdGUocHJvcHMucm93cyksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNSwgMiksXG4gICAgICByb3dzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0Um93c1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLnNvcnRGaWVsZCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNywgMiksXG4gICAgICBzb3J0RmllbGRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMF0sXG4gICAgICBzZXRTb3J0RmllbGRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTkgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5zb3J0T3JkZXIpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU5LCAyKSxcbiAgICAgIHNvcnRPcmRlclN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTBbMF0sXG4gICAgICBzZXRTb3J0T3JkZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEwWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMSA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLm11bHRpU29ydE1ldGEpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUxMSwgMiksXG4gICAgICBtdWx0aVNvcnRNZXRhU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxMlswXSxcbiAgICAgIHNldE11bHRpU29ydE1ldGFTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEyWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLmZpbHRlcnMpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUxMywgMiksXG4gICAgICBmaWx0ZXJzU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxNFswXSxcbiAgICAgIHNldEZpbHRlcnNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTE0WzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxNSA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTE2ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMTUsIDIpLFxuICAgICAgY29sdW1uT3JkZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTE2WzBdLFxuICAgICAgc2V0Q29sdW1uT3JkZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTE2WzFdO1xuXG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcmVzaXplckhlbHBlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJlb3JkZXJJbmRpY2F0b3JVcFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJlb3JkZXJJbmRpY2F0b3JEb3duUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY29sdW1uUmVzaXppbmcgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciByZXNpemVDb2x1bW4gPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciByZXNpemVDb2x1bW5Qcm9wcyA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGxhc3RSZXNpemVySGVscGVyWCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgdmFyIGljb25XaWR0aCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgdmFyIGljb25IZWlnaHQgPSBSZWFjdC51c2VSZWYoMCk7XG4gIHZhciBkcmFnZ2VkQ29sdW1uRWwgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkcmFnZ2VkQ29sdW1uID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZHJvcFBvc2l0aW9uID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY29sdW1uU29ydGFibGUgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBjb2x1bW5Tb3J0RnVuY3Rpb24gPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBjb2x1bW5GaWVsZCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX3VzZUV2ZW50TGlzdGVuZXIgPSB1c2VFdmVudExpc3RlbmVyKHtcbiAgICB0eXBlOiAnbW91c2Vtb3ZlJyxcbiAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIGlmIChjb2x1bW5SZXNpemluZy5jdXJyZW50KSB7XG4gICAgICAgIG9uQ29sdW1uUmVzaXplKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pLFxuICAgICAgX3VzZUV2ZW50TGlzdGVuZXIyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUV2ZW50TGlzdGVuZXIsIDIpLFxuICAgICAgYmluZERvY3VtZW50TW91c2VNb3ZlTGlzdGVuZXIgPSBfdXNlRXZlbnRMaXN0ZW5lcjJbMF0sXG4gICAgICB1bmJpbmREb2N1bWVudE1vdXNlTW92ZUxpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIyWzFdO1xuXG4gIHZhciBfdXNlRXZlbnRMaXN0ZW5lcjMgPSB1c2VFdmVudExpc3RlbmVyKHtcbiAgICB0eXBlOiAnbW91c2V1cCcsXG4gICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBpZiAoY29sdW1uUmVzaXppbmcuY3VycmVudCkge1xuICAgICAgICBjb2x1bW5SZXNpemluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIG9uQ29sdW1uUmVzaXplRW5kKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pLFxuICAgICAgX3VzZUV2ZW50TGlzdGVuZXI0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZUV2ZW50TGlzdGVuZXIzLCAyKSxcbiAgICAgIGJpbmREb2N1bWVudE1vdXNlVXBMaXN0ZW5lciA9IF91c2VFdmVudExpc3RlbmVyNFswXSxcbiAgICAgIHVuYmluZERvY3VtZW50TW91c2VVcExpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXI0WzFdO1xuXG4gIHZhciBvblRvZ2dsZSA9IGZ1bmN0aW9uIG9uVG9nZ2xlKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uVG9nZ2xlKSB7XG4gICAgICBwcm9wcy5vblRvZ2dsZShldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEV4cGFuZGVkS2V5c1N0YXRlKGV2ZW50LnZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUGFnZUNoYW5nZSA9IGZ1bmN0aW9uIG9uUGFnZUNoYW5nZShldmVudCkge1xuICAgIGlmIChwcm9wcy5vblBhZ2UpIHtcbiAgICAgIHByb3BzLm9uUGFnZShldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEZpcnN0U3RhdGUoZXZlbnQuZmlyc3QpO1xuICAgICAgc2V0Um93c1N0YXRlKGV2ZW50LnJvd3MpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Tb3J0ID0gZnVuY3Rpb24gb25Tb3J0KGV2ZW50KSB7XG4gICAgdmFyIHNvcnRGaWVsZCA9IGV2ZW50LnNvcnRGaWVsZDtcbiAgICB2YXIgc29ydE9yZGVyID0gcHJvcHMuZGVmYXVsdFNvcnRPcmRlcjtcbiAgICB2YXIgbXVsdGlTb3J0TWV0YTtcbiAgICB2YXIgZXZlbnRNZXRhO1xuICAgIGNvbHVtblNvcnRhYmxlLmN1cnJlbnQgPSBldmVudC5zb3J0YWJsZTtcbiAgICBjb2x1bW5Tb3J0RnVuY3Rpb24uY3VycmVudCA9IGV2ZW50LnNvcnRGdW5jdGlvbjtcbiAgICBjb2x1bW5GaWVsZC5jdXJyZW50ID0gZXZlbnQuc29ydEZpZWxkO1xuXG4gICAgaWYgKHByb3BzLnNvcnRNb2RlID09PSAnbXVsdGlwbGUnKSB7XG4gICAgICB2YXIgbWV0YUtleSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBldmVudC5vcmlnaW5hbEV2ZW50LmN0cmxLZXk7XG4gICAgICBtdWx0aVNvcnRNZXRhID0gX3RvQ29uc3VtYWJsZUFycmF5KGdldE11bHRpU29ydE1ldGEoKSk7XG5cbiAgICAgIGlmIChtdWx0aVNvcnRNZXRhICYmIG11bHRpU29ydE1ldGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YXIgc29ydE1ldGEgPSBtdWx0aVNvcnRNZXRhLmZpbmQoZnVuY3Rpb24gKHNvcnRNZXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHNvcnRNZXRhLmZpZWxkID09PSBzb3J0RmllbGQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzb3J0T3JkZXIgPSBzb3J0TWV0YSA/IGdldENhbGN1bGF0ZWRTb3J0T3JkZXIoc29ydE1ldGEub3JkZXIpIDogc29ydE9yZGVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3TWV0YURhdGEgPSB7XG4gICAgICAgIGZpZWxkOiBzb3J0RmllbGQsXG4gICAgICAgIG9yZGVyOiBzb3J0T3JkZXJcbiAgICAgIH07XG5cbiAgICAgIGlmIChzb3J0T3JkZXIpIHtcbiAgICAgICAgaWYgKCFtdWx0aVNvcnRNZXRhIHx8ICFtZXRhS2V5KSB7XG4gICAgICAgICAgbXVsdGlTb3J0TWV0YSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkU29ydE1ldGEobmV3TWV0YURhdGEsIG11bHRpU29ydE1ldGEpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5yZW1vdmFibGVTb3J0ICYmIG11bHRpU29ydE1ldGEpIHtcbiAgICAgICAgcmVtb3ZlU29ydE1ldGEobmV3TWV0YURhdGEsIG11bHRpU29ydE1ldGEpO1xuICAgICAgfVxuXG4gICAgICBldmVudE1ldGEgPSB7XG4gICAgICAgIG11bHRpU29ydE1ldGE6IG11bHRpU29ydE1ldGFcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNvcnRPcmRlciA9IGdldFNvcnRGaWVsZCgpID09PSBzb3J0RmllbGQgPyBnZXRDYWxjdWxhdGVkU29ydE9yZGVyKGdldFNvcnRPcmRlcigpKSA6IHNvcnRPcmRlcjtcblxuICAgICAgaWYgKHByb3BzLnJlbW92YWJsZVNvcnQpIHtcbiAgICAgICAgc29ydEZpZWxkID0gc29ydE9yZGVyID8gc29ydEZpZWxkIDogbnVsbDtcbiAgICAgIH1cblxuICAgICAgZXZlbnRNZXRhID0ge1xuICAgICAgICBzb3J0RmllbGQ6IHNvcnRGaWVsZCxcbiAgICAgICAgc29ydE9yZGVyOiBzb3J0T3JkZXJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9uU29ydCkge1xuICAgICAgcHJvcHMub25Tb3J0KGV2ZW50TWV0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEZpcnN0U3RhdGUoMCk7XG4gICAgICBzZXRTb3J0RmllbGRTdGF0ZShldmVudE1ldGEuc29ydEZpZWxkKTtcbiAgICAgIHNldFNvcnRPcmRlclN0YXRlKGV2ZW50TWV0YS5zb3J0T3JkZXIpO1xuICAgICAgc2V0TXVsdGlTb3J0TWV0YVN0YXRlKGV2ZW50TWV0YS5tdWx0aVNvcnRNZXRhKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldENhbGN1bGF0ZWRTb3J0T3JkZXIgPSBmdW5jdGlvbiBnZXRDYWxjdWxhdGVkU29ydE9yZGVyKGN1cnJlbnRPcmRlcikge1xuICAgIHJldHVybiBwcm9wcy5yZW1vdmFibGVTb3J0ID8gcHJvcHMuZGVmYXVsdFNvcnRPcmRlciA9PT0gY3VycmVudE9yZGVyID8gY3VycmVudE9yZGVyICogLTEgOiAwIDogY3VycmVudE9yZGVyICogLTE7XG4gIH07XG5cbiAgdmFyIGFkZFNvcnRNZXRhID0gZnVuY3Rpb24gYWRkU29ydE1ldGEobWV0YSwgbXVsdGlTb3J0TWV0YSkge1xuICAgIHZhciBpbmRleCA9IC0xO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdWx0aVNvcnRNZXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobXVsdGlTb3J0TWV0YVtpXS5maWVsZCA9PT0gbWV0YS5maWVsZCkge1xuICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbmRleCA+PSAwKSBtdWx0aVNvcnRNZXRhW2luZGV4XSA9IG1ldGE7ZWxzZSBtdWx0aVNvcnRNZXRhLnB1c2gobWV0YSk7XG4gIH07XG5cbiAgdmFyIHJlbW92ZVNvcnRNZXRhID0gZnVuY3Rpb24gcmVtb3ZlU29ydE1ldGEobWV0YSwgbXVsdGlTb3J0TWV0YSkge1xuICAgIHZhciBpbmRleCA9IC0xO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdWx0aVNvcnRNZXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobXVsdGlTb3J0TWV0YVtpXS5maWVsZCA9PT0gbWV0YS5maWVsZCkge1xuICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBtdWx0aVNvcnRNZXRhLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgbXVsdGlTb3J0TWV0YSA9IG11bHRpU29ydE1ldGEubGVuZ3RoID4gMCA/IG11bHRpU29ydE1ldGEgOiBudWxsO1xuICB9O1xuXG4gIHZhciBzb3J0U2luZ2xlID0gZnVuY3Rpb24gc29ydFNpbmdsZShkYXRhKSB7XG4gICAgcmV0dXJuIHNvcnROb2RlcyhkYXRhKTtcbiAgfTtcblxuICB2YXIgc29ydE5vZGVzID0gZnVuY3Rpb24gc29ydE5vZGVzKGRhdGEpIHtcbiAgICB2YXIgdmFsdWUgPSBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YSk7XG5cbiAgICBpZiAoY29sdW1uU29ydGFibGUuY3VycmVudCAmJiBjb2x1bW5Tb3J0YWJsZS5jdXJyZW50ID09PSAnY3VzdG9tJyAmJiBjb2x1bW5Tb3J0RnVuY3Rpb24uY3VycmVudCkge1xuICAgICAgdmFsdWUgPSBjb2x1bW5Tb3J0RnVuY3Rpb24uY3VycmVudCh7XG4gICAgICAgIHJvd0RhdGE6IHZhbHVlLFxuICAgICAgICBmaWVsZDogZ2V0U29ydEZpZWxkKCksXG4gICAgICAgIG9yZGVyOiBnZXRTb3J0T3JkZXIoKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlLnNvcnQoZnVuY3Rpb24gKG5vZGUxLCBub2RlMikge1xuICAgICAgICB2YXIgc29ydEZpZWxkID0gZ2V0U29ydEZpZWxkKCk7XG4gICAgICAgIHZhciB2YWx1ZTEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG5vZGUxLmRhdGEsIHNvcnRGaWVsZCk7XG4gICAgICAgIHZhciB2YWx1ZTIgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG5vZGUyLmRhdGEsIHNvcnRGaWVsZCk7XG4gICAgICAgIHJldHVybiBPYmplY3RVdGlscy5zb3J0KHZhbHVlMSwgdmFsdWUyLCBnZXRTb3J0T3JkZXIoKSwgUHJpbWVSZWFjdC5sb2NhbGUsIFByaW1lUmVhY3QubnVsbFNvcnRPcmRlcik7XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodmFsdWVbaV0uY2hpbGRyZW4gJiYgdmFsdWVbaV0uY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgdmFsdWVbaV0uY2hpbGRyZW4gPSBzb3J0Tm9kZXModmFsdWVbaV0uY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIHZhciBzb3J0TXVsdGlwbGUgPSBmdW5jdGlvbiBzb3J0TXVsdGlwbGUoZGF0YSkge1xuICAgIHZhciBtdWx0aVNvcnRNZXRhID0gZ2V0TXVsdGlTb3J0TWV0YSgpO1xuICAgIGlmIChtdWx0aVNvcnRNZXRhKSByZXR1cm4gc29ydE11bHRpcGxlTm9kZXMoZGF0YSwgbXVsdGlTb3J0TWV0YSk7ZWxzZSByZXR1cm4gZGF0YTtcbiAgfTtcblxuICB2YXIgc29ydE11bHRpcGxlTm9kZXMgPSBmdW5jdGlvbiBzb3J0TXVsdGlwbGVOb2RlcyhkYXRhLCBtdWx0aVNvcnRNZXRhKSB7XG4gICAgdmFyIHZhbHVlID0gX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEpO1xuXG4gICAgdmFsdWUuc29ydChmdW5jdGlvbiAobm9kZTEsIG5vZGUyKSB7XG4gICAgICByZXR1cm4gbXVsdGlzb3J0RmllbGQobm9kZTEsIG5vZGUyLCBtdWx0aVNvcnRNZXRhLCAwKTtcbiAgICB9KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZVtpXS5jaGlsZHJlbiAmJiB2YWx1ZVtpXS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWVbaV0uY2hpbGRyZW4gPSBzb3J0TXVsdGlwbGVOb2Rlcyh2YWx1ZVtpXS5jaGlsZHJlbiwgbXVsdGlTb3J0TWV0YSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIHZhciBtdWx0aXNvcnRGaWVsZCA9IGZ1bmN0aW9uIG11bHRpc29ydEZpZWxkKG5vZGUxLCBub2RlMiwgbXVsdGlTb3J0TWV0YSwgaW5kZXgpIHtcbiAgICB2YXIgdmFsdWUxID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShub2RlMS5kYXRhLCBtdWx0aVNvcnRNZXRhW2luZGV4XS5maWVsZCk7XG4gICAgdmFyIHZhbHVlMiA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEobm9kZTIuZGF0YSwgbXVsdGlTb3J0TWV0YVtpbmRleF0uZmllbGQpO1xuICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCAmJiB2YWx1ZTIgIT0gbnVsbCkgcmVzdWx0ID0gLTE7ZWxzZSBpZiAodmFsdWUxICE9IG51bGwgJiYgdmFsdWUyID09IG51bGwpIHJlc3VsdCA9IDE7ZWxzZSBpZiAodmFsdWUxID09IG51bGwgJiYgdmFsdWUyID09IG51bGwpIHJlc3VsdCA9IDA7ZWxzZSB7XG4gICAgICBpZiAodmFsdWUxID09PSB2YWx1ZTIpIHtcbiAgICAgICAgcmV0dXJuIG11bHRpU29ydE1ldGEubGVuZ3RoIC0gMSA+IGluZGV4ID8gbXVsdGlzb3J0RmllbGQobm9kZTEsIG5vZGUyLCBtdWx0aVNvcnRNZXRhLCBpbmRleCArIDEpIDogMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgodHlwZW9mIHZhbHVlMSA9PT0gJ3N0cmluZycgfHwgdmFsdWUxIGluc3RhbmNlb2YgU3RyaW5nKSAmJiAodHlwZW9mIHZhbHVlMiA9PT0gJ3N0cmluZycgfHwgdmFsdWUyIGluc3RhbmNlb2YgU3RyaW5nKSkgcmV0dXJuIG11bHRpU29ydE1ldGFbaW5kZXhdLm9yZGVyICogdmFsdWUxLmxvY2FsZUNvbXBhcmUodmFsdWUyLCBQcmltZVJlYWN0LmxvY2FsZSwge1xuICAgICAgICAgIG51bWVyaWM6IHRydWVcbiAgICAgICAgfSk7ZWxzZSByZXN1bHQgPSB2YWx1ZTEgPCB2YWx1ZTIgPyAtMSA6IDE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtdWx0aVNvcnRNZXRhW2luZGV4XS5vcmRlciAqIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyKHZhbHVlLCBmaWVsZCwgbW9kZSkge1xuICAgIG9uRmlsdGVyKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIG1hdGNoTW9kZTogbW9kZVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvbkZpbHRlciA9IGZ1bmN0aW9uIG9uRmlsdGVyKGV2ZW50KSB7XG4gICAgdmFyIGZpbHRlcnMgPSBnZXRGaWx0ZXJzKCk7XG4gICAgdmFyIG5ld0ZpbHRlcnMgPSBmaWx0ZXJzID8gX29iamVjdFNwcmVhZCh7fSwgZmlsdGVycykgOiB7fTtcbiAgICBpZiAoIWlzRmlsdGVyQmxhbmsoZXZlbnQudmFsdWUpKSBuZXdGaWx0ZXJzW2V2ZW50LmZpZWxkXSA9IHtcbiAgICAgIHZhbHVlOiBldmVudC52YWx1ZSxcbiAgICAgIG1hdGNoTW9kZTogZXZlbnQubWF0Y2hNb2RlXG4gICAgfTtlbHNlIGlmIChuZXdGaWx0ZXJzW2V2ZW50LmZpZWxkXSkgZGVsZXRlIG5ld0ZpbHRlcnNbZXZlbnQuZmllbGRdO1xuXG4gICAgaWYgKHByb3BzLm9uRmlsdGVyKSB7XG4gICAgICBwcm9wcy5vbkZpbHRlcih7XG4gICAgICAgIGZpbHRlcnM6IG5ld0ZpbHRlcnNcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRGaXJzdFN0YXRlKDApO1xuICAgICAgc2V0RmlsdGVyc1N0YXRlKG5ld0ZpbHRlcnMpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNGaWx0ZXJCbGFuayA9IGZ1bmN0aW9uIGlzRmlsdGVyQmxhbmsoZmlsdGVyKSB7XG4gICAgaWYgKGZpbHRlciAhPT0gbnVsbCAmJiBmaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnICYmIGZpbHRlci50cmltKCkubGVuZ3RoID09PSAwIHx8IGZpbHRlciBpbnN0YW5jZW9mIEFycmF5ICYmIGZpbHRlci5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO2Vsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIHZhciBvbkNvbHVtblJlc2l6ZVN0YXJ0ID0gZnVuY3Rpb24gb25Db2x1bW5SZXNpemVTdGFydChldmVudCkge1xuICAgIHZhciBjb250YWluZXJMZWZ0ID0gRG9tSGFuZGxlci5nZXRPZmZzZXQoZWxlbWVudFJlZi5jdXJyZW50KS5sZWZ0O1xuICAgIHJlc2l6ZUNvbHVtbi5jdXJyZW50ID0gZXZlbnQuY29sdW1uRWw7XG4gICAgcmVzaXplQ29sdW1uUHJvcHMuY3VycmVudCA9IGV2ZW50LmNvbHVtbjtcbiAgICBjb2x1bW5SZXNpemluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICBsYXN0UmVzaXplckhlbHBlclguY3VycmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQucGFnZVggLSBjb250YWluZXJMZWZ0ICsgZWxlbWVudFJlZi5jdXJyZW50LnNjcm9sbExlZnQ7XG4gICAgYmluZENvbHVtblJlc2l6ZUV2ZW50cygpO1xuICB9O1xuXG4gIHZhciBvbkNvbHVtblJlc2l6ZSA9IGZ1bmN0aW9uIG9uQ29sdW1uUmVzaXplKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRhaW5lckxlZnQgPSBEb21IYW5kbGVyLmdldE9mZnNldChlbGVtZW50UmVmLmN1cnJlbnQpLmxlZnQ7XG4gICAgRG9tSGFuZGxlci5hZGRDbGFzcyhlbGVtZW50UmVmLmN1cnJlbnQsICdwLXVuc2VsZWN0YWJsZS10ZXh0Jyk7XG4gICAgcmVzaXplckhlbHBlclJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgIHJlc2l6ZXJIZWxwZXJSZWYuY3VycmVudC5zdHlsZS50b3AgPSAwICsgJ3B4JztcbiAgICByZXNpemVySGVscGVyUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGV2ZW50LnBhZ2VYIC0gY29udGFpbmVyTGVmdCArIGVsZW1lbnRSZWYuY3VycmVudC5zY3JvbGxMZWZ0ICsgJ3B4JztcbiAgICByZXNpemVySGVscGVyUmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH07XG5cbiAgdmFyIG9uQ29sdW1uUmVzaXplRW5kID0gZnVuY3Rpb24gb25Db2x1bW5SZXNpemVFbmQoZXZlbnQpIHtcbiAgICB2YXIgZGVsdGEgPSByZXNpemVySGVscGVyUmVmLmN1cnJlbnQub2Zmc2V0TGVmdCAtIGxhc3RSZXNpemVySGVscGVyWC5jdXJyZW50O1xuICAgIHZhciBjb2x1bW5XaWR0aCA9IHJlc2l6ZUNvbHVtbi5jdXJyZW50Lm9mZnNldFdpZHRoO1xuICAgIHZhciBuZXdDb2x1bW5XaWR0aCA9IGNvbHVtbldpZHRoICsgZGVsdGE7XG4gICAgdmFyIG1pbldpZHRoID0gcmVzaXplQ29sdW1uLmN1cnJlbnQuc3R5bGUubWluV2lkdGggfHwgMTU7XG5cbiAgICBpZiAoY29sdW1uV2lkdGggKyBkZWx0YSA+IHBhcnNlSW50KG1pbldpZHRoLCAxMCkpIHtcbiAgICAgIGlmIChwcm9wcy5jb2x1bW5SZXNpemVNb2RlID09PSAnZml0Jykge1xuICAgICAgICB2YXIgbmV4dENvbHVtbiA9IHJlc2l6ZUNvbHVtbi5jdXJyZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgdmFyIG5leHRDb2x1bW5XaWR0aCA9IG5leHRDb2x1bW4ub2Zmc2V0V2lkdGggLSBkZWx0YTtcblxuICAgICAgICBpZiAobmV3Q29sdW1uV2lkdGggPiAxNSAmJiBuZXh0Q29sdW1uV2lkdGggPiAxNSkge1xuICAgICAgICAgIGlmIChwcm9wcy5zY3JvbGxhYmxlKSB7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsYWJsZVZpZXcgPSBmaW5kUGFyZW50U2Nyb2xsYWJsZVZpZXcocmVzaXplQ29sdW1uLmN1cnJlbnQpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbGFibGVCb2R5VGFibGUgPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUoc2Nyb2xsYWJsZVZpZXcsICd0YWJsZS5wLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWJvZHktdGFibGUnKTtcbiAgICAgICAgICAgIHZhciBzY3JvbGxhYmxlSGVhZGVyVGFibGUgPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUoc2Nyb2xsYWJsZVZpZXcsICd0YWJsZS5wLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWhlYWRlci10YWJsZScpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbGFibGVGb290ZXJUYWJsZSA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShzY3JvbGxhYmxlVmlldywgJ3RhYmxlLnAtdHJlZXRhYmxlLXNjcm9sbGFibGUtZm9vdGVyLXRhYmxlJyk7XG4gICAgICAgICAgICB2YXIgcmVzaXplQ29sdW1uSW5kZXggPSBEb21IYW5kbGVyLmluZGV4KHJlc2l6ZUNvbHVtbi5jdXJyZW50KTtcbiAgICAgICAgICAgIHJlc2l6ZUNvbEdyb3VwKHNjcm9sbGFibGVIZWFkZXJUYWJsZSwgcmVzaXplQ29sdW1uSW5kZXgsIG5ld0NvbHVtbldpZHRoLCBuZXh0Q29sdW1uV2lkdGgpO1xuICAgICAgICAgICAgcmVzaXplQ29sR3JvdXAoc2Nyb2xsYWJsZUJvZHlUYWJsZSwgcmVzaXplQ29sdW1uSW5kZXgsIG5ld0NvbHVtbldpZHRoLCBuZXh0Q29sdW1uV2lkdGgpO1xuICAgICAgICAgICAgcmVzaXplQ29sR3JvdXAoc2Nyb2xsYWJsZUZvb3RlclRhYmxlLCByZXNpemVDb2x1bW5JbmRleCwgbmV3Q29sdW1uV2lkdGgsIG5leHRDb2x1bW5XaWR0aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc2l6ZUNvbHVtbi5jdXJyZW50LnN0eWxlLndpZHRoID0gbmV3Q29sdW1uV2lkdGggKyAncHgnO1xuXG4gICAgICAgICAgICBpZiAobmV4dENvbHVtbikge1xuICAgICAgICAgICAgICBuZXh0Q29sdW1uLnN0eWxlLndpZHRoID0gbmV4dENvbHVtbldpZHRoICsgJ3B4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJvcHMuY29sdW1uUmVzaXplTW9kZSA9PT0gJ2V4cGFuZCcpIHtcbiAgICAgICAgaWYgKHByb3BzLnNjcm9sbGFibGUpIHtcbiAgICAgICAgICB2YXIgX3Njcm9sbGFibGVWaWV3ID0gZmluZFBhcmVudFNjcm9sbGFibGVWaWV3KHJlc2l6ZUNvbHVtbi5jdXJyZW50KTtcblxuICAgICAgICAgIHZhciBfc2Nyb2xsYWJsZUJvZHlUYWJsZSA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShfc2Nyb2xsYWJsZVZpZXcsICd0YWJsZS5wLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWJvZHktdGFibGUnKTtcblxuICAgICAgICAgIHZhciBfc2Nyb2xsYWJsZUhlYWRlclRhYmxlID0gRG9tSGFuZGxlci5maW5kU2luZ2xlKF9zY3JvbGxhYmxlVmlldywgJ3RhYmxlLnAtdHJlZXRhYmxlLXNjcm9sbGFibGUtaGVhZGVyLXRhYmxlJyk7XG5cbiAgICAgICAgICB2YXIgX3Njcm9sbGFibGVGb290ZXJUYWJsZSA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShfc2Nyb2xsYWJsZVZpZXcsICd0YWJsZS5wLXRyZWV0YWJsZS1zY3JvbGxhYmxlLWZvb3Rlci10YWJsZScpO1xuXG4gICAgICAgICAgX3Njcm9sbGFibGVCb2R5VGFibGUuc3R5bGUud2lkdGggPSBfc2Nyb2xsYWJsZUJvZHlUYWJsZS5vZmZzZXRXaWR0aCArIGRlbHRhICsgJ3B4JztcbiAgICAgICAgICBfc2Nyb2xsYWJsZUhlYWRlclRhYmxlLnN0eWxlLndpZHRoID0gX3Njcm9sbGFibGVIZWFkZXJUYWJsZS5vZmZzZXRXaWR0aCArIGRlbHRhICsgJ3B4JztcblxuICAgICAgICAgIGlmIChfc2Nyb2xsYWJsZUZvb3RlclRhYmxlKSB7XG4gICAgICAgICAgICBfc2Nyb2xsYWJsZUZvb3RlclRhYmxlLnN0eWxlLndpZHRoID0gX3Njcm9sbGFibGVIZWFkZXJUYWJsZS5vZmZzZXRXaWR0aCArIGRlbHRhICsgJ3B4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX3Jlc2l6ZUNvbHVtbkluZGV4ID0gRG9tSGFuZGxlci5pbmRleChyZXNpemVDb2x1bW4uY3VycmVudCk7XG5cbiAgICAgICAgICByZXNpemVDb2xHcm91cChfc2Nyb2xsYWJsZUhlYWRlclRhYmxlLCBfcmVzaXplQ29sdW1uSW5kZXgsIG5ld0NvbHVtbldpZHRoLCBudWxsKTtcbiAgICAgICAgICByZXNpemVDb2xHcm91cChfc2Nyb2xsYWJsZUJvZHlUYWJsZSwgX3Jlc2l6ZUNvbHVtbkluZGV4LCBuZXdDb2x1bW5XaWR0aCwgbnVsbCk7XG4gICAgICAgICAgcmVzaXplQ29sR3JvdXAoX3Njcm9sbGFibGVGb290ZXJUYWJsZSwgX3Jlc2l6ZUNvbHVtbkluZGV4LCBuZXdDb2x1bW5XaWR0aCwgbnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFibGUuc3R5bGUud2lkdGggPSB0YWJsZS5vZmZzZXRXaWR0aCArIGRlbHRhICsgJ3B4JztcbiAgICAgICAgICByZXNpemVDb2x1bW4uY3VycmVudC5zdHlsZS53aWR0aCA9IG5ld0NvbHVtbldpZHRoICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMub25Db2x1bW5SZXNpemVFbmQpIHtcbiAgICAgICAgcHJvcHMub25Db2x1bW5SZXNpemVFbmQoe1xuICAgICAgICAgIGVsZW1lbnQ6IHJlc2l6ZUNvbHVtbi5jdXJyZW50LFxuICAgICAgICAgIGNvbHVtbjogcmVzaXplQ29sdW1uUHJvcHMuY3VycmVudCxcbiAgICAgICAgICBkZWx0YTogZGVsdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVzaXplckhlbHBlclJlZi5jdXJyZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgcmVzaXplQ29sdW1uLmN1cnJlbnQgPSBudWxsO1xuICAgIHJlc2l6ZUNvbHVtblByb3BzLmN1cnJlbnQgPSBudWxsO1xuICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoZWxlbWVudFJlZi5jdXJyZW50LCAncC11bnNlbGVjdGFibGUtdGV4dCcpO1xuICAgIHVuYmluZENvbHVtblJlc2l6ZUV2ZW50cygpO1xuICB9O1xuXG4gIHZhciBmaW5kUGFyZW50U2Nyb2xsYWJsZVZpZXcgPSBmdW5jdGlvbiBmaW5kUGFyZW50U2Nyb2xsYWJsZVZpZXcoY29sdW1uKSB7XG4gICAgaWYgKGNvbHVtbikge1xuICAgICAgdmFyIHBhcmVudCA9IGNvbHVtbi5wYXJlbnRFbGVtZW50O1xuXG4gICAgICB3aGlsZSAocGFyZW50ICYmICFEb21IYW5kbGVyLmhhc0NsYXNzKHBhcmVudCwgJ3AtdHJlZXRhYmxlLXNjcm9sbGFibGUtdmlldycpKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlc2l6ZUNvbEdyb3VwID0gZnVuY3Rpb24gcmVzaXplQ29sR3JvdXAodGFibGUsIHJlc2l6ZUNvbHVtbkluZGV4LCBuZXdDb2x1bW5XaWR0aCwgbmV4dENvbHVtbldpZHRoKSB7XG4gICAgaWYgKHRhYmxlKSB7XG4gICAgICB2YXIgY29sR3JvdXAgPSB0YWJsZS5jaGlsZHJlblswXS5ub2RlTmFtZSA9PT0gJ0NPTEdST1VQJyA/IHRhYmxlLmNoaWxkcmVuWzBdIDogbnVsbDtcblxuICAgICAgaWYgKGNvbEdyb3VwKSB7XG4gICAgICAgIHZhciBjb2wgPSBjb2xHcm91cC5jaGlsZHJlbltyZXNpemVDb2x1bW5JbmRleF07XG4gICAgICAgIHZhciBuZXh0Q29sID0gY29sLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgY29sLnN0eWxlLndpZHRoID0gbmV3Q29sdW1uV2lkdGggKyAncHgnO1xuXG4gICAgICAgIGlmIChuZXh0Q29sICYmIG5leHRDb2x1bW5XaWR0aCkge1xuICAgICAgICAgIG5leHRDb2wuc3R5bGUud2lkdGggPSBuZXh0Q29sdW1uV2lkdGggKyAncHgnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Njcm9sbGFibGUgdGFibGVzIHJlcXVpcmUgYSBjb2xncm91cCB0byBzdXBwb3J0IHJlc2l6YWJsZSBjb2x1bW5zJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBiaW5kQ29sdW1uUmVzaXplRXZlbnRzID0gZnVuY3Rpb24gYmluZENvbHVtblJlc2l6ZUV2ZW50cygpIHtcbiAgICBiaW5kRG9jdW1lbnRNb3VzZU1vdmVMaXN0ZW5lcigpO1xuICAgIGJpbmREb2N1bWVudE1vdXNlVXBMaXN0ZW5lcigpO1xuICB9O1xuXG4gIHZhciB1bmJpbmRDb2x1bW5SZXNpemVFdmVudHMgPSBmdW5jdGlvbiB1bmJpbmRDb2x1bW5SZXNpemVFdmVudHMoKSB7XG4gICAgdW5iaW5kRG9jdW1lbnRNb3VzZU1vdmVMaXN0ZW5lcigpO1xuICAgIHVuYmluZERvY3VtZW50TW91c2VVcExpc3RlbmVyKCk7XG4gIH07XG5cbiAgdmFyIG9uQ29sdW1uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gb25Db2x1bW5EcmFnU3RhcnQoZSkge1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudCxcbiAgICAgICAgY29sdW1uID0gZS5jb2x1bW47XG5cbiAgICBpZiAoY29sdW1uUmVzaXppbmcuY3VycmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpY29uV2lkdGguY3VycmVudCA9IERvbUhhbmRsZXIuZ2V0SGlkZGVuRWxlbWVudE91dGVyV2lkdGgocmVvcmRlckluZGljYXRvclVwUmVmLmN1cnJlbnQpO1xuICAgIGljb25IZWlnaHQuY3VycmVudCA9IERvbUhhbmRsZXIuZ2V0SGlkZGVuRWxlbWVudE91dGVySGVpZ2h0KHJlb3JkZXJJbmRpY2F0b3JVcFJlZi5jdXJyZW50KTtcbiAgICBkcmFnZ2VkQ29sdW1uRWwuY3VycmVudCA9IGZpbmRQYXJlbnRIZWFkZXIoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgZHJhZ2dlZENvbHVtbi5jdXJyZW50ID0gY29sdW1uO1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0JywgJ2InKTsgLy8gRmlyZWZveCByZXF1aXJlcyB0aGlzIHRvIG1ha2UgZHJhZ2dpbmcgcG9zc2libGVcbiAgfTtcblxuICB2YXIgb25Db2x1bW5EcmFnT3ZlciA9IGZ1bmN0aW9uIG9uQ29sdW1uRHJhZ092ZXIoZSkge1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudDtcbiAgICB2YXIgZHJvcEhlYWRlciA9IGZpbmRQYXJlbnRIZWFkZXIoZXZlbnQuY3VycmVudFRhcmdldCk7XG5cbiAgICBpZiAocHJvcHMucmVvcmRlcmFibGVDb2x1bW5zICYmIGRyYWdnZWRDb2x1bW5FbC5jdXJyZW50ICYmIGRyb3BIZWFkZXIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgY29udGFpbmVyT2Zmc2V0ID0gRG9tSGFuZGxlci5nZXRPZmZzZXQoZWxlbWVudFJlZi5jdXJyZW50KTtcbiAgICAgIHZhciBkcm9wSGVhZGVyT2Zmc2V0ID0gRG9tSGFuZGxlci5nZXRPZmZzZXQoZHJvcEhlYWRlcik7XG5cbiAgICAgIGlmIChkcmFnZ2VkQ29sdW1uRWwuY3VycmVudCAhPT0gZHJvcEhlYWRlcikge1xuICAgICAgICB2YXIgdGFyZ2V0TGVmdCA9IGRyb3BIZWFkZXJPZmZzZXQubGVmdCAtIGNvbnRhaW5lck9mZnNldC5sZWZ0OyAvL2xldCB0YXJnZXRUb3AgPSAgY29udGFpbmVyT2Zmc2V0LnRvcCAtIGRyb3BIZWFkZXJPZmZzZXQudG9wO1xuXG4gICAgICAgIHZhciBjb2x1bW5DZW50ZXIgPSBkcm9wSGVhZGVyT2Zmc2V0LmxlZnQgKyBkcm9wSGVhZGVyLm9mZnNldFdpZHRoIC8gMjtcbiAgICAgICAgcmVvcmRlckluZGljYXRvclVwUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gZHJvcEhlYWRlck9mZnNldC50b3AgLSBjb250YWluZXJPZmZzZXQudG9wIC0gKGljb25IZWlnaHQuY3VycmVudCAtIDEpICsgJ3B4JztcbiAgICAgICAgcmVvcmRlckluZGljYXRvckRvd25SZWYuY3VycmVudC5zdHlsZS50b3AgPSBkcm9wSGVhZGVyT2Zmc2V0LnRvcCAtIGNvbnRhaW5lck9mZnNldC50b3AgKyBkcm9wSGVhZGVyLm9mZnNldEhlaWdodCArICdweCc7XG5cbiAgICAgICAgaWYgKGV2ZW50LnBhZ2VYID4gY29sdW1uQ2VudGVyKSB7XG4gICAgICAgICAgcmVvcmRlckluZGljYXRvclVwUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IHRhcmdldExlZnQgKyBkcm9wSGVhZGVyLm9mZnNldFdpZHRoIC0gTWF0aC5jZWlsKGljb25XaWR0aC5jdXJyZW50IC8gMikgKyAncHgnO1xuICAgICAgICAgIHJlb3JkZXJJbmRpY2F0b3JEb3duUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IHRhcmdldExlZnQgKyBkcm9wSGVhZGVyLm9mZnNldFdpZHRoIC0gTWF0aC5jZWlsKGljb25XaWR0aC5jdXJyZW50IC8gMikgKyAncHgnO1xuICAgICAgICAgIGRyb3BQb3NpdGlvbi5jdXJyZW50ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW9yZGVySW5kaWNhdG9yVXBSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gdGFyZ2V0TGVmdCAtIE1hdGguY2VpbChpY29uV2lkdGguY3VycmVudCAvIDIpICsgJ3B4JztcbiAgICAgICAgICByZW9yZGVySW5kaWNhdG9yRG93blJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSB0YXJnZXRMZWZ0IC0gTWF0aC5jZWlsKGljb25XaWR0aC5jdXJyZW50IC8gMikgKyAncHgnO1xuICAgICAgICAgIGRyb3BQb3NpdGlvbi5jdXJyZW50ID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICByZW9yZGVySW5kaWNhdG9yVXBSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgcmVvcmRlckluZGljYXRvckRvd25SZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uQ29sdW1uRHJhZ0xlYXZlID0gZnVuY3Rpb24gb25Db2x1bW5EcmFnTGVhdmUoZSkge1xuICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudDtcblxuICAgIGlmIChwcm9wcy5yZW9yZGVyYWJsZUNvbHVtbnMgJiYgZHJhZ2dlZENvbHVtbkVsLmN1cnJlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZW9yZGVySW5kaWNhdG9yVXBSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgcmVvcmRlckluZGljYXRvckRvd25SZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Db2x1bW5Ecm9wID0gZnVuY3Rpb24gb25Db2x1bW5Ecm9wKGUpIHtcbiAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGNvbHVtbiA9IGUuY29sdW1uO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoZHJhZ2dlZENvbHVtbkVsLmN1cnJlbnQpIHtcbiAgICAgIHZhciBkcmFnSW5kZXggPSBEb21IYW5kbGVyLmluZGV4KGRyYWdnZWRDb2x1bW5FbC5jdXJyZW50KTtcbiAgICAgIHZhciBkcm9wSW5kZXggPSBEb21IYW5kbGVyLmluZGV4KGZpbmRQYXJlbnRIZWFkZXIoZXZlbnQuY3VycmVudFRhcmdldCkpO1xuICAgICAgdmFyIGFsbG93RHJvcCA9IGRyYWdJbmRleCAhPT0gZHJvcEluZGV4O1xuXG4gICAgICBpZiAoYWxsb3dEcm9wICYmIChkcm9wSW5kZXggLSBkcmFnSW5kZXggPT09IDEgJiYgZHJvcFBvc2l0aW9uLmN1cnJlbnQgPT09IC0xIHx8IGRyYWdJbmRleCAtIGRyb3BJbmRleCA9PT0gMSAmJiBkcm9wUG9zaXRpb24uY3VycmVudCA9PT0gMSkpIHtcbiAgICAgICAgYWxsb3dEcm9wID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGxvd0Ryb3ApIHtcbiAgICAgICAgdmFyIGNvbHVtbnMgPSBjb2x1bW5PcmRlclN0YXRlID8gZ2V0Q29sdW1ucygpIDogUmVhY3QuQ2hpbGRyZW4udG9BcnJheShwcm9wcy5jaGlsZHJlbik7XG5cbiAgICAgICAgdmFyIGlzU2FtZUNvbHVtbiA9IGZ1bmN0aW9uIGlzU2FtZUNvbHVtbihjb2wxLCBjb2wyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbDEucHJvcHMuY29sdW1uS2V5IHx8IGNvbDIucHJvcHMuY29sdW1uS2V5ID8gT2JqZWN0VXRpbHMuZXF1YWxzKGNvbDEsIGNvbDIsICdwcm9wcy5jb2x1bW5LZXknKSA6IE9iamVjdFV0aWxzLmVxdWFscyhjb2wxLCBjb2wyLCAncHJvcHMuZmllbGQnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZHJhZ0NvbEluZGV4ID0gY29sdW1ucy5maW5kSW5kZXgoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGlzU2FtZUNvbHVtbihjaGlsZCwgZHJhZ2dlZENvbHVtbi5jdXJyZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkcm9wQ29sSW5kZXggPSBjb2x1bW5zLmZpbmRJbmRleChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gaXNTYW1lQ29sdW1uKGNoaWxkLCBjb2x1bW4pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZHJvcENvbEluZGV4IDwgZHJhZ0NvbEluZGV4ICYmIGRyb3BQb3NpdGlvbi5jdXJyZW50ID09PSAxKSB7XG4gICAgICAgICAgZHJvcENvbEluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHJvcENvbEluZGV4ID4gZHJhZ0NvbEluZGV4ICYmIGRyb3BQb3NpdGlvbi5jdXJyZW50ID09PSAtMSkge1xuICAgICAgICAgIGRyb3BDb2xJbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0VXRpbHMucmVvcmRlckFycmF5KGNvbHVtbnMsIGRyYWdDb2xJbmRleCwgZHJvcENvbEluZGV4KTtcbiAgICAgICAgdmFyIGNvbHVtbk9yZGVyID0gW107XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNvbHVtbnMpLFxuICAgICAgICAgICAgX3N0ZXA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9jb2x1bW4gPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIGNvbHVtbk9yZGVyLnB1c2goX2NvbHVtbi5wcm9wcy5jb2x1bW5LZXkgfHwgX2NvbHVtbi5wcm9wcy5maWVsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRDb2x1bW5PcmRlclN0YXRlKGNvbHVtbk9yZGVyKTtcblxuICAgICAgICBpZiAocHJvcHMub25Db2xSZW9yZGVyKSB7XG4gICAgICAgICAgcHJvcHMub25Db2xSZW9yZGVyKHtcbiAgICAgICAgICAgIGRyYWdJbmRleDogZHJhZ0NvbEluZGV4LFxuICAgICAgICAgICAgZHJvcEluZGV4OiBkcm9wQ29sSW5kZXgsXG4gICAgICAgICAgICBjb2x1bW5zOiBjb2x1bW5zXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVvcmRlckluZGljYXRvclVwUmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHJlb3JkZXJJbmRpY2F0b3JEb3duUmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIGRyYWdnZWRDb2x1bW5FbC5jdXJyZW50LmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgZHJhZ2dlZENvbHVtbkVsLmN1cnJlbnQgPSBudWxsO1xuICAgICAgZHJvcFBvc2l0aW9uLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZmluZFBhcmVudEhlYWRlciA9IGZ1bmN0aW9uIGZpbmRQYXJlbnRIZWFkZXIoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnVEgnKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcblxuICAgICAgd2hpbGUgKHBhcmVudC5ub2RlTmFtZSAhPT0gJ1RIJykge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKCFwYXJlbnQpIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0RXhwYW5kZWRLZXlzID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRLZXlzKCkge1xuICAgIHJldHVybiBwcm9wcy5vblRvZ2dsZSA/IHByb3BzLmV4cGFuZGVkS2V5cyA6IGV4cGFuZGVkS2V5c1N0YXRlO1xuICB9O1xuXG4gIHZhciBnZXRGaXJzdCA9IGZ1bmN0aW9uIGdldEZpcnN0KCkge1xuICAgIHJldHVybiBwcm9wcy5vblBhZ2UgPyBwcm9wcy5maXJzdCA6IGZpcnN0U3RhdGU7XG4gIH07XG5cbiAgdmFyIGdldFJvd3MgPSBmdW5jdGlvbiBnZXRSb3dzKCkge1xuICAgIHJldHVybiBwcm9wcy5vblBhZ2UgPyBwcm9wcy5yb3dzIDogcm93c1N0YXRlO1xuICB9O1xuXG4gIHZhciBnZXRTb3J0RmllbGQgPSBmdW5jdGlvbiBnZXRTb3J0RmllbGQoKSB7XG4gICAgcmV0dXJuIHByb3BzLm9uU29ydCA/IHByb3BzLnNvcnRGaWVsZCA6IHNvcnRGaWVsZFN0YXRlO1xuICB9O1xuXG4gIHZhciBnZXRTb3J0T3JkZXIgPSBmdW5jdGlvbiBnZXRTb3J0T3JkZXIoKSB7XG4gICAgcmV0dXJuIHByb3BzLm9uU29ydCA/IHByb3BzLnNvcnRPcmRlciA6IHNvcnRPcmRlclN0YXRlO1xuICB9O1xuXG4gIHZhciBnZXRNdWx0aVNvcnRNZXRhID0gZnVuY3Rpb24gZ2V0TXVsdGlTb3J0TWV0YSgpIHtcbiAgICByZXR1cm4gKHByb3BzLm9uU29ydCA/IHByb3BzLm11bHRpU29ydE1ldGEgOiBtdWx0aVNvcnRNZXRhU3RhdGUpIHx8IFtdO1xuICB9O1xuXG4gIHZhciBnZXRGaWx0ZXJzID0gZnVuY3Rpb24gZ2V0RmlsdGVycygpIHtcbiAgICByZXR1cm4gcHJvcHMub25GaWx0ZXIgPyBwcm9wcy5maWx0ZXJzIDogZmlsdGVyc1N0YXRlO1xuICB9O1xuXG4gIHZhciBmaW5kQ29sdW1uQnlLZXkgPSBmdW5jdGlvbiBmaW5kQ29sdW1uQnlLZXkoY29sdW1ucywga2V5KSB7XG4gICAgaWYgKGNvbHVtbnMgJiYgY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBjb2x1bW5zW2ldO1xuXG4gICAgICAgIGlmIChjaGlsZC5wcm9wcy5jb2x1bW5LZXkgPT09IGtleSB8fCBjaGlsZC5wcm9wcy5maWVsZCA9PT0ga2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGdldENvbHVtbnMgPSBmdW5jdGlvbiBnZXRDb2x1bW5zKCkge1xuICAgIHZhciBjb2x1bW5zID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShwcm9wcy5jaGlsZHJlbik7XG5cbiAgICBpZiAoY29sdW1ucyAmJiBjb2x1bW5zLmxlbmd0aCkge1xuICAgICAgaWYgKHByb3BzLnJlb3JkZXJhYmxlQ29sdW1ucyAmJiBjb2x1bW5PcmRlclN0YXRlKSB7XG4gICAgICAgIHZhciBvcmRlcmVkQ29sdW1ucyA9IFtdO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY29sdW1uT3JkZXJTdGF0ZSksXG4gICAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIGNvbHVtbktleSA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSBmaW5kQ29sdW1uQnlLZXkoY29sdW1ucywgY29sdW1uS2V5KTtcblxuICAgICAgICAgICAgaWYgKGNvbHVtbikge1xuICAgICAgICAgICAgICBvcmRlcmVkQ29sdW1ucy5wdXNoKGNvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXS5jb25jYXQob3JkZXJlZENvbHVtbnMsIF90b0NvbnN1bWFibGVBcnJheShjb2x1bW5zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBvcmRlcmVkQ29sdW1ucy5pbmRleE9mKGl0ZW0pIDwgMDtcbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb2x1bW5zO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBnZXRUb3RhbFJlY29yZHMgPSBmdW5jdGlvbiBnZXRUb3RhbFJlY29yZHMoZGF0YSkge1xuICAgIHJldHVybiBwcm9wcy5sYXp5ID8gcHJvcHMudG90YWxSZWNvcmRzIDogZGF0YSA/IGRhdGEubGVuZ3RoIDogMDtcbiAgfTtcblxuICB2YXIgaXNTaW5nbGVTZWxlY3Rpb25Nb2RlID0gZnVuY3Rpb24gaXNTaW5nbGVTZWxlY3Rpb25Nb2RlKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25Nb2RlICYmIHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICdzaW5nbGUnO1xuICB9O1xuXG4gIHZhciBpc011bHRpcGxlU2VsZWN0aW9uTW9kZSA9IGZ1bmN0aW9uIGlzTXVsdGlwbGVTZWxlY3Rpb25Nb2RlKCkge1xuICAgIHJldHVybiBwcm9wcy5zZWxlY3Rpb25Nb2RlICYmIHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICdtdWx0aXBsZSc7XG4gIH07XG5cbiAgdmFyIGlzUm93U2VsZWN0aW9uTW9kZSA9IGZ1bmN0aW9uIGlzUm93U2VsZWN0aW9uTW9kZSgpIHtcbiAgICByZXR1cm4gaXNTaW5nbGVTZWxlY3Rpb25Nb2RlKCkgfHwgaXNNdWx0aXBsZVNlbGVjdGlvbk1vZGUoKTtcbiAgfTtcblxuICB2YXIgZ2V0RnJvemVuQ29sdW1ucyA9IGZ1bmN0aW9uIGdldEZyb3plbkNvbHVtbnMoY29sdW1ucykge1xuICAgIHZhciBmcm96ZW5Db2x1bW5zID0gbnVsbDtcblxuICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY29sdW1ucyksXG4gICAgICAgIF9zdGVwMztcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICB2YXIgY29sID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgIGlmIChjb2wucHJvcHMuZnJvemVuKSB7XG4gICAgICAgICAgZnJvemVuQ29sdW1ucyA9IGZyb3plbkNvbHVtbnMgfHwgW107XG4gICAgICAgICAgZnJvemVuQ29sdW1ucy5wdXNoKGNvbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IzLmYoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnJvemVuQ29sdW1ucztcbiAgfTtcblxuICB2YXIgZ2V0U2Nyb2xsYWJsZUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRTY3JvbGxhYmxlQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgdmFyIHNjcm9sbGFibGVDb2x1bW5zID0gbnVsbDtcblxuICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY29sdW1ucyksXG4gICAgICAgIF9zdGVwNDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykge1xuICAgICAgICB2YXIgY29sID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgIGlmICghY29sLnByb3BzLmZyb3plbikge1xuICAgICAgICAgIHNjcm9sbGFibGVDb2x1bW5zID0gc2Nyb2xsYWJsZUNvbHVtbnMgfHwgW107XG4gICAgICAgICAgc2Nyb2xsYWJsZUNvbHVtbnMucHVzaChjb2wpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3I0LmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yNC5mKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcm9sbGFibGVDb2x1bW5zO1xuICB9O1xuXG4gIHZhciBmaWx0ZXJMb2NhbCA9IGZ1bmN0aW9uIGZpbHRlckxvY2FsKHZhbHVlKSB7XG4gICAgdmFyIGZpbHRlcmVkTm9kZXMgPSBbXTtcbiAgICB2YXIgZmlsdGVycyA9IGdldEZpbHRlcnMoKTtcbiAgICB2YXIgY29sdW1ucyA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkocHJvcHMuY2hpbGRyZW4pO1xuICAgIHZhciBpc1N0cmljdE1vZGUgPSBwcm9wcy5maWx0ZXJNb2RlID09PSAnc3RyaWN0JztcblxuICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmFsdWUpLFxuICAgICAgICBfc3RlcDU7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgdmFyIGNvcHlOb2RlID0gX29iamVjdFNwcmVhZCh7fSwgbm9kZSk7XG5cbiAgICAgICAgdmFyIGxvY2FsTWF0Y2ggPSB0cnVlO1xuICAgICAgICB2YXIgZ2xvYmFsTWF0Y2ggPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgY29sID0gY29sdW1uc1tqXTtcbiAgICAgICAgICB2YXIgZmlsdGVyTWV0YSA9IGZpbHRlcnMgPyBmaWx0ZXJzW2NvbC5wcm9wcy5maWVsZF0gOiBudWxsO1xuICAgICAgICAgIHZhciBmaWx0ZXJGaWVsZCA9IGNvbC5wcm9wcy5maWVsZDtcbiAgICAgICAgICB2YXIgZmlsdGVyVmFsdWUgPSB2b2lkIDAsXG4gICAgICAgICAgICAgIGZpbHRlckNvbnN0cmFpbnQgPSB2b2lkIDAsXG4gICAgICAgICAgICAgIHBhcmFtc1dpdGhvdXROb2RlID0gdm9pZCAwLFxuICAgICAgICAgICAgICBvcHRpb25zID0gdm9pZCAwOyAvL2xvY2FsXG5cbiAgICAgICAgICBpZiAoZmlsdGVyTWV0YSkge1xuICAgICAgICAgICAgdmFyIGZpbHRlck1hdGNoTW9kZSA9IGZpbHRlck1ldGEubWF0Y2hNb2RlIHx8IGNvbC5wcm9wcy5maWx0ZXJNYXRjaE1vZGUgfHwgJ3N0YXJ0c1dpdGgnO1xuICAgICAgICAgICAgZmlsdGVyVmFsdWUgPSBmaWx0ZXJNZXRhLnZhbHVlO1xuICAgICAgICAgICAgZmlsdGVyQ29uc3RyYWludCA9IGZpbHRlck1hdGNoTW9kZSA9PT0gJ2N1c3RvbScgPyBjb2wucHJvcHMuZmlsdGVyRnVuY3Rpb24gOiBGaWx0ZXJTZXJ2aWNlLmZpbHRlcnNbZmlsdGVyTWF0Y2hNb2RlXTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgIHJvd0RhdGE6IG5vZGUsXG4gICAgICAgICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgY29sdW1uOiB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWV0YTogZmlsdGVyTWV0YSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGaWVsZDogZmlsdGVyRmllbGQsXG4gICAgICAgICAgICAgICAgcHJvcHM6IGNvbC5wcm9wc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFyYW1zV2l0aG91dE5vZGUgPSB7XG4gICAgICAgICAgICAgIGZpbHRlckZpZWxkOiBmaWx0ZXJGaWVsZCxcbiAgICAgICAgICAgICAgZmlsdGVyVmFsdWU6IGZpbHRlclZhbHVlLFxuICAgICAgICAgICAgICBmaWx0ZXJDb25zdHJhaW50OiBmaWx0ZXJDb25zdHJhaW50LFxuICAgICAgICAgICAgICBpc1N0cmljdE1vZGU6IGlzU3RyaWN0TW9kZSxcbiAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0TW9kZSAmJiAhKGZpbmRGaWx0ZXJlZE5vZGVzKGNvcHlOb2RlLCBwYXJhbXNXaXRob3V0Tm9kZSkgfHwgaXNGaWx0ZXJNYXRjaGVkKGNvcHlOb2RlLCBwYXJhbXNXaXRob3V0Tm9kZSkpIHx8ICFpc1N0cmljdE1vZGUgJiYgIShpc0ZpbHRlck1hdGNoZWQoY29weU5vZGUsIHBhcmFtc1dpdGhvdXROb2RlKSB8fCBmaW5kRmlsdGVyZWROb2Rlcyhjb3B5Tm9kZSwgcGFyYW1zV2l0aG91dE5vZGUpKSkge1xuICAgICAgICAgICAgICBsb2NhbE1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbG9jYWxNYXRjaCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vZ2xvYmFsXG5cblxuICAgICAgICAgIGlmIChwcm9wcy5nbG9iYWxGaWx0ZXIgJiYgIWdsb2JhbE1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgY29weU5vZGVGb3JHbG9iYWwgPSBfb2JqZWN0U3ByZWFkKHt9LCBjb3B5Tm9kZSk7XG5cbiAgICAgICAgICAgIGZpbHRlclZhbHVlID0gcHJvcHMuZ2xvYmFsRmlsdGVyO1xuICAgICAgICAgICAgZmlsdGVyQ29uc3RyYWludCA9IEZpbHRlclNlcnZpY2UuZmlsdGVyc1snY29udGFpbnMnXTtcbiAgICAgICAgICAgIHBhcmFtc1dpdGhvdXROb2RlID0ge1xuICAgICAgICAgICAgICBmaWx0ZXJGaWVsZDogZmlsdGVyRmllbGQsXG4gICAgICAgICAgICAgIGZpbHRlclZhbHVlOiBmaWx0ZXJWYWx1ZSxcbiAgICAgICAgICAgICAgZmlsdGVyQ29uc3RyYWludDogZmlsdGVyQ29uc3RyYWludCxcbiAgICAgICAgICAgICAgaXNTdHJpY3RNb2RlOiBpc1N0cmljdE1vZGVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChpc1N0cmljdE1vZGUgJiYgKGZpbmRGaWx0ZXJlZE5vZGVzKGNvcHlOb2RlRm9yR2xvYmFsLCBwYXJhbXNXaXRob3V0Tm9kZSkgfHwgaXNGaWx0ZXJNYXRjaGVkKGNvcHlOb2RlRm9yR2xvYmFsLCBwYXJhbXNXaXRob3V0Tm9kZSkpIHx8ICFpc1N0cmljdE1vZGUgJiYgKGlzRmlsdGVyTWF0Y2hlZChjb3B5Tm9kZUZvckdsb2JhbCwgcGFyYW1zV2l0aG91dE5vZGUpIHx8IGZpbmRGaWx0ZXJlZE5vZGVzKGNvcHlOb2RlRm9yR2xvYmFsLCBwYXJhbXNXaXRob3V0Tm9kZSkpKSB7XG4gICAgICAgICAgICAgIGdsb2JhbE1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgY29weU5vZGUgPSBjb3B5Tm9kZUZvckdsb2JhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF0Y2hlcyA9IGxvY2FsTWF0Y2g7XG5cbiAgICAgICAgaWYgKHByb3BzLmdsb2JhbEZpbHRlcikge1xuICAgICAgICAgIG1hdGNoZXMgPSBsb2NhbE1hdGNoICYmIGdsb2JhbE1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICBmaWx0ZXJlZE5vZGVzLnB1c2goY29weU5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3I1LmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yNS5mKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbHRlcmVkTm9kZXM7XG4gIH07XG5cbiAgdmFyIGZpbmRGaWx0ZXJlZE5vZGVzID0gZnVuY3Rpb24gZmluZEZpbHRlcmVkTm9kZXMobm9kZSwgcGFyYW1zV2l0aG91dE5vZGUpIHtcbiAgICBpZiAobm9kZSkge1xuICAgICAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkobm9kZS5jaGlsZHJlbik7XG5cbiAgICAgICAgbm9kZS5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hpbGROb2RlcyksXG4gICAgICAgICAgICBfc3RlcDY7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IF9zdGVwNi52YWx1ZTtcblxuICAgICAgICAgICAgdmFyIGNvcHlDaGlsZE5vZGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBjaGlsZE5vZGUpO1xuXG4gICAgICAgICAgICBpZiAoaXNGaWx0ZXJNYXRjaGVkKGNvcHlDaGlsZE5vZGUsIHBhcmFtc1dpdGhvdXROb2RlKSkge1xuICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5wdXNoKGNvcHlDaGlsZE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc0ZpbHRlck1hdGNoZWQgPSBmdW5jdGlvbiBpc0ZpbHRlck1hdGNoZWQobm9kZSwgX3JlZikge1xuICAgIHZhciBmaWx0ZXJGaWVsZCA9IF9yZWYuZmlsdGVyRmllbGQsXG4gICAgICAgIGZpbHRlclZhbHVlID0gX3JlZi5maWx0ZXJWYWx1ZSxcbiAgICAgICAgZmlsdGVyQ29uc3RyYWludCA9IF9yZWYuZmlsdGVyQ29uc3RyYWludCxcbiAgICAgICAgaXNTdHJpY3RNb2RlID0gX3JlZi5pc1N0cmljdE1vZGUsXG4gICAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnM7XG4gICAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcbiAgICB2YXIgZGF0YUZpZWxkVmFsdWUgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG5vZGUuZGF0YSwgZmlsdGVyRmllbGQpO1xuXG4gICAgaWYgKGZpbHRlckNvbnN0cmFpbnQoZGF0YUZpZWxkVmFsdWUsIGZpbHRlclZhbHVlLCBwcm9wcy5maWx0ZXJMb2NhbGUsIG9wdGlvbnMpKSB7XG4gICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIW1hdGNoZWQgfHwgaXNTdHJpY3RNb2RlICYmICFpc05vZGVMZWFmKG5vZGUpKSB7XG4gICAgICBtYXRjaGVkID0gZmluZEZpbHRlcmVkTm9kZXMobm9kZSwge1xuICAgICAgICBmaWx0ZXJGaWVsZDogZmlsdGVyRmllbGQsXG4gICAgICAgIGZpbHRlclZhbHVlOiBmaWx0ZXJWYWx1ZSxcbiAgICAgICAgZmlsdGVyQ29uc3RyYWludDogZmlsdGVyQ29uc3RyYWludCxcbiAgICAgICAgaXNTdHJpY3RNb2RlOiBpc1N0cmljdE1vZGVcbiAgICAgIH0pIHx8IG1hdGNoZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoZWQ7XG4gIH07XG5cbiAgdmFyIGlzTm9kZUxlYWYgPSBmdW5jdGlvbiBpc05vZGVMZWFmKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5sZWFmID09PSBmYWxzZSA/IGZhbHNlIDogIShub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgcHJvY2Vzc0RhdGEgPSBmdW5jdGlvbiBwcm9jZXNzRGF0YSgpIHtcbiAgICB2YXIgZGF0YSA9IHByb3BzLnZhbHVlIHx8IFtdO1xuXG4gICAgaWYgKCFwcm9wcy5sYXp5KSB7XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCkge1xuICAgICAgICB2YXIgZmlsdGVycyA9IGdldEZpbHRlcnMoKTtcbiAgICAgICAgdmFyIHNvcnRGaWVsZCA9IGdldFNvcnRGaWVsZCgpO1xuICAgICAgICB2YXIgbXVsdGlTb3J0TWV0YSA9IGdldE11bHRpU29ydE1ldGEoKTtcblxuICAgICAgICBpZiAoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShmaWx0ZXJzKSB8fCBwcm9wcy5nbG9iYWxGaWx0ZXIpIHtcbiAgICAgICAgICBkYXRhID0gZmlsdGVyTG9jYWwoZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29ydEZpZWxkIHx8IE9iamVjdFV0aWxzLmlzTm90RW1wdHkobXVsdGlTb3J0TWV0YSkpIHtcbiAgICAgICAgICBpZiAocHJvcHMuc29ydE1vZGUgPT09ICdzaW5nbGUnKSBkYXRhID0gc29ydFNpbmdsZShkYXRhKTtlbHNlIGlmIChwcm9wcy5zb3J0TW9kZSA9PT0gJ211bHRpcGxlJykgZGF0YSA9IHNvcnRNdWx0aXBsZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICB2YXIgY3JlYXRlVGFibGVIZWFkZXIgPSBmdW5jdGlvbiBjcmVhdGVUYWJsZUhlYWRlcihjb2x1bW5zLCBjb2x1bW5Hcm91cCkge1xuICAgIHZhciBzb3J0RmllbGQgPSBnZXRTb3J0RmllbGQoKTtcbiAgICB2YXIgc29ydE9yZGVyID0gZ2V0U29ydE9yZGVyKCk7XG5cbiAgICB2YXIgbXVsdGlTb3J0TWV0YSA9IF90b0NvbnN1bWFibGVBcnJheShnZXRNdWx0aVNvcnRNZXRhKCkpO1xuXG4gICAgdmFyIGZpbHRlcnMgPSBnZXRGaWx0ZXJzKCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyZWVUYWJsZUhlYWRlciwge1xuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIGNvbHVtbkdyb3VwOiBjb2x1bW5Hcm91cCxcbiAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcbiAgICAgIG9uU29ydDogb25Tb3J0LFxuICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGQsXG4gICAgICBzb3J0T3JkZXI6IHNvcnRPcmRlcixcbiAgICAgIG11bHRpU29ydE1ldGE6IG11bHRpU29ydE1ldGEsXG4gICAgICByZXNpemFibGVDb2x1bW5zOiBwcm9wcy5yZXNpemFibGVDb2x1bW5zLFxuICAgICAgb25SZXNpemVTdGFydDogb25Db2x1bW5SZXNpemVTdGFydCxcbiAgICAgIHJlb3JkZXJhYmxlQ29sdW1uczogcHJvcHMucmVvcmRlcmFibGVDb2x1bW5zLFxuICAgICAgb25EcmFnU3RhcnQ6IG9uQ29sdW1uRHJhZ1N0YXJ0LFxuICAgICAgb25EcmFnT3Zlcjogb25Db2x1bW5EcmFnT3ZlcixcbiAgICAgIG9uRHJhZ0xlYXZlOiBvbkNvbHVtbkRyYWdMZWF2ZSxcbiAgICAgIG9uRHJvcDogb25Db2x1bW5Ecm9wLFxuICAgICAgb25GaWx0ZXI6IG9uRmlsdGVyLFxuICAgICAgZmlsdGVyczogZmlsdGVycyxcbiAgICAgIGZpbHRlckRlbGF5OiBwcm9wcy5maWx0ZXJEZWxheVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVUYWJsZUZvb3RlciA9IGZ1bmN0aW9uIGNyZWF0ZVRhYmxlRm9vdGVyKGNvbHVtbnMsIGNvbHVtbkdyb3VwKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyZWVUYWJsZUZvb3Rlciwge1xuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIGNvbHVtbkdyb3VwOiBjb2x1bW5Hcm91cFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVUYWJsZUJvZHkgPSBmdW5jdGlvbiBjcmVhdGVUYWJsZUJvZHkodmFsdWUsIGNvbHVtbnMpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJlZVRhYmxlQm9keSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIGV4cGFuZGVkS2V5czogZ2V0RXhwYW5kZWRLZXlzKCksXG4gICAgICBzZWxlY3RPbkVkaXQ6IHByb3BzLnNlbGVjdE9uRWRpdCxcbiAgICAgIG9uVG9nZ2xlOiBvblRvZ2dsZSxcbiAgICAgIG9uRXhwYW5kOiBwcm9wcy5vbkV4cGFuZCxcbiAgICAgIG9uQ29sbGFwc2U6IHByb3BzLm9uQ29sbGFwc2UsXG4gICAgICBwYWdpbmF0b3I6IHByb3BzLnBhZ2luYXRvcixcbiAgICAgIGZpcnN0OiBnZXRGaXJzdCgpLFxuICAgICAgcm93czogZ2V0Um93cygpLFxuICAgICAgc2VsZWN0aW9uTW9kZTogcHJvcHMuc2VsZWN0aW9uTW9kZSxcbiAgICAgIHNlbGVjdGlvbktleXM6IHByb3BzLnNlbGVjdGlvbktleXMsXG4gICAgICBvblNlbGVjdGlvbkNoYW5nZTogcHJvcHMub25TZWxlY3Rpb25DaGFuZ2UsXG4gICAgICBtZXRhS2V5U2VsZWN0aW9uOiBwcm9wcy5tZXRhS2V5U2VsZWN0aW9uLFxuICAgICAgb25Sb3dDbGljazogcHJvcHMub25Sb3dDbGljayxcbiAgICAgIG9uU2VsZWN0OiBwcm9wcy5vblNlbGVjdCxcbiAgICAgIG9uVW5zZWxlY3Q6IHByb3BzLm9uVW5zZWxlY3QsXG4gICAgICBwcm9wYWdhdGVTZWxlY3Rpb25VcDogcHJvcHMucHJvcGFnYXRlU2VsZWN0aW9uVXAsXG4gICAgICBwcm9wYWdhdGVTZWxlY3Rpb25Eb3duOiBwcm9wcy5wcm9wYWdhdGVTZWxlY3Rpb25Eb3duLFxuICAgICAgbGF6eTogcHJvcHMubGF6eSxcbiAgICAgIHJvd0NsYXNzTmFtZTogcHJvcHMucm93Q2xhc3NOYW1lLFxuICAgICAgZW1wdHlNZXNzYWdlOiBwcm9wcy5lbXB0eU1lc3NhZ2UsXG4gICAgICBsb2FkaW5nOiBwcm9wcy5sb2FkaW5nLFxuICAgICAgY29udGV4dE1lbnVTZWxlY3Rpb25LZXk6IHByb3BzLmNvbnRleHRNZW51U2VsZWN0aW9uS2V5LFxuICAgICAgb25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZTogcHJvcHMub25Db250ZXh0TWVudVNlbGVjdGlvbkNoYW5nZSxcbiAgICAgIG9uQ29udGV4dE1lbnU6IHByb3BzLm9uQ29udGV4dE1lbnVcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlUGFnaW5hdG9yID0gZnVuY3Rpb24gY3JlYXRlUGFnaW5hdG9yKHBvc2l0aW9uLCB0b3RhbFJlY29yZHMpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYWdpbmF0b3ItJyArIHBvc2l0aW9uLCBwcm9wcy5wYWdpbmF0b3JDbGFzc05hbWUpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYWdpbmF0b3IsIHtcbiAgICAgIGZpcnN0OiBnZXRGaXJzdCgpLFxuICAgICAgcm93czogZ2V0Um93cygpLFxuICAgICAgcGFnZUxpbmtTaXplOiBwcm9wcy5wYWdlTGlua1NpemUsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIG9uUGFnZUNoYW5nZTogb25QYWdlQ2hhbmdlLFxuICAgICAgdGVtcGxhdGU6IHByb3BzLnBhZ2luYXRvclRlbXBsYXRlLFxuICAgICAgdG90YWxSZWNvcmRzOiB0b3RhbFJlY29yZHMsXG4gICAgICByb3dzUGVyUGFnZU9wdGlvbnM6IHByb3BzLnJvd3NQZXJQYWdlT3B0aW9ucyxcbiAgICAgIGN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGU6IHByb3BzLmN1cnJlbnRQYWdlUmVwb3J0VGVtcGxhdGUsXG4gICAgICBsZWZ0Q29udGVudDogcHJvcHMucGFnaW5hdG9yTGVmdCxcbiAgICAgIHJpZ2h0Q29udGVudDogcHJvcHMucGFnaW5hdG9yUmlnaHQsXG4gICAgICBhbHdheXNTaG93OiBwcm9wcy5hbHdheXNTaG93UGFnaW5hdG9yLFxuICAgICAgZHJvcGRvd25BcHBlbmRUbzogcHJvcHMucGFnaW5hdG9yRHJvcGRvd25BcHBlbmRUb1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVTY3JvbGxhYmxlVmlldyA9IGZ1bmN0aW9uIGNyZWF0ZVNjcm9sbGFibGVWaWV3KHZhbHVlLCBjb2x1bW5zLCBmcm96ZW4sIGhlYWRlckNvbHVtbkdyb3VwLCBmb290ZXJDb2x1bW5Hcm91cCkge1xuICAgIHZhciBoZWFkZXIgPSBjcmVhdGVUYWJsZUhlYWRlcihjb2x1bW5zLCBoZWFkZXJDb2x1bW5Hcm91cCk7XG4gICAgdmFyIGZvb3RlciA9IGNyZWF0ZVRhYmxlRm9vdGVyKGNvbHVtbnMsIGZvb3RlckNvbHVtbkdyb3VwKTtcbiAgICB2YXIgYm9keSA9IGNyZWF0ZVRhYmxlQm9keSh2YWx1ZSwgY29sdW1ucyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyZWVUYWJsZVNjcm9sbGFibGVWaWV3LCB7XG4gICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgaGVhZGVyOiBoZWFkZXIsXG4gICAgICBib2R5OiBib2R5LFxuICAgICAgZm9vdGVyOiBmb290ZXIsXG4gICAgICBzY3JvbGxIZWlnaHQ6IHByb3BzLnNjcm9sbEhlaWdodCxcbiAgICAgIGZyb3plbjogZnJvemVuLFxuICAgICAgZnJvemVuV2lkdGg6IHByb3BzLmZyb3plbldpZHRoXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNjcm9sbGFibGVUYWJsZSA9IGZ1bmN0aW9uIGNyZWF0ZVNjcm9sbGFibGVUYWJsZSh2YWx1ZSkge1xuICAgIHZhciBjb2x1bW5zID0gZ2V0Q29sdW1ucygpO1xuICAgIHZhciBmcm96ZW5Db2x1bW5zID0gZ2V0RnJvemVuQ29sdW1ucyhjb2x1bW5zKTtcbiAgICB2YXIgc2Nyb2xsYWJsZUNvbHVtbnMgPSBmcm96ZW5Db2x1bW5zID8gZ2V0U2Nyb2xsYWJsZUNvbHVtbnMoY29sdW1ucykgOiBjb2x1bW5zO1xuICAgIHZhciBmcm96ZW5WaWV3LCBzY3JvbGxhYmxlVmlldztcblxuICAgIGlmIChmcm96ZW5Db2x1bW5zKSB7XG4gICAgICBmcm96ZW5WaWV3ID0gY3JlYXRlU2Nyb2xsYWJsZVZpZXcodmFsdWUsIGZyb3plbkNvbHVtbnMsIHRydWUsIHByb3BzLmZyb3plbkhlYWRlckNvbHVtbkdyb3VwLCBwcm9wcy5mcm96ZW5Gb290ZXJDb2x1bW5Hcm91cCk7XG4gICAgfVxuXG4gICAgc2Nyb2xsYWJsZVZpZXcgPSBjcmVhdGVTY3JvbGxhYmxlVmlldyh2YWx1ZSwgc2Nyb2xsYWJsZUNvbHVtbnMsIGZhbHNlLCBwcm9wcy5oZWFkZXJDb2x1bW5Hcm91cCwgcHJvcHMuZm9vdGVyQ29sdW1uR3JvdXApO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC10cmVldGFibGUtc2Nyb2xsYWJsZS13cmFwcGVyXCJcbiAgICB9LCBmcm96ZW5WaWV3LCBzY3JvbGxhYmxlVmlldyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVJlZ3VsYXJUYWJsZSA9IGZ1bmN0aW9uIGNyZWF0ZVJlZ3VsYXJUYWJsZSh2YWx1ZSkge1xuICAgIHZhciBjb2x1bW5zID0gZ2V0Q29sdW1ucygpO1xuICAgIHZhciBoZWFkZXIgPSBjcmVhdGVUYWJsZUhlYWRlcihjb2x1bW5zLCBwcm9wcy5oZWFkZXJDb2x1bW5Hcm91cCk7XG4gICAgdmFyIGZvb3RlciA9IGNyZWF0ZVRhYmxlRm9vdGVyKGNvbHVtbnMsIHByb3BzLmZvb3RlckNvbHVtbkdyb3VwKTtcbiAgICB2YXIgYm9keSA9IGNyZWF0ZVRhYmxlQm9keSh2YWx1ZSwgY29sdW1ucyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLXRyZWV0YWJsZS13cmFwcGVyXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIHtcbiAgICAgIHN0eWxlOiBwcm9wcy50YWJsZVN0eWxlLFxuICAgICAgY2xhc3NOYW1lOiBwcm9wcy50YWJsZUNsYXNzTmFtZVxuICAgIH0sIGhlYWRlciwgZm9vdGVyLCBib2R5KSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVRhYmxlID0gZnVuY3Rpb24gY3JlYXRlVGFibGUodmFsdWUpIHtcbiAgICByZXR1cm4gcHJvcHMuc2Nyb2xsYWJsZSA/IGNyZWF0ZVNjcm9sbGFibGVUYWJsZSh2YWx1ZSkgOiBjcmVhdGVSZWd1bGFyVGFibGUodmFsdWUpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVMb2FkZXIgPSBmdW5jdGlvbiBjcmVhdGVMb2FkZXIoKSB7XG4gICAgaWYgKHByb3BzLmxvYWRpbmcpIHtcbiAgICAgIHZhciBpY29uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC10cmVldGFibGUtbG9hZGluZy1pY29uIHBpLXNwaW4nLCBwcm9wcy5sb2FkaW5nSWNvbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC10cmVldGFibGUtbG9hZGluZ1wiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLXRyZWV0YWJsZS1sb2FkaW5nLW92ZXJsYXkgcC1jb21wb25lbnQtb3ZlcmxheVwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGljb25DbGFzc05hbWVcbiAgICAgIH0pKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGRhdGEgPSBwcm9jZXNzRGF0YSgpO1xuICB2YXIgb3RoZXJQcm9wcyA9IE9iamVjdFV0aWxzLmZpbmREaWZmS2V5cyhwcm9wcywgVHJlZVRhYmxlLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXRyZWV0YWJsZSBwLWNvbXBvbmVudCcsIHtcbiAgICAncC10cmVldGFibGUtaG92ZXJhYmxlLXJvd3MnOiBwcm9wcy5yb3dIb3ZlcixcbiAgICAncC10cmVldGFibGUtc2VsZWN0YWJsZSc6IGlzUm93U2VsZWN0aW9uTW9kZSgpLFxuICAgICdwLXRyZWV0YWJsZS1yZXNpemFibGUnOiBwcm9wcy5yZXNpemFibGVDb2x1bW5zLFxuICAgICdwLXRyZWV0YWJsZS1yZXNpemFibGUtZml0JzogcHJvcHMucmVzaXphYmxlQ29sdW1ucyAmJiBwcm9wcy5jb2x1bW5SZXNpemVNb2RlID09PSAnZml0JyxcbiAgICAncC10cmVldGFibGUtYXV0by1sYXlvdXQnOiBwcm9wcy5hdXRvTGF5b3V0LFxuICAgICdwLXRyZWV0YWJsZS1zdHJpcGVkJzogcHJvcHMuc3RyaXBlZFJvd3MsXG4gICAgJ3AtdHJlZXRhYmxlLWdyaWRsaW5lcyc6IHByb3BzLnNob3dHcmlkbGluZXNcbiAgfSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgdmFyIHRhYmxlID0gY3JlYXRlVGFibGUoZGF0YSk7XG4gIHZhciB0b3RhbFJlY29yZHMgPSBnZXRUb3RhbFJlY29yZHMoZGF0YSk7XG4gIHZhciBoZWFkZXJGYWNldCA9IHByb3BzLmhlYWRlciAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtdHJlZXRhYmxlLWhlYWRlclwiXG4gIH0sIHByb3BzLmhlYWRlcik7XG4gIHZhciBmb290ZXJGYWNldCA9IHByb3BzLmZvb3RlciAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtdHJlZXRhYmxlLWZvb3RlclwiXG4gIH0sIHByb3BzLmZvb3Rlcik7XG4gIHZhciBwYWdpbmF0b3JUb3AgPSBwcm9wcy5wYWdpbmF0b3IgJiYgcHJvcHMucGFnaW5hdG9yUG9zaXRpb24gIT09ICdib3R0b20nICYmIGNyZWF0ZVBhZ2luYXRvcigndG9wJywgdG90YWxSZWNvcmRzKTtcbiAgdmFyIHBhZ2luYXRvckJvdHRvbSA9IHByb3BzLnBhZ2luYXRvciAmJiBwcm9wcy5wYWdpbmF0b3JQb3NpdGlvbiAhPT0gJ3RvcCcgJiYgY3JlYXRlUGFnaW5hdG9yKCdib3R0b20nLCB0b3RhbFJlY29yZHMpO1xuICB2YXIgbG9hZGVyID0gY3JlYXRlTG9hZGVyKCk7XG4gIHZhciByZXNpemVIZWxwZXIgPSBwcm9wcy5yZXNpemFibGVDb2x1bW5zICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IHJlc2l6ZXJIZWxwZXJSZWYsXG4gICAgY2xhc3NOYW1lOiBcInAtY29sdW1uLXJlc2l6ZXItaGVscGVyXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgIH1cbiAgfSk7XG4gIHZhciByZW9yZGVySW5kaWNhdG9yVXAgPSBwcm9wcy5yZW9yZGVyYWJsZUNvbHVtbnMgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICByZWY6IHJlb3JkZXJJbmRpY2F0b3JVcFJlZixcbiAgICBjbGFzc05hbWU6IFwicGkgcGktYXJyb3ctZG93biBwLWRhdGF0YWJsZS1yZW9yZGVyLWluZGljYXRvci11cFwiLFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgIH1cbiAgfSk7XG4gIHZhciByZW9yZGVySW5kaWNhdG9yRG93biA9IHByb3BzLnJlb3JkZXJhYmxlQ29sdW1ucyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIHJlZjogcmVvcmRlckluZGljYXRvckRvd25SZWYsXG4gICAgY2xhc3NOYW1lOiBcInBpIHBpLWFycm93LXVwIHAtZGF0YXRhYmxlLXJlb3JkZXItaW5kaWNhdG9yLWRvd25cIixcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBpZDogcHJvcHMuaWQsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgIFwiZGF0YS1zY3JvbGxzZWxlY3RvcnNcIjogXCIucC10cmVldGFibGUtc2Nyb2xsYWJsZS1ib2R5XCJcbiAgfSwgb3RoZXJQcm9wcyksIGxvYWRlciwgaGVhZGVyRmFjZXQsIHBhZ2luYXRvclRvcCwgdGFibGUsIHBhZ2luYXRvckJvdHRvbSwgZm9vdGVyRmFjZXQsIHJlc2l6ZUhlbHBlciwgcmVvcmRlckluZGljYXRvclVwLCByZW9yZGVySW5kaWNhdG9yRG93bik7XG59KTtcblRyZWVUYWJsZS5kaXNwbGF5TmFtZSA9ICdUcmVlVGFibGUnO1xuVHJlZVRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnVHJlZVRhYmxlJyxcbiAgaWQ6IG51bGwsXG4gIHZhbHVlOiBudWxsLFxuICBoZWFkZXI6IG51bGwsXG4gIGZvb3RlcjogbnVsbCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgdGFibGVTdHlsZTogbnVsbCxcbiAgdGFibGVDbGFzc05hbWU6IG51bGwsXG4gIGV4cGFuZGVkS2V5czogbnVsbCxcbiAgcGFnaW5hdG9yOiBmYWxzZSxcbiAgcGFnaW5hdG9yUG9zaXRpb246ICdib3R0b20nLFxuICBhbHdheXNTaG93UGFnaW5hdG9yOiB0cnVlLFxuICBwYWdpbmF0b3JDbGFzc05hbWU6IG51bGwsXG4gIHBhZ2luYXRvclRlbXBsYXRlOiAnRmlyc3RQYWdlTGluayBQcmV2UGFnZUxpbmsgUGFnZUxpbmtzIE5leHRQYWdlTGluayBMYXN0UGFnZUxpbmsgUm93c1BlclBhZ2VEcm9wZG93bicsXG4gIHBhZ2luYXRvckxlZnQ6IG51bGwsXG4gIHBhZ2luYXRvclJpZ2h0OiBudWxsLFxuICBwYWdpbmF0b3JEcm9wZG93bkFwcGVuZFRvOiBudWxsLFxuICBwYWdlTGlua1NpemU6IDUsXG4gIHJvd3NQZXJQYWdlT3B0aW9uczogbnVsbCxcbiAgY3VycmVudFBhZ2VSZXBvcnRUZW1wbGF0ZTogJyh7Y3VycmVudFBhZ2V9IG9mIHt0b3RhbFBhZ2VzfSknLFxuICBmaXJzdDogbnVsbCxcbiAgcm93czogbnVsbCxcbiAgdG90YWxSZWNvcmRzOiBudWxsLFxuICBsYXp5OiBmYWxzZSxcbiAgc29ydEZpZWxkOiBudWxsLFxuICBzb3J0T3JkZXI6IG51bGwsXG4gIG11bHRpU29ydE1ldGE6IG51bGwsXG4gIHNvcnRNb2RlOiAnc2luZ2xlJyxcbiAgZGVmYXVsdFNvcnRPcmRlcjogMSxcbiAgcmVtb3ZhYmxlU29ydDogZmFsc2UsXG4gIHNlbGVjdGlvbk1vZGU6IG51bGwsXG4gIHNlbGVjdGlvbktleXM6IG51bGwsXG4gIGNvbnRleHRNZW51U2VsZWN0aW9uS2V5OiBudWxsLFxuICBtZXRhS2V5U2VsZWN0aW9uOiB0cnVlLFxuICBzZWxlY3RPbkVkaXQ6IHRydWUsXG4gIHByb3BhZ2F0ZVNlbGVjdGlvblVwOiB0cnVlLFxuICBwcm9wYWdhdGVTZWxlY3Rpb25Eb3duOiB0cnVlLFxuICBhdXRvTGF5b3V0OiBmYWxzZSxcbiAgcm93Q2xhc3NOYW1lOiBudWxsLFxuICBsb2FkaW5nOiBmYWxzZSxcbiAgbG9hZGluZ0ljb246ICdwaSBwaS1zcGlubmVyJyxcbiAgdGFiSW5kZXg6IDAsXG4gIHNjcm9sbGFibGU6IGZhbHNlLFxuICBzY3JvbGxIZWlnaHQ6IG51bGwsXG4gIHJlb3JkZXJhYmxlQ29sdW1uczogZmFsc2UsXG4gIGhlYWRlckNvbHVtbkdyb3VwOiBudWxsLFxuICBmb290ZXJDb2x1bW5Hcm91cDogbnVsbCxcbiAgZnJvemVuSGVhZGVyQ29sdW1uR3JvdXA6IG51bGwsXG4gIGZyb3plbkZvb3RlckNvbHVtbkdyb3VwOiBudWxsLFxuICBmcm96ZW5XaWR0aDogbnVsbCxcbiAgcmVzaXphYmxlQ29sdW1uczogZmFsc2UsXG4gIGNvbHVtblJlc2l6ZU1vZGU6ICdmaXQnLFxuICBlbXB0eU1lc3NhZ2U6IG51bGwsXG4gIGZpbHRlcnM6IG51bGwsXG4gIGdsb2JhbEZpbHRlcjogbnVsbCxcbiAgZmlsdGVyTW9kZTogJ2xlbmllbnQnLFxuICBmaWx0ZXJEZWxheTogMzAwLFxuICBmaWx0ZXJMb2NhbGU6IHVuZGVmaW5lZCxcbiAgcm93SG92ZXI6IGZhbHNlLFxuICBzaG93R3JpZGxpbmVzOiBmYWxzZSxcbiAgc3RyaXBlZFJvd3M6IGZhbHNlLFxuICBvbkZpbHRlcjogbnVsbCxcbiAgb25FeHBhbmQ6IG51bGwsXG4gIG9uQ29sbGFwc2U6IG51bGwsXG4gIG9uVG9nZ2xlOiBudWxsLFxuICBvblBhZ2U6IG51bGwsXG4gIG9uU29ydDogbnVsbCxcbiAgb25TZWxlY3Q6IG51bGwsXG4gIG9uVW5zZWxlY3Q6IG51bGwsXG4gIG9uUm93Q2xpY2s6IG51bGwsXG4gIG9uU2VsZWN0aW9uQ2hhbmdlOiBudWxsLFxuICBvbkNvbnRleHRNZW51U2VsZWN0aW9uQ2hhbmdlOiBudWxsLFxuICBvbkNvbHVtblJlc2l6ZUVuZDogbnVsbCxcbiAgb25Db2xSZW9yZGVyOiBudWxsLFxuICBvbkNvbnRleHRNZW51OiBudWxsXG59O1xuXG5leHBvcnQgeyBUcmVlVGFibGUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/treetable/treetable.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/virtualscroller/virtualscroller.esm.js":
/*!************************************************************************!*\
  !*** ./node_modules/primereact/virtualscroller/virtualscroller.esm.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VirtualScroller\": function() { return /* binding */ VirtualScroller; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar VirtualScroller = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstState = _React$useState2[0],\n      setFirstState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastState = _React$useState4[0],\n      setLastState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      numItemsInViewportState = _React$useState6[0],\n      setNumItemsInViewportState = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.numToleratedItems),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      numToleratedItemsState = _React$useState8[0],\n      setNumToleratedItemsState = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.loading || false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      loadingState = _React$useState10[0],\n      setLoadingState = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      loaderArrState = _React$useState12[0],\n      setLoaderArrState = _React$useState12[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _contentRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _spacerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _stickyRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var lastScrollPos = react__WEBPACK_IMPORTED_MODULE_0__.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultWidth = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var prevItems = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrevious)(props.items);\n  var prevLoading = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrevious)(props.loading);\n\n  var _useResizeListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useResizeListener)({\n    listener: function listener(event) {\n      return onResize(event);\n    }\n  }),\n      _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n      bindWindowResizeListener = _useResizeListener2[0];\n\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEventListener)({\n    target: 'window',\n    type: 'orientationchange',\n    listener: function listener(event) {\n      return onResize(event);\n    }\n  }),\n      _useEventListener2 = _slicedToArray(_useEventListener, 1),\n      bindOrientationChangeListener = _useEventListener2[0];\n\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n\n    var _calculateNumItems = calculateNumItems(),\n        numToleratedItems = _calculateNumItems.numToleratedItems;\n\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n      return _index <= _numT ? 0 : _index;\n    };\n\n    var calculateCoord = function calculateCoord(_first, _size) {\n      return _first * _size;\n    };\n\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n\n    if (both) {\n      var newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n\n      if (newFirst.rows !== firstState.rows || newFirst.cols !== firstState.cols) {\n        scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1]), calculateCoord(newFirst.rows, props.itemSize[0]));\n      }\n    } else {\n      var _newFirst = calculateFirst(index, numToleratedItems);\n\n      if (_newFirst !== firstState) {\n        horizontal ? scrollToItem(calculateCoord(_newFirst, props.itemSize), 0) : scrollToItem(0, calculateCoord(_newFirst, props.itemSize));\n      }\n    }\n  };\n\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n          first = _getRenderedRange.first,\n          viewport = _getRenderedRange.viewport;\n\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.first - first > index) {\n            var pos = (viewport.first - 1) * props.itemSize;\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n          }\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.last - first <= index + 1) {\n            var _pos2 = (viewport.first + 1) * props.itemSize;\n\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n          }\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n\n    return props.columns;\n  };\n\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n          scrollTop = _elementRef$current.scrollTop,\n          scrollLeft = _elementRef$current.scrollLeft;\n\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n        numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n        numToleratedItems = _calculateNumItems2.numToleratedItems;\n\n    var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n\n    if (props.lazy) {\n      props.onLazyLoad && props.onLazyLoad({\n        first: firstState,\n        last: last\n      });\n    }\n  };\n\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          var _contentRef$current = _contentRef.current,\n              offsetWidth = _contentRef$current.offsetWidth,\n              offsetHeight = _contentRef$current.offsetHeight;\n          (both || horizontal) && (elementRef.current.style.width = (offsetWidth < defaultWidth.current ? offsetWidth : defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (offsetHeight < defaultHeight.current ? offsetHeight : defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n        }\n      });\n    }\n  };\n\n  var getLast = function getLast() {\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? (props.columns || props.items[0]).length : props.items.length, last) : 0;\n  };\n\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n      var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n      var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n      var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n\n    if (_spacerRef.current && items) {\n      var contentPos = getContentPosition();\n\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n        return _spacerRef.current.style[_name] = (_value || []).length * _size + _cpos + 'px';\n      };\n\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current) {\n      var first = pos ? pos.first : firstState;\n\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        _contentRef.current.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n      };\n\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n\n      if (_currentIndex >= _numT) {\n        lastValue += _numT + 1;\n      }\n\n      return getLast(lastValue, _isCols);\n    };\n\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n      var currentIndex = {\n        rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n        cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n      };\n      var triggerIndex = {\n        rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n        cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n      };\n      newFirst = {\n        rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n        cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n      };\n      newLast = {\n        rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n        cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n      };\n      isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols;\n      newScrollPos = {\n        top: scrollTop,\n        left: scrollLeft\n      };\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n\n      var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n\n      var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n\n      newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n      newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n      isRangeChanged = newFirst !== firstState || newLast !== lastState;\n      newScrollPos = scrollPos;\n    }\n\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n        first = _onScrollPositionChan.first,\n        last = _onScrollPositionChan.last,\n        isRangeChanged = _onScrollPositionChan.isRangeChanged,\n        scrollPos = _onScrollPositionChan.scrollPos;\n\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n\n      if (props.lazy) {\n        props.onLazyLoad && props.onLazyLoad(newState);\n      }\n    }\n  };\n\n  var onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n\n      if (!loadingState && props.showLoader) {\n        var _onScrollPositionChan2 = onScrollPositionChange(event),\n            changed = _onScrollPositionChan2.isRangeChanged;\n\n        changed && setLoadingState(true);\n      }\n\n      scrollTimeout.current = setTimeout(function () {\n        onScrollChange(event);\n\n        if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n          setLoadingState(false);\n        }\n      }, props.delay);\n    } else {\n      onScrollChange(event);\n    }\n  };\n\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref = [primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getWidth(elementRef.current), primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getHeight(elementRef.current)],\n            width = _ref[0],\n            height = _ref[1];\n        var isDiffWidth = width !== defaultWidth.current,\n            isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n        }\n      }\n    }, props.resizeDelay);\n  };\n\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n\n    if (items && !loadingState) {\n      if (both) return items.slice(firstState.rows, lastState.rows).map(function (item) {\n        return props.columns ? item : item.slice(firstState.cols, lastState.cols);\n      });else if (horizontal && props.columns) return items;else return items.slice(firstState, lastState);\n    }\n\n    return [];\n  };\n\n  var init = function init() {\n    if (!props.disabled) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMountEffect)(function () {\n    if (!props.disabled) {\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getHeight(elementRef.current);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (!prevItems || prevItems.length !== (props.items || []).length) {\n      init();\n    }\n\n    var loading = loadingState;\n\n    if (props.lazy && prevLoading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n\n    calculateAutoSize(loading);\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: index\n    }, content);\n  };\n\n  var createLoader = function createLoader() {\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n      });\n\n      if (props.loadingTemplate) {\n        content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          className: 'p-virtualscroller-loading-icon',\n          element: content,\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: className\n      }, content);\n    }\n\n    return null;\n  };\n\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: _spacerRef,\n        className: \"p-virtualscroller-spacer\"\n      });\n    }\n\n    return null;\n  };\n\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: options.index\n    }, content);\n  };\n\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: _contentRef,\n      className: className\n    }, items);\n\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        className: className,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n\n    return content;\n  };\n\n  if (props.disabled) {\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, props.children, content);\n  } else {\n    var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.findDiffKeys(props, VirtualScroller.defaultProps);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-virtualscroller', {\n      'p-both-scroll': both,\n      'p-horizontal-scroll': horizontal\n    }, props.className);\n    var loader = createLoader();\n\n    var _content = createContent();\n\n    var spacer = createSpacer();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      tabIndex: 0,\n      style: props.style\n    }, otherProps, {\n      onScroll: onScroll\n    }), _content, spacer, loader);\n  }\n}));\nVirtualScroller.displayName = 'VirtualScroller';\nVirtualScroller.defaultProps = {\n  __TYPE: 'VirtualScroller',\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  resizeDelay: 10,\n  lazy: false,\n  disabled: false,\n  loaderDisabled: false,\n  columns: null,\n  loading: undefined,\n  autoSize: false,\n  showSpacer: true,\n  showLoader: false,\n  loadingTemplate: null,\n  loaderIconTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC92aXJ0dWFsc2Nyb2xsZXIvdmlydHVhbHNjcm9sbGVyLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNzRjtBQUM5Qzs7QUFFdkU7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELDZEQUE2RCxpRUFBaUUsc0NBQXNDOztBQUV2VSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCw2REFBNkQsNENBQTRDLG9LQUFvSyxtRkFBbUYsS0FBSztBQUMxZSxtQ0FBbUMsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDNUU7QUFDQTtBQUNBOztBQUVBLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsMkNBQWM7QUFDdkM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiwyQ0FBYztBQUN2QztBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsMkNBQWM7QUFDeEM7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix5Q0FBWTs7QUFFL0Isb0JBQW9CLHlDQUFZOztBQUVoQyxtQkFBbUIseUNBQVk7O0FBRS9CLG1CQUFtQix5Q0FBWTs7QUFFL0Isc0JBQXNCLHlDQUFZO0FBQ2xDO0FBQ0E7QUFDQSxJQUFJO0FBQ0osc0JBQXNCLHlDQUFZO0FBQ2xDLHNCQUFzQix5Q0FBWTtBQUNsQyxxQkFBcUIseUNBQVk7QUFDakMsc0JBQXNCLHlDQUFZO0FBQ2xDLGtCQUFrQiw2REFBVztBQUM3QixvQkFBb0IsNkRBQVc7O0FBRS9CLDJCQUEyQixtRUFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsMEJBQTBCLGtFQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDO0FBQzNDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNB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LGdEQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L3ZpcnR1YWxzY3JvbGxlci92aXJ0dWFsc2Nyb2xsZXIuZXNtLmpzPzY4OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUHJldmlvdXMsIHVzZVJlc2l6ZUxpc3RlbmVyLCB1c2VFdmVudExpc3RlbmVyLCB1c2VNb3VudEVmZmVjdCwgdXNlVXBkYXRlRWZmZWN0IH0gZnJvbSAncHJpbWVyZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBEb21IYW5kbGVyLCBPYmplY3RVdGlscywgY2xhc3NOYW1lcyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBWaXJ0dWFsU2Nyb2xsZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHZlcnRpY2FsID0gcHJvcHMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCc7XG4gIHZhciBob3Jpem9udGFsID0gcHJvcHMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJztcbiAgdmFyIGJvdGggPSBwcm9wcy5vcmllbnRhdGlvbiA9PT0gJ2JvdGgnO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShib3RoID8ge1xuICAgIHJvd3M6IDAsXG4gICAgY29sczogMFxuICB9IDogMCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGZpcnN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Rmlyc3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShib3RoID8ge1xuICAgIHJvd3M6IDAsXG4gICAgY29sczogMFxuICB9IDogMCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMywgMiksXG4gICAgICBsYXN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0TGFzdFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGJvdGggPyB7XG4gICAgcm93czogMCxcbiAgICBjb2xzOiAwXG4gIH0gOiAwKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlswXSxcbiAgICAgIHNldE51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLm51bVRvbGVyYXRlZEl0ZW1zKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU3LCAyKSxcbiAgICAgIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU4WzBdLFxuICAgICAgc2V0TnVtVG9sZXJhdGVkSXRlbXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTkgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5sb2FkaW5nIHx8IGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlOSwgMiksXG4gICAgICBsb2FkaW5nU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxMFswXSxcbiAgICAgIHNldExvYWRpbmdTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEwWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMSA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMTEsIDIpLFxuICAgICAgbG9hZGVyQXJyU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxMlswXSxcbiAgICAgIHNldExvYWRlckFyclN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTJbMV07XG5cbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgdmFyIF9jb250ZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBfc3BhY2VyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBfc3RpY2t5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBsYXN0U2Nyb2xsUG9zID0gUmVhY3QudXNlUmVmKGJvdGggPyB7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDBcbiAgfSA6IDApO1xuICB2YXIgc2Nyb2xsVGltZW91dCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJlc2l6ZVRpbWVvdXQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkZWZhdWx0V2lkdGggPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkZWZhdWx0SGVpZ2h0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcHJldkl0ZW1zID0gdXNlUHJldmlvdXMocHJvcHMuaXRlbXMpO1xuICB2YXIgcHJldkxvYWRpbmcgPSB1c2VQcmV2aW91cyhwcm9wcy5sb2FkaW5nKTtcblxuICB2YXIgX3VzZVJlc2l6ZUxpc3RlbmVyID0gdXNlUmVzaXplTGlzdGVuZXIoe1xuICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCkge1xuICAgICAgcmV0dXJuIG9uUmVzaXplKGV2ZW50KTtcbiAgICB9XG4gIH0pLFxuICAgICAgX3VzZVJlc2l6ZUxpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VSZXNpemVMaXN0ZW5lciwgMSksXG4gICAgICBiaW5kV2luZG93UmVzaXplTGlzdGVuZXIgPSBfdXNlUmVzaXplTGlzdGVuZXIyWzBdO1xuXG4gIHZhciBfdXNlRXZlbnRMaXN0ZW5lciA9IHVzZUV2ZW50TGlzdGVuZXIoe1xuICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgdHlwZTogJ29yaWVudGF0aW9uY2hhbmdlJyxcbiAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIHJldHVybiBvblJlc2l6ZShldmVudCk7XG4gICAgfVxuICB9KSxcbiAgICAgIF91c2VFdmVudExpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VFdmVudExpc3RlbmVyLCAxKSxcbiAgICAgIGJpbmRPcmllbnRhdGlvbkNoYW5nZUxpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIyWzBdO1xuXG4gIHZhciBnZXRFbGVtZW50UmVmID0gZnVuY3Rpb24gZ2V0RWxlbWVudFJlZigpIHtcbiAgICByZXR1cm4gZWxlbWVudFJlZjtcbiAgfTtcblxuICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbyhvcHRpb25zKSB7XG4gICAgbGFzdFNjcm9sbFBvcy5jdXJyZW50ID0gYm90aCA/IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9IDogMDtcbiAgICBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnNjcm9sbFRvKG9wdGlvbnMpO1xuICB9O1xuXG4gIHZhciBzY3JvbGxUb0luZGV4ID0gZnVuY3Rpb24gc2Nyb2xsVG9JbmRleChpbmRleCkge1xuICAgIHZhciBiZWhhdmlvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2F1dG8nO1xuXG4gICAgdmFyIF9jYWxjdWxhdGVOdW1JdGVtcyA9IGNhbGN1bGF0ZU51bUl0ZW1zKCksXG4gICAgICAgIG51bVRvbGVyYXRlZEl0ZW1zID0gX2NhbGN1bGF0ZU51bUl0ZW1zLm51bVRvbGVyYXRlZEl0ZW1zO1xuXG4gICAgdmFyIGNhbGN1bGF0ZUZpcnN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlyc3QoKSB7XG4gICAgICB2YXIgX2luZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICB2YXIgX251bVQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIF9pbmRleCA8PSBfbnVtVCA/IDAgOiBfaW5kZXg7XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVDb29yZCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUNvb3JkKF9maXJzdCwgX3NpemUpIHtcbiAgICAgIHJldHVybiBfZmlyc3QgKiBfc2l6ZTtcbiAgICB9O1xuXG4gICAgdmFyIHNjcm9sbFRvSXRlbSA9IGZ1bmN0aW9uIHNjcm9sbFRvSXRlbSgpIHtcbiAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgdmFyIHRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgIHJldHVybiBzY3JvbGxUbyh7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBiZWhhdmlvcjogYmVoYXZpb3JcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoYm90aCkge1xuICAgICAgdmFyIG5ld0ZpcnN0ID0ge1xuICAgICAgICByb3dzOiBjYWxjdWxhdGVGaXJzdChpbmRleFswXSwgbnVtVG9sZXJhdGVkSXRlbXNbMF0pLFxuICAgICAgICBjb2xzOiBjYWxjdWxhdGVGaXJzdChpbmRleFsxXSwgbnVtVG9sZXJhdGVkSXRlbXNbMV0pXG4gICAgICB9O1xuXG4gICAgICBpZiAobmV3Rmlyc3Qucm93cyAhPT0gZmlyc3RTdGF0ZS5yb3dzIHx8IG5ld0ZpcnN0LmNvbHMgIT09IGZpcnN0U3RhdGUuY29scykge1xuICAgICAgICBzY3JvbGxUb0l0ZW0oY2FsY3VsYXRlQ29vcmQobmV3Rmlyc3QuY29scywgcHJvcHMuaXRlbVNpemVbMV0pLCBjYWxjdWxhdGVDb29yZChuZXdGaXJzdC5yb3dzLCBwcm9wcy5pdGVtU2l6ZVswXSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX25ld0ZpcnN0ID0gY2FsY3VsYXRlRmlyc3QoaW5kZXgsIG51bVRvbGVyYXRlZEl0ZW1zKTtcblxuICAgICAgaWYgKF9uZXdGaXJzdCAhPT0gZmlyc3RTdGF0ZSkge1xuICAgICAgICBob3Jpem9udGFsID8gc2Nyb2xsVG9JdGVtKGNhbGN1bGF0ZUNvb3JkKF9uZXdGaXJzdCwgcHJvcHMuaXRlbVNpemUpLCAwKSA6IHNjcm9sbFRvSXRlbSgwLCBjYWxjdWxhdGVDb29yZChfbmV3Rmlyc3QsIHByb3BzLml0ZW1TaXplKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBzY3JvbGxJblZpZXcgPSBmdW5jdGlvbiBzY3JvbGxJblZpZXcoaW5kZXgsIHRvKSB7XG4gICAgdmFyIGJlaGF2aW9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnYXV0byc7XG5cbiAgICBpZiAodG8pIHtcbiAgICAgIHZhciBfZ2V0UmVuZGVyZWRSYW5nZSA9IGdldFJlbmRlcmVkUmFuZ2UoKSxcbiAgICAgICAgICBmaXJzdCA9IF9nZXRSZW5kZXJlZFJhbmdlLmZpcnN0LFxuICAgICAgICAgIHZpZXdwb3J0ID0gX2dldFJlbmRlcmVkUmFuZ2Uudmlld3BvcnQ7XG5cbiAgICAgIHZhciBzY3JvbGxUb0l0ZW0gPSBmdW5jdGlvbiBzY3JvbGxUb0l0ZW0oKSB7XG4gICAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICByZXR1cm4gc2Nyb2xsVG8oe1xuICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgYmVoYXZpb3I6IGJlaGF2aW9yXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIGlzVG9TdGFydCA9IHRvID09PSAndG8tc3RhcnQnO1xuICAgICAgdmFyIGlzVG9FbmQgPSB0byA9PT0gJ3RvLWVuZCc7XG5cbiAgICAgIGlmIChpc1RvU3RhcnQpIHtcbiAgICAgICAgaWYgKGJvdGgpIHtcbiAgICAgICAgICBpZiAodmlld3BvcnQuZmlyc3Qucm93cyAtIGZpcnN0LnJvd3MgPiBpbmRleFswXSkge1xuICAgICAgICAgICAgc2Nyb2xsVG9JdGVtKHZpZXdwb3J0LmZpcnN0LmNvbHMgKiBwcm9wcy5pdGVtU2l6ZVsxXSwgKHZpZXdwb3J0LmZpcnN0LnJvd3MgLSAxKSAqIHByb3BzLml0ZW1TaXplWzBdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdwb3J0LmZpcnN0LmNvbHMgLSBmaXJzdC5jb2xzID4gaW5kZXhbMV0pIHtcbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbSgodmlld3BvcnQuZmlyc3QuY29scyAtIDEpICogcHJvcHMuaXRlbVNpemVbMV0sIHZpZXdwb3J0LmZpcnN0LnJvd3MgKiBwcm9wcy5pdGVtU2l6ZVswXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2aWV3cG9ydC5maXJzdCAtIGZpcnN0ID4gaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSAodmlld3BvcnQuZmlyc3QgLSAxKSAqIHByb3BzLml0ZW1TaXplO1xuICAgICAgICAgICAgaG9yaXpvbnRhbCA/IHNjcm9sbFRvSXRlbShwb3MsIDApIDogc2Nyb2xsVG9JdGVtKDAsIHBvcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzVG9FbmQpIHtcbiAgICAgICAgaWYgKGJvdGgpIHtcbiAgICAgICAgICBpZiAodmlld3BvcnQubGFzdC5yb3dzIC0gZmlyc3Qucm93cyA8PSBpbmRleFswXSArIDEpIHtcbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbSh2aWV3cG9ydC5maXJzdC5jb2xzICogcHJvcHMuaXRlbVNpemVbMV0sICh2aWV3cG9ydC5maXJzdC5yb3dzICsgMSkgKiBwcm9wcy5pdGVtU2l6ZVswXSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2aWV3cG9ydC5sYXN0LmNvbHMgLSBmaXJzdC5jb2xzIDw9IGluZGV4WzFdICsgMSkge1xuICAgICAgICAgICAgc2Nyb2xsVG9JdGVtKCh2aWV3cG9ydC5maXJzdC5jb2xzICsgMSkgKiBwcm9wcy5pdGVtU2l6ZVsxXSwgdmlld3BvcnQuZmlyc3Qucm93cyAqIHByb3BzLml0ZW1TaXplWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZpZXdwb3J0Lmxhc3QgLSBmaXJzdCA8PSBpbmRleCArIDEpIHtcbiAgICAgICAgICAgIHZhciBfcG9zMiA9ICh2aWV3cG9ydC5maXJzdCArIDEpICogcHJvcHMuaXRlbVNpemU7XG5cbiAgICAgICAgICAgIGhvcml6b250YWwgPyBzY3JvbGxUb0l0ZW0oX3BvczIsIDApIDogc2Nyb2xsVG9JdGVtKDAsIF9wb3MyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsVG9JbmRleChpbmRleCwgYmVoYXZpb3IpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0Um93cyA9IGZ1bmN0aW9uIGdldFJvd3MoKSB7XG4gICAgcmV0dXJuIGxvYWRpbmdTdGF0ZSA/IHByb3BzLmxvYWRlckRpc2FibGVkID8gbG9hZGVyQXJyU3RhdGUgOiBbXSA6IGxvYWRlZEl0ZW1zKCk7XG4gIH07XG5cbiAgdmFyIGdldENvbHVtbnMgPSBmdW5jdGlvbiBnZXRDb2x1bW5zKCkge1xuICAgIGlmIChwcm9wcy5jb2x1bW5zICYmIGJvdGggfHwgaG9yaXpvbnRhbCkge1xuICAgICAgcmV0dXJuIGxvYWRpbmdTdGF0ZSAmJiBwcm9wcy5sb2FkZXJEaXNhYmxlZCA/IGJvdGggPyBsb2FkZXJBcnJTdGF0ZVswXSA6IGxvYWRlckFyclN0YXRlIDogcHJvcHMuY29sdW1ucy5zbGljZShib3RoID8gZmlyc3RTdGF0ZS5jb2xzIDogZmlyc3RTdGF0ZSwgYm90aCA/IGxhc3RTdGF0ZS5jb2xzIDogbGFzdFN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHMuY29sdW1ucztcbiAgfTtcblxuICB2YXIgZ2V0UmVuZGVyZWRSYW5nZSA9IGZ1bmN0aW9uIGdldFJlbmRlcmVkUmFuZ2UoKSB7XG4gICAgdmFyIGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydChfcG9zLCBfc2l6ZSkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoX3BvcyAvIChfc2l6ZSB8fCBfcG9zKSk7XG4gICAgfTtcblxuICAgIHZhciBmaXJzdEluVmlld3BvcnQgPSBmaXJzdFN0YXRlO1xuICAgIHZhciBsYXN0SW5WaWV3cG9ydCA9IDA7XG5cbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgX2VsZW1lbnRSZWYkY3VycmVudCA9IGVsZW1lbnRSZWYuY3VycmVudCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfZWxlbWVudFJlZiRjdXJyZW50LnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX2VsZW1lbnRSZWYkY3VycmVudC5zY3JvbGxMZWZ0O1xuXG4gICAgICBpZiAoYm90aCkge1xuICAgICAgICBmaXJzdEluVmlld3BvcnQgPSB7XG4gICAgICAgICAgcm93czogY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0KHNjcm9sbFRvcCwgcHJvcHMuaXRlbVNpemVbMF0pLFxuICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydChzY3JvbGxMZWZ0LCBwcm9wcy5pdGVtU2l6ZVsxXSlcbiAgICAgICAgfTtcbiAgICAgICAgbGFzdEluVmlld3BvcnQgPSB7XG4gICAgICAgICAgcm93czogZmlyc3RJblZpZXdwb3J0LnJvd3MgKyBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5yb3dzLFxuICAgICAgICAgIGNvbHM6IGZpcnN0SW5WaWV3cG9ydC5jb2xzICsgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUuY29sc1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGhvcml6b250YWwgPyBzY3JvbGxMZWZ0IDogc2Nyb2xsVG9wO1xuICAgICAgICBmaXJzdEluVmlld3BvcnQgPSBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQoc2Nyb2xsUG9zLCBwcm9wcy5pdGVtU2l6ZSk7XG4gICAgICAgIGxhc3RJblZpZXdwb3J0ID0gZmlyc3RJblZpZXdwb3J0ICsgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBmaXJzdFN0YXRlLFxuICAgICAgbGFzdDogbGFzdFN0YXRlLFxuICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgZmlyc3Q6IGZpcnN0SW5WaWV3cG9ydCxcbiAgICAgICAgbGFzdDogbGFzdEluVmlld3BvcnRcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBjYWxjdWxhdGVOdW1JdGVtcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU51bUl0ZW1zKCkge1xuICAgIHZhciBjb250ZW50UG9zID0gZ2V0Q29udGVudFBvc2l0aW9uKCk7XG4gICAgdmFyIGNvbnRlbnRXaWR0aCA9IGVsZW1lbnRSZWYuY3VycmVudCA/IGVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRXaWR0aCAtIGNvbnRlbnRQb3MubGVmdCA6IDA7XG4gICAgdmFyIGNvbnRlbnRIZWlnaHQgPSBlbGVtZW50UmVmLmN1cnJlbnQgPyBlbGVtZW50UmVmLmN1cnJlbnQub2Zmc2V0SGVpZ2h0IC0gY29udGVudFBvcy50b3AgOiAwO1xuXG4gICAgdmFyIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChfY29udGVudFNpemUsIF9pdGVtU2l6ZSkge1xuICAgICAgcmV0dXJuIE1hdGguY2VpbChfY29udGVudFNpemUgLyAoX2l0ZW1TaXplIHx8IF9jb250ZW50U2l6ZSkpO1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVOdW1Ub2xlcmF0ZWRJdGVtcyhfbnVtSXRlbXMpIHtcbiAgICAgIHJldHVybiBNYXRoLmNlaWwoX251bUl0ZW1zIC8gMik7XG4gICAgfTtcblxuICAgIHZhciBudW1JdGVtc0luVmlld3BvcnQgPSBib3RoID8ge1xuICAgICAgcm93czogY2FsY3VsYXRlTnVtSXRlbXNJblZpZXdwb3J0KGNvbnRlbnRIZWlnaHQsIHByb3BzLml0ZW1TaXplWzBdKSxcbiAgICAgIGNvbHM6IGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChjb250ZW50V2lkdGgsIHByb3BzLml0ZW1TaXplWzFdKVxuICAgIH0gOiBjYWxjdWxhdGVOdW1JdGVtc0luVmlld3BvcnQoaG9yaXpvbnRhbCA/IGNvbnRlbnRXaWR0aCA6IGNvbnRlbnRIZWlnaHQsIHByb3BzLml0ZW1TaXplKTtcbiAgICB2YXIgbnVtVG9sZXJhdGVkSXRlbXMgPSBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlIHx8IChib3RoID8gW2NhbGN1bGF0ZU51bVRvbGVyYXRlZEl0ZW1zKG51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzKSwgY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMobnVtSXRlbXNJblZpZXdwb3J0LmNvbHMpXSA6IGNhbGN1bGF0ZU51bVRvbGVyYXRlZEl0ZW1zKG51bUl0ZW1zSW5WaWV3cG9ydCkpO1xuICAgIHJldHVybiB7XG4gICAgICBudW1JdGVtc0luVmlld3BvcnQ6IG51bUl0ZW1zSW5WaWV3cG9ydCxcbiAgICAgIG51bVRvbGVyYXRlZEl0ZW1zOiBudW1Ub2xlcmF0ZWRJdGVtc1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZU9wdGlvbnMgPSBmdW5jdGlvbiBjYWxjdWxhdGVPcHRpb25zKCkge1xuICAgIHZhciBfY2FsY3VsYXRlTnVtSXRlbXMyID0gY2FsY3VsYXRlTnVtSXRlbXMoKSxcbiAgICAgICAgbnVtSXRlbXNJblZpZXdwb3J0ID0gX2NhbGN1bGF0ZU51bUl0ZW1zMi5udW1JdGVtc0luVmlld3BvcnQsXG4gICAgICAgIG51bVRvbGVyYXRlZEl0ZW1zID0gX2NhbGN1bGF0ZU51bUl0ZW1zMi5udW1Ub2xlcmF0ZWRJdGVtcztcblxuICAgIHZhciBjYWxjdWxhdGVMYXN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlTGFzdChfZmlyc3QsIF9udW0sIF9udW1ULCBfaXNDb2xzKSB7XG4gICAgICByZXR1cm4gZ2V0TGFzdChfZmlyc3QgKyBfbnVtICsgKF9maXJzdCA8IF9udW1UID8gMiA6IDMpICogX251bVQsIF9pc0NvbHMpO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdCA9IGJvdGggPyB7XG4gICAgICByb3dzOiBjYWxjdWxhdGVMYXN0KGZpcnN0U3RhdGUucm93cywgbnVtSXRlbXNJblZpZXdwb3J0LnJvd3MsIG51bVRvbGVyYXRlZEl0ZW1zWzBdKSxcbiAgICAgIGNvbHM6IGNhbGN1bGF0ZUxhc3QoZmlyc3RTdGF0ZS5jb2xzLCBudW1JdGVtc0luVmlld3BvcnQuY29scywgbnVtVG9sZXJhdGVkSXRlbXNbMV0sIHRydWUpXG4gICAgfSA6IGNhbGN1bGF0ZUxhc3QoZmlyc3RTdGF0ZSwgbnVtSXRlbXNJblZpZXdwb3J0LCBudW1Ub2xlcmF0ZWRJdGVtcyk7XG4gICAgc2V0TnVtSXRlbXNJblZpZXdwb3J0U3RhdGUobnVtSXRlbXNJblZpZXdwb3J0KTtcbiAgICBzZXROdW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKG51bVRvbGVyYXRlZEl0ZW1zKTtcbiAgICBzZXRMYXN0U3RhdGUobGFzdCk7XG5cbiAgICBpZiAocHJvcHMuc2hvd0xvYWRlcikge1xuICAgICAgc2V0TG9hZGVyQXJyU3RhdGUoYm90aCA/IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IG51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzXG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7XG4gICAgICAgICAgbGVuZ3RoOiBudW1JdGVtc0luVmlld3BvcnQuY29sc1xuICAgICAgICB9KTtcbiAgICAgIH0pIDogQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbnVtSXRlbXNJblZpZXdwb3J0XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmxhenkpIHtcbiAgICAgIHByb3BzLm9uTGF6eUxvYWQgJiYgcHJvcHMub25MYXp5TG9hZCh7XG4gICAgICAgIGZpcnN0OiBmaXJzdFN0YXRlLFxuICAgICAgICBsYXN0OiBsYXN0XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZUF1dG9TaXplID0gZnVuY3Rpb24gY2FsY3VsYXRlQXV0b1NpemUobG9hZGluZykge1xuICAgIGlmIChwcm9wcy5hdXRvU2l6ZSAmJiAhbG9hZGluZykge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgX2NvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5taW5IZWlnaHQgPSBfY29udGVudFJlZi5jdXJyZW50LnN0eWxlLm1pbldpZHRoID0gJ2F1dG8nO1xuICAgICAgICAgIHZhciBfY29udGVudFJlZiRjdXJyZW50ID0gX2NvbnRlbnRSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgb2Zmc2V0V2lkdGggPSBfY29udGVudFJlZiRjdXJyZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgICBvZmZzZXRIZWlnaHQgPSBfY29udGVudFJlZiRjdXJyZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAoYm90aCB8fCBob3Jpem9udGFsKSAmJiAoZWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gKG9mZnNldFdpZHRoIDwgZGVmYXVsdFdpZHRoLmN1cnJlbnQgPyBvZmZzZXRXaWR0aCA6IGRlZmF1bHRXaWR0aC5jdXJyZW50KSArICdweCcpO1xuICAgICAgICAgIChib3RoIHx8IHZlcnRpY2FsKSAmJiAoZWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IChvZmZzZXRIZWlnaHQgPCBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQgPyBvZmZzZXRIZWlnaHQgOiBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQpICsgJ3B4Jyk7XG4gICAgICAgICAgX2NvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5taW5IZWlnaHQgPSBfY29udGVudFJlZi5jdXJyZW50LnN0eWxlLm1pbldpZHRoID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0TGFzdCA9IGZ1bmN0aW9uIGdldExhc3QoKSB7XG4gICAgdmFyIGxhc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIGlzQ29scyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBwcm9wcy5pdGVtcyA/IE1hdGgubWluKGlzQ29scyA/IChwcm9wcy5jb2x1bW5zIHx8IHByb3BzLml0ZW1zWzBdKS5sZW5ndGggOiBwcm9wcy5pdGVtcy5sZW5ndGgsIGxhc3QpIDogMDtcbiAgfTtcblxuICB2YXIgZ2V0Q29udGVudFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0Q29udGVudFBvc2l0aW9uKCkge1xuICAgIGlmIChfY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKF9jb250ZW50UmVmLmN1cnJlbnQpO1xuICAgICAgdmFyIGxlZnQgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCwgMTApICsgTWF0aC5tYXgocGFyc2VJbnQoc3R5bGUubGVmdCwgMTApLCAwKTtcbiAgICAgIHZhciByaWdodCA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdSaWdodCwgMTApICsgTWF0aC5tYXgocGFyc2VJbnQoc3R5bGUucmlnaHQsIDEwKSwgMCk7XG4gICAgICB2YXIgdG9wID0gcGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCwgMTApICsgTWF0aC5tYXgocGFyc2VJbnQoc3R5bGUudG9wLCAxMCksIDApO1xuICAgICAgdmFyIGJvdHRvbSA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdCb3R0b20sIDEwKSArIE1hdGgubWF4KHBhcnNlSW50KHN0eWxlLmJvdHRvbSwgMTApLCAwKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICB4OiBsZWZ0ICsgcmlnaHQsXG4gICAgICAgIHk6IHRvcCArIGJvdHRvbVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICB9O1xuXG4gIHZhciBzZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSgpIHtcbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsZW1lbnRSZWYuY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgdmFyIHdpZHRoID0gcHJvcHMuc2Nyb2xsV2lkdGggfHwgXCJcIi5jb25jYXQoZWxlbWVudFJlZi5jdXJyZW50Lm9mZnNldFdpZHRoIHx8IHBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGgsIFwicHhcIik7XG4gICAgICB2YXIgaGVpZ2h0ID0gcHJvcHMuc2Nyb2xsSGVpZ2h0IHx8IFwiXCIuY29uY2F0KGVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQgfHwgcGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsIFwicHhcIik7XG5cbiAgICAgIHZhciBzZXRQcm9wID0gZnVuY3Rpb24gc2V0UHJvcChfbmFtZSwgX3ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQuc3R5bGVbX25hbWVdID0gX3ZhbHVlO1xuICAgICAgfTtcblxuICAgICAgaWYgKGJvdGggfHwgaG9yaXpvbnRhbCkge1xuICAgICAgICBzZXRQcm9wKCdoZWlnaHQnLCBoZWlnaHQpO1xuICAgICAgICBzZXRQcm9wKCd3aWR0aCcsIHdpZHRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFByb3AoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBzZXRTcGFjZXJTaXplID0gZnVuY3Rpb24gc2V0U3BhY2VyU2l6ZSgpIHtcbiAgICB2YXIgaXRlbXMgPSBwcm9wcy5pdGVtcztcblxuICAgIGlmIChfc3BhY2VyUmVmLmN1cnJlbnQgJiYgaXRlbXMpIHtcbiAgICAgIHZhciBjb250ZW50UG9zID0gZ2V0Q29udGVudFBvc2l0aW9uKCk7XG5cbiAgICAgIHZhciBzZXRQcm9wID0gZnVuY3Rpb24gc2V0UHJvcChfbmFtZSwgX3ZhbHVlLCBfc2l6ZSkge1xuICAgICAgICB2YXIgX2Nwb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgcmV0dXJuIF9zcGFjZXJSZWYuY3VycmVudC5zdHlsZVtfbmFtZV0gPSAoX3ZhbHVlIHx8IFtdKS5sZW5ndGggKiBfc2l6ZSArIF9jcG9zICsgJ3B4JztcbiAgICAgIH07XG5cbiAgICAgIGlmIChib3RoKSB7XG4gICAgICAgIHNldFByb3AoJ2hlaWdodCcsIGl0ZW1zLCBwcm9wcy5pdGVtU2l6ZVswXSwgY29udGVudFBvcy55KTtcbiAgICAgICAgc2V0UHJvcCgnd2lkdGgnLCBwcm9wcy5jb2x1bW5zIHx8IGl0ZW1zWzFdLCBwcm9wcy5pdGVtU2l6ZVsxXSwgY29udGVudFBvcy54KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhvcml6b250YWwgPyBzZXRQcm9wKCd3aWR0aCcsIHByb3BzLmNvbHVtbnMgfHwgaXRlbXMsIHByb3BzLml0ZW1TaXplLCBjb250ZW50UG9zLngpIDogc2V0UHJvcCgnaGVpZ2h0JywgaXRlbXMsIHByb3BzLml0ZW1TaXplLCBjb250ZW50UG9zLnkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgc2V0Q29udGVudFBvc2l0aW9uID0gZnVuY3Rpb24gc2V0Q29udGVudFBvc2l0aW9uKHBvcykge1xuICAgIGlmIChfY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgZmlyc3QgPSBwb3MgPyBwb3MuZmlyc3QgOiBmaXJzdFN0YXRlO1xuXG4gICAgICB2YXIgY2FsY3VsYXRlVHJhbnNsYXRlVmFsID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJhbnNsYXRlVmFsKF9maXJzdCwgX3NpemUpIHtcbiAgICAgICAgcmV0dXJuIF9maXJzdCAqIF9zaXplO1xuICAgICAgfTtcblxuICAgICAgdmFyIHNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIF94ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICAgIHZhciBfeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblxuICAgICAgICBfc3RpY2t5UmVmLmN1cnJlbnQgJiYgKF9zdGlja3lSZWYuY3VycmVudC5zdHlsZS50b3AgPSBcIi1cIi5jb25jYXQoX3ksIFwicHhcIikpO1xuICAgICAgICBfY29udGVudFJlZi5jdXJyZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoXCIuY29uY2F0KF94LCBcInB4LCBcIikuY29uY2F0KF95LCBcInB4LCAwKVwiKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChib3RoKSB7XG4gICAgICAgIHNldFRyYW5zZm9ybShjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3QuY29scywgcHJvcHMuaXRlbVNpemVbMV0pLCBjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3Qucm93cywgcHJvcHMuaXRlbVNpemVbMF0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGVWYWwgPSBjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3QsIHByb3BzLml0ZW1TaXplKTtcbiAgICAgICAgaG9yaXpvbnRhbCA/IHNldFRyYW5zZm9ybSh0cmFuc2xhdGVWYWwsIDApIDogc2V0VHJhbnNmb3JtKDAsIHRyYW5zbGF0ZVZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblNjcm9sbFBvc2l0aW9uQ2hhbmdlID0gZnVuY3Rpb24gb25TY3JvbGxQb3NpdGlvbkNoYW5nZShldmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgdmFyIGNvbnRlbnRQb3MgPSBnZXRDb250ZW50UG9zaXRpb24oKTtcblxuICAgIHZhciBjYWxjdWxhdGVTY3JvbGxQb3MgPSBmdW5jdGlvbiBjYWxjdWxhdGVTY3JvbGxQb3MoX3BvcywgX2Nwb3MpIHtcbiAgICAgIHJldHVybiBfcG9zID8gX3BvcyA+IF9jcG9zID8gX3BvcyAtIF9jcG9zIDogX3BvcyA6IDA7XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVDdXJyZW50SW5kZXggPSBmdW5jdGlvbiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoX3BvcywgX3NpemUpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKF9wb3MgLyAoX3NpemUgfHwgX3BvcykpO1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlVHJpZ2dlckluZGV4ID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJpZ2dlckluZGV4KF9jdXJyZW50SW5kZXgsIF9maXJzdCwgX2xhc3QsIF9udW0sIF9udW1ULCBfaXNTY3JvbGxEb3duT3JSaWdodCkge1xuICAgICAgcmV0dXJuIF9jdXJyZW50SW5kZXggPD0gX251bVQgPyBfbnVtVCA6IF9pc1Njcm9sbERvd25PclJpZ2h0ID8gX2xhc3QgLSBfbnVtIC0gX251bVQgOiBfZmlyc3QgKyBfbnVtVCAtIDE7XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVGaXJzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0KF9jdXJyZW50SW5kZXgsIF90cmlnZ2VySW5kZXgsIF9maXJzdCwgX2xhc3QsIF9udW0sIF9udW1ULCBfaXNTY3JvbGxEb3duT3JSaWdodCkge1xuICAgICAgaWYgKF9jdXJyZW50SW5kZXggPD0gX251bVQpIHJldHVybiAwO2Vsc2UgcmV0dXJuIE1hdGgubWF4KDAsIF9pc1Njcm9sbERvd25PclJpZ2h0ID8gX2N1cnJlbnRJbmRleCA8IF90cmlnZ2VySW5kZXggPyBfZmlyc3QgOiBfY3VycmVudEluZGV4IC0gX251bVQgOiBfY3VycmVudEluZGV4ID4gX3RyaWdnZXJJbmRleCA/IF9maXJzdCA6IF9jdXJyZW50SW5kZXggLSAyICogX251bVQpO1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlTGFzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxhc3QoX2N1cnJlbnRJbmRleCwgX2ZpcnN0LCBfbGFzdCwgX251bSwgX251bVQsIF9pc0NvbHMpIHtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBfZmlyc3QgKyBfbnVtICsgMiAqIF9udW1UO1xuXG4gICAgICBpZiAoX2N1cnJlbnRJbmRleCA+PSBfbnVtVCkge1xuICAgICAgICBsYXN0VmFsdWUgKz0gX251bVQgKyAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0TGFzdChsYXN0VmFsdWUsIF9pc0NvbHMpO1xuICAgIH07XG5cbiAgICB2YXIgc2Nyb2xsVG9wID0gY2FsY3VsYXRlU2Nyb2xsUG9zKHRhcmdldC5zY3JvbGxUb3AsIGNvbnRlbnRQb3MudG9wKTtcbiAgICB2YXIgc2Nyb2xsTGVmdCA9IGNhbGN1bGF0ZVNjcm9sbFBvcyh0YXJnZXQuc2Nyb2xsTGVmdCwgY29udGVudFBvcy5sZWZ0KTtcbiAgICB2YXIgbmV3Rmlyc3QgPSBib3RoID8ge1xuICAgICAgcm93czogMCxcbiAgICAgIGNvbHM6IDBcbiAgICB9IDogMDtcbiAgICB2YXIgbmV3TGFzdCA9IGxhc3RTdGF0ZTtcbiAgICB2YXIgaXNSYW5nZUNoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV3U2Nyb2xsUG9zID0gbGFzdFNjcm9sbFBvcy5jdXJyZW50O1xuXG4gICAgaWYgKGJvdGgpIHtcbiAgICAgIHZhciBpc1Njcm9sbERvd24gPSBsYXN0U2Nyb2xsUG9zLmN1cnJlbnQudG9wIDw9IHNjcm9sbFRvcDtcbiAgICAgIHZhciBpc1Njcm9sbFJpZ2h0ID0gbGFzdFNjcm9sbFBvcy5jdXJyZW50LmxlZnQgPD0gc2Nyb2xsTGVmdDtcbiAgICAgIHZhciBjdXJyZW50SW5kZXggPSB7XG4gICAgICAgIHJvd3M6IGNhbGN1bGF0ZUN1cnJlbnRJbmRleChzY3JvbGxUb3AsIHByb3BzLml0ZW1TaXplWzBdKSxcbiAgICAgICAgY29sczogY2FsY3VsYXRlQ3VycmVudEluZGV4KHNjcm9sbExlZnQsIHByb3BzLml0ZW1TaXplWzFdKVxuICAgICAgfTtcbiAgICAgIHZhciB0cmlnZ2VySW5kZXggPSB7XG4gICAgICAgIHJvd3M6IGNhbGN1bGF0ZVRyaWdnZXJJbmRleChjdXJyZW50SW5kZXgucm93cywgZmlyc3RTdGF0ZS5yb3dzLCBsYXN0U3RhdGUucm93cywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUucm93cywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVswXSwgaXNTY3JvbGxEb3duKSxcbiAgICAgICAgY29sczogY2FsY3VsYXRlVHJpZ2dlckluZGV4KGN1cnJlbnRJbmRleC5jb2xzLCBmaXJzdFN0YXRlLmNvbHMsIGxhc3RTdGF0ZS5jb2xzLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5jb2xzLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlWzFdLCBpc1Njcm9sbFJpZ2h0KVxuICAgICAgfTtcbiAgICAgIG5ld0ZpcnN0ID0ge1xuICAgICAgICByb3dzOiBjYWxjdWxhdGVGaXJzdChjdXJyZW50SW5kZXgucm93cywgdHJpZ2dlckluZGV4LnJvd3MsIGZpcnN0U3RhdGUucm93cywgbGFzdFN0YXRlLnJvd3MsIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLnJvd3MsIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGVbMF0sIGlzU2Nyb2xsRG93biksXG4gICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0KGN1cnJlbnRJbmRleC5jb2xzLCB0cmlnZ2VySW5kZXguY29scywgZmlyc3RTdGF0ZS5jb2xzLCBsYXN0U3RhdGUuY29scywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUuY29scywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVsxXSwgaXNTY3JvbGxSaWdodClcbiAgICAgIH07XG4gICAgICBuZXdMYXN0ID0ge1xuICAgICAgICByb3dzOiBjYWxjdWxhdGVMYXN0KGN1cnJlbnRJbmRleC5yb3dzLCBuZXdGaXJzdC5yb3dzLCBsYXN0U3RhdGUucm93cywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUucm93cywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVswXSksXG4gICAgICAgIGNvbHM6IGNhbGN1bGF0ZUxhc3QoY3VycmVudEluZGV4LmNvbHMsIG5ld0ZpcnN0LmNvbHMsIGxhc3RTdGF0ZS5jb2xzLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5jb2xzLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlWzFdLCB0cnVlKVxuICAgICAgfTtcbiAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3Qucm93cyAhPT0gZmlyc3RTdGF0ZS5yb3dzIHx8IG5ld0xhc3Qucm93cyAhPT0gbGFzdFN0YXRlLnJvd3MgfHwgbmV3Rmlyc3QuY29scyAhPT0gZmlyc3RTdGF0ZS5jb2xzIHx8IG5ld0xhc3QuY29scyAhPT0gbGFzdFN0YXRlLmNvbHM7XG4gICAgICBuZXdTY3JvbGxQb3MgPSB7XG4gICAgICAgIHRvcDogc2Nyb2xsVG9wLFxuICAgICAgICBsZWZ0OiBzY3JvbGxMZWZ0XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2Nyb2xsUG9zID0gaG9yaXpvbnRhbCA/IHNjcm9sbExlZnQgOiBzY3JvbGxUb3A7XG4gICAgICB2YXIgaXNTY3JvbGxEb3duT3JSaWdodCA9IGxhc3RTY3JvbGxQb3MuY3VycmVudCA8PSBzY3JvbGxQb3M7XG5cbiAgICAgIHZhciBfY3VycmVudEluZGV4MiA9IGNhbGN1bGF0ZUN1cnJlbnRJbmRleChzY3JvbGxQb3MsIHByb3BzLml0ZW1TaXplKTtcblxuICAgICAgdmFyIF90cmlnZ2VySW5kZXgyID0gY2FsY3VsYXRlVHJpZ2dlckluZGV4KF9jdXJyZW50SW5kZXgyLCBmaXJzdFN0YXRlLCBsYXN0U3RhdGUsIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlLCBpc1Njcm9sbERvd25PclJpZ2h0KTtcblxuICAgICAgbmV3Rmlyc3QgPSBjYWxjdWxhdGVGaXJzdChfY3VycmVudEluZGV4MiwgX3RyaWdnZXJJbmRleDIsIGZpcnN0U3RhdGUsIGxhc3RTdGF0ZSwgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUsIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUsIGlzU2Nyb2xsRG93bk9yUmlnaHQpO1xuICAgICAgbmV3TGFzdCA9IGNhbGN1bGF0ZUxhc3QoX2N1cnJlbnRJbmRleDIsIG5ld0ZpcnN0LCBsYXN0U3RhdGUsIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKTtcbiAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3QgIT09IGZpcnN0U3RhdGUgfHwgbmV3TGFzdCAhPT0gbGFzdFN0YXRlO1xuICAgICAgbmV3U2Nyb2xsUG9zID0gc2Nyb2xsUG9zO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogbmV3Rmlyc3QsXG4gICAgICBsYXN0OiBuZXdMYXN0LFxuICAgICAgaXNSYW5nZUNoYW5nZWQ6IGlzUmFuZ2VDaGFuZ2VkLFxuICAgICAgc2Nyb2xsUG9zOiBuZXdTY3JvbGxQb3NcbiAgICB9O1xuICB9O1xuXG4gIHZhciBvblNjcm9sbENoYW5nZSA9IGZ1bmN0aW9uIG9uU2Nyb2xsQ2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIF9vblNjcm9sbFBvc2l0aW9uQ2hhbiA9IG9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UoZXZlbnQpLFxuICAgICAgICBmaXJzdCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbi5maXJzdCxcbiAgICAgICAgbGFzdCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbi5sYXN0LFxuICAgICAgICBpc1JhbmdlQ2hhbmdlZCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbi5pc1JhbmdlQ2hhbmdlZCxcbiAgICAgICAgc2Nyb2xsUG9zID0gX29uU2Nyb2xsUG9zaXRpb25DaGFuLnNjcm9sbFBvcztcblxuICAgIGlmIChpc1JhbmdlQ2hhbmdlZCkge1xuICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICBmaXJzdDogZmlyc3QsXG4gICAgICAgIGxhc3Q6IGxhc3RcbiAgICAgIH07XG4gICAgICBzZXRDb250ZW50UG9zaXRpb24obmV3U3RhdGUpO1xuICAgICAgc2V0Rmlyc3RTdGF0ZShmaXJzdCk7XG4gICAgICBzZXRMYXN0U3RhdGUobGFzdCk7XG4gICAgICBsYXN0U2Nyb2xsUG9zLmN1cnJlbnQgPSBzY3JvbGxQb3M7XG4gICAgICBwcm9wcy5vblNjcm9sbEluZGV4Q2hhbmdlICYmIHByb3BzLm9uU2Nyb2xsSW5kZXhDaGFuZ2UobmV3U3RhdGUpO1xuXG4gICAgICBpZiAocHJvcHMubGF6eSkge1xuICAgICAgICBwcm9wcy5vbkxhenlMb2FkICYmIHByb3BzLm9uTGF6eUxvYWQobmV3U3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25TY3JvbGwgPSBmdW5jdGlvbiBvblNjcm9sbChldmVudCkge1xuICAgIHByb3BzLm9uU2Nyb2xsICYmIHByb3BzLm9uU2Nyb2xsKGV2ZW50KTtcblxuICAgIGlmIChwcm9wcy5kZWxheSkge1xuICAgICAgaWYgKHNjcm9sbFRpbWVvdXQuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZW91dC5jdXJyZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFsb2FkaW5nU3RhdGUgJiYgcHJvcHMuc2hvd0xvYWRlcikge1xuICAgICAgICB2YXIgX29uU2Nyb2xsUG9zaXRpb25DaGFuMiA9IG9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UoZXZlbnQpLFxuICAgICAgICAgICAgY2hhbmdlZCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbjIuaXNSYW5nZUNoYW5nZWQ7XG5cbiAgICAgICAgY2hhbmdlZCAmJiBzZXRMb2FkaW5nU3RhdGUodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHNjcm9sbFRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBvblNjcm9sbENoYW5nZShldmVudCk7XG5cbiAgICAgICAgaWYgKGxvYWRpbmdTdGF0ZSAmJiBwcm9wcy5zaG93TG9hZGVyICYmICghcHJvcHMubGF6eSB8fCBwcm9wcy5sb2FkaW5nID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgc2V0TG9hZGluZ1N0YXRlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgcHJvcHMuZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblNjcm9sbENoYW5nZShldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIGlmIChyZXNpemVUaW1lb3V0LmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0LmN1cnJlbnQpO1xuICAgIH1cblxuICAgIHJlc2l6ZVRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICB2YXIgX3JlZiA9IFtEb21IYW5kbGVyLmdldFdpZHRoKGVsZW1lbnRSZWYuY3VycmVudCksIERvbUhhbmRsZXIuZ2V0SGVpZ2h0KGVsZW1lbnRSZWYuY3VycmVudCldLFxuICAgICAgICAgICAgd2lkdGggPSBfcmVmWzBdLFxuICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZlsxXTtcbiAgICAgICAgdmFyIGlzRGlmZldpZHRoID0gd2lkdGggIT09IGRlZmF1bHRXaWR0aC5jdXJyZW50LFxuICAgICAgICAgICAgaXNEaWZmSGVpZ2h0ID0gaGVpZ2h0ICE9PSBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQ7XG4gICAgICAgIHZhciByZWluaXQgPSBib3RoID8gaXNEaWZmV2lkdGggfHwgaXNEaWZmSGVpZ2h0IDogaG9yaXpvbnRhbCA/IGlzRGlmZldpZHRoIDogdmVydGljYWwgPyBpc0RpZmZIZWlnaHQgOiBmYWxzZTtcblxuICAgICAgICBpZiAocmVpbml0KSB7XG4gICAgICAgICAgc2V0TnVtVG9sZXJhdGVkSXRlbXNTdGF0ZShwcm9wcy5udW1Ub2xlcmF0ZWRJdGVtcyk7XG4gICAgICAgICAgZGVmYXVsdFdpZHRoLmN1cnJlbnQgPSB3aWR0aDtcbiAgICAgICAgICBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBwcm9wcy5yZXNpemVEZWxheSk7XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKHJlbmRlcmVkSW5kZXgpIHtcbiAgICB2YXIgY291bnQgPSAocHJvcHMuaXRlbXMgfHwgW10pLmxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSBib3RoID8gZmlyc3RTdGF0ZS5yb3dzICsgcmVuZGVyZWRJbmRleCA6IGZpcnN0U3RhdGUgKyByZW5kZXJlZEluZGV4O1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBjb3VudDogY291bnQsXG4gICAgICBmaXJzdDogaW5kZXggPT09IDAsXG4gICAgICBsYXN0OiBpbmRleCA9PT0gY291bnQgLSAxLFxuICAgICAgZXZlbjogaW5kZXggJSAyID09PSAwLFxuICAgICAgb2RkOiBpbmRleCAlIDIgIT09IDAsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsb2FkZXJPcHRpb25zID0gZnVuY3Rpb24gbG9hZGVyT3B0aW9ucyhpbmRleCwgZXh0T3B0aW9ucykge1xuICAgIHZhciBjb3VudCA9IGxvYWRlckFyclN0YXRlLmxlbmd0aDtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7XG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBjb3VudDogY291bnQsXG4gICAgICBmaXJzdDogaW5kZXggPT09IDAsXG4gICAgICBsYXN0OiBpbmRleCA9PT0gY291bnQgLSAxLFxuICAgICAgZXZlbjogaW5kZXggJSAyID09PSAwLFxuICAgICAgb2RkOiBpbmRleCAlIDIgIT09IDAsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9LCBleHRPcHRpb25zKTtcbiAgfTtcblxuICB2YXIgbG9hZGVkSXRlbXMgPSBmdW5jdGlvbiBsb2FkZWRJdGVtcygpIHtcbiAgICB2YXIgaXRlbXMgPSBwcm9wcy5pdGVtcztcblxuICAgIGlmIChpdGVtcyAmJiAhbG9hZGluZ1N0YXRlKSB7XG4gICAgICBpZiAoYm90aCkgcmV0dXJuIGl0ZW1zLnNsaWNlKGZpcnN0U3RhdGUucm93cywgbGFzdFN0YXRlLnJvd3MpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gcHJvcHMuY29sdW1ucyA/IGl0ZW0gOiBpdGVtLnNsaWNlKGZpcnN0U3RhdGUuY29scywgbGFzdFN0YXRlLmNvbHMpO1xuICAgICAgfSk7ZWxzZSBpZiAoaG9yaXpvbnRhbCAmJiBwcm9wcy5jb2x1bW5zKSByZXR1cm4gaXRlbXM7ZWxzZSByZXR1cm4gaXRlbXMuc2xpY2UoZmlyc3RTdGF0ZSwgbGFzdFN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHNldFNpemUoKTtcbiAgICAgIGNhbGN1bGF0ZU9wdGlvbnMoKTtcbiAgICAgIHNldFNwYWNlclNpemUoKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlTW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIGJpbmRXaW5kb3dSZXNpemVMaXN0ZW5lcigpO1xuICAgICAgYmluZE9yaWVudGF0aW9uQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgIGRlZmF1bHRXaWR0aC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRXaWR0aChlbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgZGVmYXVsdEhlaWdodC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRIZWlnaHQoZWxlbWVudFJlZi5jdXJyZW50KTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGluaXQoKTtcbiAgfSwgW3Byb3BzLml0ZW1TaXplLCBwcm9wcy5zY3JvbGxIZWlnaHRdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMubnVtVG9sZXJhdGVkSXRlbXMgIT09IG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUpIHtcbiAgICAgIHNldE51bVRvbGVyYXRlZEl0ZW1zU3RhdGUocHJvcHMubnVtVG9sZXJhdGVkSXRlbXMpO1xuICAgIH1cbiAgfSwgW3Byb3BzLm51bVRvbGVyYXRlZEl0ZW1zXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHByb3BzLm51bVRvbGVyYXRlZEl0ZW1zID09PSBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKSB7XG4gICAgICBpbml0KCk7IC8vIHJlaW5pdCBhZnRlciByZXNpemluZ1xuICAgIH1cbiAgfSwgW251bVRvbGVyYXRlZEl0ZW1zU3RhdGVdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXByZXZJdGVtcyB8fCBwcmV2SXRlbXMubGVuZ3RoICE9PSAocHJvcHMuaXRlbXMgfHwgW10pLmxlbmd0aCkge1xuICAgICAgaW5pdCgpO1xuICAgIH1cblxuICAgIHZhciBsb2FkaW5nID0gbG9hZGluZ1N0YXRlO1xuXG4gICAgaWYgKHByb3BzLmxhenkgJiYgcHJldkxvYWRpbmcgIT09IHByb3BzLmxvYWRpbmcgJiYgcHJvcHMubG9hZGluZyAhPT0gbG9hZGluZ1N0YXRlKSB7XG4gICAgICBzZXRMb2FkaW5nU3RhdGUocHJvcHMubG9hZGluZyk7XG4gICAgICBsb2FkaW5nID0gcHJvcHMubG9hZGluZztcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVBdXRvU2l6ZShsb2FkaW5nKTtcbiAgfSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgbGFzdFNjcm9sbFBvcy5jdXJyZW50ID0gYm90aCA/IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9IDogMDtcbiAgfSwgW3Byb3BzLm9yaWVudGF0aW9uXSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGdldEVsZW1lbnRSZWY6IGdldEVsZW1lbnRSZWYsXG4gICAgICBzY3JvbGxUbzogc2Nyb2xsVG8sXG4gICAgICBzY3JvbGxUb0luZGV4OiBzY3JvbGxUb0luZGV4LFxuICAgICAgc2Nyb2xsSW5WaWV3OiBzY3JvbGxJblZpZXcsXG4gICAgICBnZXRSZW5kZXJlZFJhbmdlOiBnZXRSZW5kZXJlZFJhbmdlXG4gICAgfTtcbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZUxvYWRlckl0ZW0gPSBmdW5jdGlvbiBjcmVhdGVMb2FkZXJJdGVtKGluZGV4KSB7XG4gICAgdmFyIGV4dE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBvcHRpb25zID0gbG9hZGVyT3B0aW9ucyhpbmRleCwgZXh0T3B0aW9ucyk7XG4gICAgdmFyIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmxvYWRpbmdUZW1wbGF0ZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgY29udGVudCk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUxvYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUxvYWRlcigpIHtcbiAgICBpZiAoIXByb3BzLmxvYWRlckRpc2FibGVkICYmIHByb3BzLnNob3dMb2FkZXIgJiYgbG9hZGluZ1N0YXRlKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC12aXJ0dWFsc2Nyb2xsZXItbG9hZGVyJywge1xuICAgICAgICAncC1jb21wb25lbnQtb3ZlcmxheSc6ICFwcm9wcy5sb2FkaW5nVGVtcGxhdGVcbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC12aXJ0dWFsc2Nyb2xsZXItbG9hZGluZy1pY29uIHBpIHBpLXNwaW5uZXIgcGktc3BpblwiXG4gICAgICB9KTtcblxuICAgICAgaWYgKHByb3BzLmxvYWRpbmdUZW1wbGF0ZSkge1xuICAgICAgICBjb250ZW50ID0gbG9hZGVyQXJyU3RhdGUubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVMb2FkZXJJdGVtKGluZGV4LCBib3RoICYmIHtcbiAgICAgICAgICAgIG51bUNvbHM6IG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLmNvbHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmxvYWRlckljb25UZW1wbGF0ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICAgIGNsYXNzTmFtZTogJ3AtdmlydHVhbHNjcm9sbGVyLWxvYWRpbmctaWNvbicsXG4gICAgICAgICAgZWxlbWVudDogY29udGVudCxcbiAgICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMubG9hZGVySWNvblRlbXBsYXRlLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgfSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNwYWNlciA9IGZ1bmN0aW9uIGNyZWF0ZVNwYWNlcigpIHtcbiAgICBpZiAocHJvcHMuc2hvd1NwYWNlcikge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiBfc3BhY2VyUmVmLFxuICAgICAgICBjbGFzc05hbWU6IFwicC12aXJ0dWFsc2Nyb2xsZXItc3BhY2VyXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJdGVtID0gZnVuY3Rpb24gY3JlYXRlSXRlbShpdGVtLCBpbmRleCkge1xuICAgIHZhciBvcHRpb25zID0gZ2V0T3B0aW9ucyhpbmRleCk7XG4gICAgdmFyIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLml0ZW1UZW1wbGF0ZSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICBrZXk6IG9wdGlvbnMuaW5kZXhcbiAgICB9LCBjb250ZW50KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcygpIHtcbiAgICB2YXIgaXRlbXMgPSBsb2FkZWRJdGVtcygpO1xuICAgIHJldHVybiBpdGVtcy5tYXAoY3JlYXRlSXRlbSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNvbnRlbnQgPSBmdW5jdGlvbiBjcmVhdGVDb250ZW50KCkge1xuICAgIHZhciBpdGVtcyA9IGNyZWF0ZUl0ZW1zKCk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdmlydHVhbHNjcm9sbGVyLWNvbnRlbnQnLCB7XG4gICAgICAncC12aXJ0dWFsc2Nyb2xsZXItbG9hZGluZyc6IGxvYWRpbmdTdGF0ZVxuICAgIH0pO1xuICAgIHZhciBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiBfY29udGVudFJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgfSwgaXRlbXMpO1xuXG4gICAgaWYgKHByb3BzLmNvbnRlbnRUZW1wbGF0ZSkge1xuICAgICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgY29udGVudFJlZjogZnVuY3Rpb24gY29udGVudFJlZihlbCkge1xuICAgICAgICAgIHJldHVybiBfY29udGVudFJlZi5jdXJyZW50ID0gT2JqZWN0VXRpbHMuZ2V0UmVmRWxlbWVudChlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNwYWNlclJlZjogZnVuY3Rpb24gc3BhY2VyUmVmKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF9zcGFjZXJSZWYuY3VycmVudCA9IE9iamVjdFV0aWxzLmdldFJlZkVsZW1lbnQoZWwpO1xuICAgICAgICB9LFxuICAgICAgICBzdGlja3lSZWY6IGZ1bmN0aW9uIHN0aWNreVJlZihlbCkge1xuICAgICAgICAgIHJldHVybiBfc3RpY2t5UmVmLmN1cnJlbnQgPSBPYmplY3RVdGlscy5nZXRSZWZFbGVtZW50KGVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXRlbXM6IGxvYWRlZEl0ZW1zKCksXG4gICAgICAgIGdldEl0ZW1PcHRpb25zOiBmdW5jdGlvbiBnZXRJdGVtT3B0aW9ucyhpbmRleCkge1xuICAgICAgICAgIHJldHVybiBnZXRPcHRpb25zKGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGl0ZW1zLFxuICAgICAgICBlbGVtZW50OiBjb250ZW50LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIGxvYWRpbmc6IGxvYWRpbmdTdGF0ZSxcbiAgICAgICAgZ2V0TG9hZGVyT3B0aW9uczogZnVuY3Rpb24gZ2V0TG9hZGVyT3B0aW9ucyhpbmRleCwgZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGxvYWRlck9wdGlvbnMoaW5kZXgsIGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRpbmdUZW1wbGF0ZTogcHJvcHMubG9hZGluZ1RlbXBsYXRlLFxuICAgICAgICBpdGVtU2l6ZTogcHJvcHMuaXRlbVNpemUsXG4gICAgICAgIHJvd3M6IGdldFJvd3MoKSxcbiAgICAgICAgY29sdW1uczogZ2V0Q29sdW1ucygpLFxuICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWwsXG4gICAgICAgIGJvdGg6IGJvdGhcbiAgICAgIH07XG4gICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5jb250ZW50VGVtcGxhdGUsIGRlZmF1bHRPcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbiAgfTtcblxuICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICB2YXIgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuY29udGVudFRlbXBsYXRlLCB7XG4gICAgICBpdGVtczogcHJvcHMuaXRlbXMsXG4gICAgICByb3dzOiBwcm9wcy5pdGVtcyxcbiAgICAgIGNvbHVtbnM6IHByb3BzLmNvbHVtbnNcbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHByb3BzLmNoaWxkcmVuLCBjb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgb3RoZXJQcm9wcyA9IE9iamVjdFV0aWxzLmZpbmREaWZmS2V5cyhwcm9wcywgVmlydHVhbFNjcm9sbGVyLmRlZmF1bHRQcm9wcyk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdmlydHVhbHNjcm9sbGVyJywge1xuICAgICAgJ3AtYm90aC1zY3JvbGwnOiBib3RoLFxuICAgICAgJ3AtaG9yaXpvbnRhbC1zY3JvbGwnOiBob3Jpem9udGFsXG4gICAgfSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgICB2YXIgbG9hZGVyID0gY3JlYXRlTG9hZGVyKCk7XG5cbiAgICB2YXIgX2NvbnRlbnQgPSBjcmVhdGVDb250ZW50KCk7XG5cbiAgICB2YXIgc3BhY2VyID0gY3JlYXRlU3BhY2VyKCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICAgIHJlZjogZWxlbWVudFJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgICB9LCBvdGhlclByb3BzLCB7XG4gICAgICBvblNjcm9sbDogb25TY3JvbGxcbiAgICB9KSwgX2NvbnRlbnQsIHNwYWNlciwgbG9hZGVyKTtcbiAgfVxufSkpO1xuVmlydHVhbFNjcm9sbGVyLmRpc3BsYXlOYW1lID0gJ1ZpcnR1YWxTY3JvbGxlcic7XG5WaXJ0dWFsU2Nyb2xsZXIuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdWaXJ0dWFsU2Nyb2xsZXInLFxuICBpZDogbnVsbCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgaXRlbXM6IG51bGwsXG4gIGl0ZW1TaXplOiAwLFxuICBzY3JvbGxIZWlnaHQ6IG51bGwsXG4gIHNjcm9sbFdpZHRoOiBudWxsLFxuICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgbnVtVG9sZXJhdGVkSXRlbXM6IG51bGwsXG4gIGRlbGF5OiAwLFxuICByZXNpemVEZWxheTogMTAsXG4gIGxhenk6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGxvYWRlckRpc2FibGVkOiBmYWxzZSxcbiAgY29sdW1uczogbnVsbCxcbiAgbG9hZGluZzogdW5kZWZpbmVkLFxuICBhdXRvU2l6ZTogZmFsc2UsXG4gIHNob3dTcGFjZXI6IHRydWUsXG4gIHNob3dMb2FkZXI6IGZhbHNlLFxuICBsb2FkaW5nVGVtcGxhdGU6IG51bGwsXG4gIGxvYWRlckljb25UZW1wbGF0ZTogbnVsbCxcbiAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICBjb250ZW50VGVtcGxhdGU6IG51bGwsXG4gIG9uU2Nyb2xsOiBudWxsLFxuICBvblNjcm9sbEluZGV4Q2hhbmdlOiBudWxsLFxuICBvbkxhenlMb2FkOiBudWxsXG59O1xuXG5leHBvcnQgeyBWaXJ0dWFsU2Nyb2xsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/virtualscroller/virtualscroller.esm.js\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_class_call_check.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_class_call_check.mjs ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _classCallCheck; }\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fY2xhc3NfY2FsbF9jaGVjay5tanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX2NsYXNzX2NhbGxfY2hlY2subWpzPzIxYWIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_class_call_check.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_create_class.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_create_class.mjs ***!
  \*********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _createClass; }\n/* harmony export */ });\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fY3JlYXRlX2NsYXNzLm1qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX2NyZWF0ZV9jbGFzcy5tanM/NmZiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_create_class.mjs\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react%2Fsakai-react%2Fpages%2Ftree%2Findex.js&page=%2Ftree!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);