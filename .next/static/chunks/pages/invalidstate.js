/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/invalidstate"],{

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react-nextjs%2Fpages%2Finvalidstate%2Findex.js&page=%2Finvalidstate!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react-nextjs%2Fpages%2Finvalidstate%2Findex.js&page=%2Finvalidstate! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/invalidstate\",\n      function () {\n        return __webpack_require__(/*! ./pages/invalidstate/index.js */ \"./pages/invalidstate/index.js\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/invalidstate\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD0lMkZVc2VycyUyRnVsYXN0dXJhbiUyRkRlc2t0b3AlMkZodHRwJTJGc2FrYWktcmVhY3QtbmV4dGpzJTJGcGFnZXMlMkZpbnZhbGlkc3RhdGUlMkZpbmRleC5qcyZwYWdlPSUyRmludmFsaWRzdGF0ZSEuanMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyxvRUFBK0I7QUFDdEQ7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzQyNjUiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi9pbnZhbGlkc3RhdGVcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVpcmUoXCIuL3BhZ2VzL2ludmFsaWRzdGF0ZS9pbmRleC5qc1wiKTtcbiAgICAgIH1cbiAgICBdKTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cuX19ORVhUX1AucHVzaChbXCIvaW52YWxpZHN0YXRlXCJdKVxuICAgICAgfSk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react-nextjs%2Fpages%2Finvalidstate%2Findex.js&page=%2Finvalidstate!\n"));

/***/ }),

/***/ "./pages/invalidstate/index.js":
/*!*************************************!*\
  !*** ./pages/invalidstate/index.js ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_inputtextarea__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/inputtextarea */ \"./node_modules/primereact/inputtextarea/inputtextarea.esm.js\");\n/* harmony import */ var primereact_inputmask__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/inputmask */ \"./node_modules/primereact/inputmask/inputmask.esm.js\");\n/* harmony import */ var primereact_inputnumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/inputnumber */ \"./node_modules/primereact/inputnumber/inputnumber.esm.js\");\n/* harmony import */ var primereact_autocomplete__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/autocomplete */ \"./node_modules/primereact/autocomplete/autocomplete.esm.js\");\n/* harmony import */ var primereact_calendar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/calendar */ \"./node_modules/primereact/calendar/calendar.esm.js\");\n/* harmony import */ var primereact_chips__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/chips */ \"./node_modules/primereact/chips/chips.esm.js\");\n/* harmony import */ var primereact_dropdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/dropdown */ \"./node_modules/primereact/dropdown/dropdown.esm.js\");\n/* harmony import */ var primereact_multiselect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primereact/multiselect */ \"./node_modules/primereact/multiselect/multiselect.esm.js\");\n/* harmony import */ var primereact_password__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primereact/password */ \"./node_modules/primereact/password/password.esm.js\");\n/* harmony import */ var _service_CountryService__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../service/CountryService */ \"./service/CountryService.js\");\nvar _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nvar InvalidStateDemo = function() {\n    _s();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), countries = ref[0], setCountries = ref[1];\n    var ref1 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), filteredCountries = ref1[0], setFilteredCountries = ref1[1];\n    var ref2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), value1 = ref2[0], setValue1 = ref2[1];\n    var ref3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), value2 = ref3[0], setValue2 = ref3[1];\n    var ref4 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), value3 = ref4[0], setValue3 = ref4[1];\n    var ref5 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), value4 = ref5[0], setValue4 = ref5[1];\n    var ref6 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), value5 = ref6[0], setValue5 = ref6[1];\n    var ref7 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), value6 = ref7[0], setValue6 = ref7[1];\n    var ref8 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), value7 = ref8[0], setValue7 = ref8[1];\n    var ref9 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]), value8 = ref9[0], setValue8 = ref9[1];\n    var ref10 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), value9 = ref10[0], setValue9 = ref10[1];\n    var ref11 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"), value10 = ref11[0], setValue10 = ref11[1];\n    var cities = [\n        {\n            name: \"New York\",\n            code: \"NY\"\n        },\n        {\n            name: \"Rome\",\n            code: \"RM\"\n        },\n        {\n            name: \"London\",\n            code: \"LDN\"\n        },\n        {\n            name: \"Istanbul\",\n            code: \"IST\"\n        },\n        {\n            name: \"Paris\",\n            code: \"PRS\"\n        }, \n    ];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function() {\n        var countryService = new _service_CountryService__WEBPACK_IMPORTED_MODULE_12__.CountryService();\n        countryService.getCountries().then(function(countries) {\n            setCountries(countries);\n        });\n    }, []);\n    var searchCountry = function(event) {\n        // in a real application, make a request to a remote url with the query and\n        // return filtered results, for demo we filter at client side\n        var filtered = [];\n        var query = event.query;\n        for(var i = 0; i < countries.length; i++){\n            var country = countries[i];\n            if (country.name.toLowerCase().indexOf(query.toLowerCase()) === 0) {\n                filtered.push(country);\n            }\n        }\n        setFilteredCountries(filtered);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid p-fluid\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"card\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                        children: \"Invalid State\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                        lineNumber: 61,\n                        columnNumber: 21\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"col-12 md:col-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"inputtext\",\n                                                children: \"InputText\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 65,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__.InputText, {\n                                                type: \"text\",\n                                                id: \"inputtext\",\n                                                value: value1,\n                                                onChange: function(e) {\n                                                    return setValue1(e.target.value);\n                                                },\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 66,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 64,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"autocomplete\",\n                                                children: \"AutoComplete\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 69,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_autocomplete__WEBPACK_IMPORTED_MODULE_6__.AutoComplete, {\n                                                id: \"autocomplete\",\n                                                value: value5,\n                                                onChange: function(e) {\n                                                    return setValue5(e.value);\n                                                },\n                                                suggestions: filteredCountries,\n                                                completeMethod: searchCountry,\n                                                field: \"name\",\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 70,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 68,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"calendar\",\n                                                children: \"Calendar\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 73,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_calendar__WEBPACK_IMPORTED_MODULE_7__.Calendar, {\n                                                inputId: \"calendar\",\n                                                value: value6,\n                                                onChange: function(e) {\n                                                    return setValue6(e.value);\n                                                },\n                                                className: \"p-invalid\",\n                                                showIcon: true\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 74,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 72,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"chips\",\n                                                children: \"Chips\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 77,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_chips__WEBPACK_IMPORTED_MODULE_8__.Chips, {\n                                                inputId: \"chips\",\n                                                value: value8,\n                                                onChange: function(e) {\n                                                    return setValue8(e.value);\n                                                },\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 78,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 76,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"password\",\n                                                children: \"Password\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 81,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_password__WEBPACK_IMPORTED_MODULE_11__.Password, {\n                                                inputId: \"password\",\n                                                value: value10,\n                                                onChange: function(e) {\n                                                    return setValue10(e.target.value);\n                                                },\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 82,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 80,\n                                        columnNumber: 29\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                lineNumber: 63,\n                                columnNumber: 25\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"col-12 md:col-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"inputmask\",\n                                                children: \"InputMask\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 88,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_inputmask__WEBPACK_IMPORTED_MODULE_4__.InputMask, {\n                                                id: \"inputmask\",\n                                                mask: \"99/99/9999\",\n                                                slotChar: \"mm/dd/yyyy\",\n                                                value: value2,\n                                                onChange: function(e) {\n                                                    return setValue2(e.value);\n                                                },\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 89,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 87,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"inputnumber\",\n                                                children: \"InputNumber\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 92,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_inputnumber__WEBPACK_IMPORTED_MODULE_5__.InputNumber, {\n                                                id: \"inputnumber\",\n                                                value: value3,\n                                                onValueChange: function(e) {\n                                                    return setValue3(e.target.value);\n                                                },\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 93,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 91,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"dropdown\",\n                                                children: \"Dropdown\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 96,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_dropdown__WEBPACK_IMPORTED_MODULE_9__.Dropdown, {\n                                                id: \"dropdown\",\n                                                options: cities,\n                                                value: value7,\n                                                onChange: function(e) {\n                                                    return setValue7(e.value);\n                                                },\n                                                optionLabel: \"name\",\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 97,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 95,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"multiselect\",\n                                                children: \"MultiSelect\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 100,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_multiselect__WEBPACK_IMPORTED_MODULE_10__.MultiSelect, {\n                                                id: \"multiselect\",\n                                                options: cities,\n                                                value: value9,\n                                                onChange: function(e) {\n                                                    return setValue9(e.value);\n                                                },\n                                                optionLabel: \"name\",\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 101,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 99,\n                                        columnNumber: 29\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"field\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"textarea\",\n                                                children: \"Textarea\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 104,\n                                                columnNumber: 33\n                                            }, _this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(primereact_inputtextarea__WEBPACK_IMPORTED_MODULE_3__.InputTextarea, {\n                                                id: \"textarea\",\n                                                rows: \"3\",\n                                                cols: \"30\",\n                                                value: value4,\n                                                onChange: function(e) {\n                                                    return setValue4(e.target.value);\n                                                },\n                                                className: \"p-invalid\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                                lineNumber: 105,\n                                                columnNumber: 33\n                                            }, _this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                        lineNumber: 103,\n                                        columnNumber: 29\n                                    }, _this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                                lineNumber: 86,\n                                columnNumber: 25\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                        lineNumber: 62,\n                        columnNumber: 21\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n                lineNumber: 60,\n                columnNumber: 17\n            }, _this)\n        }, void 0, false, {\n            fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n            lineNumber: 59,\n            columnNumber: 13\n        }, _this)\n    }, void 0, false, {\n        fileName: \"/Users/ulasturan/Desktop/http/sakai-react-nextjs/pages/invalidstate/index.js\",\n        lineNumber: 58,\n        columnNumber: 9\n    }, _this);\n};\n_s(InvalidStateDemo, \"iRCLSqWsu3i4l7knAzTbQ7jE+J4=\");\n_c = InvalidStateDemo;\n/* harmony default export */ __webpack_exports__[\"default\"] = (InvalidStateDemo);\nvar _c;\n$RefreshReg$(_c, \"InvalidStateDemo\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBVztnREFBQ2tELEVBQUUsRUFBQyxhQUFhO2dEQUFDYSxPQUFPLEVBQUVuQyxNQUFNO2dEQUFFdUIsS0FBSyxFQUFFM0IsTUFBTTtnREFBRTRCLFFBQVEsRUFBRSxTQUFDQyxDQUFDOzJEQUFLNUIsU0FBUyxDQUFDNEIsQ0FBQyxDQUFDRixLQUFLLENBQUM7aURBQUE7Z0RBQUVhLFdBQVcsRUFBQyxNQUFNO2dEQUFDbkIsU0FBUyxFQUFDLFdBQVc7Ozs7O3FEQUFHOzs7Ozs7NkNBQzVJO2tEQUNOLDhEQUFDRCxLQUFHO3dDQUFDQyxTQUFTLEVBQUMsT0FBTzs7MERBQ2xCLDhEQUFDRSxPQUFLO2dEQUFDQyxPQUFPLEVBQUMsVUFBVTswREFBQyxVQUFROzs7OztxREFBUTswREFDMUMsOERBQUN2RCxtRUFBYTtnREFBQ3lELEVBQUUsRUFBQyxVQUFVO2dEQUFDZSxJQUFJLEVBQUMsR0FBRztnREFBQ0MsSUFBSSxFQUFDLElBQUk7Z0RBQUNmLEtBQUssRUFBRXJDLE1BQU07Z0RBQUVzQyxRQUFRLEVBQUUsU0FBQ0MsQ0FBQzsyREFBS3RDLFNBQVMsQ0FBQ3NDLENBQUMsQ0FBQ0MsTUFBTSxDQUFDSCxLQUFLLENBQUM7aURBQUE7Z0RBQUVOLFNBQVMsRUFBQyxXQUFXOzs7OztxREFBRzs7Ozs7OzZDQUNqSTs7Ozs7O3FDQUNKOzs7Ozs7NkJBQ0o7Ozs7OztxQkFDSjs7Ozs7aUJBQ0o7Ozs7O2FBQ0osQ0FDUjtDQUNMO0dBbkdLMUMsZ0JBQWdCO0FBQWhCQSxLQUFBQSxnQkFBZ0I7QUFxR3RCLCtEQUFlQSxnQkFBZ0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9pbnZhbGlkc3RhdGUvaW5kZXguanM/MzkwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW5wdXRUZXh0IH0gZnJvbSBcInByaW1lcmVhY3QvaW5wdXR0ZXh0XCI7XG5pbXBvcnQgeyBJbnB1dFRleHRhcmVhIH0gZnJvbSBcInByaW1lcmVhY3QvaW5wdXR0ZXh0YXJlYVwiO1xuaW1wb3J0IHsgSW5wdXRNYXNrIH0gZnJvbSBcInByaW1lcmVhY3QvaW5wdXRtYXNrXCI7XG5pbXBvcnQgeyBJbnB1dE51bWJlciB9IGZyb20gXCJwcmltZXJlYWN0L2lucHV0bnVtYmVyXCI7XG5pbXBvcnQgeyBBdXRvQ29tcGxldGUgfSBmcm9tIFwicHJpbWVyZWFjdC9hdXRvY29tcGxldGVcIjtcbmltcG9ydCB7IENhbGVuZGFyIH0gZnJvbSBcInByaW1lcmVhY3QvY2FsZW5kYXJcIjtcbmltcG9ydCB7IENoaXBzIH0gZnJvbSBcInByaW1lcmVhY3QvY2hpcHNcIjtcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSBcInByaW1lcmVhY3QvZHJvcGRvd25cIjtcbmltcG9ydCB7IE11bHRpU2VsZWN0IH0gZnJvbSBcInByaW1lcmVhY3QvbXVsdGlzZWxlY3RcIjtcbmltcG9ydCB7IFBhc3N3b3JkIH0gZnJvbSBcInByaW1lcmVhY3QvcGFzc3dvcmRcIjtcbmltcG9ydCB7IENvdW50cnlTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3NlcnZpY2UvQ291bnRyeVNlcnZpY2VcIjtcblxuY29uc3QgSW52YWxpZFN0YXRlRGVtbyA9ICgpID0+IHtcbiAgICBjb25zdCBbY291bnRyaWVzLCBzZXRDb3VudHJpZXNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtmaWx0ZXJlZENvdW50cmllcywgc2V0RmlsdGVyZWRDb3VudHJpZXNdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3ZhbHVlMSwgc2V0VmFsdWUxXSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFt2YWx1ZTIsIHNldFZhbHVlMl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBjb25zdCBbdmFsdWUzLCBzZXRWYWx1ZTNdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3ZhbHVlNCwgc2V0VmFsdWU0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFt2YWx1ZTUsIHNldFZhbHVlNV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBjb25zdCBbdmFsdWU2LCBzZXRWYWx1ZTZdID0gdXNlU3RhdGUoXCJcIik7XG4gICAgY29uc3QgW3ZhbHVlNywgc2V0VmFsdWU3XSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFt2YWx1ZTgsIHNldFZhbHVlOF0gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3ZhbHVlOSwgc2V0VmFsdWU5XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFt2YWx1ZTEwLCBzZXRWYWx1ZTEwXSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gICAgY29uc3QgY2l0aWVzID0gW1xuICAgICAgICB7IG5hbWU6IFwiTmV3IFlvcmtcIiwgY29kZTogXCJOWVwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJSb21lXCIsIGNvZGU6IFwiUk1cIiB9LFxuICAgICAgICB7IG5hbWU6IFwiTG9uZG9uXCIsIGNvZGU6IFwiTEROXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIklzdGFuYnVsXCIsIGNvZGU6IFwiSVNUXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIlBhcmlzXCIsIGNvZGU6IFwiUFJTXCIgfSxcbiAgICBdO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY291bnRyeVNlcnZpY2UgPSBuZXcgQ291bnRyeVNlcnZpY2UoKTtcbiAgICAgICAgY291bnRyeVNlcnZpY2UuZ2V0Q291bnRyaWVzKCkudGhlbigoY291bnRyaWVzKSA9PiB7XG4gICAgICAgICAgICBzZXRDb3VudHJpZXMoY291bnRyaWVzKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3Qgc2VhcmNoQ291bnRyeSA9IChldmVudCkgPT4ge1xuICAgICAgICAvLyBpbiBhIHJlYWwgYXBwbGljYXRpb24sIG1ha2UgYSByZXF1ZXN0IHRvIGEgcmVtb3RlIHVybCB3aXRoIHRoZSBxdWVyeSBhbmRcbiAgICAgICAgLy8gcmV0dXJuIGZpbHRlcmVkIHJlc3VsdHMsIGZvciBkZW1vIHdlIGZpbHRlciBhdCBjbGllbnQgc2lkZVxuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFtdO1xuICAgICAgICBjb25zdCBxdWVyeSA9IGV2ZW50LnF1ZXJ5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY291bnRyeSA9IGNvdW50cmllc1tpXTtcbiAgICAgICAgICAgIGlmIChjb3VudHJ5Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWQucHVzaChjb3VudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRGaWx0ZXJlZENvdW50cmllcyhmaWx0ZXJlZCk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBwLWZsdWlkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDU+SW52YWxpZCBTdGF0ZTwvaDU+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgbWQ6Y29sLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiaW5wdXR0ZXh0XCI+SW5wdXRUZXh0PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0VGV4dCB0eXBlPVwidGV4dFwiIGlkPVwiaW5wdXR0ZXh0XCIgdmFsdWU9e3ZhbHVlMX0gb25DaGFuZ2U9eyhlKSA9PiBzZXRWYWx1ZTEoZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJwLWludmFsaWRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJhdXRvY29tcGxldGVcIj5BdXRvQ29tcGxldGU8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXV0b0NvbXBsZXRlIGlkPVwiYXV0b2NvbXBsZXRlXCIgdmFsdWU9e3ZhbHVlNX0gb25DaGFuZ2U9eyhlKSA9PiBzZXRWYWx1ZTUoZS52YWx1ZSl9IHN1Z2dlc3Rpb25zPXtmaWx0ZXJlZENvdW50cmllc30gY29tcGxldGVNZXRob2Q9e3NlYXJjaENvdW50cnl9IGZpZWxkPVwibmFtZVwiIGNsYXNzTmFtZT1cInAtaW52YWxpZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNhbGVuZGFyXCI+Q2FsZW5kYXI8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXIgaW5wdXRJZD1cImNhbGVuZGFyXCIgdmFsdWU9e3ZhbHVlNn0gb25DaGFuZ2U9eyhlKSA9PiBzZXRWYWx1ZTYoZS52YWx1ZSl9IGNsYXNzTmFtZT1cInAtaW52YWxpZFwiIHNob3dJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNoaXBzXCI+Q2hpcHM8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hpcHMgaW5wdXRJZD1cImNoaXBzXCIgdmFsdWU9e3ZhbHVlOH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRWYWx1ZTgoZS52YWx1ZSl9IGNsYXNzTmFtZT1cInAtaW52YWxpZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInBhc3N3b3JkXCI+UGFzc3dvcmQ8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFzc3dvcmQgaW5wdXRJZD1cInBhc3N3b3JkXCIgdmFsdWU9e3ZhbHVlMTB9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0VmFsdWUxMChlLnRhcmdldC52YWx1ZSl9IGNsYXNzTmFtZT1cInAtaW52YWxpZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgbWQ6Y29sLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiaW5wdXRtYXNrXCI+SW5wdXRNYXNrPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TWFzayBpZD1cImlucHV0bWFza1wiIG1hc2s9XCI5OS85OS85OTk5XCIgc2xvdENoYXI9XCJtbS9kZC95eXl5XCIgdmFsdWU9e3ZhbHVlMn0gb25DaGFuZ2U9eyhlKSA9PiBzZXRWYWx1ZTIoZS52YWx1ZSl9IGNsYXNzTmFtZT1cInAtaW52YWxpZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImlucHV0bnVtYmVyXCI+SW5wdXROdW1iZXI8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgaWQ9XCJpbnB1dG51bWJlclwiIHZhbHVlPXt2YWx1ZTN9IG9uVmFsdWVDaGFuZ2U9eyhlKSA9PiBzZXRWYWx1ZTMoZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJwLWludmFsaWRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJkcm9wZG93blwiPkRyb3Bkb3duPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duIGlkPVwiZHJvcGRvd25cIiBvcHRpb25zPXtjaXRpZXN9IHZhbHVlPXt2YWx1ZTd9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0VmFsdWU3KGUudmFsdWUpfSBvcHRpb25MYWJlbD1cIm5hbWVcIiBjbGFzc05hbWU9XCJwLWludmFsaWRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJtdWx0aXNlbGVjdFwiPk11bHRpU2VsZWN0PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE11bHRpU2VsZWN0IGlkPVwibXVsdGlzZWxlY3RcIiBvcHRpb25zPXtjaXRpZXN9IHZhbHVlPXt2YWx1ZTl9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0VmFsdWU5KGUudmFsdWUpfSBvcHRpb25MYWJlbD1cIm5hbWVcIiBjbGFzc05hbWU9XCJwLWludmFsaWRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0ZXh0YXJlYVwiPlRleHRhcmVhPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0VGV4dGFyZWEgaWQ9XCJ0ZXh0YXJlYVwiIHJvd3M9XCIzXCIgY29scz1cIjMwXCIgdmFsdWU9e3ZhbHVlNH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRWYWx1ZTQoZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJwLWludmFsaWRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbnZhbGlkU3RhdGVEZW1vO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJJbnB1dFRleHQiLCJJbnB1dFRleHRhcmVhIiwiSW5wdXRNYXNrIiwiSW5wdXROdW1iZXIiLCJBdXRvQ29tcGxldGUiLCJDYWxlbmRhciIsIkNoaXBzIiwiRHJvcGRvd24iLCJNdWx0aVNlbGVjdCIsIlBhc3N3b3JkIiwiQ291bnRyeVNlcnZpY2UiLCJJbnZhbGlkU3RhdGVEZW1vIiwiY291bnRyaWVzIiwic2V0Q291bnRyaWVzIiwiZmlsdGVyZWRDb3VudHJpZXMiLCJzZXRGaWx0ZXJlZENvdW50cmllcyIsInZhbHVlMSIsInNldFZhbHVlMSIsInZhbHVlMiIsInNldFZhbHVlMiIsInZhbHVlMyIsInNldFZhbHVlMyIsInZhbHVlNCIsInNldFZhbHVlNCIsInZhbHVlNSIsInNldFZhbHVlNSIsInZhbHVlNiIsInNldFZhbHVlNiIsInZhbHVlNyIsInNldFZhbHVlNyIsInZhbHVlOCIsInNldFZhbHVlOCIsInZhbHVlOSIsInNldFZhbHVlOSIsInZhbHVlMTAiLCJzZXRWYWx1ZTEwIiwiY2l0aWVzIiwibmFtZSIsImNvZGUiLCJjb3VudHJ5U2VydmljZSIsImdldENvdW50cmllcyIsInRoZW4iLCJzZWFyY2hDb3VudHJ5IiwiZXZlbnQiLCJmaWx0ZXJlZCIsInF1ZXJ5IiwiaSIsImxlbmd0aCIsImNvdW50cnkiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJwdXNoIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDUiLCJsYWJlbCIsImh0bWxGb3IiLCJ0eXBlIiwiaWQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInN1Z2dlc3Rpb25zIiwiY29tcGxldGVNZXRob2QiLCJmaWVsZCIsImlucHV0SWQiLCJzaG93SWNvbiIsIm1hc2siLCJzbG90Q2hhciIsIm9uVmFsdWVDaGFuZ2UiLCJvcHRpb25zIiwib3B0aW9uTGFiZWwiLCJyb3dzIiwiY29scyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/invalidstate/index.js\n"));

/***/ }),

/***/ "./service/CountryService.js":
/*!***********************************!*\
  !*** ./service/CountryService.js ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CountryService\": function() { return /* binding */ CountryService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_class_call_check_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/src/_class_call_check.mjs */ \"./node_modules/@swc/helpers/src/_class_call_check.mjs\");\n/* harmony import */ var _swc_helpers_src_create_class_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/src/_create_class.mjs */ \"./node_modules/@swc/helpers/src/_create_class.mjs\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/config */ \"./node_modules/next/config.js\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nvar CountryService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function CountryService() {\n        (0,_swc_helpers_src_class_call_check_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, CountryService);\n        this.contextPath = next_config__WEBPACK_IMPORTED_MODULE_0___default()().publicRuntimeConfig.contextPath;\n    }\n    (0,_swc_helpers_src_create_class_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(CountryService, [\n        {\n            key: \"getCountries\",\n            value: function getCountries() {\n                return fetch(this.contextPath + \"assets/demo/data/countries.json\", {\n                    headers: {\n                        \"Cache-Control\": \"no-cache\"\n                    }\n                }).then(function(res) {\n                    return res.json();\n                }).then(function(d) {\n                    return d.data;\n                });\n            }\n        }\n    ]);\n    return CountryService;\n}();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zZXJ2aWNlL0NvdW50cnlTZXJ2aWNlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQW9DO0FBRTdCLGtCQUFvQixpQkFBcEI7O2FBQU1DLGNBQWM7O1FBR25CLElBQUksQ0FBQ0MsV0FBVyxHQUFHRixrREFBUyxFQUFFLENBQUNHLG1CQUFtQixDQUFDRCxXQUFXLENBQUM7Ozs7WUFHbkVFLEdBQVksRUFBWkEsY0FBWTttQkFBWkEsU0FBQUEsWUFBWSxHQUFHO2dCQUNYLE9BQU9DLEtBQUssQ0FBQyxJQUFJLENBQUNILFdBQVcsR0FBRyxpQ0FBaUMsRUFBRTtvQkFBRUksT0FBTyxFQUFFO3dCQUFFLGVBQWUsRUFBRyxVQUFVO3FCQUFFO2lCQUFFLENBQUMsQ0FDNUdDLElBQUksQ0FBQ0MsU0FBQUEsR0FBRzsyQkFBSUEsR0FBRyxDQUFDQyxJQUFJLEVBQUU7aUJBQUEsQ0FBQyxDQUFDRixJQUFJLENBQUNHLFNBQUFBLENBQUM7MkJBQUlBLENBQUMsQ0FBQ0MsSUFBSTtpQkFBQSxDQUFDLENBQUM7YUFDbEQ7Ozs7Q0FDSiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zZXJ2aWNlL0NvdW50cnlTZXJ2aWNlLmpzPzUzZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldENvbmZpZyBmcm9tICduZXh0L2NvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBDb3VudHJ5U2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0UGF0aCA9IGdldENvbmZpZygpLnB1YmxpY1J1bnRpbWVDb25maWcuY29udGV4dFBhdGg7XG4gICAgfVxuXG4gICAgZ2V0Q291bnRyaWVzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5jb250ZXh0UGF0aCArICdhc3NldHMvZGVtby9kYXRhL2NvdW50cmllcy5qc29uJywgeyBoZWFkZXJzOiB7ICdDYWNoZS1Db250cm9sJyA6ICduby1jYWNoZScgfSB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpLnRoZW4oZCA9PiBkLmRhdGEpO1xuICAgIH1cbn0iXSwibmFtZXMiOlsiZ2V0Q29uZmlnIiwiQ291bnRyeVNlcnZpY2UiLCJjb250ZXh0UGF0aCIsInB1YmxpY1J1bnRpbWVDb25maWciLCJnZXRDb3VudHJpZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzIiwianNvbiIsImQiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./service/CountryService.js\n"));

/***/ }),

/***/ "./node_modules/primereact/autocomplete/autocomplete.esm.js":
/*!******************************************************************!*\
  !*** ./node_modules/primereact/autocomplete/autocomplete.esm.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AutoComplete\": function() { return /* binding */ AutoComplete; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/button */ \"./node_modules/primereact/button/button.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primereact/virtualscroller */ \"./node_modules/primereact/virtualscroller/virtualscroller.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar AutoCompletePanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var getOptionGroupRenderKey = function getOptionGroupRenderKey(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n\n  var createGroupChildren = function createGroupChildren(optionGroup, i, style) {\n    var groupChildren = props.getOptionGroupChildren(optionGroup);\n    return groupChildren.map(function (item, j) {\n      var key = i + '_' + j;\n      var selected = props.selectedItem === item;\n      var content = props.itemTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.itemTemplate, item, j) : props.field ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.resolveFieldData(item, props.field) : item;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        key: key,\n        role: \"option\",\n        \"aria-selected\": selected,\n        className: \"p-autocomplete-item\",\n        style: style,\n        onClick: function onClick(e) {\n          return props.onItemClick(e, item);\n        },\n        \"data-group\": i,\n        \"data-index\": j\n      }, content, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_10__.Ripple, null));\n    });\n  };\n\n  var createItem = function createItem(suggestion, index) {\n    var scrollerOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var style = {\n      height: scrollerOptions.props ? scrollerOptions.props.itemSize : undefined\n    };\n\n    if (props.optionGroupLabel) {\n      var content = props.optionGroupTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.optionGroupTemplate, suggestion, index) : props.getOptionGroupLabel(suggestion);\n      var childrenContent = createGroupChildren(suggestion, index, style);\n      var key = index + '_' + getOptionGroupRenderKey(suggestion);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: key\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-autocomplete-item-group\",\n        style: style\n      }, content), childrenContent);\n    } else {\n      var _content = props.itemTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.itemTemplate, suggestion, index) : props.field ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.resolveFieldData(suggestion, props.field) : suggestion;\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        key: index,\n        role: \"option\",\n        \"aria-selected\": props.selectedItem === suggestion,\n        className: \"p-autocomplete-item\",\n        style: style,\n        onClick: function onClick(e) {\n          return props.onItemClick(e, suggestion);\n        }\n      }, _content, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_10__.Ripple, null));\n    }\n  };\n\n  var createItems = function createItems() {\n    return props.suggestions ? props.suggestions.map(createItem) : null;\n  };\n\n  var createContent = function createContent() {\n    if (props.virtualScrollerOptions) {\n      var virtualScrollerProps = _objectSpread(_objectSpread({}, props.virtualScrollerOptions), {\n        style: _objectSpread(_objectSpread({}, props.virtualScrollerOptions.style), {\n          height: props.scrollHeight\n        }),\n        autoSize: true,\n        items: props.suggestions,\n        itemTemplate: function itemTemplate(item, options) {\n          return item && createItem(item, options.index, options);\n        },\n        contentTemplate: function contentTemplate(options) {\n          var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-autocomplete-items', options.className);\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n            ref: options.contentRef,\n            className: className,\n            role: \"listbox\",\n            id: props.listId\n          }, options.children);\n        }\n      });\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_11__.VirtualScroller, _extends({\n        ref: props.virtualScrollerRef\n      }, virtualScrollerProps));\n    } else {\n      var items = createItems();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: \"p-autocomplete-items\",\n        role: \"listbox\",\n        id: props.listId\n      }, items);\n    }\n  };\n\n  var createElement = function createElement() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-autocomplete-panel p-component', props.panelClassName);\n\n    var style = _objectSpread({\n      maxHeight: props.scrollHeight\n    }, props.panelStyle || {});\n\n    var content = createContent();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_8__.CSSTransition, {\n      nodeRef: ref,\n      classNames: \"p-connected-overlay\",\n      \"in\": props[\"in\"],\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: props.onEnter,\n      onEntering: props.onEntering,\n      onEntered: props.onEntered,\n      onExit: props.onExit,\n      onExited: props.onExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: ref,\n      className: className,\n      style: style,\n      onClick: props.onClick\n    }, content));\n  };\n\n  var element = createElement();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_9__.Portal, {\n    element: element,\n    appendTo: props.appendTo\n  });\n}));\nAutoCompletePanel.displayName = 'AutoCompletePanel';\n\nvar AutoComplete = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.id),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      idState = _React$useState2[0],\n      setIdState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      searchingState = _React$useState4[0],\n      setSearchingState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      focusedState = _React$useState6[0],\n      setFocusedState = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      overlayVisibleState = _React$useState8[0],\n      setOverlayVisibleState = _React$useState8[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n  var multiContainerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var virtualScrollerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var timeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var selectedItem = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useOverlayListener)({\n    target: elementRef,\n    overlay: overlayRef,\n    listener: function listener(event, _ref) {\n      var type = _ref.type,\n          valid = _ref.valid;\n\n      if (valid) {\n        type === 'outside' ? !isInputClicked(event) && hide() : hide();\n      }\n    },\n    when: overlayVisibleState\n  }),\n      _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n      bindOverlayListener = _useOverlayListener2[0],\n      unbindOverlayListener = _useOverlayListener2[1];\n\n  var isInputClicked = function isInputClicked(event) {\n    return props.multiple ? event.target === multiContainerRef.current || multiContainerRef.current.contains(event.target) : event.target === inputRef.current;\n  };\n\n  var onInputChange = function onInputChange(event) {\n    //Cancel the search request if user types within the timeout\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n\n    var query = event.target.value;\n\n    if (!props.multiple) {\n      updateModel(event, query);\n    }\n\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isEmpty(query)) {\n      hide();\n      props.onClear && props.onClear(event);\n    } else {\n      if (query.length >= props.minLength) {\n        timeout.current = setTimeout(function () {\n          search(event, query, 'input');\n        }, props.delay);\n      } else {\n        hide();\n      }\n    }\n  };\n\n  var search = function search(event, query, source) {\n    //allow empty string but not undefined or null\n    if (query === undefined || query === null) {\n      return;\n    } //do not search blank values on input change\n\n\n    if (source === 'input' && query.trim().length === 0) {\n      return;\n    }\n\n    if (props.completeMethod) {\n      setSearchingState(true);\n      props.completeMethod({\n        originalEvent: event,\n        query: query\n      });\n    }\n  };\n\n  var selectItem = function selectItem(event, option, preventInputFocus) {\n    if (props.multiple) {\n      inputRef.current.value = '';\n\n      if (!isSelected(option)) {\n        var newValue = props.value ? [].concat(_toConsumableArray(props.value), [option]) : [option];\n        updateModel(event, newValue);\n      }\n    } else {\n      updateInputField(option);\n      updateModel(event, option);\n    }\n\n    if (props.onSelect) {\n      props.onSelect({\n        originalEvent: event,\n        value: option\n      });\n    }\n\n    if (!preventInputFocus) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.focus(inputRef.current);\n      hide();\n    }\n  };\n\n  var updateModel = function updateModel(event, value) {\n    // #2176 only call change if value actually changed\n    if (selectedItem && selectedItem.current === value) {\n      return;\n    }\n\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event,\n        value: value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: idState,\n          value: value\n        }\n      });\n    }\n\n    selectedItem.current = value;\n  };\n\n  var formatValue = function formatValue(value) {\n    if (value) {\n      if (props.selectedItemTemplate && (props.multiple ? isSelected(value) : findOptionIndex(value) > -1)) {\n        var resolvedFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.selectedItemTemplate, value);\n        return resolvedFieldData ? resolvedFieldData : value;\n      } else if (props.field) {\n        var _resolvedFieldData = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.resolveFieldData(value, props.field);\n\n        return _resolvedFieldData !== null && _resolvedFieldData !== undefined ? _resolvedFieldData : value;\n      } else {\n        return value;\n      }\n    }\n\n    return '';\n  };\n\n  var updateInputField = function updateInputField(value) {\n    inputRef.current.value = formatValue(value);\n  };\n\n  var show = function show() {\n    setOverlayVisibleState(true);\n  };\n\n  var hide = function hide() {\n    setOverlayVisibleState(false);\n    setSearchingState(false);\n  };\n\n  var onOverlayEnter = function onOverlayEnter() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ZIndexUtils.set('overlay', overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].autoZIndex, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].zIndex.overlay);\n    alignOverlay();\n  };\n\n  var onOverlayEntering = function onOverlayEntering() {\n    if (props.autoHighlight && props.suggestions && props.suggestions.length) {\n      var element = getScrollableElement().firstChild.firstChild;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.addClass(element, 'p-highlight');\n    }\n  };\n\n  var onOverlayEntered = function onOverlayEntered() {\n    bindOverlayListener();\n    props.onShow && props.onShow();\n  };\n\n  var onOverlayExit = function onOverlayExit() {\n    unbindOverlayListener();\n  };\n\n  var onOverlayExited = function onOverlayExited() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ZIndexUtils.clear(overlayRef.current);\n    props.onHide && props.onHide();\n  };\n\n  var alignOverlay = function alignOverlay() {\n    var target = props.multiple ? multiContainerRef.current : inputRef.current;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.alignOverlay(overlayRef.current, target, props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo);\n  };\n\n  var onPanelClick = function onPanelClick(event) {\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__.OverlayService.emit('overlay-click', {\n      originalEvent: event,\n      target: elementRef.current\n    });\n  };\n\n  var onDropdownClick = function onDropdownClick(event) {\n    if (props.dropdownAutoFocus) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.focus(inputRef.current, props.dropdownAutoFocus);\n    }\n\n    if (props.dropdownMode === 'blank') search(event, '', 'dropdown');else if (props.dropdownMode === 'current') search(event, inputRef.current.value, 'dropdown');\n\n    if (props.onDropdownClick) {\n      props.onDropdownClick({\n        originalEvent: event,\n        query: inputRef.current.value\n      });\n    }\n  };\n\n  var removeItem = function removeItem(event, index) {\n    var removedValue = props.value[index];\n    var newValue = props.value.filter(function (_, i) {\n      return index !== i;\n    });\n    updateModel(event, newValue);\n\n    if (props.onUnselect) {\n      props.onUnselect({\n        originalEvent: event,\n        value: removedValue\n      });\n    }\n  };\n\n  var onInputKeyDown = function onInputKeyDown(event) {\n    if (overlayVisibleState) {\n      var highlightItem = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.findSingle(overlayRef.current, 'li.p-highlight');\n\n      switch (event.which) {\n        //down\n        case 40:\n          if (highlightItem) {\n            var nextElement = findNextItem(highlightItem);\n\n            if (nextElement) {\n              primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.addClass(nextElement, 'p-highlight');\n              primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.removeClass(highlightItem, 'p-highlight');\n              primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.scrollInView(getScrollableElement(), nextElement);\n            }\n          } else {\n            highlightItem = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.findSingle(overlayRef.current, 'li');\n\n            if (primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.hasClass(highlightItem, 'p-autocomplete-item-group')) {\n              highlightItem = findNextItem(highlightItem);\n            }\n\n            if (highlightItem) {\n              primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.addClass(highlightItem, 'p-highlight');\n            }\n          }\n\n          event.preventDefault();\n          break;\n        //up\n\n        case 38:\n          if (highlightItem) {\n            var previousElement = findPrevItem(highlightItem);\n\n            if (previousElement) {\n              primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.addClass(previousElement, 'p-highlight');\n              primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.removeClass(highlightItem, 'p-highlight');\n              primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.scrollInView(getScrollableElement(), previousElement);\n            }\n          }\n\n          event.preventDefault();\n          break;\n        //enter\n\n        case 13:\n          if (highlightItem) {\n            selectHighlightItem(event, highlightItem);\n            hide();\n            event.preventDefault();\n          }\n\n          break;\n        //escape\n\n        case 27:\n          hide();\n          event.preventDefault();\n          break;\n        //tab\n\n        case 9:\n          if (highlightItem) {\n            selectHighlightItem(event, highlightItem);\n          }\n\n          hide();\n          break;\n      }\n    }\n\n    if (props.multiple) {\n      switch (event.which) {\n        //backspace\n        case 8:\n          if (props.value && props.value.length && !inputRef.current.value) {\n            var removedValue = props.value[props.value.length - 1];\n            var newValue = props.value.slice(0, -1);\n            updateModel(event, newValue);\n\n            if (props.onUnselect) {\n              props.onUnselect({\n                originalEvent: event,\n                value: removedValue\n              });\n            }\n          }\n\n          break;\n      }\n    }\n  };\n\n  var selectHighlightItem = function selectHighlightItem(event, item) {\n    if (props.optionGroupLabel) {\n      var optionGroup = props.suggestions[item.dataset.group];\n      selectItem(event, getOptionGroupChildren(optionGroup)[item.dataset.index]);\n    } else {\n      selectItem(event, props.suggestions[primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.index(item)]);\n    }\n  };\n\n  var findNextItem = function findNextItem(item) {\n    var nextItem = item.nextElementSibling;\n    return nextItem ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.hasClass(nextItem, 'p-autocomplete-item-group') ? findNextItem(nextItem) : nextItem : null;\n  };\n\n  var findPrevItem = function findPrevItem(item) {\n    var prevItem = item.previousElementSibling;\n    return prevItem ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.hasClass(prevItem, 'p-autocomplete-item-group') ? findPrevItem(prevItem) : prevItem : null;\n  };\n\n  var onInputFocus = function onInputFocus(event) {\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n\n  var forceItemSelection = function forceItemSelection(event) {\n    var inputValue = event.target.value.trim();\n    var item = (props.suggestions || []).find(function (it) {\n      var value = props.field ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.resolveFieldData(it, props.field) : it;\n      return value && inputValue === value.trim();\n    });\n\n    if (item) {\n      selectItem(event, item, true);\n    } else {\n      inputRef.current.value = '';\n      updateModel(event, null);\n      props.onClear && props.onClear(event);\n    }\n  };\n\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n\n    if (props.forceSelection) {\n      forceItemSelection(event);\n    }\n\n    props.onBlur && props.onBlur(event);\n  };\n\n  var onMultiContainerClick = function onMultiContainerClick(event) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.focus(inputRef.current);\n    props.onClick && props.onClick(event);\n  };\n\n  var onMultiInputFocus = function onMultiInputFocus(event) {\n    onInputFocus(event);\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.addClass(multiContainerRef.current, 'p-focus');\n  };\n\n  var onMultiInputBlur = function onMultiInputBlur(event) {\n    onInputBlur(event);\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.removeClass(multiContainerRef.current, 'p-focus');\n  };\n\n  var isSelected = function isSelected(val) {\n    return props.value ? props.value.some(function (v) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.equals(v, val);\n    }) : false;\n  };\n\n  var findOptionIndex = function findOptionIndex(option) {\n    return props.suggestions ? props.suggestions.findIndex(function (s) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.equals(s, option);\n    }) : -1;\n  };\n\n  var getScrollableElement = function getScrollableElement() {\n    return virtualScrollerRef.current ? overlayRef.current.firstChild : overlayRef.current;\n  };\n\n  var getOptionGroupLabel = function getOptionGroupLabel(optionGroup) {\n    return props.optionGroupLabel ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel) : optionGroup;\n  };\n\n  var getOptionGroupChildren = function getOptionGroupChildren(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupChildren);\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useMountEffect)(function () {\n    if (!idState) {\n      setIdState((0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.UniqueComponentId)());\n    }\n\n    if (props.autoFocus) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.focus(inputRef.current, props.autoFocus);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (searchingState) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isNotEmpty(props.suggestions) ? show() : hide();\n      setSearchingState(false);\n    }\n  }, [props.suggestions]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (inputRef.current && !props.multiple) {\n      updateInputField(props.value);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUnmountEffect)(function () {\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ZIndexUtils.clear(overlayRef.current);\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      search: search,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getOverlay: function getOverlay() {\n        return overlayRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      },\n      getVirtualScroller: function getVirtualScroller() {\n        return virtualScrollerRef.current;\n      }\n    };\n  });\n\n  var createSimpleAutoComplete = function createSimpleAutoComplete() {\n    var value = formatValue(props.value);\n    var ariaControls = overlayVisibleState ? idState + '_list' : null;\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-autocomplete-input', props.inputClassName, {\n      'p-autocomplete-dd-input': props.dropdown\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__.InputText, {\n      ref: inputRef,\n      id: props.inputId,\n      type: props.type,\n      name: props.name,\n      defaultValue: value,\n      role: \"combobox\",\n      \"aria-autocomplete\": \"list\",\n      \"aria-controls\": ariaControls,\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": overlayVisibleState,\n      \"aria-labelledby\": props['aria-labelledby'],\n      \"aria-label\": props['aria-label'],\n      className: className,\n      style: props.inputStyle,\n      autoComplete: \"off\",\n      readOnly: props.readOnly,\n      disabled: props.disabled,\n      placeholder: props.placeholder,\n      size: props.size,\n      maxLength: props.maxLength,\n      tabIndex: props.tabIndex,\n      onBlur: onInputBlur,\n      onFocus: onInputFocus,\n      onChange: onInputChange,\n      onMouseDown: props.onMouseDown,\n      onKeyUp: props.onKeyUp,\n      onKeyDown: onInputKeyDown,\n      onKeyPress: props.onKeyPress,\n      onContextMenu: props.onContextMenu,\n      onClick: props.onClick,\n      onDoubleClick: props.onDblClick\n    });\n  };\n\n  var createChips = function createChips() {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isNotEmpty(props.value)) {\n      return props.value.map(function (val, index) {\n        var key = index + 'multi-item';\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n          key: key,\n          className: \"p-autocomplete-token p-highlight\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          className: \"p-autocomplete-token-label\"\n        }, formatValue(val)), !props.disabled && primereact_utils__WEBPACK_IMPORTED_MODULE_7__.IconUtils.getJSXIcon(props.removeIcon, {\n          className: 'p-autocomplete-token-icon',\n          onClick: function onClick(e) {\n            return removeItem(e, index);\n          }\n        }, {\n          props: props\n        }));\n      });\n    }\n\n    return null;\n  };\n\n  var createMultiInput = function createMultiInput() {\n    var ariaControls = overlayVisibleState ? idState + '_list' : null;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      className: \"p-autocomplete-input-token\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n      ref: inputRef,\n      type: props.type,\n      disabled: props.disabled,\n      placeholder: props.placeholder,\n      role: \"combobox\",\n      \"aria-autocomplete\": \"list\",\n      \"aria-controls\": ariaControls,\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": overlayVisibleState,\n      \"aria-labelledby\": props['aria-labelledby'],\n      \"aria-label\": props['aria-label'],\n      autoComplete: \"off\",\n      tabIndex: props.tabIndex,\n      onChange: onInputChange,\n      id: props.inputId,\n      name: props.name,\n      style: props.inputStyle,\n      className: props.inputClassName,\n      maxLength: props.maxLength,\n      onKeyUp: props.onKeyUp,\n      onKeyDown: onInputKeyDown,\n      onKeyPress: props.onKeyPress,\n      onFocus: onMultiInputFocus,\n      onBlur: onMultiInputBlur\n    }));\n  };\n\n  var createMultipleAutoComplete = function createMultipleAutoComplete() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-autocomplete-multiple-container p-component p-inputtext', {\n      'p-disabled': props.disabled\n    });\n    var tokens = createChips();\n    var input = createMultiInput();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n      ref: multiContainerRef,\n      className: className,\n      onContextMenu: props.onContextMenu,\n      onMouseDown: props.onMouseDown,\n      onClick: onMultiContainerClick,\n      onDoubleClick: props.onDblClick\n    }, tokens, input);\n  };\n\n  var createDropdown = function createDropdown() {\n    if (props.dropdown) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n        type: \"button\",\n        icon: props.dropdownIcon,\n        className: \"p-autocomplete-dropdown\",\n        disabled: props.disabled,\n        onClick: onDropdownClick\n      });\n    }\n\n    return null;\n  };\n\n  var createLoader = function createLoader() {\n    if (searchingState) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-autocomplete-loader pi pi-spinner pi-spin\"\n      });\n    }\n\n    return null;\n  };\n\n  var createInput = function createInput() {\n    return props.multiple ? createMultipleAutoComplete() : createSimpleAutoComplete();\n  };\n\n  var listId = idState + '_list';\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.findDiffKeys(props, AutoComplete.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-autocomplete p-component p-inputwrapper', {\n    'p-autocomplete-dd': props.dropdown,\n    'p-autocomplete-multiple': props.multiple,\n    'p-inputwrapper-filled': props.value,\n    'p-inputwrapper-focus': focusedState\n  }, props.className);\n  var loader = createLoader();\n  var input = createInput();\n  var dropdown = createDropdown();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", _extends({\n    ref: elementRef,\n    id: idState,\n    style: props.style,\n    className: className\n  }, otherProps), input, loader, dropdown, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AutoCompletePanel, _extends({\n    ref: overlayRef,\n    virtualScrollerRef: virtualScrollerRef\n  }, props, {\n    listId: listId,\n    onItemClick: selectItem,\n    selectedItem: selectedItem,\n    onClick: onPanelClick,\n    getOptionGroupLabel: getOptionGroupLabel,\n    getOptionGroupChildren: getOptionGroupChildren,\n    \"in\": overlayVisibleState,\n    onEnter: onOverlayEnter,\n    onEntering: onOverlayEntering,\n    onEntered: onOverlayEntered,\n    onExit: onOverlayExit,\n    onExited: onOverlayExited\n  }))), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_6__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nAutoComplete.displayName = 'AutoComplete';\nAutoComplete.defaultProps = {\n  __TYPE: 'AutoComplete',\n  id: null,\n  inputRef: null,\n  value: null,\n  name: null,\n  type: 'text',\n  suggestions: null,\n  field: null,\n  optionGroupLabel: null,\n  optionGroupChildren: null,\n  optionGroupTemplate: null,\n  forceSelection: false,\n  autoHighlight: false,\n  virtualScrollerOptions: null,\n  scrollHeight: '200px',\n  dropdown: false,\n  dropdownMode: 'blank',\n  dropdownAutoFocus: true,\n  multiple: false,\n  minLength: 1,\n  delay: 300,\n  style: null,\n  className: null,\n  inputId: null,\n  inputStyle: null,\n  inputClassName: null,\n  panelClassName: null,\n  panelStyle: null,\n  placeholder: null,\n  readOnly: false,\n  disabled: false,\n  maxLength: null,\n  size: null,\n  appendTo: null,\n  tabIndex: null,\n  autoFocus: false,\n  tooltip: null,\n  tooltipOptions: null,\n  completeMethod: null,\n  itemTemplate: null,\n  selectedItemTemplate: null,\n  transitionOptions: null,\n  dropdownIcon: 'pi pi-chevron-down',\n  removeIcon: 'pi pi-times-circle',\n  'aria-label': null,\n  'aria-labelledby': null,\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onSelect: null,\n  onUnselect: null,\n  onDropdownClick: null,\n  onClick: null,\n  onDblClick: null,\n  onMouseDown: null,\n  onKeyUp: null,\n  onKeyPress: null,\n  onContextMenu: null,\n  onClear: null,\n  onShow: null,\n  onHide: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9hdXRvY29tcGxldGUvYXV0b2NvbXBsZXRlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNTO0FBQ0c7QUFDOEQ7QUFDeEQ7QUFDVTtBQUNkO0FBQ3FFO0FBQ3pEO0FBQ2Q7QUFDQTtBQUNrQjs7QUFFN0Q7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELDRDQUE0QyxvS0FBb0ssbUZBQW1GLEtBQUs7QUFDMWUscUNBQXFDLHVDQUFVLGVBQWUsNkNBQWdCO0FBQzlFO0FBQ0EsV0FBVywwRUFBNEI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1RUFBeUIsOENBQThDLDBFQUE0QjtBQUM1SSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPLHdCQUF3QixnREFBbUIsQ0FBQyxzREFBTTtBQUN6RCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdEQUFnRCx1RUFBeUI7QUFDekU7QUFDQTtBQUNBLDBCQUEwQixnREFBbUIsQ0FBQywyQ0FBYztBQUM1RDtBQUNBLE9BQU8sZUFBZSxnREFBbUI7QUFDekM7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ04sMENBQTBDLHVFQUF5Qix3REFBd0QsMEVBQTRCOztBQUV2SiwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHlCQUF5QixnREFBbUIsQ0FBQyxzREFBTTtBQUMxRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9ELDZDQUE2QztBQUM3QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDBCQUEwQiw0REFBVTtBQUNwQyw4QkFBOEIsZ0RBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTzs7QUFFUCwwQkFBMEIsZ0RBQW1CLENBQUMsd0VBQWU7QUFDN0Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0EsMEJBQTBCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw0REFBVTs7QUFFOUI7QUFDQTtBQUNBLEtBQUssd0JBQXdCOztBQUU3QjtBQUNBLHdCQUF3QixnREFBbUIsQ0FBQyxtRUFBYTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGVBQWUsZ0RBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLHFEQUFNO0FBQ2hEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEOztBQUVBLGdDQUFnQyx1Q0FBVSxlQUFlLDZDQUFnQjtBQUN6RSx3QkFBd0IsMkNBQWM7QUFDdEM7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiwyQ0FBYztBQUN2QztBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsMkNBQWM7QUFDdkM7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix5Q0FBWTtBQUMvQixtQkFBbUIseUNBQVk7QUFDL0IsaUJBQWlCLHlDQUFZO0FBQzdCLDBCQUEwQix5Q0FBWTtBQUN0QywyQkFBMkIseUNBQVk7QUFDdkMsZ0JBQWdCLHlDQUFZO0FBQzVCLHFCQUFxQix5Q0FBWTs7QUFFakMsNEJBQTRCLG9FQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFFBQVEsaUVBQW1CO0FBQzNCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLE1BQU0sOERBQWdCO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3RELG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHVFQUF5QjtBQUN6RDtBQUNBLFFBQVE7QUFDUixpQ0FBaUMsMEVBQTRCOztBQUU3RDtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSw2REFBZSxnQ0FBZ0MsaUVBQXFCLEVBQUUscUVBQTRCO0FBQ3RHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxpRUFBbUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLCtEQUFpQjtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLHFFQUF1QiwrQ0FBK0MsK0RBQW1CO0FBQzdGOztBQUVBO0FBQ0EsSUFBSSwwRUFBbUI7QUFDdkI7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsTUFBTSw4REFBZ0I7QUFDdEI7O0FBRUEsc0VBQXNFOztBQUV0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQixtRUFBcUI7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGlFQUFtQjtBQUNqQyxjQUFjLG9FQUFzQjtBQUNwQyxjQUFjLHFFQUF1QjtBQUNyQztBQUNBLFlBQVk7QUFDWiw0QkFBNEIsbUVBQXFCOztBQUVqRCxnQkFBZ0IsaUVBQW1CO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGlFQUFtQjtBQUNqQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGlFQUFtQjtBQUNqQyxjQUFjLG9FQUFzQjtBQUNwQyxjQUFjLHFFQUF1QjtBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiwwQ0FBMEMsOERBQWdCO0FBQzFEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixpRUFBbUI7QUFDekM7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixpRUFBbUI7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDBFQUE0QjtBQUM1RDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDhEQUFnQjtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLGlFQUFtQjtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0EsSUFBSSxvRUFBc0I7QUFDMUI7O0FBRUE7QUFDQTtBQUNBLGFBQWEsZ0VBQWtCO0FBQy9CLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxnRUFBa0I7QUFDL0IsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQywwRUFBNEI7QUFDaEU7O0FBRUE7QUFDQSxXQUFXLDBFQUE0QjtBQUN2Qzs7QUFFQSxFQUFFLDRDQUFlO0FBQ2pCLElBQUksc0VBQXdCO0FBQzVCLEdBQUc7QUFDSCxFQUFFLGdFQUFjO0FBQ2hCO0FBQ0EsaUJBQWlCLG1FQUFpQjtBQUNsQzs7QUFFQTtBQUNBLE1BQU0sOERBQWdCO0FBQ3RCO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQSxNQUFNLG9FQUFzQjtBQUM1QjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsa0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLCtEQUFpQjtBQUNyQixHQUFHO0FBQ0gsRUFBRSxzREFBeUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLEtBQUs7QUFDTCx3QkFBd0IsZ0RBQW1CLENBQUMsMkRBQVM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxRQUFRLG9FQUFzQjtBQUM5QjtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFtQjtBQUMvQztBQUNBO0FBQ0EsU0FBUyxlQUFlLGdEQUFtQjtBQUMzQztBQUNBLFNBQVMsd0NBQXdDLGtFQUFvQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBLEtBQUssZUFBZSxnREFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0Esb0JBQW9CLDREQUFVO0FBQzlCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsZ0RBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFtQixDQUFDLHFEQUFNO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFtQjtBQUM3QztBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixvRUFBc0I7QUFDekMsbUJBQW1CLHNFQUF3QjtBQUMzQyxrQkFBa0IsNERBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHFEQUFxRCxnREFBbUI7QUFDM0U7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdDQUFnQyxnREFBbUIsQ0FBQyx1REFBTztBQUM5RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvYXV0b2NvbXBsZXRlL2F1dG9jb21wbGV0ZS5lc20uanM/NWFjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJpbWVSZWFjdCBmcm9tICdwcmltZXJlYWN0L2FwaSc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdwcmltZXJlYWN0L2J1dHRvbic7XG5pbXBvcnQgeyB1c2VPdmVybGF5TGlzdGVuZXIsIHVzZU1vdW50RWZmZWN0LCB1c2VVcGRhdGVFZmZlY3QsIHVzZVVubW91bnRFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IElucHV0VGV4dCB9IGZyb20gJ3ByaW1lcmVhY3QvaW5wdXR0ZXh0JztcbmltcG9ydCB7IE92ZXJsYXlTZXJ2aWNlIH0gZnJvbSAncHJpbWVyZWFjdC9vdmVybGF5c2VydmljZSc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAncHJpbWVyZWFjdC90b29sdGlwJztcbmltcG9ydCB7IGNsYXNzTmFtZXMsIE9iamVjdFV0aWxzLCBVbmlxdWVDb21wb25lbnRJZCwgRG9tSGFuZGxlciwgWkluZGV4VXRpbHMsIEljb25VdGlscyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiB9IGZyb20gJ3ByaW1lcmVhY3QvY3NzdHJhbnNpdGlvbic7XG5pbXBvcnQgeyBQb3J0YWwgfSBmcm9tICdwcmltZXJlYWN0L3BvcnRhbCc7XG5pbXBvcnQgeyBSaXBwbGUgfSBmcm9tICdwcmltZXJlYWN0L3JpcHBsZSc7XG5pbXBvcnQgeyBWaXJ0dWFsU2Nyb2xsZXIgfSBmcm9tICdwcmltZXJlYWN0L3ZpcnR1YWxzY3JvbGxlcic7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBBdXRvQ29tcGxldGVQYW5lbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgZ2V0T3B0aW9uR3JvdXBSZW5kZXJLZXkgPSBmdW5jdGlvbiBnZXRPcHRpb25Hcm91cFJlbmRlcktleShvcHRpb25Hcm91cCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbkdyb3VwLCBwcm9wcy5vcHRpb25Hcm91cExhYmVsKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlR3JvdXBDaGlsZHJlbiA9IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hpbGRyZW4ob3B0aW9uR3JvdXAsIGksIHN0eWxlKSB7XG4gICAgdmFyIGdyb3VwQ2hpbGRyZW4gPSBwcm9wcy5nZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKTtcbiAgICByZXR1cm4gZ3JvdXBDaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGl0ZW0sIGopIHtcbiAgICAgIHZhciBrZXkgPSBpICsgJ18nICsgajtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkSXRlbSA9PT0gaXRlbTtcbiAgICAgIHZhciBjb250ZW50ID0gcHJvcHMuaXRlbVRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5pdGVtVGVtcGxhdGUsIGl0ZW0sIGopIDogcHJvcHMuZmllbGQgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKGl0ZW0sIHByb3BzLmZpZWxkKSA6IGl0ZW07XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICByb2xlOiBcIm9wdGlvblwiLFxuICAgICAgICBcImFyaWEtc2VsZWN0ZWRcIjogc2VsZWN0ZWQsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWF1dG9jb21wbGV0ZS1pdGVtXCIsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BzLm9uSXRlbUNsaWNrKGUsIGl0ZW0pO1xuICAgICAgICB9LFxuICAgICAgICBcImRhdGEtZ3JvdXBcIjogaSxcbiAgICAgICAgXCJkYXRhLWluZGV4XCI6IGpcbiAgICAgIH0sIGNvbnRlbnQsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJdGVtID0gZnVuY3Rpb24gY3JlYXRlSXRlbShzdWdnZXN0aW9uLCBpbmRleCkge1xuICAgIHZhciBzY3JvbGxlck9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciBzdHlsZSA9IHtcbiAgICAgIGhlaWdodDogc2Nyb2xsZXJPcHRpb25zLnByb3BzID8gc2Nyb2xsZXJPcHRpb25zLnByb3BzLml0ZW1TaXplIDogdW5kZWZpbmVkXG4gICAgfTtcblxuICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICB2YXIgY29udGVudCA9IHByb3BzLm9wdGlvbkdyb3VwVGVtcGxhdGUgPyBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLm9wdGlvbkdyb3VwVGVtcGxhdGUsIHN1Z2dlc3Rpb24sIGluZGV4KSA6IHByb3BzLmdldE9wdGlvbkdyb3VwTGFiZWwoc3VnZ2VzdGlvbik7XG4gICAgICB2YXIgY2hpbGRyZW5Db250ZW50ID0gY3JlYXRlR3JvdXBDaGlsZHJlbihzdWdnZXN0aW9uLCBpbmRleCwgc3R5bGUpO1xuICAgICAgdmFyIGtleSA9IGluZGV4ICsgJ18nICsgZ2V0T3B0aW9uR3JvdXBSZW5kZXJLZXkoc3VnZ2VzdGlvbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1hdXRvY29tcGxldGUtaXRlbS1ncm91cFwiLFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgIH0sIGNvbnRlbnQpLCBjaGlsZHJlbkNvbnRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NvbnRlbnQgPSBwcm9wcy5pdGVtVGVtcGxhdGUgPyBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLml0ZW1UZW1wbGF0ZSwgc3VnZ2VzdGlvbiwgaW5kZXgpIDogcHJvcHMuZmllbGQgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHN1Z2dlc3Rpb24sIHByb3BzLmZpZWxkKSA6IHN1Z2dlc3Rpb247XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgcm9sZTogXCJvcHRpb25cIixcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IHByb3BzLnNlbGVjdGVkSXRlbSA9PT0gc3VnZ2VzdGlvbixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtYXV0b2NvbXBsZXRlLWl0ZW1cIixcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMub25JdGVtQ2xpY2soZSwgc3VnZ2VzdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jb250ZW50LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7XG4gICAgcmV0dXJuIHByb3BzLnN1Z2dlc3Rpb25zID8gcHJvcHMuc3VnZ2VzdGlvbnMubWFwKGNyZWF0ZUl0ZW0pIDogbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgaWYgKHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMpIHtcbiAgICAgIHZhciB2aXJ0dWFsU2Nyb2xsZXJQcm9wcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucyksIHtcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucy5zdHlsZSksIHtcbiAgICAgICAgICBoZWlnaHQ6IHByb3BzLnNjcm9sbEhlaWdodFxuICAgICAgICB9KSxcbiAgICAgICAgYXV0b1NpemU6IHRydWUsXG4gICAgICAgIGl0ZW1zOiBwcm9wcy5zdWdnZXN0aW9ucyxcbiAgICAgICAgaXRlbVRlbXBsYXRlOiBmdW5jdGlvbiBpdGVtVGVtcGxhdGUoaXRlbSwgb3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBpdGVtICYmIGNyZWF0ZUl0ZW0oaXRlbSwgb3B0aW9ucy5pbmRleCwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnRUZW1wbGF0ZTogZnVuY3Rpb24gY29udGVudFRlbXBsYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1hdXRvY29tcGxldGUtaXRlbXMnLCBvcHRpb25zLmNsYXNzTmFtZSk7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgICAgICAgICAgcmVmOiBvcHRpb25zLmNvbnRlbnRSZWYsXG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgIHJvbGU6IFwibGlzdGJveFwiLFxuICAgICAgICAgICAgaWQ6IHByb3BzLmxpc3RJZFxuICAgICAgICAgIH0sIG9wdGlvbnMuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFZpcnR1YWxTY3JvbGxlciwgX2V4dGVuZHMoe1xuICAgICAgICByZWY6IHByb3BzLnZpcnR1YWxTY3JvbGxlclJlZlxuICAgICAgfSwgdmlydHVhbFNjcm9sbGVyUHJvcHMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGl0ZW1zID0gY3JlYXRlSXRlbXMoKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtYXV0b2NvbXBsZXRlLWl0ZW1zXCIsXG4gICAgICAgIHJvbGU6IFwibGlzdGJveFwiLFxuICAgICAgICBpZDogcHJvcHMubGlzdElkXG4gICAgICB9LCBpdGVtcyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCgpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1hdXRvY29tcGxldGUtcGFuZWwgcC1jb21wb25lbnQnLCBwcm9wcy5wYW5lbENsYXNzTmFtZSk7XG5cbiAgICB2YXIgc3R5bGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgIG1heEhlaWdodDogcHJvcHMuc2Nyb2xsSGVpZ2h0XG4gICAgfSwgcHJvcHMucGFuZWxTdHlsZSB8fCB7fSk7XG5cbiAgICB2YXIgY29udGVudCA9IGNyZWF0ZUNvbnRlbnQoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgICAgbm9kZVJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lczogXCJwLWNvbm5lY3RlZC1vdmVybGF5XCIsXG4gICAgICBcImluXCI6IHByb3BzW1wiaW5cIl0sXG4gICAgICB0aW1lb3V0OiB7XG4gICAgICAgIGVudGVyOiAxMjAsXG4gICAgICAgIGV4aXQ6IDEwMFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnM6IHByb3BzLnRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICAgIG9uRW50ZXI6IHByb3BzLm9uRW50ZXIsXG4gICAgICBvbkVudGVyaW5nOiBwcm9wcy5vbkVudGVyaW5nLFxuICAgICAgb25FbnRlcmVkOiBwcm9wcy5vbkVudGVyZWQsXG4gICAgICBvbkV4aXQ6IHByb3BzLm9uRXhpdCxcbiAgICAgIG9uRXhpdGVkOiBwcm9wcy5vbkV4aXRlZFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrXG4gICAgfSwgY29udGVudCkpO1xuICB9O1xuXG4gIHZhciBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCgpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUG9ydGFsLCB7XG4gICAgZWxlbWVudDogZWxlbWVudCxcbiAgICBhcHBlbmRUbzogcHJvcHMuYXBwZW5kVG9cbiAgfSk7XG59KSk7XG5BdXRvQ29tcGxldGVQYW5lbC5kaXNwbGF5TmFtZSA9ICdBdXRvQ29tcGxldGVQYW5lbCc7XG5cbnZhciBBdXRvQ29tcGxldGUgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLmlkKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgaWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRJZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICAgIHNlYXJjaGluZ1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFswXSxcbiAgICAgIHNldFNlYXJjaGluZ1N0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIGZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTZbMF0sXG4gICAgICBzZXRGb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGU3ID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTcsIDIpLFxuICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMF0sXG4gICAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlOFsxXTtcblxuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIG92ZXJsYXlSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihwcm9wcy5pbnB1dFJlZik7XG4gIHZhciBtdWx0aUNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHZpcnR1YWxTY3JvbGxlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHRpbWVvdXQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzZWxlY3RlZEl0ZW0gPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgdmFyIF91c2VPdmVybGF5TGlzdGVuZXIgPSB1c2VPdmVybGF5TGlzdGVuZXIoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBvdmVybGF5OiBvdmVybGF5UmVmLFxuICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCwgX3JlZikge1xuICAgICAgdmFyIHR5cGUgPSBfcmVmLnR5cGUsXG4gICAgICAgICAgdmFsaWQgPSBfcmVmLnZhbGlkO1xuXG4gICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgdHlwZSA9PT0gJ291dHNpZGUnID8gIWlzSW5wdXRDbGlja2VkKGV2ZW50KSAmJiBoaWRlKCkgOiBoaWRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuOiBvdmVybGF5VmlzaWJsZVN0YXRlXG4gIH0pLFxuICAgICAgX3VzZU92ZXJsYXlMaXN0ZW5lcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlT3ZlcmxheUxpc3RlbmVyLCAyKSxcbiAgICAgIGJpbmRPdmVybGF5TGlzdGVuZXIgPSBfdXNlT3ZlcmxheUxpc3RlbmVyMlswXSxcbiAgICAgIHVuYmluZE92ZXJsYXlMaXN0ZW5lciA9IF91c2VPdmVybGF5TGlzdGVuZXIyWzFdO1xuXG4gIHZhciBpc0lucHV0Q2xpY2tlZCA9IGZ1bmN0aW9uIGlzSW5wdXRDbGlja2VkKGV2ZW50KSB7XG4gICAgcmV0dXJuIHByb3BzLm11bHRpcGxlID8gZXZlbnQudGFyZ2V0ID09PSBtdWx0aUNvbnRhaW5lclJlZi5jdXJyZW50IHx8IG11bHRpQ29udGFpbmVyUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSA6IGV2ZW50LnRhcmdldCA9PT0gaW5wdXRSZWYuY3VycmVudDtcbiAgfTtcblxuICB2YXIgb25JbnB1dENoYW5nZSA9IGZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICAvL0NhbmNlbCB0aGUgc2VhcmNoIHJlcXVlc3QgaWYgdXNlciB0eXBlcyB3aXRoaW4gdGhlIHRpbWVvdXRcbiAgICBpZiAodGltZW91dC5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dC5jdXJyZW50KTtcbiAgICB9XG5cbiAgICB2YXIgcXVlcnkgPSBldmVudC50YXJnZXQudmFsdWU7XG5cbiAgICBpZiAoIXByb3BzLm11bHRpcGxlKSB7XG4gICAgICB1cGRhdGVNb2RlbChldmVudCwgcXVlcnkpO1xuICAgIH1cblxuICAgIGlmIChPYmplY3RVdGlscy5pc0VtcHR5KHF1ZXJ5KSkge1xuICAgICAgaGlkZSgpO1xuICAgICAgcHJvcHMub25DbGVhciAmJiBwcm9wcy5vbkNsZWFyKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA+PSBwcm9wcy5taW5MZW5ndGgpIHtcbiAgICAgICAgdGltZW91dC5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VhcmNoKGV2ZW50LCBxdWVyeSwgJ2lucHV0Jyk7XG4gICAgICAgIH0sIHByb3BzLmRlbGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIHNlYXJjaCA9IGZ1bmN0aW9uIHNlYXJjaChldmVudCwgcXVlcnksIHNvdXJjZSkge1xuICAgIC8vYWxsb3cgZW1wdHkgc3RyaW5nIGJ1dCBub3QgdW5kZWZpbmVkIG9yIG51bGxcbiAgICBpZiAocXVlcnkgPT09IHVuZGVmaW5lZCB8fCBxdWVyeSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy9kbyBub3Qgc2VhcmNoIGJsYW5rIHZhbHVlcyBvbiBpbnB1dCBjaGFuZ2VcblxuXG4gICAgaWYgKHNvdXJjZSA9PT0gJ2lucHV0JyAmJiBxdWVyeS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmNvbXBsZXRlTWV0aG9kKSB7XG4gICAgICBzZXRTZWFyY2hpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHByb3BzLmNvbXBsZXRlTWV0aG9kKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHF1ZXJ5OiBxdWVyeVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBzZWxlY3RJdGVtID0gZnVuY3Rpb24gc2VsZWN0SXRlbShldmVudCwgb3B0aW9uLCBwcmV2ZW50SW5wdXRGb2N1cykge1xuICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuXG4gICAgICBpZiAoIWlzU2VsZWN0ZWQob3B0aW9uKSkge1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBwcm9wcy52YWx1ZSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMudmFsdWUpLCBbb3B0aW9uXSkgOiBbb3B0aW9uXTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlSW5wdXRGaWVsZChvcHRpb24pO1xuICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG9wdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9uU2VsZWN0KSB7XG4gICAgICBwcm9wcy5vblNlbGVjdCh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICB2YWx1ZTogb3B0aW9uXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXByZXZlbnRJbnB1dEZvY3VzKSB7XG4gICAgICBEb21IYW5kbGVyLmZvY3VzKGlucHV0UmVmLmN1cnJlbnQpO1xuICAgICAgaGlkZSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlTW9kZWwgPSBmdW5jdGlvbiB1cGRhdGVNb2RlbChldmVudCwgdmFsdWUpIHtcbiAgICAvLyAjMjE3NiBvbmx5IGNhbGwgY2hhbmdlIGlmIHZhbHVlIGFjdHVhbGx5IGNoYW5nZWRcbiAgICBpZiAoc2VsZWN0ZWRJdGVtICYmIHNlbGVjdGVkSXRlbS5jdXJyZW50ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogaWRTdGF0ZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRJdGVtLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfTtcblxuICB2YXIgZm9ybWF0VmFsdWUgPSBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgaWYgKHByb3BzLnNlbGVjdGVkSXRlbVRlbXBsYXRlICYmIChwcm9wcy5tdWx0aXBsZSA/IGlzU2VsZWN0ZWQodmFsdWUpIDogZmluZE9wdGlvbkluZGV4KHZhbHVlKSA+IC0xKSkge1xuICAgICAgICB2YXIgcmVzb2x2ZWRGaWVsZERhdGEgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnNlbGVjdGVkSXRlbVRlbXBsYXRlLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXNvbHZlZEZpZWxkRGF0YSA/IHJlc29sdmVkRmllbGREYXRhIDogdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmZpZWxkKSB7XG4gICAgICAgIHZhciBfcmVzb2x2ZWRGaWVsZERhdGEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHZhbHVlLCBwcm9wcy5maWVsZCk7XG5cbiAgICAgICAgcmV0dXJuIF9yZXNvbHZlZEZpZWxkRGF0YSAhPT0gbnVsbCAmJiBfcmVzb2x2ZWRGaWVsZERhdGEgIT09IHVuZGVmaW5lZCA/IF9yZXNvbHZlZEZpZWxkRGF0YSA6IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICB2YXIgdXBkYXRlSW5wdXRGaWVsZCA9IGZ1bmN0aW9uIHVwZGF0ZUlucHV0RmllbGQodmFsdWUpIHtcbiAgICBpbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gZm9ybWF0VmFsdWUodmFsdWUpO1xuICB9O1xuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlKHRydWUpO1xuICB9O1xuXG4gIHZhciBoaWRlID0gZnVuY3Rpb24gaGlkZSgpIHtcbiAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlKGZhbHNlKTtcbiAgICBzZXRTZWFyY2hpbmdTdGF0ZShmYWxzZSk7XG4gIH07XG5cbiAgdmFyIG9uT3ZlcmxheUVudGVyID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXIoKSB7XG4gICAgWkluZGV4VXRpbHMuc2V0KCdvdmVybGF5Jywgb3ZlcmxheVJlZi5jdXJyZW50LCBQcmltZVJlYWN0LmF1dG9aSW5kZXgsIFByaW1lUmVhY3QuekluZGV4WydvdmVybGF5J10pO1xuICAgIGFsaWduT3ZlcmxheSgpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFbnRlcmluZyA9IGZ1bmN0aW9uIG9uT3ZlcmxheUVudGVyaW5nKCkge1xuICAgIGlmIChwcm9wcy5hdXRvSGlnaGxpZ2h0ICYmIHByb3BzLnN1Z2dlc3Rpb25zICYmIHByb3BzLnN1Z2dlc3Rpb25zLmxlbmd0aCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBnZXRTY3JvbGxhYmxlRWxlbWVudCgpLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZDtcbiAgICAgIERvbUhhbmRsZXIuYWRkQ2xhc3MoZWxlbWVudCwgJ3AtaGlnaGxpZ2h0Jyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFbnRlcmVkID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXJlZCgpIHtcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyKCk7XG4gICAgcHJvcHMub25TaG93ICYmIHByb3BzLm9uU2hvdygpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFeGl0ID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdCgpIHtcbiAgICB1bmJpbmRPdmVybGF5TGlzdGVuZXIoKTtcbiAgfTtcblxuICB2YXIgb25PdmVybGF5RXhpdGVkID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdGVkKCkge1xuICAgIFpJbmRleFV0aWxzLmNsZWFyKG92ZXJsYXlSZWYuY3VycmVudCk7XG4gICAgcHJvcHMub25IaWRlICYmIHByb3BzLm9uSGlkZSgpO1xuICB9O1xuXG4gIHZhciBhbGlnbk92ZXJsYXkgPSBmdW5jdGlvbiBhbGlnbk92ZXJsYXkoKSB7XG4gICAgdmFyIHRhcmdldCA9IHByb3BzLm11bHRpcGxlID8gbXVsdGlDb250YWluZXJSZWYuY3VycmVudCA6IGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgRG9tSGFuZGxlci5hbGlnbk92ZXJsYXkob3ZlcmxheVJlZi5jdXJyZW50LCB0YXJnZXQsIHByb3BzLmFwcGVuZFRvIHx8IFByaW1lUmVhY3QuYXBwZW5kVG8pO1xuICB9O1xuXG4gIHZhciBvblBhbmVsQ2xpY2sgPSBmdW5jdGlvbiBvblBhbmVsQ2xpY2soZXZlbnQpIHtcbiAgICBPdmVybGF5U2VydmljZS5lbWl0KCdvdmVybGF5LWNsaWNrJywge1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICB0YXJnZXQ6IGVsZW1lbnRSZWYuY3VycmVudFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvbkRyb3Bkb3duQ2xpY2sgPSBmdW5jdGlvbiBvbkRyb3Bkb3duQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZHJvcGRvd25BdXRvRm9jdXMpIHtcbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCwgcHJvcHMuZHJvcGRvd25BdXRvRm9jdXMpO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5kcm9wZG93bk1vZGUgPT09ICdibGFuaycpIHNlYXJjaChldmVudCwgJycsICdkcm9wZG93bicpO2Vsc2UgaWYgKHByb3BzLmRyb3Bkb3duTW9kZSA9PT0gJ2N1cnJlbnQnKSBzZWFyY2goZXZlbnQsIGlucHV0UmVmLmN1cnJlbnQudmFsdWUsICdkcm9wZG93bicpO1xuXG4gICAgaWYgKHByb3BzLm9uRHJvcGRvd25DbGljaykge1xuICAgICAgcHJvcHMub25Ecm9wZG93bkNsaWNrKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHF1ZXJ5OiBpbnB1dFJlZi5jdXJyZW50LnZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlbW92ZUl0ZW0gPSBmdW5jdGlvbiByZW1vdmVJdGVtKGV2ZW50LCBpbmRleCkge1xuICAgIHZhciByZW1vdmVkVmFsdWUgPSBwcm9wcy52YWx1ZVtpbmRleF07XG4gICAgdmFyIG5ld1ZhbHVlID0gcHJvcHMudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7XG4gICAgICByZXR1cm4gaW5kZXggIT09IGk7XG4gICAgfSk7XG4gICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlKTtcblxuICAgIGlmIChwcm9wcy5vblVuc2VsZWN0KSB7XG4gICAgICBwcm9wcy5vblVuc2VsZWN0KHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiByZW1vdmVkVmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25JbnB1dEtleURvd24gPSBmdW5jdGlvbiBvbklucHV0S2V5RG93bihldmVudCkge1xuICAgIGlmIChvdmVybGF5VmlzaWJsZVN0YXRlKSB7XG4gICAgICB2YXIgaGlnaGxpZ2h0SXRlbSA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShvdmVybGF5UmVmLmN1cnJlbnQsICdsaS5wLWhpZ2hsaWdodCcpO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgIC8vZG93blxuICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgIGlmIChoaWdobGlnaHRJdGVtKSB7XG4gICAgICAgICAgICB2YXIgbmV4dEVsZW1lbnQgPSBmaW5kTmV4dEl0ZW0oaGlnaGxpZ2h0SXRlbSk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCkge1xuICAgICAgICAgICAgICBEb21IYW5kbGVyLmFkZENsYXNzKG5leHRFbGVtZW50LCAncC1oaWdobGlnaHQnKTtcbiAgICAgICAgICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhoaWdobGlnaHRJdGVtLCAncC1oaWdobGlnaHQnKTtcbiAgICAgICAgICAgICAgRG9tSGFuZGxlci5zY3JvbGxJblZpZXcoZ2V0U2Nyb2xsYWJsZUVsZW1lbnQoKSwgbmV4dEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdobGlnaHRJdGVtID0gRG9tSGFuZGxlci5maW5kU2luZ2xlKG92ZXJsYXlSZWYuY3VycmVudCwgJ2xpJyk7XG5cbiAgICAgICAgICAgIGlmIChEb21IYW5kbGVyLmhhc0NsYXNzKGhpZ2hsaWdodEl0ZW0sICdwLWF1dG9jb21wbGV0ZS1pdGVtLWdyb3VwJykpIHtcbiAgICAgICAgICAgICAgaGlnaGxpZ2h0SXRlbSA9IGZpbmROZXh0SXRlbShoaWdobGlnaHRJdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhpZ2hsaWdodEl0ZW0pIHtcbiAgICAgICAgICAgICAgRG9tSGFuZGxlci5hZGRDbGFzcyhoaWdobGlnaHRJdGVtLCAncC1oaWdobGlnaHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvL3VwXG5cbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICBpZiAoaGlnaGxpZ2h0SXRlbSkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzRWxlbWVudCA9IGZpbmRQcmV2SXRlbShoaWdobGlnaHRJdGVtKTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgICAgICBEb21IYW5kbGVyLmFkZENsYXNzKHByZXZpb3VzRWxlbWVudCwgJ3AtaGlnaGxpZ2h0Jyk7XG4gICAgICAgICAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoaGlnaGxpZ2h0SXRlbSwgJ3AtaGlnaGxpZ2h0Jyk7XG4gICAgICAgICAgICAgIERvbUhhbmRsZXIuc2Nyb2xsSW5WaWV3KGdldFNjcm9sbGFibGVFbGVtZW50KCksIHByZXZpb3VzRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy9lbnRlclxuXG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgaWYgKGhpZ2hsaWdodEl0ZW0pIHtcbiAgICAgICAgICAgIHNlbGVjdEhpZ2hsaWdodEl0ZW0oZXZlbnQsIGhpZ2hsaWdodEl0ZW0pO1xuICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy9lc2NhcGVcblxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvL3RhYlxuXG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBpZiAoaGlnaGxpZ2h0SXRlbSkge1xuICAgICAgICAgICAgc2VsZWN0SGlnaGxpZ2h0SXRlbShldmVudCwgaGlnaGxpZ2h0SXRlbSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICAvL2JhY2tzcGFjZVxuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgaWYgKHByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlLmxlbmd0aCAmJiAhaW5wdXRSZWYuY3VycmVudC52YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHJlbW92ZWRWYWx1ZSA9IHByb3BzLnZhbHVlW3Byb3BzLnZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gcHJvcHMudmFsdWUuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKHByb3BzLm9uVW5zZWxlY3QpIHtcbiAgICAgICAgICAgICAgcHJvcHMub25VbnNlbGVjdCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlbW92ZWRWYWx1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIHNlbGVjdEhpZ2hsaWdodEl0ZW0gPSBmdW5jdGlvbiBzZWxlY3RIaWdobGlnaHRJdGVtKGV2ZW50LCBpdGVtKSB7XG4gICAgaWYgKHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpIHtcbiAgICAgIHZhciBvcHRpb25Hcm91cCA9IHByb3BzLnN1Z2dlc3Rpb25zW2l0ZW0uZGF0YXNldC5ncm91cF07XG4gICAgICBzZWxlY3RJdGVtKGV2ZW50LCBnZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKVtpdGVtLmRhdGFzZXQuaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0SXRlbShldmVudCwgcHJvcHMuc3VnZ2VzdGlvbnNbRG9tSGFuZGxlci5pbmRleChpdGVtKV0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZmluZE5leHRJdGVtID0gZnVuY3Rpb24gZmluZE5leHRJdGVtKGl0ZW0pIHtcbiAgICB2YXIgbmV4dEl0ZW0gPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgICByZXR1cm4gbmV4dEl0ZW0gPyBEb21IYW5kbGVyLmhhc0NsYXNzKG5leHRJdGVtLCAncC1hdXRvY29tcGxldGUtaXRlbS1ncm91cCcpID8gZmluZE5leHRJdGVtKG5leHRJdGVtKSA6IG5leHRJdGVtIDogbnVsbDtcbiAgfTtcblxuICB2YXIgZmluZFByZXZJdGVtID0gZnVuY3Rpb24gZmluZFByZXZJdGVtKGl0ZW0pIHtcbiAgICB2YXIgcHJldkl0ZW0gPSBpdGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgcmV0dXJuIHByZXZJdGVtID8gRG9tSGFuZGxlci5oYXNDbGFzcyhwcmV2SXRlbSwgJ3AtYXV0b2NvbXBsZXRlLWl0ZW0tZ3JvdXAnKSA/IGZpbmRQcmV2SXRlbShwcmV2SXRlbSkgOiBwcmV2SXRlbSA6IG51bGw7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uIG9uSW5wdXRGb2N1cyhldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICBwcm9wcy5vbkZvY3VzICYmIHByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICB9O1xuXG4gIHZhciBmb3JjZUl0ZW1TZWxlY3Rpb24gPSBmdW5jdGlvbiBmb3JjZUl0ZW1TZWxlY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgdmFyIGl0ZW0gPSAocHJvcHMuc3VnZ2VzdGlvbnMgfHwgW10pLmZpbmQoZnVuY3Rpb24gKGl0KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwcm9wcy5maWVsZCA/IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoaXQsIHByb3BzLmZpZWxkKSA6IGl0O1xuICAgICAgcmV0dXJuIHZhbHVlICYmIGlucHV0VmFsdWUgPT09IHZhbHVlLnRyaW0oKTtcbiAgICB9KTtcblxuICAgIGlmIChpdGVtKSB7XG4gICAgICBzZWxlY3RJdGVtKGV2ZW50LCBpdGVtLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG51bGwpO1xuICAgICAgcHJvcHMub25DbGVhciAmJiBwcm9wcy5vbkNsZWFyKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRCbHVyID0gZnVuY3Rpb24gb25JbnB1dEJsdXIoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUoZmFsc2UpO1xuXG4gICAgaWYgKHByb3BzLmZvcmNlU2VsZWN0aW9uKSB7XG4gICAgICBmb3JjZUl0ZW1TZWxlY3Rpb24oZXZlbnQpO1xuICAgIH1cblxuICAgIHByb3BzLm9uQmx1ciAmJiBwcm9wcy5vbkJsdXIoZXZlbnQpO1xuICB9O1xuXG4gIHZhciBvbk11bHRpQ29udGFpbmVyQ2xpY2sgPSBmdW5jdGlvbiBvbk11bHRpQ29udGFpbmVyQ2xpY2soZXZlbnQpIHtcbiAgICBEb21IYW5kbGVyLmZvY3VzKGlucHV0UmVmLmN1cnJlbnQpO1xuICAgIHByb3BzLm9uQ2xpY2sgJiYgcHJvcHMub25DbGljayhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uTXVsdGlJbnB1dEZvY3VzID0gZnVuY3Rpb24gb25NdWx0aUlucHV0Rm9jdXMoZXZlbnQpIHtcbiAgICBvbklucHV0Rm9jdXMoZXZlbnQpO1xuICAgIERvbUhhbmRsZXIuYWRkQ2xhc3MobXVsdGlDb250YWluZXJSZWYuY3VycmVudCwgJ3AtZm9jdXMnKTtcbiAgfTtcblxuICB2YXIgb25NdWx0aUlucHV0Qmx1ciA9IGZ1bmN0aW9uIG9uTXVsdGlJbnB1dEJsdXIoZXZlbnQpIHtcbiAgICBvbklucHV0Qmx1cihldmVudCk7XG4gICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhtdWx0aUNvbnRhaW5lclJlZi5jdXJyZW50LCAncC1mb2N1cycpO1xuICB9O1xuXG4gIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gaXNTZWxlY3RlZCh2YWwpIHtcbiAgICByZXR1cm4gcHJvcHMudmFsdWUgPyBwcm9wcy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZXF1YWxzKHYsIHZhbCk7XG4gICAgfSkgOiBmYWxzZTtcbiAgfTtcblxuICB2YXIgZmluZE9wdGlvbkluZGV4ID0gZnVuY3Rpb24gZmluZE9wdGlvbkluZGV4KG9wdGlvbikge1xuICAgIHJldHVybiBwcm9wcy5zdWdnZXN0aW9ucyA/IHByb3BzLnN1Z2dlc3Rpb25zLmZpbmRJbmRleChmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmVxdWFscyhzLCBvcHRpb24pO1xuICAgIH0pIDogLTE7XG4gIH07XG5cbiAgdmFyIGdldFNjcm9sbGFibGVFbGVtZW50ID0gZnVuY3Rpb24gZ2V0U2Nyb2xsYWJsZUVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50ID8gb3ZlcmxheVJlZi5jdXJyZW50LmZpcnN0Q2hpbGQgOiBvdmVybGF5UmVmLmN1cnJlbnQ7XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvbkdyb3VwTGFiZWwgPSBmdW5jdGlvbiBnZXRPcHRpb25Hcm91cExhYmVsKG9wdGlvbkdyb3VwKSB7XG4gICAgcmV0dXJuIHByb3BzLm9wdGlvbkdyb3VwTGFiZWwgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbkdyb3VwLCBwcm9wcy5vcHRpb25Hcm91cExhYmVsKSA6IG9wdGlvbkdyb3VwO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25Hcm91cENoaWxkcmVuID0gZnVuY3Rpb24gZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbihvcHRpb25Hcm91cCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbkdyb3VwLCBwcm9wcy5vcHRpb25Hcm91cENoaWxkcmVuKTtcbiAgfTtcblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhpbnB1dFJlZiwgcHJvcHMuaW5wdXRSZWYpO1xuICB9LCBbaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmXSk7XG4gIHVzZU1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlkU3RhdGUpIHtcbiAgICAgIHNldElkU3RhdGUoVW5pcXVlQ29tcG9uZW50SWQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmF1dG9Gb2N1cykge1xuICAgICAgRG9tSGFuZGxlci5mb2N1cyhpbnB1dFJlZi5jdXJyZW50LCBwcm9wcy5hdXRvRm9jdXMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNlYXJjaGluZ1N0YXRlKSB7XG4gICAgICBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnN1Z2dlc3Rpb25zKSA/IHNob3coKSA6IGhpZGUoKTtcbiAgICAgIHNldFNlYXJjaGluZ1N0YXRlKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtwcm9wcy5zdWdnZXN0aW9uc10pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ICYmICFwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgdXBkYXRlSW5wdXRGaWVsZChwcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgdXNlVW5tb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRpbWVvdXQuY3VycmVudCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQuY3VycmVudCk7XG4gICAgfVxuXG4gICAgWkluZGV4VXRpbHMuY2xlYXIob3ZlcmxheVJlZi5jdXJyZW50KTtcbiAgfSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRPdmVybGF5OiBmdW5jdGlvbiBnZXRPdmVybGF5KCkge1xuICAgICAgICByZXR1cm4gb3ZlcmxheVJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldElucHV0OiBmdW5jdGlvbiBnZXRJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0VmlydHVhbFNjcm9sbGVyOiBmdW5jdGlvbiBnZXRWaXJ0dWFsU2Nyb2xsZXIoKSB7XG4gICAgICAgIHJldHVybiB2aXJ0dWFsU2Nyb2xsZXJSZWYuY3VycmVudDtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICB2YXIgY3JlYXRlU2ltcGxlQXV0b0NvbXBsZXRlID0gZnVuY3Rpb24gY3JlYXRlU2ltcGxlQXV0b0NvbXBsZXRlKCkge1xuICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKHByb3BzLnZhbHVlKTtcbiAgICB2YXIgYXJpYUNvbnRyb2xzID0gb3ZlcmxheVZpc2libGVTdGF0ZSA/IGlkU3RhdGUgKyAnX2xpc3QnIDogbnVsbDtcbiAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1hdXRvY29tcGxldGUtaW5wdXQnLCBwcm9wcy5pbnB1dENsYXNzTmFtZSwge1xuICAgICAgJ3AtYXV0b2NvbXBsZXRlLWRkLWlucHV0JzogcHJvcHMuZHJvcGRvd25cbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXRUZXh0LCB7XG4gICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgaWQ6IHByb3BzLmlucHV0SWQsXG4gICAgICB0eXBlOiBwcm9wcy50eXBlLFxuICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWUsXG4gICAgICByb2xlOiBcImNvbWJvYm94XCIsXG4gICAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFwibGlzdFwiLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGFyaWFDb250cm9scyxcbiAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIixcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBvdmVybGF5VmlzaWJsZVN0YXRlLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogcHJvcHNbJ2FyaWEtbGFiZWxsZWRieSddLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzWydhcmlhLWxhYmVsJ10sXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5pbnB1dFN0eWxlLFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgcmVhZE9ubHk6IHByb3BzLnJlYWRPbmx5LFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgcGxhY2Vob2xkZXI6IHByb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgc2l6ZTogcHJvcHMuc2l6ZSxcbiAgICAgIG1heExlbmd0aDogcHJvcHMubWF4TGVuZ3RoLFxuICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgICAgb25CbHVyOiBvbklucHV0Qmx1cixcbiAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgIG9uQ2hhbmdlOiBvbklucHV0Q2hhbmdlLFxuICAgICAgb25Nb3VzZURvd246IHByb3BzLm9uTW91c2VEb3duLFxuICAgICAgb25LZXlVcDogcHJvcHMub25LZXlVcCxcbiAgICAgIG9uS2V5RG93bjogb25JbnB1dEtleURvd24sXG4gICAgICBvbktleVByZXNzOiBwcm9wcy5vbktleVByZXNzLFxuICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25Db250ZXh0TWVudSxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBvbkRvdWJsZUNsaWNrOiBwcm9wcy5vbkRibENsaWNrXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNoaXBzID0gZnVuY3Rpb24gY3JlYXRlQ2hpcHMoKSB7XG4gICAgaWYgKE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMudmFsdWUpKSB7XG4gICAgICByZXR1cm4gcHJvcHMudmFsdWUubWFwKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XG4gICAgICAgIHZhciBrZXkgPSBpbmRleCArICdtdWx0aS1pdGVtJztcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJwLWF1dG9jb21wbGV0ZS10b2tlbiBwLWhpZ2hsaWdodFwiXG4gICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInAtYXV0b2NvbXBsZXRlLXRva2VuLWxhYmVsXCJcbiAgICAgICAgfSwgZm9ybWF0VmFsdWUodmFsKSksICFwcm9wcy5kaXNhYmxlZCAmJiBJY29uVXRpbHMuZ2V0SlNYSWNvbihwcm9wcy5yZW1vdmVJY29uLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAncC1hdXRvY29tcGxldGUtdG9rZW4taWNvbicsXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlSXRlbShlLCBpbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVNdWx0aUlucHV0ID0gZnVuY3Rpb24gY3JlYXRlTXVsdGlJbnB1dCgpIHtcbiAgICB2YXIgYXJpYUNvbnRyb2xzID0gb3ZlcmxheVZpc2libGVTdGF0ZSA/IGlkU3RhdGUgKyAnX2xpc3QnIDogbnVsbDtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1hdXRvY29tcGxldGUtaW5wdXQtdG9rZW5cIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgIHR5cGU6IHByb3BzLnR5cGUsXG4gICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICBwbGFjZWhvbGRlcjogcHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICByb2xlOiBcImNvbWJvYm94XCIsXG4gICAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFwibGlzdFwiLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGFyaWFDb250cm9scyxcbiAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIixcbiAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBvdmVybGF5VmlzaWJsZVN0YXRlLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogcHJvcHNbJ2FyaWEtbGFiZWxsZWRieSddLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzWydhcmlhLWxhYmVsJ10sXG4gICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICBvbkNoYW5nZTogb25JbnB1dENoYW5nZSxcbiAgICAgIGlkOiBwcm9wcy5pbnB1dElkLFxuICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5pbnB1dFN0eWxlLFxuICAgICAgY2xhc3NOYW1lOiBwcm9wcy5pbnB1dENsYXNzTmFtZSxcbiAgICAgIG1heExlbmd0aDogcHJvcHMubWF4TGVuZ3RoLFxuICAgICAgb25LZXlVcDogcHJvcHMub25LZXlVcCxcbiAgICAgIG9uS2V5RG93bjogb25JbnB1dEtleURvd24sXG4gICAgICBvbktleVByZXNzOiBwcm9wcy5vbktleVByZXNzLFxuICAgICAgb25Gb2N1czogb25NdWx0aUlucHV0Rm9jdXMsXG4gICAgICBvbkJsdXI6IG9uTXVsdGlJbnB1dEJsdXJcbiAgICB9KSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU11bHRpcGxlQXV0b0NvbXBsZXRlID0gZnVuY3Rpb24gY3JlYXRlTXVsdGlwbGVBdXRvQ29tcGxldGUoKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtYXV0b2NvbXBsZXRlLW11bHRpcGxlLWNvbnRhaW5lciBwLWNvbXBvbmVudCBwLWlucHV0dGV4dCcsIHtcbiAgICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWRcbiAgICB9KTtcbiAgICB2YXIgdG9rZW5zID0gY3JlYXRlQ2hpcHMoKTtcbiAgICB2YXIgaW5wdXQgPSBjcmVhdGVNdWx0aUlucHV0KCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgICAgcmVmOiBtdWx0aUNvbnRhaW5lclJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25Db250ZXh0TWVudSxcbiAgICAgIG9uTW91c2VEb3duOiBwcm9wcy5vbk1vdXNlRG93bixcbiAgICAgIG9uQ2xpY2s6IG9uTXVsdGlDb250YWluZXJDbGljayxcbiAgICAgIG9uRG91YmxlQ2xpY2s6IHByb3BzLm9uRGJsQ2xpY2tcbiAgICB9LCB0b2tlbnMsIGlucHV0KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlRHJvcGRvd24gPSBmdW5jdGlvbiBjcmVhdGVEcm9wZG93bigpIHtcbiAgICBpZiAocHJvcHMuZHJvcGRvd24pIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgaWNvbjogcHJvcHMuZHJvcGRvd25JY29uLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1hdXRvY29tcGxldGUtZHJvcGRvd25cIixcbiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgICBvbkNsaWNrOiBvbkRyb3Bkb3duQ2xpY2tcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVMb2FkZXIgPSBmdW5jdGlvbiBjcmVhdGVMb2FkZXIoKSB7XG4gICAgaWYgKHNlYXJjaGluZ1N0YXRlKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtYXV0b2NvbXBsZXRlLWxvYWRlciBwaSBwaS1zcGlubmVyIHBpLXNwaW5cIlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUlucHV0ID0gZnVuY3Rpb24gY3JlYXRlSW5wdXQoKSB7XG4gICAgcmV0dXJuIHByb3BzLm11bHRpcGxlID8gY3JlYXRlTXVsdGlwbGVBdXRvQ29tcGxldGUoKSA6IGNyZWF0ZVNpbXBsZUF1dG9Db21wbGV0ZSgpO1xuICB9O1xuXG4gIHZhciBsaXN0SWQgPSBpZFN0YXRlICsgJ19saXN0JztcbiAgdmFyIGhhc1Rvb2x0aXAgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnRvb2x0aXApO1xuICB2YXIgb3RoZXJQcm9wcyA9IE9iamVjdFV0aWxzLmZpbmREaWZmS2V5cyhwcm9wcywgQXV0b0NvbXBsZXRlLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWF1dG9jb21wbGV0ZSBwLWNvbXBvbmVudCBwLWlucHV0d3JhcHBlcicsIHtcbiAgICAncC1hdXRvY29tcGxldGUtZGQnOiBwcm9wcy5kcm9wZG93bixcbiAgICAncC1hdXRvY29tcGxldGUtbXVsdGlwbGUnOiBwcm9wcy5tdWx0aXBsZSxcbiAgICAncC1pbnB1dHdyYXBwZXItZmlsbGVkJzogcHJvcHMudmFsdWUsXG4gICAgJ3AtaW5wdXR3cmFwcGVyLWZvY3VzJzogZm9jdXNlZFN0YXRlXG4gIH0sIHByb3BzLmNsYXNzTmFtZSk7XG4gIHZhciBsb2FkZXIgPSBjcmVhdGVMb2FkZXIoKTtcbiAgdmFyIGlucHV0ID0gY3JlYXRlSW5wdXQoKTtcbiAgdmFyIGRyb3Bkb3duID0gY3JlYXRlRHJvcGRvd24oKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBpZDogaWRTdGF0ZSxcbiAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgfSwgb3RoZXJQcm9wcyksIGlucHV0LCBsb2FkZXIsIGRyb3Bkb3duLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBdXRvQ29tcGxldGVQYW5lbCwgX2V4dGVuZHMoe1xuICAgIHJlZjogb3ZlcmxheVJlZixcbiAgICB2aXJ0dWFsU2Nyb2xsZXJSZWY6IHZpcnR1YWxTY3JvbGxlclJlZlxuICB9LCBwcm9wcywge1xuICAgIGxpc3RJZDogbGlzdElkLFxuICAgIG9uSXRlbUNsaWNrOiBzZWxlY3RJdGVtLFxuICAgIHNlbGVjdGVkSXRlbTogc2VsZWN0ZWRJdGVtLFxuICAgIG9uQ2xpY2s6IG9uUGFuZWxDbGljayxcbiAgICBnZXRPcHRpb25Hcm91cExhYmVsOiBnZXRPcHRpb25Hcm91cExhYmVsLFxuICAgIGdldE9wdGlvbkdyb3VwQ2hpbGRyZW46IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4sXG4gICAgXCJpblwiOiBvdmVybGF5VmlzaWJsZVN0YXRlLFxuICAgIG9uRW50ZXI6IG9uT3ZlcmxheUVudGVyLFxuICAgIG9uRW50ZXJpbmc6IG9uT3ZlcmxheUVudGVyaW5nLFxuICAgIG9uRW50ZXJlZDogb25PdmVybGF5RW50ZXJlZCxcbiAgICBvbkV4aXQ6IG9uT3ZlcmxheUV4aXQsXG4gICAgb25FeGl0ZWQ6IG9uT3ZlcmxheUV4aXRlZFxuICB9KSkpLCBoYXNUb29sdGlwICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgY29udGVudDogcHJvcHMudG9vbHRpcFxuICB9LCBwcm9wcy50b29sdGlwT3B0aW9ucykpKTtcbn0pKTtcbkF1dG9Db21wbGV0ZS5kaXNwbGF5TmFtZSA9ICdBdXRvQ29tcGxldGUnO1xuQXV0b0NvbXBsZXRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnQXV0b0NvbXBsZXRlJyxcbiAgaWQ6IG51bGwsXG4gIGlucHV0UmVmOiBudWxsLFxuICB2YWx1ZTogbnVsbCxcbiAgbmFtZTogbnVsbCxcbiAgdHlwZTogJ3RleHQnLFxuICBzdWdnZXN0aW9uczogbnVsbCxcbiAgZmllbGQ6IG51bGwsXG4gIG9wdGlvbkdyb3VwTGFiZWw6IG51bGwsXG4gIG9wdGlvbkdyb3VwQ2hpbGRyZW46IG51bGwsXG4gIG9wdGlvbkdyb3VwVGVtcGxhdGU6IG51bGwsXG4gIGZvcmNlU2VsZWN0aW9uOiBmYWxzZSxcbiAgYXV0b0hpZ2hsaWdodDogZmFsc2UsXG4gIHZpcnR1YWxTY3JvbGxlck9wdGlvbnM6IG51bGwsXG4gIHNjcm9sbEhlaWdodDogJzIwMHB4JyxcbiAgZHJvcGRvd246IGZhbHNlLFxuICBkcm9wZG93bk1vZGU6ICdibGFuaycsXG4gIGRyb3Bkb3duQXV0b0ZvY3VzOiB0cnVlLFxuICBtdWx0aXBsZTogZmFsc2UsXG4gIG1pbkxlbmd0aDogMSxcbiAgZGVsYXk6IDMwMCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgaW5wdXRJZDogbnVsbCxcbiAgaW5wdXRTdHlsZTogbnVsbCxcbiAgaW5wdXRDbGFzc05hbWU6IG51bGwsXG4gIHBhbmVsQ2xhc3NOYW1lOiBudWxsLFxuICBwYW5lbFN0eWxlOiBudWxsLFxuICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgcmVhZE9ubHk6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIG1heExlbmd0aDogbnVsbCxcbiAgc2l6ZTogbnVsbCxcbiAgYXBwZW5kVG86IG51bGwsXG4gIHRhYkluZGV4OiBudWxsLFxuICBhdXRvRm9jdXM6IGZhbHNlLFxuICB0b29sdGlwOiBudWxsLFxuICB0b29sdGlwT3B0aW9uczogbnVsbCxcbiAgY29tcGxldGVNZXRob2Q6IG51bGwsXG4gIGl0ZW1UZW1wbGF0ZTogbnVsbCxcbiAgc2VsZWN0ZWRJdGVtVGVtcGxhdGU6IG51bGwsXG4gIHRyYW5zaXRpb25PcHRpb25zOiBudWxsLFxuICBkcm9wZG93bkljb246ICdwaSBwaS1jaGV2cm9uLWRvd24nLFxuICByZW1vdmVJY29uOiAncGkgcGktdGltZXMtY2lyY2xlJyxcbiAgJ2FyaWEtbGFiZWwnOiBudWxsLFxuICAnYXJpYS1sYWJlbGxlZGJ5JzogbnVsbCxcbiAgb25DaGFuZ2U6IG51bGwsXG4gIG9uRm9jdXM6IG51bGwsXG4gIG9uQmx1cjogbnVsbCxcbiAgb25TZWxlY3Q6IG51bGwsXG4gIG9uVW5zZWxlY3Q6IG51bGwsXG4gIG9uRHJvcGRvd25DbGljazogbnVsbCxcbiAgb25DbGljazogbnVsbCxcbiAgb25EYmxDbGljazogbnVsbCxcbiAgb25Nb3VzZURvd246IG51bGwsXG4gIG9uS2V5VXA6IG51bGwsXG4gIG9uS2V5UHJlc3M6IG51bGwsXG4gIG9uQ29udGV4dE1lbnU6IG51bGwsXG4gIG9uQ2xlYXI6IG51bGwsXG4gIG9uU2hvdzogbnVsbCxcbiAgb25IaWRlOiBudWxsXG59O1xuXG5leHBvcnQgeyBBdXRvQ29tcGxldGUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/autocomplete/autocomplete.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/calendar/calendar.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/primereact/calendar/calendar.esm.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Calendar\": function() { return /* binding */ Calendar; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/button */ \"./node_modules/primereact/button/button.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$1(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar CalendarPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var createElement = function createElement() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_8__.CSSTransition, {\n      nodeRef: ref,\n      classNames: \"p-connected-overlay\",\n      \"in\": props[\"in\"],\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: props.onEnter,\n      onEntered: props.onEntered,\n      onExit: props.onExit,\n      onExited: props.onExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: ref,\n      className: props.className,\n      style: props.style,\n      onClick: props.onClick,\n      onMouseUp: props.onMouseUp\n    }, props.children));\n  };\n\n  var element = createElement();\n  return props.inline ? element : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_9__.Portal, {\n    element: element,\n    appendTo: props.appendTo\n  });\n});\nCalendarPanel.displayName = 'CalendarPanel';\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar Calendar = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _classNames;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focusedState = _React$useState2[0],\n      setFocusedState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      overlayVisibleState = _React$useState4[0],\n      setOverlayVisibleState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      viewDateState = _React$useState6[0],\n      setViewDateState = _React$useState6[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n  var navigation = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var ignoreFocusFunctionality = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var isKeydown = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var timePickerTimer = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var viewStateChanged = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var touchUIMask = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayEventListener = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var touchUIMaskClickListener = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isOverlayClicked = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var ignoreMaskChange = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState('date'),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      currentView = _React$useState8[0],\n      setCurrentView = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(null),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      currentMonth = _React$useState10[0],\n      setCurrentMonth = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0__.useState(null),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      currentYear = _React$useState12[0],\n      setCurrentYear = _React$useState12[1];\n\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      yearOptions = _React$useState14[0],\n      setYearOptions = _React$useState14[1];\n\n  var previousValue = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.usePrevious)(props.value);\n  var visible = props.inline || (props.onVisibleChange ? props.visible : overlayVisibleState);\n  var attributeSelector = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.UniqueComponentId)();\n\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useOverlayListener)({\n    target: elementRef,\n    overlay: overlayRef,\n    listener: function listener(event, _ref) {\n      var type = _ref.type,\n          valid = _ref.valid;\n\n      if (valid) {\n        type === 'outside' ? !isOverlayClicked.current && !isNavIconClicked(event.target) && hide('outside') : hide();\n      }\n\n      isOverlayClicked.current = false;\n    },\n    when: !(props.touchUI || props.inline) && visible\n  }),\n      _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n      bindOverlayListener = _useOverlayListener2[0],\n      unbindOverlayListener = _useOverlayListener2[1];\n\n  var getDateFormat = function getDateFormat() {\n    return props.dateFormat || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('dateFormat', props.locale);\n  };\n\n  var onInputFocus = function onInputFocus(event) {\n    if (ignoreFocusFunctionality.current) {\n      setFocusedState(true);\n      ignoreFocusFunctionality.current = false;\n    } else {\n      if (props.showOnFocus && !visible) {\n        show();\n      }\n\n      setFocusedState(true);\n      props.onFocus && props.onFocus(event);\n    }\n  };\n\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n    !props.keepInvalid && updateInputfield(props.value);\n    props.onBlur && props.onBlur(event);\n  };\n\n  var onInputKeyDown = function onInputKeyDown(event) {\n    isKeydown.current = true;\n\n    switch (event.which) {\n      //escape\n      case 27:\n        {\n          hide();\n          break;\n        }\n      //tab\n\n      case 9:\n        {\n          visible && trapFocus(event);\n          props.touchUI && disableModality();\n          break;\n        }\n    }\n  };\n\n  var onUserInput = function onUserInput(event) {\n    // IE 11 Workaround for input placeholder\n    if (!isKeydown.current) {\n      return;\n    }\n\n    isKeydown.current = false;\n    updateValueOnInput(event, event.target.value);\n    props.onInput && props.onInput(event);\n  };\n\n  var updateValueOnInput = function updateValueOnInput(event, rawValue) {\n    try {\n      var value = parseValueFromString(rawValue);\n\n      if (isValidSelection(value)) {\n        updateModel(event, value);\n        updateViewDate(event, value.length ? value[0] : value);\n      }\n    } catch (err) {\n      //invalid date\n      var _value = props.keepInvalid ? rawValue : null;\n\n      updateModel(event, _value);\n    }\n  };\n\n  var reFocusInputField = function reFocusInputField() {\n    if (!props.inline && inputRef.current) {\n      ignoreFocusFunctionality.current = true;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.focus(inputRef.current);\n    }\n  };\n\n  var isValidSelection = function isValidSelection(value) {\n    var isValid = true;\n\n    if (isSingleSelection()) {\n      if (!(isSelectable(value.getDate(), value.getMonth(), value.getFullYear(), false) && isSelectableTime(value))) {\n        isValid = false;\n      }\n    } else if (value.every(function (v) {\n      return isSelectable(v.getDate(), v.getMonth(), v.getFullYear(), false) && isSelectableTime(v);\n    })) {\n      if (isRangeSelection()) {\n        isValid = value.length > 1 && value[1] > value[0] ? true : false;\n      }\n    }\n\n    return isValid;\n  };\n\n  var onButtonClick = function onButtonClick() {\n    visible ? hide() : show();\n  };\n\n  var onPrevButtonClick = function onPrevButtonClick(event) {\n    navigation.current = {\n      backward: true,\n      button: true\n    };\n    navBackward(event);\n  };\n\n  var onNextButtonClick = function onNextButtonClick(event) {\n    navigation.current = {\n      backward: false,\n      button: true\n    };\n    navForward(event);\n  };\n\n  var onContainerButtonKeydown = function onContainerButtonKeydown(event) {\n    switch (event.which) {\n      //tab\n      case 9:\n        trapFocus(event);\n        break;\n      //escape\n\n      case 27:\n        hide(null, reFocusInputField);\n        event.preventDefault();\n        break;\n    }\n  };\n\n  var trapFocus = function trapFocus(event) {\n    event.preventDefault();\n    var focusableElements = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.getFocusableElements(overlayRef.current);\n\n    if (focusableElements && focusableElements.length > 0) {\n      if (!document.activeElement) {\n        focusableElements[0].focus();\n      } else {\n        var focusedIndex = focusableElements.indexOf(document.activeElement);\n\n        if (event.shiftKey) {\n          if (focusedIndex === -1 || focusedIndex === 0) focusableElements[focusableElements.length - 1].focus();else focusableElements[focusedIndex - 1].focus();\n        } else {\n          if (focusedIndex === -1 || focusedIndex === focusableElements.length - 1) focusableElements[0].focus();else focusableElements[focusedIndex + 1].focus();\n        }\n      }\n    }\n  };\n\n  var updateFocus = function updateFocus() {\n    if (navigation.current) {\n      if (navigation.current.button) {\n        initFocusableCell();\n        if (navigation.current.backward) primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, '.p-datepicker-prev').focus();else primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, '.p-datepicker-next').focus();\n      } else {\n        var cell;\n\n        if (navigation.current.backward) {\n          var cells = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.find(overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)');\n          cell = cells[cells.length - 1];\n        } else {\n          cell = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)');\n        }\n\n        if (cell) {\n          cell.tabIndex = '0';\n          cell.focus();\n        }\n      }\n\n      navigation.current = null;\n    } else {\n      initFocusableCell();\n    }\n  };\n\n  var initFocusableCell = function initFocusableCell() {\n    var cell;\n\n    if (props.view === 'month') {\n      var cells = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.find(overlayRef.current, '.p-monthpicker .p-monthpicker-month');\n      var selectedCell = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, '.p-monthpicker .p-monthpicker-month.p-highlight');\n      cells.forEach(function (cell) {\n        return cell.tabIndex = -1;\n      });\n      cell = selectedCell || cells[0];\n    } else {\n      cell = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, 'span.p-highlight');\n\n      if (!cell) {\n        var todayCell = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, 'td.p-datepicker-today span:not(.p-disabled)');\n        cell = todayCell || primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)');\n      }\n    }\n\n    if (cell) {\n      cell.tabIndex = '0';\n    }\n  };\n\n  var navBackward = function navBackward(event) {\n    if (props.disabled) {\n      event.preventDefault();\n      return;\n    }\n\n    var newViewDate = new Date(getViewDate().getTime());\n    newViewDate.setDate(1);\n\n    if (currentView === 'date') {\n      if (newViewDate.getMonth() === 0) {\n        newViewDate.setMonth(11);\n        newViewDate.setFullYear(decrementYear());\n        setCurrentMonth(11);\n      } else {\n        newViewDate.setMonth(newViewDate.getMonth() - 1);\n        setCurrentMonth(function (prevState) {\n          return prevState - 1;\n        });\n      }\n    } else if (currentView === 'month') {\n      var newYear = newViewDate.getFullYear() - 1;\n\n      if (props.yearNavigator) {\n        var minYear = parseInt(props.yearRange.split(':')[0], 10);\n\n        if (newYear < minYear) {\n          newYear = minYear;\n        }\n      }\n\n      newViewDate.setFullYear(newYear);\n    }\n\n    if (currentView === 'month') {\n      newViewDate.setFullYear(decrementYear());\n    } else if (currentView === 'year') {\n      newViewDate.setFullYear(decrementDecade());\n    }\n\n    updateViewDate(event, newViewDate);\n    event.preventDefault();\n  };\n\n  var navForward = function navForward(event) {\n    if (props.disabled) {\n      event.preventDefault();\n      return;\n    }\n\n    var newViewDate = new Date(getViewDate().getTime());\n    newViewDate.setDate(1);\n\n    if (currentView === 'date') {\n      if (newViewDate.getMonth() === 11) {\n        newViewDate.setMonth(0);\n        newViewDate.setFullYear(incrementYear());\n        setCurrentMonth(0);\n      } else {\n        newViewDate.setMonth(newViewDate.getMonth() + 1);\n        setCurrentMonth(function (prevState) {\n          return prevState + 1;\n        });\n      }\n    } else if (currentView === 'month') {\n      var newYear = newViewDate.getFullYear() + 1;\n\n      if (props.yearNavigator) {\n        var maxYear = parseInt(props.yearRange.split(':')[1], 10);\n\n        if (newYear > maxYear) {\n          newYear = maxYear;\n        }\n      }\n\n      newViewDate.setFullYear(newYear);\n    }\n\n    if (currentView === 'month') {\n      newViewDate.setFullYear(incrementYear());\n    } else if (currentView === 'year') {\n      newViewDate.setFullYear(incrementDecade());\n    }\n\n    updateViewDate(event, newViewDate);\n    event.preventDefault();\n  };\n\n  var populateYearOptions = function populateYearOptions(start, end) {\n    var _yearOptions = [];\n\n    for (var i = start; i <= end; i++) {\n      yearOptions.push(i);\n    }\n\n    setYearOptions(_yearOptions);\n  };\n\n  var decrementYear = function decrementYear() {\n    var _currentYear = currentYear - 1;\n\n    setCurrentYear(_currentYear);\n\n    if (props.yearNavigator && _currentYear < yearOptions[0]) {\n      var difference = yearOptions[yearOptions.length - 1] - yearOptions[0];\n      populateYearOptions(yearOptions[0] - difference, yearOptions[yearOptions.length - 1] - difference);\n    }\n\n    return _currentYear;\n  };\n\n  var incrementYear = function incrementYear() {\n    var _currentYear = currentYear + 1;\n\n    setCurrentYear(_currentYear);\n\n    if (props.yearNavigator && _currentYear.current > yearOptions[yearOptions.length - 1]) {\n      var difference = yearOptions[yearOptions.length - 1] - yearOptions[0];\n      populateYearOptions(yearOptions[0] + difference, yearOptions[yearOptions.length - 1] + difference);\n    }\n\n    return _currentYear;\n  };\n\n  var onMonthDropdownChange = function onMonthDropdownChange(event, value) {\n    var currentViewDate = getViewDate();\n    var newViewDate = new Date(currentViewDate.getTime());\n    newViewDate.setMonth(parseInt(value, 10));\n    updateViewDate(event, newViewDate);\n  };\n\n  var onYearDropdownChange = function onYearDropdownChange(event, value) {\n    var currentViewDate = getViewDate();\n    var newViewDate = new Date(currentViewDate.getTime());\n    newViewDate.setFullYear(parseInt(value, 10));\n    updateViewDate(event, newViewDate);\n  };\n\n  var onTodayButtonClick = function onTodayButtonClick(event) {\n    var today = new Date();\n    var dateMeta = {\n      day: today.getDate(),\n      month: today.getMonth(),\n      year: today.getFullYear(),\n      today: true,\n      selectable: true\n    };\n    var timeMeta = {\n      hours: today.getHours(),\n      minutes: today.getMinutes(),\n      seconds: today.getSeconds(),\n      milliseconds: today.getMilliseconds()\n    };\n    updateViewDate(event, today);\n    onDateSelect(event, dateMeta, timeMeta);\n    props.onTodayButtonClick && props.onTodayButtonClick(event);\n  };\n\n  var onClearButtonClick = function onClearButtonClick(event) {\n    updateModel(event, null);\n    updateInputfield(null);\n    hide();\n    props.onClearButtonClick && props.onClearButtonClick(event);\n  };\n\n  var onPanelClick = function onPanelClick(event) {\n    if (!props.inline) {\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__.OverlayService.emit('overlay-click', {\n        originalEvent: event,\n        target: elementRef.current\n      });\n    }\n  };\n\n  var onPanelMouseUp = function onPanelMouseUp(event) {\n    onPanelClick(event);\n  };\n\n  var onTimePickerElementMouseDown = function onTimePickerElementMouseDown(event, type, direction) {\n    if (!props.disabled) {\n      repeat(event, null, type, direction);\n      event.preventDefault();\n    }\n  };\n\n  var onTimePickerElementMouseUp = function onTimePickerElementMouseUp() {\n    if (!props.disabled) {\n      clearTimePickerTimer();\n    }\n  };\n\n  var onTimePickerElementMouseLeave = function onTimePickerElementMouseLeave() {\n    if (!props.disabled) {\n      clearTimePickerTimer();\n    }\n  };\n\n  var repeat = function repeat(event, interval, type, direction) {\n    clearTimePickerTimer();\n    timePickerTimer.current = setTimeout(function () {\n      repeat(event, 100, type, direction);\n    }, interval || 500);\n\n    switch (type) {\n      case 0:\n        if (direction === 1) incrementHour(event);else decrementHour(event);\n        break;\n\n      case 1:\n        if (direction === 1) incrementMinute(event);else decrementMinute(event);\n        break;\n\n      case 2:\n        if (direction === 1) incrementSecond(event);else decrementSecond(event);\n        break;\n\n      case 3:\n        if (direction === 1) incrementMilliSecond(event);else decrementMilliSecond(event);\n        break;\n    }\n  };\n\n  var clearTimePickerTimer = function clearTimePickerTimer() {\n    if (timePickerTimer.current) {\n      clearTimeout(timePickerTimer.current);\n    }\n  };\n\n  var incrementHour = function incrementHour(event) {\n    var currentTime = getCurrentDateTime();\n    var currentHour = currentTime.getHours();\n    var newHour = currentHour + props.stepHour;\n    newHour = newHour >= 24 ? newHour - 24 : newHour;\n\n    if (validateHour(newHour, currentTime)) {\n      if (props.maxDate && props.maxDate.toDateString() === currentTime.toDateString() && props.maxDate.getHours() === newHour) {\n        if (props.maxDate.getMinutes() < currentTime.getMinutes()) {\n          if (props.maxDate.getSeconds() < currentTime.getSeconds()) {\n            if (props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\n              updateTime(event, newHour, props.maxDate.getMinutes(), props.maxDate.getSeconds(), props.maxDate.getMilliseconds());\n            } else {\n              updateTime(event, newHour, props.maxDate.getMinutes(), props.maxDate.getSeconds(), currentTime.getMilliseconds());\n            }\n          } else {\n            updateTime(event, newHour, props.maxDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n          }\n        } else if (props.maxDate.getMinutes() === currentTime.getMinutes()) {\n          if (props.maxDate.getSeconds() < currentTime.getSeconds()) {\n            if (props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\n              updateTime(event, newHour, props.maxDate.getMinutes(), props.maxDate.getSeconds(), props.maxDate.getMilliseconds());\n            } else {\n              updateTime(event, newHour, props.maxDate.getMinutes(), props.maxDate.getSeconds(), currentTime.getMilliseconds());\n            }\n          } else {\n            updateTime(event, newHour, props.maxDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n          }\n        } else {\n          updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n        }\n      } else {\n        updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var decrementHour = function decrementHour(event) {\n    var currentTime = getCurrentDateTime();\n    var currentHour = currentTime.getHours();\n    var newHour = currentHour - props.stepHour;\n    newHour = newHour < 0 ? newHour + 24 : newHour;\n\n    if (validateHour(newHour, currentTime)) {\n      if (props.minDate && props.minDate.toDateString() === currentTime.toDateString() && props.minDate.getHours() === newHour) {\n        if (props.minDate.getMinutes() > currentTime.getMinutes()) {\n          if (props.minDate.getSeconds() > currentTime.getSeconds()) {\n            if (props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\n              updateTime(event, newHour, props.minDate.getMinutes(), props.minDate.getSeconds(), props.minDate.getMilliseconds());\n            } else {\n              updateTime(event, newHour, props.minDate.getMinutes(), props.minDate.getSeconds(), currentTime.getMilliseconds());\n            }\n          } else {\n            updateTime(event, newHour, props.minDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n          }\n        } else if (props.minDate.getMinutes() === currentTime.getMinutes()) {\n          if (props.minDate.getSeconds() > currentTime.getSeconds()) {\n            if (props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\n              updateTime(event, newHour, props.minDate.getMinutes(), props.minDate.getSeconds(), props.minDate.getMilliseconds());\n            } else {\n              updateTime(event, newHour, props.minDate.getMinutes(), props.minDate.getSeconds(), currentTime.getMilliseconds());\n            }\n          } else {\n            updateTime(event, newHour, props.minDate.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n          }\n        } else {\n          updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n        }\n      } else {\n        updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var doStepMinute = function doStepMinute(currentMinute, step) {\n    if (props.stepMinute <= 1) {\n      return step ? currentMinute + step : currentMinute;\n    }\n\n    if (!step) {\n      step = props.stepMinute;\n\n      if (currentMinute % step === 0) {\n        return currentMinute;\n      }\n    }\n\n    return Math.floor((currentMinute + step) / step) * step;\n  };\n\n  var incrementMinute = function incrementMinute(event) {\n    var currentTime = getCurrentDateTime();\n    var currentMinute = currentTime.getMinutes();\n    var newMinute = doStepMinute(currentMinute, props.stepMinute);\n    newMinute = newMinute > 59 ? newMinute - 60 : newMinute;\n\n    if (validateMinute(newMinute, currentTime)) {\n      if (props.maxDate && props.maxDate.toDateString() === currentTime.toDateString() && props.maxDate.getMinutes() === newMinute) {\n        if (props.maxDate.getSeconds() < currentTime.getSeconds()) {\n          if (props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\n            updateTime(event, currentTime.getHours(), newMinute, props.maxDate.getSeconds(), props.maxDate.getMilliseconds());\n          } else {\n            updateTime(event, currentTime.getHours(), newMinute, props.maxDate.getSeconds(), currentTime.getMilliseconds());\n          }\n        } else {\n          updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\n        }\n      } else {\n        updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var decrementMinute = function decrementMinute(event) {\n    var currentTime = getCurrentDateTime();\n    var currentMinute = currentTime.getMinutes();\n    var newMinute = doStepMinute(currentMinute, -props.stepMinute);\n    newMinute = newMinute < 0 ? newMinute + 60 : newMinute;\n\n    if (validateMinute(newMinute, currentTime)) {\n      if (props.minDate && props.minDate.toDateString() === currentTime.toDateString() && props.minDate.getMinutes() === newMinute) {\n        if (props.minDate.getSeconds() > currentTime.getSeconds()) {\n          if (props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\n            updateTime(event, currentTime.getHours(), newMinute, props.minDate.getSeconds(), props.minDate.getMilliseconds());\n          } else {\n            updateTime(event, currentTime.getHours(), newMinute, props.minDate.getSeconds(), currentTime.getMilliseconds());\n          }\n        } else {\n          updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\n        }\n      } else {\n        updateTime(event, currentTime.getHours(), newMinute, currentTime.getSeconds(), currentTime.getMilliseconds());\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var incrementSecond = function incrementSecond(event) {\n    var currentTime = getCurrentDateTime();\n    var currentSecond = currentTime.getSeconds();\n    var newSecond = currentSecond + props.stepSecond;\n    newSecond = newSecond > 59 ? newSecond - 60 : newSecond;\n\n    if (validateSecond(newSecond, currentTime)) {\n      if (props.maxDate && props.maxDate.toDateString() === currentTime.toDateString() && props.maxDate.getSeconds() === newSecond) {\n        if (props.maxDate.getMilliseconds() < currentTime.getMilliseconds()) {\n          updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, props.maxDate.getMilliseconds());\n        } else {\n          updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\n        }\n      } else {\n        updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var decrementSecond = function decrementSecond(event) {\n    var currentTime = getCurrentDateTime();\n    var currentSecond = currentTime.getSeconds();\n    var newSecond = currentSecond - props.stepSecond;\n    newSecond = newSecond < 0 ? newSecond + 60 : newSecond;\n\n    if (validateSecond(newSecond, currentTime)) {\n      if (props.minDate && props.minDate.toDateString() === currentTime.toDateString() && props.minDate.getSeconds() === newSecond) {\n        if (props.minDate.getMilliseconds() > currentTime.getMilliseconds()) {\n          updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, props.minDate.getMilliseconds());\n        } else {\n          updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\n        }\n      } else {\n        updateTime(event, currentTime.getHours(), currentTime.getMinutes(), newSecond, currentTime.getMilliseconds());\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var incrementMilliSecond = function incrementMilliSecond(event) {\n    var currentTime = getCurrentDateTime();\n    var currentMillisecond = currentTime.getMilliseconds();\n    var newMillisecond = currentMillisecond + props.stepMillisec;\n    newMillisecond = newMillisecond > 999 ? newMillisecond - 1000 : newMillisecond;\n\n    if (validateMillisecond(newMillisecond, currentTime)) {\n      updateTime(event, currentTime.getHours(), currentTime.getMinutes(), currentTime.getSeconds(), newMillisecond);\n    }\n\n    event.preventDefault();\n  };\n\n  var decrementMilliSecond = function decrementMilliSecond(event) {\n    var currentTime = getCurrentDateTime();\n    var currentMillisecond = currentTime.getMilliseconds();\n    var newMillisecond = currentMillisecond - props.stepMillisec;\n    newMillisecond = newMillisecond < 0 ? newMillisecond + 999 : newMillisecond;\n\n    if (validateMillisecond(newMillisecond, currentTime)) {\n      updateTime(event, currentTime.getHours(), currentTime.getMinutes(), currentTime.getSeconds(), newMillisecond);\n    }\n\n    event.preventDefault();\n  };\n\n  var toggleAmPm = function toggleAmPm(event) {\n    var currentTime = getCurrentDateTime();\n    var currentHour = currentTime.getHours();\n    var newHour = currentHour >= 12 ? currentHour - 12 : currentHour + 12;\n\n    if (validateHour(convertTo24Hour(newHour, !(currentHour > 11)), currentTime)) {\n      updateTime(event, newHour, currentTime.getMinutes(), currentTime.getSeconds(), currentTime.getMilliseconds());\n    }\n\n    event.preventDefault();\n  };\n\n  var getViewDate = function getViewDate(date) {\n    var propValue = props.value;\n    var viewDate = date || (props.onViewDateChange ? props.viewDate : viewDateState);\n\n    if (Array.isArray(propValue)) {\n      propValue = propValue[0];\n    }\n\n    return viewDate && isValidDate(viewDate) ? viewDate : propValue && isValidDate(propValue) ? propValue : new Date();\n  };\n\n  var getCurrentDateTime = function getCurrentDateTime() {\n    if (isSingleSelection()) {\n      return props.value && props.value instanceof Date ? props.value : getViewDate();\n    } else if (isMultipleSelection()) {\n      if (props.value && props.value.length) {\n        return props.value[props.value.length - 1];\n      }\n    } else if (isRangeSelection()) {\n      if (props.value && props.value.length) {\n        var startDate = props.value[0];\n        var endDate = props.value[1];\n        return endDate || startDate;\n      }\n    }\n\n    return new Date();\n  };\n\n  var isValidDate = function isValidDate(date) {\n    return date instanceof Date && !isNaN(date);\n  };\n\n  var convertTo24Hour = function convertTo24Hour(hour, pm) {\n    if (props.hourFormat == '12') {\n      return hour === 12 ? pm ? 12 : 0 : pm ? hour + 12 : hour;\n    }\n\n    return hour;\n  };\n\n  var validateHour = function validateHour(hour, value) {\n    var valid = true;\n    var valueDateString = value ? value.toDateString() : null;\n\n    if (props.minDate && valueDateString && props.minDate.toDateString() === valueDateString) {\n      if (props.minDate.getHours() > hour) {\n        valid = false;\n      }\n    }\n\n    if (props.maxDate && valueDateString && props.maxDate.toDateString() === valueDateString) {\n      if (props.maxDate.getHours() < hour) {\n        valid = false;\n      }\n    }\n\n    return valid;\n  };\n\n  var validateMinute = function validateMinute(minute, value) {\n    var valid = true;\n    var valueDateString = value ? value.toDateString() : null;\n\n    if (props.minDate && valueDateString && props.minDate.toDateString() === valueDateString) {\n      if (value.getHours() === props.minDate.getHours()) {\n        if (props.minDate.getMinutes() > minute) {\n          valid = false;\n        }\n      }\n    }\n\n    if (props.maxDate && valueDateString && props.maxDate.toDateString() === valueDateString) {\n      if (value.getHours() === props.maxDate.getHours()) {\n        if (props.maxDate.getMinutes() < minute) {\n          valid = false;\n        }\n      }\n    }\n\n    return valid;\n  };\n\n  var validateSecond = function validateSecond(second, value) {\n    var valid = true;\n    var valueDateString = value ? value.toDateString() : null;\n\n    if (props.minDate && valueDateString && props.minDate.toDateString() === valueDateString) {\n      if (value.getHours() === props.minDate.getHours() && value.getMinutes() === props.minDate.getMinutes()) {\n        if (props.minDate.getSeconds() > second) {\n          valid = false;\n        }\n      }\n    }\n\n    if (props.maxDate && valueDateString && props.maxDate.toDateString() === valueDateString) {\n      if (value.getHours() === props.maxDate.getHours() && value.getMinutes() === props.maxDate.getMinutes()) {\n        if (props.maxDate.getSeconds() < second) {\n          valid = false;\n        }\n      }\n    }\n\n    return valid;\n  };\n\n  var validateMillisecond = function validateMillisecond(millisecond, value) {\n    var valid = true;\n    var valueDateString = value ? value.toDateString() : null;\n\n    if (props.minDate && valueDateString && props.minDate.toDateString() === valueDateString) {\n      if (value.getHours() === props.minDate.getHours() && value.getSeconds() === props.minDate.getSeconds() && value.getMinutes() === props.minDate.getMinutes()) {\n        if (props.minDate.getMilliseconds() > millisecond) {\n          valid = false;\n        }\n      }\n    }\n\n    if (props.maxDate && valueDateString && props.maxDate.toDateString() === valueDateString) {\n      if (value.getHours() === props.maxDate.getHours() && value.getSeconds() === props.maxDate.getSeconds() && value.getMinutes() === props.maxDate.getMinutes()) {\n        if (props.maxDate.getMilliseconds() < millisecond) {\n          valid = false;\n        }\n      }\n    }\n\n    return valid;\n  };\n\n  var validateDate = function validateDate(value) {\n    if (props.yearNavigator) {\n      var viewYear = value.getFullYear();\n      var minRangeYear = props.yearRange ? parseInt(props.yearRange.split(':')[0], 10) : null;\n      var maxRangeYear = props.yearRange ? parseInt(props.yearRange.split(':')[1], 10) : null;\n      var minYear = props.minDate && minRangeYear != null ? Math.max(props.minDate.getFullYear(), minRangeYear) : props.minDate || minRangeYear;\n      var maxYear = props.maxDate && maxRangeYear != null ? Math.min(props.maxDate.getFullYear(), maxRangeYear) : props.maxDate || maxRangeYear;\n\n      if (minYear && minYear > viewYear) {\n        viewYear = minYear;\n      }\n\n      if (maxYear && maxYear < viewYear) {\n        viewYear = maxYear;\n      }\n\n      value.setFullYear(viewYear);\n    }\n\n    if (props.monthNavigator && props.view !== 'month') {\n      var viewMonth = value.getMonth();\n      var viewMonthWithMinMax = parseInt(isInMinYear(value) && Math.max(props.minDate.getMonth(), viewMonth).toString() || isInMaxYear(value) && Math.min(props.maxDate.getMonth(), viewMonth).toString() || viewMonth);\n      value.setMonth(viewMonthWithMinMax);\n    }\n  };\n\n  var updateTime = function updateTime(event, hour, minute, second, millisecond) {\n    var newDateTime = getCurrentDateTime();\n    newDateTime.setHours(hour);\n    newDateTime.setMinutes(minute);\n    newDateTime.setSeconds(second);\n    newDateTime.setMilliseconds(millisecond);\n\n    if (isMultipleSelection()) {\n      if (props.value && props.value.length) {\n        var value = _toConsumableArray(props.value);\n\n        value[value.length - 1] = newDateTime;\n        newDateTime = value;\n      } else {\n        newDateTime = [newDateTime];\n      }\n    } else if (isRangeSelection()) {\n      if (props.value && props.value.length) {\n        var startDate = props.value[0];\n        var endDate = props.value[1];\n        newDateTime = endDate ? [startDate, newDateTime] : [newDateTime, null];\n      } else {\n        newDateTime = [newDateTime, null];\n      }\n    }\n\n    updateModel(event, newDateTime);\n\n    if (props.onSelect) {\n      props.onSelect({\n        originalEvent: event,\n        value: newDateTime\n      });\n    }\n\n    updateInputfield(newDateTime);\n  };\n\n  var updateViewDate = function updateViewDate(event, value) {\n    validateDate(value);\n\n    if (props.onViewDateChange) {\n      props.onViewDateChange({\n        originalEvent: event,\n        value: value\n      });\n    } else {\n      viewStateChanged.current = true;\n      setViewDateState(value);\n    }\n\n    setCurrentMonth(value.getMonth());\n    setCurrentYear(value.getFullYear());\n  };\n\n  var setNavigationState = function setNavigationState(newViewDate) {\n    if (!props.showMinMaxRange || props.view !== 'date' || !overlayRef.current) {\n      return;\n    }\n\n    var navPrev = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, '.p-datepicker-prev');\n    var navNext = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(overlayRef.current, '.p-datepicker-next');\n\n    if (props.disabled) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.addClass(navPrev, 'p-disabled');\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.addClass(navNext, 'p-disabled');\n      return;\n    } // previous (check first day of month at 00:00:00)\n\n\n    if (props.minDate) {\n      var firstDayOfMonth = new Date(newViewDate.getTime());\n\n      if (firstDayOfMonth.getMonth() === 0) {\n        firstDayOfMonth.setMonth(11, 1);\n        firstDayOfMonth.setFullYear(firstDayOfMonth.getFullYear() - 1);\n      } else {\n        firstDayOfMonth.setMonth(firstDayOfMonth.getMonth() - 1, 1);\n      }\n\n      firstDayOfMonth.setHours(0);\n      firstDayOfMonth.setMinutes(0);\n      firstDayOfMonth.setSeconds(0);\n\n      if (props.minDate > firstDayOfMonth) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.addClass(navPrev, 'p-disabled');\n      } else {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.removeClass(navPrev, 'p-disabled');\n      }\n    } // next (check last day of month at 11:59:59)\n\n\n    if (props.maxDate) {\n      var lastDayOfMonth = new Date(newViewDate.getTime());\n\n      if (lastDayOfMonth.getMonth() === 11) {\n        lastDayOfMonth.setMonth(0, 1);\n        lastDayOfMonth.setFullYear(lastDayOfMonth.getFullYear() + 1);\n      } else {\n        lastDayOfMonth.setMonth(lastDayOfMonth.getMonth() + 1, 1);\n      }\n\n      lastDayOfMonth.setHours(0);\n      lastDayOfMonth.setMinutes(0);\n      lastDayOfMonth.setSeconds(0);\n      lastDayOfMonth.setSeconds(-1);\n\n      if (props.maxDate < lastDayOfMonth) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.addClass(navNext, 'p-disabled');\n      } else {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.removeClass(navNext, 'p-disabled');\n      }\n    }\n  };\n\n  var onDateCellKeydown = function onDateCellKeydown(event, date, groupIndex) {\n    var cellContent = event.currentTarget;\n    var cell = cellContent.parentElement;\n\n    switch (event.which) {\n      //down arrow\n      case 40:\n        {\n          cellContent.tabIndex = '-1';\n          var cellIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.index(cell);\n          var nextRow = cell.parentElement.nextElementSibling;\n\n          if (nextRow) {\n            var focusCell = nextRow.children[cellIndex].children[0];\n\n            if (primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(focusCell, 'p-disabled')) {\n              navigation.current = {\n                backward: false\n              };\n              navForward(event);\n            } else {\n              nextRow.children[cellIndex].children[0].tabIndex = '0';\n              nextRow.children[cellIndex].children[0].focus();\n            }\n          } else {\n            navigation.current = {\n              backward: false\n            };\n            navForward(event);\n          }\n\n          event.preventDefault();\n          break;\n        }\n      //up arrow\n\n      case 38:\n        {\n          cellContent.tabIndex = '-1';\n\n          var _cellIndex = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.index(cell);\n\n          var prevRow = cell.parentElement.previousElementSibling;\n\n          if (prevRow) {\n            var _focusCell = prevRow.children[_cellIndex].children[0];\n\n            if (primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(_focusCell, 'p-disabled')) {\n              navigation.current = {\n                backward: true\n              };\n              navBackward(event);\n            } else {\n              _focusCell.tabIndex = '0';\n\n              _focusCell.focus();\n            }\n          } else {\n            navigation.current = {\n              backward: true\n            };\n            navBackward(event);\n          }\n\n          event.preventDefault();\n          break;\n        }\n      //left arrow\n\n      case 37:\n        {\n          cellContent.tabIndex = '-1';\n          var prevCell = cell.previousElementSibling;\n\n          if (prevCell) {\n            var _focusCell2 = prevCell.children[0];\n\n            if (primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(_focusCell2, 'p-disabled')) {\n              navigateToMonth(true, groupIndex, event);\n            } else {\n              _focusCell2.tabIndex = '0';\n\n              _focusCell2.focus();\n            }\n          } else {\n            navigateToMonth(true, groupIndex, event);\n          }\n\n          event.preventDefault();\n          break;\n        }\n      //right arrow\n\n      case 39:\n        {\n          cellContent.tabIndex = '-1';\n          var nextCell = cell.nextElementSibling;\n\n          if (nextCell) {\n            var _focusCell3 = nextCell.children[0];\n\n            if (primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(_focusCell3, 'p-disabled')) {\n              navigateToMonth(false, groupIndex, event);\n            } else {\n              _focusCell3.tabIndex = '0';\n\n              _focusCell3.focus();\n            }\n          } else {\n            navigateToMonth(false, groupIndex, event);\n          }\n\n          event.preventDefault();\n          break;\n        }\n      //enter\n\n      case 13:\n        {\n          onDateSelect(event, date);\n          event.preventDefault();\n          break;\n        }\n      //escape\n\n      case 27:\n        {\n          hide(null, reFocusInputField);\n          event.preventDefault();\n          break;\n        }\n      //tab\n\n      case 9:\n        {\n          trapFocus(event);\n          break;\n        }\n    }\n  };\n\n  var navigateToMonth = function navigateToMonth(prev, groupIndex, event) {\n    if (prev) {\n      if (props.numberOfMonths === 1 || groupIndex === 0) {\n        navigation.current = {\n          backward: true\n        };\n        navBackward(event);\n      } else {\n        var prevMonthContainer = overlayRef.current.children[groupIndex - 1];\n        var cells = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.find(prevMonthContainer, '.p-datepicker-calendar td span:not(.p-disabled)');\n        var focusCell = cells[cells.length - 1];\n        focusCell.tabIndex = '0';\n        focusCell.focus();\n      }\n    } else {\n      if (props.numberOfMonths === 1 || groupIndex === props.numberOfMonths - 1) {\n        navigation.current = {\n          backward: false\n        };\n        navForward(event);\n      } else {\n        var nextMonthContainer = overlayRef.current.children[groupIndex + 1];\n\n        var _focusCell4 = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.findSingle(nextMonthContainer, '.p-datepicker-calendar td span:not(.p-disabled)');\n\n        _focusCell4.tabIndex = '0';\n\n        _focusCell4.focus();\n      }\n    }\n  };\n\n  var onDateSelect = function onDateSelect(event, dateMeta, timeMeta) {\n    if (props.disabled || !dateMeta.selectable) {\n      event.preventDefault();\n      return;\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.find(overlayRef.current, '.p-datepicker-calendar td span:not(.p-disabled)').forEach(function (cell) {\n      return cell.tabIndex = -1;\n    });\n    event.currentTarget.focus();\n\n    if (isMultipleSelection()) {\n      if (isSelected(dateMeta)) {\n        var value = props.value.filter(function (date, i) {\n          return !isDateEquals(date, dateMeta);\n        });\n        updateModel(event, value);\n        updateInputfield(value);\n      } else if (!props.maxDateCount || !props.value || props.maxDateCount > props.value.length) {\n        selectDate(event, dateMeta, timeMeta);\n      }\n    } else {\n      selectDate(event, dateMeta, timeMeta);\n    }\n\n    if (!props.inline && isSingleSelection() && (!props.showTime || props.hideOnDateTimeSelect)) {\n      setTimeout(function () {\n        hide('dateselect');\n      }, 100);\n\n      if (touchUIMask.current) {\n        disableModality();\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var selectTime = function selectTime(date, timeMeta) {\n    if (props.showTime) {\n      var hours, minutes, seconds, milliseconds;\n\n      if (timeMeta) {\n        hours = timeMeta.hours;\n        minutes = timeMeta.minutes;\n        seconds = timeMeta.seconds;\n        milliseconds = timeMeta.milliseconds;\n      } else {\n        var time = getCurrentDateTime();\n        var _ref2 = [time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds()];\n        hours = _ref2[0];\n        minutes = _ref2[1];\n        seconds = _ref2[2];\n        milliseconds = _ref2[3];\n      }\n\n      date.setHours(hours);\n      date.setMinutes(minutes);\n      date.setSeconds(seconds);\n      date.setMilliseconds(milliseconds);\n    }\n  };\n\n  var selectDate = function selectDate(event, dateMeta, timeMeta) {\n    var date = new Date(dateMeta.year, dateMeta.month, dateMeta.day);\n    selectTime(date, timeMeta);\n\n    if (props.minDate && props.minDate > date) {\n      date = props.minDate;\n    }\n\n    if (props.maxDate && props.maxDate < date) {\n      date = props.maxDate;\n    }\n\n    var selectedValues = date;\n\n    if (isSingleSelection()) {\n      updateModel(event, date);\n    } else if (isMultipleSelection()) {\n      selectedValues = props.value ? [].concat(_toConsumableArray(props.value), [date]) : [date];\n      updateModel(event, selectedValues);\n    } else if (isRangeSelection()) {\n      if (props.value && props.value.length) {\n        var startDate = props.value[0];\n        var endDate = props.value[1];\n\n        if (!endDate) {\n          if (date.getTime() >= startDate.getTime()) {\n            endDate = date;\n          } else {\n            endDate = startDate;\n            startDate = date;\n          }\n        } else {\n          startDate = date;\n          endDate = null;\n        }\n\n        selectedValues = [startDate, endDate];\n        updateModel(event, selectedValues);\n      } else {\n        selectedValues = [date, null];\n        updateModel(event, selectedValues);\n      }\n    }\n\n    if (props.onSelect) {\n      props.onSelect({\n        originalEvent: event,\n        value: date\n      });\n    }\n\n    updateInputfield(selectedValues);\n  };\n\n  var decrementDecade = function decrementDecade() {\n    var _currentYear = currentYear - 10;\n\n    setCurrentYear(_currentYear);\n    return _currentYear;\n  };\n\n  var incrementDecade = function incrementDecade() {\n    var _currentYear = currentYear + 10;\n\n    setCurrentYear(_currentYear);\n    return _currentYear;\n  };\n\n  var switchToMonthView = function switchToMonthView(event) {\n    setCurrentView('month');\n    event.preventDefault();\n  };\n\n  var switchToYearView = function switchToYearView(event) {\n    setCurrentView('year');\n    event.preventDefault();\n  };\n\n  var onMonthSelect = function onMonthSelect(event, month) {\n    if (props.view === 'month') {\n      onDateSelect(event, {\n        year: currentYear,\n        month: month,\n        day: 1,\n        selectable: true\n      });\n      event.preventDefault();\n    } else {\n      setCurrentMonth(month);\n      createMonthsMeta(month, currentYear);\n      var currentDate = new Date(getCurrentDateTime().getTime());\n      currentDate.setDate(1); // #2948 always set to 1st of month\n\n      currentDate.setMonth(month);\n      currentDate.setYear(currentYear);\n      setViewDateState(currentDate);\n      setCurrentView('date');\n      props.onMonthChange && props.onMonthChange({\n        month: month + 1,\n        year: currentYear\n      });\n    }\n  };\n\n  var onYearSelect = function onYearSelect(event, year) {\n    if (props.view === 'year') {\n      onDateSelect(event, {\n        year: year,\n        month: 0,\n        day: 1,\n        selectable: true\n      });\n    } else {\n      setCurrentYear(year);\n      setCurrentView('month');\n      props.onMonthChange && props.onMonthChange({\n        month: currentMonth + 1,\n        year: year\n      });\n    }\n  };\n\n  var updateModel = function updateModel(event, value) {\n    if (props.onChange) {\n      var newValue = value && value instanceof Date ? new Date(value.getTime()) : value;\n      viewStateChanged.current = true;\n      props.onChange({\n        originalEvent: event,\n        value: newValue,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: newValue\n        }\n      });\n    }\n  };\n\n  var show = function show(type) {\n    if (props.onVisibleChange) {\n      props.onVisibleChange({\n        visible: true,\n        type: type\n      });\n    } else {\n      setOverlayVisibleState(true);\n\n      overlayEventListener.current = function (e) {\n        if (!isOutsideClicked(e)) {\n          isOverlayClicked.current = true;\n        }\n      };\n\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__.OverlayService.on('overlay-click', overlayEventListener.current);\n    }\n  };\n\n  var hide = function hide(type, callback) {\n    var _hideCallback = function _hideCallback() {\n      viewStateChanged.current = false;\n      ignoreFocusFunctionality.current = false;\n      isOverlayClicked.current = false;\n      callback && callback();\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__.OverlayService.off('overlay-click', overlayEventListener.current);\n      overlayEventListener.current = null;\n    };\n\n    props.touchUI && disableModality();\n\n    if (props.onVisibleChange) {\n      props.onVisibleChange({\n        visible: false,\n        type: type,\n        callback: _hideCallback\n      });\n    } else {\n      setOverlayVisibleState(false);\n\n      _hideCallback();\n    }\n  };\n\n  var onOverlayEnter = function onOverlayEnter() {\n    if (props.autoZIndex) {\n      var key = props.touchUI ? 'modal' : 'overlay';\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ZIndexUtils.set(key, overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].autoZIndex, props.baseZIndex || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].zIndex[key]);\n    }\n\n    alignOverlay();\n  };\n\n  var onOverlayEntered = function onOverlayEntered() {\n    bindOverlayListener();\n    props.onShow && props.onShow();\n  };\n\n  var onOverlayExit = function onOverlayExit() {\n    unbindOverlayListener();\n  };\n\n  var onOverlayExited = function onOverlayExited() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ZIndexUtils.clear(overlayRef.current);\n    props.onHide && props.onHide();\n  };\n\n  var appendDisabled = function appendDisabled() {\n    return props.appendTo === 'self' || props.inline;\n  };\n\n  var alignOverlay = function alignOverlay() {\n    if (props.touchUI) {\n      enableModality();\n    } else if (overlayRef && overlayRef.current && inputRef && inputRef.current) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.alignOverlay(overlayRef.current, inputRef.current, props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo);\n\n      if (appendDisabled()) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.relativePosition(overlayRef.current, inputRef.current);\n      } else {\n        if (currentView === 'date') {\n          overlayRef.current.style.width = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.getOuterWidth(overlayRef.current) + 'px';\n          overlayRef.current.style.minWidth = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.getOuterWidth(inputRef.current) + 'px';\n        } else {\n          overlayRef.current.style.width = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.getOuterWidth(inputRef.current) + 'px';\n        }\n\n        primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.absolutePosition(overlayRef.current, inputRef.current);\n      }\n    }\n  };\n\n  var enableModality = function enableModality() {\n    if (!touchUIMask.current) {\n      touchUIMask.current = document.createElement('div');\n      touchUIMask.current.style.zIndex = String(primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ZIndexUtils.get(overlayRef.current) - 1);\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.addMultipleClasses(touchUIMask.current, 'p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay-enter');\n\n      touchUIMaskClickListener.current = function () {\n        disableModality();\n        hide();\n      };\n\n      touchUIMask.current.addEventListener('click', touchUIMaskClickListener.current);\n      document.body.appendChild(touchUIMask.current);\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.addClass(document.body, 'p-overflow-hidden');\n    }\n  };\n\n  var disableModality = function disableModality() {\n    if (touchUIMask.current) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.addClass(touchUIMask.current, 'p-component-overlay-leave');\n      touchUIMask.current.addEventListener('animationend', function () {\n        destroyMask();\n      });\n    }\n  };\n\n  var destroyMask = function destroyMask() {\n    if (touchUIMask.current) {\n      touchUIMask.current.removeEventListener('click', touchUIMaskClickListener.current);\n      touchUIMaskClickListener.current = null;\n      document.body.removeChild(touchUIMask.current);\n      touchUIMask.current = null;\n    }\n\n    var bodyChildren = document.body.children;\n    var hasBlockerMasks;\n\n    for (var i = 0; i < bodyChildren.length; i++) {\n      var bodyChild = bodyChildren[i];\n\n      if (primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(bodyChild, 'p-datepicker-mask-scrollblocker')) {\n        hasBlockerMasks = true;\n        break;\n      }\n    }\n\n    if (!hasBlockerMasks) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.removeClass(document.body, 'p-overflow-hidden');\n    }\n  };\n\n  var isOutsideClicked = function isOutsideClicked(event) {\n    return elementRef.current && !(elementRef.current.isSameNode(event.target) || isNavIconClicked(event.target) || elementRef.current.contains(event.target) || overlayRef.current && overlayRef.current.contains(event.target));\n  };\n\n  var isNavIconClicked = function isNavIconClicked(target) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(target, 'p-datepicker-prev') || primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(target, 'p-datepicker-prev-icon') || primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(target, 'p-datepicker-next') || primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(target, 'p-datepicker-next-icon');\n  };\n\n  var getFirstDayOfMonthIndex = function getFirstDayOfMonthIndex(month, year) {\n    var day = new Date();\n    day.setDate(1);\n    day.setMonth(month);\n    day.setFullYear(year);\n    var dayIndex = day.getDay() + getSundayIndex();\n    return dayIndex >= 7 ? dayIndex - 7 : dayIndex;\n  };\n\n  var getDaysCountInMonth = function getDaysCountInMonth(month, year) {\n    return 32 - daylightSavingAdjust(new Date(year, month, 32)).getDate();\n  };\n\n  var getDaysCountInPrevMonth = function getDaysCountInPrevMonth(month, year) {\n    var prev = getPreviousMonthAndYear(month, year);\n    return getDaysCountInMonth(prev.month, prev.year);\n  };\n\n  var daylightSavingAdjust = function daylightSavingAdjust(date) {\n    if (!date) {\n      return null;\n    }\n\n    date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);\n    return date;\n  };\n\n  var getPreviousMonthAndYear = function getPreviousMonthAndYear(month, year) {\n    var m, y;\n\n    if (month === 0) {\n      m = 11;\n      y = year - 1;\n    } else {\n      m = month - 1;\n      y = year;\n    }\n\n    return {\n      month: m,\n      year: y\n    };\n  };\n\n  var getNextMonthAndYear = function getNextMonthAndYear(month, year) {\n    var m, y;\n\n    if (month === 11) {\n      m = 0;\n      y = year + 1;\n    } else {\n      m = month + 1;\n      y = year;\n    }\n\n    return {\n      month: m,\n      year: y\n    };\n  };\n\n  var getSundayIndex = function getSundayIndex() {\n    var firstDayOfWeek = (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('firstDayOfWeek', props.locale);\n    return firstDayOfWeek > 0 ? 7 - firstDayOfWeek : 0;\n  };\n\n  var createWeekDaysMeta = function createWeekDaysMeta() {\n    var weekDays = [];\n\n    var _localeOptions = (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOptions)(props.locale),\n        dayIndex = _localeOptions.firstDayOfWeek,\n        dayNamesMin = _localeOptions.dayNamesMin;\n\n    for (var i = 0; i < 7; i++) {\n      weekDays.push(dayNamesMin[dayIndex]);\n      dayIndex = dayIndex === 6 ? 0 : ++dayIndex;\n    }\n\n    return weekDays;\n  };\n\n  var createMonthsMeta = function createMonthsMeta(month, year) {\n    var months = [];\n\n    for (var i = 0; i < props.numberOfMonths; i++) {\n      var m = month + i;\n      var y = year;\n\n      if (m > 11) {\n        m = m % 11 - 1;\n        y = year + 1;\n      }\n\n      months.push(createMonthMeta(m, y));\n    }\n\n    return months;\n  };\n\n  var createMonthMeta = function createMonthMeta(month, year) {\n    var dates = [];\n    var firstDay = getFirstDayOfMonthIndex(month, year);\n    var daysLength = getDaysCountInMonth(month, year);\n    var prevMonthDaysLength = getDaysCountInPrevMonth(month, year);\n    var dayNo = 1;\n    var today = new Date();\n    var weekNumbers = [];\n    var monthRows = Math.ceil((daysLength + firstDay) / 7);\n\n    for (var i = 0; i < monthRows; i++) {\n      var week = [];\n\n      if (i === 0) {\n        for (var j = prevMonthDaysLength - firstDay + 1; j <= prevMonthDaysLength; j++) {\n          var prev = getPreviousMonthAndYear(month, year);\n          week.push({\n            day: j,\n            month: prev.month,\n            year: prev.year,\n            otherMonth: true,\n            today: isToday(today, j, prev.month, prev.year),\n            selectable: isSelectable(j, prev.month, prev.year, true)\n          });\n        }\n\n        var remainingDaysLength = 7 - week.length;\n\n        for (var _j = 0; _j < remainingDaysLength; _j++) {\n          week.push({\n            day: dayNo,\n            month: month,\n            year: year,\n            today: isToday(today, dayNo, month, year),\n            selectable: isSelectable(dayNo, month, year, false)\n          });\n          dayNo++;\n        }\n      } else {\n        for (var _j2 = 0; _j2 < 7; _j2++) {\n          if (dayNo > daysLength) {\n            var next = getNextMonthAndYear(month, year);\n            week.push({\n              day: dayNo - daysLength,\n              month: next.month,\n              year: next.year,\n              otherMonth: true,\n              today: isToday(today, dayNo - daysLength, next.month, next.year),\n              selectable: isSelectable(dayNo - daysLength, next.month, next.year, true)\n            });\n          } else {\n            week.push({\n              day: dayNo,\n              month: month,\n              year: year,\n              today: isToday(today, dayNo, month, year),\n              selectable: isSelectable(dayNo, month, year, false)\n            });\n          }\n\n          dayNo++;\n        }\n      }\n\n      if (props.showWeek) {\n        weekNumbers.push(getWeekNumber(new Date(week[0].year, week[0].month, week[0].day)));\n      }\n\n      dates.push(week);\n    }\n\n    return {\n      month: month,\n      year: year,\n      dates: dates,\n      weekNumbers: weekNumbers\n    };\n  };\n\n  var getWeekNumber = function getWeekNumber(date) {\n    var checkDate = new Date(date.getTime());\n    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));\n    var time = checkDate.getTime();\n    checkDate.setMonth(0);\n    checkDate.setDate(1);\n    return Math.floor(Math.round((time - checkDate.getTime()) / 86400000) / 7) + 1;\n  };\n\n  var isSelectable = function isSelectable(day, month, year, otherMonth) {\n    var validMin = true;\n    var validMax = true;\n    var validDate = true;\n    var validDay = true;\n    var validMonth = true;\n\n    if (props.minDate) {\n      if (props.minDate.getFullYear() > year) {\n        validMin = false;\n      } else if (props.minDate.getFullYear() === year) {\n        if (props.minDate.getMonth() > month) {\n          validMin = false;\n        } else if (props.minDate.getMonth() === month) {\n          if (props.minDate.getDate() > day) {\n            validMin = false;\n          }\n        }\n      }\n    }\n\n    if (props.maxDate) {\n      if (props.maxDate.getFullYear() < year) {\n        validMax = false;\n      } else if (props.maxDate.getFullYear() === year) {\n        if (props.maxDate.getMonth() < month) {\n          validMax = false;\n        } else if (props.maxDate.getMonth() === month) {\n          if (props.maxDate.getDate() < day) {\n            validMax = false;\n          }\n        }\n      }\n    }\n\n    if (props.disabledDates) {\n      validDate = !isDateDisabled(day, month, year);\n    }\n\n    if (props.disabledDays) {\n      validDay = !isDayDisabled(day, month, year);\n    }\n\n    if (props.selectOtherMonths === false && otherMonth) {\n      validMonth = false;\n    }\n\n    return validMin && validMax && validDate && validDay && validMonth;\n  };\n\n  var isSelectableTime = function isSelectableTime(value) {\n    var validMin = true;\n    var validMax = true;\n\n    if (props.minDate && props.minDate.toDateString() === value.toDateString()) {\n      if (props.minDate.getHours() > value.getHours()) {\n        validMin = false;\n      } else if (props.minDate.getHours() === value.getHours()) {\n        if (props.minDate.getMinutes() > value.getMinutes()) {\n          validMin = false;\n        } else if (props.minDate.getMinutes() === value.getMinutes()) {\n          if (props.minDate.getSeconds() > value.getSeconds()) {\n            validMin = false;\n          } else if (props.minDate.getSeconds() === value.getSeconds()) {\n            if (props.minDate.getMilliseconds() > value.getMilliseconds()) {\n              validMin = false;\n            }\n          }\n        }\n      }\n    }\n\n    if (props.maxDate && props.maxDate.toDateString() === value.toDateString()) {\n      if (props.maxDate.getHours() < value.getHours()) {\n        validMax = false;\n      } else if (props.maxDate.getHours() === value.getHours()) {\n        if (props.maxDate.getMinutes() < value.getMinutes()) {\n          validMax = false;\n        } else if (props.maxDate.getMinutes() === value.getMinutes()) {\n          if (props.maxDate.getSeconds() < value.getSeconds()) {\n            validMax = false;\n          } else if (props.maxDate.getSeconds() === value.getSeconds()) {\n            if (props.maxDate.getMilliseconds() < value.getMilliseconds()) {\n              validMax = false;\n            }\n          }\n        }\n      }\n    }\n\n    return validMin && validMax;\n  };\n\n  var isSelected = function isSelected(dateMeta) {\n    if (props.value) {\n      if (isSingleSelection()) {\n        return isDateEquals(props.value, dateMeta);\n      } else if (isMultipleSelection()) {\n        var selected = false;\n\n        var _iterator = _createForOfIteratorHelper(props.value),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var date = _step.value;\n            selected = isDateEquals(date, dateMeta);\n\n            if (selected) {\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return selected;\n      } else if (isRangeSelection()) {\n        if (props.value[1]) return isDateEquals(props.value[0], dateMeta) || isDateEquals(props.value[1], dateMeta) || isDateBetween(props.value[0], props.value[1], dateMeta);else {\n          return isDateEquals(props.value[0], dateMeta);\n        }\n      }\n    } else {\n      return false;\n    }\n  };\n\n  var isComparable = function isComparable() {\n    return props.value != null && typeof props.value !== 'string';\n  };\n\n  var isMonthSelected = function isMonthSelected(month) {\n    if (isComparable()) {\n      var value = isRangeSelection() ? props.value[0] : props.value;\n      return !isMultipleSelection() ? value.getMonth() === month && value.getFullYear() === currentYear : false;\n    }\n\n    return false;\n  };\n\n  var isYearSelected = function isYearSelected(year) {\n    if (isComparable()) {\n      var value = isRangeSelection() ? props.value[0] : props.value;\n      return !isMultipleSelection() && isComparable() ? value.getFullYear() === year : false;\n    }\n\n    return false;\n  };\n\n  var switchViewButtonDisabled = function switchViewButtonDisabled() {\n    return props.numberOfMonths > 1 || props.disabled;\n  };\n\n  var isDateEquals = function isDateEquals(value, dateMeta) {\n    if (value && value instanceof Date) return value.getDate() === dateMeta.day && value.getMonth() === dateMeta.month && value.getFullYear() === dateMeta.year;else return false;\n  };\n\n  var isDateBetween = function isDateBetween(start, end, dateMeta) {\n    var between = false;\n\n    if (start && end) {\n      var date = new Date(dateMeta.year, dateMeta.month, dateMeta.day);\n      return start.getTime() <= date.getTime() && end.getTime() >= date.getTime();\n    }\n\n    return between;\n  };\n\n  var isSingleSelection = function isSingleSelection() {\n    return props.selectionMode === 'single';\n  };\n\n  var isRangeSelection = function isRangeSelection() {\n    return props.selectionMode === 'range';\n  };\n\n  var isMultipleSelection = function isMultipleSelection() {\n    return props.selectionMode === 'multiple';\n  };\n\n  var isToday = function isToday(today, day, month, year) {\n    return today.getDate() === day && today.getMonth() === month && today.getFullYear() === year;\n  };\n\n  var isDateDisabled = function isDateDisabled(day, month, year) {\n    return props.disabledDates ? props.disabledDates.some(function (d) {\n      return d.getFullYear() === year && d.getMonth() === month && d.getDate() === day;\n    }) : false;\n  };\n\n  var isDayDisabled = function isDayDisabled(day, month, year) {\n    if (props.disabledDays) {\n      var weekday = new Date(year, month, day);\n      var weekdayNumber = weekday.getDay();\n      return props.disabledDays.indexOf(weekdayNumber) !== -1;\n    }\n\n    return false;\n  };\n\n  var updateInputfield = function updateInputfield(value) {\n    if (!inputRef.current) {\n      return;\n    }\n\n    var formattedValue = '';\n\n    if (value) {\n      try {\n        if (isSingleSelection()) {\n          formattedValue = isValidDate(value) ? formatDateTime(value) : '';\n        } else if (isMultipleSelection()) {\n          for (var i = 0; i < value.length; i++) {\n            var selectedValue = value[i];\n            var dateAsString = isValidDate(selectedValue) ? formatDateTime(selectedValue) : '';\n            formattedValue += dateAsString;\n\n            if (i !== value.length - 1) {\n              formattedValue += ', ';\n            }\n          }\n        } else if (isRangeSelection()) {\n          if (value && value.length) {\n            var startDate = value[0];\n            var endDate = value[1];\n            formattedValue = isValidDate(startDate) ? formatDateTime(startDate) : '';\n\n            if (endDate) {\n              formattedValue += isValidDate(endDate) ? ' - ' + formatDateTime(endDate) : '';\n            }\n          }\n        }\n      } catch (err) {\n        formattedValue = value;\n      }\n    }\n\n    inputRef.current.value = formattedValue;\n  };\n\n  var formatDateTime = function formatDateTime(date) {\n    var formattedValue = null;\n\n    if (date) {\n      if (props.timeOnly) {\n        formattedValue = formatTime(date);\n      } else {\n        formattedValue = formatDate(date, getDateFormat());\n\n        if (props.showTime) {\n          formattedValue += ' ' + formatTime(date);\n        }\n      }\n    }\n\n    return formattedValue;\n  };\n\n  var formatDate = function formatDate(date, format) {\n    if (!date) {\n      return '';\n    }\n\n    var iFormat;\n\n    var lookAhead = function lookAhead(match) {\n      var matches = iFormat + 1 < format.length && format.charAt(iFormat + 1) === match;\n\n      if (matches) {\n        iFormat++;\n      }\n\n      return matches;\n    },\n        formatNumber = function formatNumber(match, value, len) {\n      var num = '' + value;\n\n      if (lookAhead(match)) {\n        while (num.length < len) {\n          num = '0' + num;\n        }\n      }\n\n      return num;\n    },\n        formatName = function formatName(match, value, shortNames, longNames) {\n      return lookAhead(match) ? longNames[value] : shortNames[value];\n    };\n\n    var output = '';\n    var literal = false;\n\n    var _localeOptions2 = (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOptions)(props.locale),\n        dayNamesShort = _localeOptions2.dayNamesShort,\n        dayNames = _localeOptions2.dayNames,\n        monthNamesShort = _localeOptions2.monthNamesShort,\n        monthNames = _localeOptions2.monthNames;\n\n    if (date) {\n      for (iFormat = 0; iFormat < format.length; iFormat++) {\n        if (literal) {\n          if (format.charAt(iFormat) === \"'\" && !lookAhead(\"'\")) {\n            literal = false;\n          } else {\n            output += format.charAt(iFormat);\n          }\n        } else {\n          switch (format.charAt(iFormat)) {\n            case 'd':\n              output += formatNumber('d', date.getDate(), 2);\n              break;\n\n            case 'D':\n              output += formatName('D', date.getDay(), dayNamesShort, dayNames);\n              break;\n\n            case 'o':\n              output += formatNumber('o', Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);\n              break;\n\n            case 'm':\n              output += formatNumber('m', date.getMonth() + 1, 2);\n              break;\n\n            case 'M':\n              output += formatName('M', date.getMonth(), monthNamesShort, monthNames);\n              break;\n\n            case 'y':\n              output += lookAhead('y') ? date.getFullYear() : (date.getFullYear() % 100 < 10 ? '0' : '') + date.getFullYear() % 100;\n              break;\n\n            case '@':\n              output += date.getTime();\n              break;\n\n            case '!':\n              output += date.getTime() * 10000 + ticksTo1970;\n              break;\n\n            case \"'\":\n              if (lookAhead(\"'\")) {\n                output += \"'\";\n              } else {\n                literal = true;\n              }\n\n              break;\n\n            default:\n              output += format.charAt(iFormat);\n          }\n        }\n      }\n    }\n\n    return output;\n  };\n\n  var formatTime = function formatTime(date) {\n    if (!date) {\n      return '';\n    }\n\n    var output = '';\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var seconds = date.getSeconds();\n    var milliseconds = date.getMilliseconds();\n\n    if (props.hourFormat === '12' && hours > 11 && hours !== 12) {\n      hours -= 12;\n    }\n\n    if (props.hourFormat === '12') {\n      output += hours === 0 ? 12 : hours < 10 ? '0' + hours : hours;\n    } else {\n      output += hours < 10 ? '0' + hours : hours;\n    }\n\n    output += ':';\n    output += minutes < 10 ? '0' + minutes : minutes;\n\n    if (props.showSeconds) {\n      output += ':';\n      output += seconds < 10 ? '0' + seconds : seconds;\n    }\n\n    if (props.showMillisec) {\n      output += '.';\n      output += milliseconds < 100 ? (milliseconds < 10 ? '00' : '0') + milliseconds : milliseconds;\n    }\n\n    if (props.hourFormat === '12') {\n      output += date.getHours() > 11 ? ' PM' : ' AM';\n    }\n\n    return output;\n  };\n\n  var parseValueFromString = function parseValueFromString(text) {\n    if (!text || text.trim().length === 0) {\n      return null;\n    }\n\n    var value;\n\n    if (isSingleSelection()) {\n      value = parseDateTime(text);\n    } else if (isMultipleSelection()) {\n      var tokens = text.split(',');\n      value = [];\n\n      var _iterator2 = _createForOfIteratorHelper(tokens),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var token = _step2.value;\n          value.push(parseDateTime(token.trim()));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    } else if (isRangeSelection()) {\n      var _tokens = text.split(' - ');\n\n      value = [];\n\n      for (var i = 0; i < _tokens.length; i++) {\n        value[i] = parseDateTime(_tokens[i].trim());\n      }\n    }\n\n    return value;\n  };\n\n  var parseDateTime = function parseDateTime(text) {\n    var date;\n    var parts = text.split(' ');\n\n    if (props.timeOnly) {\n      date = new Date();\n      populateTime(date, parts[0], parts[1]);\n    } else {\n      if (props.showTime) {\n        date = parseDate(parts[0], getDateFormat());\n        populateTime(date, parts[1], parts[2]);\n      } else {\n        date = parseDate(text, getDateFormat());\n      }\n    }\n\n    return date;\n  };\n\n  var populateTime = function populateTime(value, timeString, ampm) {\n    if (props.hourFormat === '12' && ampm !== 'PM' && ampm !== 'AM') {\n      throw new Error('Invalid Time');\n    }\n\n    var time = parseTime(timeString, ampm);\n    value.setHours(time.hour);\n    value.setMinutes(time.minute);\n    value.setSeconds(time.second);\n    value.setMilliseconds(time.millisecond);\n  };\n\n  var parseTime = function parseTime(value, ampm) {\n    value = props.showMillisec ? value.replace('.', ':') : value;\n    var tokens = value.split(':');\n    var validTokenLength = props.showSeconds ? 3 : 2;\n    validTokenLength = props.showMillisec ? validTokenLength + 1 : validTokenLength;\n\n    if (tokens.length !== validTokenLength || tokens[0].length !== 2 || tokens[1].length !== 2 || props.showSeconds && tokens[2].length !== 2 || props.showMillisec && tokens[3].length !== 3) {\n      throw new Error('Invalid time');\n    }\n\n    var h = parseInt(tokens[0], 10);\n    var m = parseInt(tokens[1], 10);\n    var s = props.showSeconds ? parseInt(tokens[2], 10) : null;\n    var ms = props.showMillisec ? parseInt(tokens[3], 10) : null;\n\n    if (isNaN(h) || isNaN(m) || h > 23 || m > 59 || props.hourFormat === '12' && h > 12 || props.showSeconds && (isNaN(s) || s > 59) || props.showMillisec && (isNaN(s) || s > 1000)) {\n      throw new Error('Invalid time');\n    } else {\n      if (props.hourFormat === '12' && h !== 12 && ampm === 'PM') {\n        h += 12;\n      }\n\n      return {\n        hour: h,\n        minute: m,\n        second: s,\n        millisecond: ms\n      };\n    }\n  }; // Ported from jquery-ui datepicker parseDate\n\n\n  var parseDate = function parseDate(value, format) {\n    if (format == null || value == null) {\n      throw new Error('Invalid arguments');\n    }\n\n    value = _typeof(value) === 'object' ? value.toString() : value + '';\n\n    if (value === '') {\n      return null;\n    }\n\n    var iFormat,\n        dim,\n        extra,\n        iValue = 0,\n        shortYearCutoff = typeof props.shortYearCutoff !== 'string' ? props.shortYearCutoff : new Date().getFullYear() % 100 + parseInt(props.shortYearCutoff, 10),\n        year = -1,\n        month = -1,\n        day = -1,\n        doy = -1,\n        literal = false,\n        date,\n        lookAhead = function lookAhead(match) {\n      var matches = iFormat + 1 < format.length && format.charAt(iFormat + 1) === match;\n\n      if (matches) {\n        iFormat++;\n      }\n\n      return matches;\n    },\n        getNumber = function getNumber(match) {\n      var isDoubled = lookAhead(match),\n          size = match === '@' ? 14 : match === '!' ? 20 : match === 'y' && isDoubled ? 4 : match === 'o' ? 3 : 2,\n          minSize = match === 'y' ? size : 1,\n          digits = new RegExp('^\\\\d{' + minSize + ',' + size + '}'),\n          num = value.substring(iValue).match(digits);\n\n      if (!num) {\n        throw new Error('Missing number at position ' + iValue);\n      }\n\n      iValue += num[0].length;\n      return parseInt(num[0], 10);\n    },\n        getName = function getName(match, shortNames, longNames) {\n      var index = -1;\n      var arr = lookAhead(match) ? longNames : shortNames;\n      var names = [];\n\n      for (var i = 0; i < arr.length; i++) {\n        names.push([i, arr[i]]);\n      }\n\n      names.sort(function (a, b) {\n        return -(a[1].length - b[1].length);\n      });\n\n      for (var _i = 0; _i < names.length; _i++) {\n        var name = names[_i][1];\n\n        if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {\n          index = names[_i][0];\n          iValue += name.length;\n          break;\n        }\n      }\n\n      if (index !== -1) {\n        return index + 1;\n      } else {\n        throw new Error('Unknown name at position ' + iValue);\n      }\n    },\n        checkLiteral = function checkLiteral() {\n      if (value.charAt(iValue) !== format.charAt(iFormat)) {\n        throw new Error('Unexpected literal at position ' + iValue);\n      }\n\n      iValue++;\n    };\n\n    if (props.view === 'month') {\n      day = 1;\n    }\n\n    var _localeOptions3 = (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOptions)(props.locale),\n        dayNamesShort = _localeOptions3.dayNamesShort,\n        dayNames = _localeOptions3.dayNames,\n        monthNamesShort = _localeOptions3.monthNamesShort,\n        monthNames = _localeOptions3.monthNames;\n\n    for (iFormat = 0; iFormat < format.length; iFormat++) {\n      if (literal) {\n        if (format.charAt(iFormat) === \"'\" && !lookAhead(\"'\")) {\n          literal = false;\n        } else {\n          checkLiteral();\n        }\n      } else {\n        switch (format.charAt(iFormat)) {\n          case 'd':\n            day = getNumber('d');\n            break;\n\n          case 'D':\n            getName('D', dayNamesShort, dayNames);\n            break;\n\n          case 'o':\n            doy = getNumber('o');\n            break;\n\n          case 'm':\n            month = getNumber('m');\n            break;\n\n          case 'M':\n            month = getName('M', monthNamesShort, monthNames);\n            break;\n\n          case 'y':\n            year = getNumber('y');\n            break;\n\n          case '@':\n            date = new Date(getNumber('@'));\n            year = date.getFullYear();\n            month = date.getMonth() + 1;\n            day = date.getDate();\n            break;\n\n          case '!':\n            date = new Date((getNumber('!') - ticksTo1970) / 10000);\n            year = date.getFullYear();\n            month = date.getMonth() + 1;\n            day = date.getDate();\n            break;\n\n          case \"'\":\n            if (lookAhead(\"'\")) {\n              checkLiteral();\n            } else {\n              literal = true;\n            }\n\n            break;\n\n          default:\n            checkLiteral();\n        }\n      }\n    }\n\n    if (iValue < value.length) {\n      extra = value.substr(iValue);\n\n      if (!/^\\s+/.test(extra)) {\n        throw new Error('Extra/unparsed characters found in date: ' + extra);\n      }\n    }\n\n    if (year === -1) {\n      year = new Date().getFullYear();\n    } else if (year < 100) {\n      year += new Date().getFullYear() - new Date().getFullYear() % 100 + (year <= shortYearCutoff ? 0 : -100);\n    }\n\n    if (doy > -1) {\n      month = 1;\n      day = doy;\n\n      do {\n        dim = getDaysCountInMonth(year, month - 1);\n\n        if (day <= dim) {\n          break;\n        }\n\n        month++;\n        day -= dim;\n      } while (true);\n    }\n\n    date = daylightSavingAdjust(new Date(year, month - 1, day));\n\n    if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {\n      throw new Error('Invalid date'); // E.g. 31/02/00\n    }\n\n    return date;\n  };\n\n  var isInMinYear = function isInMinYear(viewDate) {\n    return props.minDate && props.minDate.getFullYear() === viewDate.getFullYear();\n  };\n\n  var isInMaxYear = function isInMaxYear(viewDate) {\n    return props.maxDate && props.maxDate.getFullYear() === viewDate.getFullYear();\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useMountEffect)(function () {\n    var unbindMaskEvents = null;\n    var viewDate = getViewDate(props.viewDate);\n    validateDate(viewDate);\n    setViewDateState(viewDate);\n    setCurrentMonth(viewDate.getMonth());\n    setCurrentYear(viewDate.getFullYear());\n    setCurrentView(props.view);\n\n    if (props.inline) {\n      overlayRef && overlayRef.current.setAttribute(attributeSelector, '');\n\n      if (!props.disabled) {\n        initFocusableCell();\n\n        if (props.numberOfMonths === 1) {\n          overlayRef.current.style.width = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.getOuterWidth(overlayRef.current) + 'px';\n        }\n      }\n    } else if (props.mask) {\n      unbindMaskEvents = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.mask)(inputRef.current, {\n        mask: props.mask,\n        readOnly: props.readOnlyInput || props.disabled,\n        onChange: function onChange(e) {\n          !ignoreMaskChange.current && updateValueOnInput(e.originalEvent, e.value);\n          ignoreMaskChange.current = false;\n        },\n        onBlur: function onBlur() {\n          ignoreMaskChange.current = true;\n        }\n      }).unbindEvents;\n    }\n\n    if (props.value) {\n      updateInputfield(props.value);\n    }\n\n    return function () {\n      props.mask && unbindMaskEvents();\n    };\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    setCurrentView(props.view);\n  }, [props.view]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (!props.onViewDateChange && !viewStateChanged.current) {\n      var propValue = props.value;\n\n      if (Array.isArray(propValue)) {\n        propValue = propValue[0];\n      }\n\n      var prevPropValue = previousValue;\n\n      if (Array.isArray(prevPropValue)) {\n        prevPropValue = prevPropValue[0];\n      }\n\n      if (!prevPropValue && propValue || propValue && propValue instanceof Date && propValue.getTime() !== prevPropValue.getTime()) {\n        var viewDate = props.viewDate && isValidDate(props.viewDate) ? props.viewDate : propValue && isValidDate(propValue) ? propValue : new Date();\n        validateDate(viewDate);\n        setViewDateState(viewDate);\n        viewStateChanged.current = true;\n      }\n    }\n  }, [props.onViewDateChange, props.value]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (previousValue !== props.value && (!viewStateChanged || !visible)) {\n      updateInputfield(props.value);\n    }\n  }, [props.value, visible]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    updateInputfield(props.value);\n  }, [props.dateFormat, props.hourFormat, props.timeOnly, props.showSeconds, props.showMillisec]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUpdateEffect)(function () {\n    if (overlayRef.current) {\n      setNavigationState(viewDateState);\n      updateFocus();\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUnmountEffect)(function () {\n    if (touchUIMask.current) {\n      disableModality();\n      touchUIMask.current = null;\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ZIndexUtils.clear(overlayRef.current);\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      show: show,\n      hide: hide,\n      getCurrentDateTime: getCurrentDateTime,\n      getViewDate: getViewDate,\n      updateViewDate: updateViewDate,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getOverlay: function getOverlay() {\n        return overlayRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n\n  var createBackwardNavigator = function createBackwardNavigator(isVisible) {\n    var navigatorProps = isVisible ? {\n      onClick: onPrevButtonClick,\n      onKeyDown: function onKeyDown(e) {\n        return onContainerButtonKeydown(e);\n      }\n    } : {\n      style: {\n        visibility: 'hidden'\n      }\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", _extends({\n      type: \"button\",\n      className: \"p-datepicker-prev\"\n    }, navigatorProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"p-datepicker-prev-icon pi pi-chevron-left\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null));\n  };\n\n  var createForwardNavigator = function createForwardNavigator(isVisible) {\n    var navigatorProps = isVisible ? {\n      onClick: onNextButtonClick,\n      onKeyDown: function onKeyDown(e) {\n        return onContainerButtonKeydown(e);\n      }\n    } : {\n      style: {\n        visibility: 'hidden'\n      }\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", _extends({\n      type: \"button\",\n      className: \"p-datepicker-next\"\n    }, navigatorProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"p-datepicker-next-icon pi pi-chevron-right\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null));\n  };\n\n  var createTitleMonthElement = function createTitleMonthElement(month) {\n    var monthNames = (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('monthNames', props.locale);\n\n    if (props.monthNavigator && props.view !== 'month') {\n      var viewDate = getViewDate();\n      var viewMonth = viewDate.getMonth();\n      var displayedMonthOptions = monthNames.map(function (month, index) {\n        return (!isInMinYear(viewDate) || index >= props.minDate.getMonth()) && (!isInMaxYear(viewDate) || index <= props.maxDate.getMonth()) ? {\n          label: month,\n          value: index,\n          index: index\n        } : null;\n      }).filter(function (option) {\n        return !!option;\n      });\n      var displayedMonthNames = displayedMonthOptions.map(function (option) {\n        return option.label;\n      });\n\n      var _content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"select\", {\n        className: \"p-datepicker-month\",\n        onChange: function onChange(e) {\n          return onMonthDropdownChange(e, e.target.value);\n        },\n        value: viewMonth\n      }, displayedMonthOptions.map(function (option) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"option\", {\n          key: option.label,\n          value: option.value\n        }, option.label);\n      }));\n\n      if (props.monthNavigatorTemplate) {\n        var defaultContentOptions = {\n          onChange: onMonthDropdownChange,\n          className: 'p-datepicker-month',\n          value: viewMonth,\n          names: displayedMonthNames,\n          options: displayedMonthOptions,\n          element: _content,\n          props: props\n        };\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ObjectUtils.getJSXElement(props.monthNavigatorTemplate, defaultContentOptions);\n      }\n\n      return _content;\n    }\n\n    return currentView === 'date' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      className: \"p-datepicker-month p-link\",\n      onClick: switchToMonthView,\n      disabled: switchViewButtonDisabled()\n    }, monthNames[month]);\n  };\n\n  var createTitleYearElement = function createTitleYearElement() {\n    if (props.yearNavigator) {\n      var _yearOptions2 = [];\n      var years = props.yearRange.split(':');\n      var yearStart = parseInt(years[0], 10);\n      var yearEnd = parseInt(years[1], 10);\n\n      for (var i = yearStart; i <= yearEnd; i++) {\n        _yearOptions2.push(i);\n      }\n\n      var viewDate = getViewDate();\n      var viewYear = viewDate.getFullYear();\n\n      var displayedYearNames = _yearOptions2.filter(function (year) {\n        return !(props.minDate && props.minDate.getFullYear() > year) && !(props.maxDate && props.maxDate.getFullYear() < year);\n      });\n\n      var _content2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"select\", {\n        className: \"p-datepicker-year\",\n        onChange: function onChange(e) {\n          return onYearDropdownChange(e, e.target.value);\n        },\n        value: viewYear\n      }, displayedYearNames.map(function (year) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"option\", {\n          key: year,\n          value: year\n        }, year);\n      }));\n\n      if (props.yearNavigatorTemplate) {\n        var options = displayedYearNames.map(function (name, i) {\n          return {\n            label: name,\n            value: name,\n            index: i\n          };\n        });\n        var defaultContentOptions = {\n          onChange: onYearDropdownChange,\n          className: 'p-datepicker-year',\n          value: viewYear,\n          names: displayedYearNames,\n          options: options,\n          element: _content2,\n          props: props\n        };\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ObjectUtils.getJSXElement(props.yearNavigatorTemplate, defaultContentOptions);\n      }\n\n      return _content2;\n    }\n\n    return currentView !== 'year' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      className: \"p-datepicker-year p-link\",\n      onClick: switchToYearView,\n      disabled: switchViewButtonDisabled()\n    }, currentYear);\n  };\n\n  var createTitleDecadeElement = function createTitleDecadeElement() {\n    var years = yearPickerValues();\n\n    if (currentView === 'year') {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-datepicker-decade\"\n      }, props.decadeTemplate ? props.decadeTemplate(years) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \"\".concat(yearPickerValues()[0], \" - \").concat(yearPickerValues()[yearPickerValues().length - 1])));\n    }\n\n    return null;\n  };\n\n  var createTitle = function createTitle(monthMetaData) {\n    var month = createTitleMonthElement(monthMetaData.month);\n    var year = createTitleYearElement(monthMetaData.year);\n    var decade = createTitleDecadeElement();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-title\"\n    }, month, year, decade);\n  };\n\n  var createDayNames = function createDayNames(weekDays) {\n    var dayNames = weekDays.map(function (weekDay, index) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n        key: \"\".concat(weekDay, \"-\").concat(index),\n        scope: \"col\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, weekDay));\n    });\n\n    if (props.showWeek) {\n      var weekHeader = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n        scope: \"col\",\n        key: \"wn\",\n        className: \"p-datepicker-weekheader p-disabled\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('weekHeader', props.locale)));\n      return [weekHeader].concat(_toConsumableArray(dayNames));\n    }\n\n    return dayNames;\n  };\n\n  var createDateCellContent = function createDateCellContent(date, className, groupIndex) {\n    var content = props.dateTemplate ? props.dateTemplate(date) : date.day;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: className,\n      onClick: function onClick(e) {\n        return onDateSelect(e, date);\n      },\n      onKeyDown: function onKeyDown(e) {\n        return onDateCellKeydown(e, date, groupIndex);\n      }\n    }, content, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null));\n  };\n\n  var createWeek = function createWeek(weekDates, weekNumber, groupIndex) {\n    var week = weekDates.map(function (date) {\n      var selected = isSelected(date);\n      var cellClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)({\n        'p-datepicker-other-month': date.otherMonth,\n        'p-datepicker-today': date.today\n      });\n      var dateClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)({\n        'p-highlight': selected,\n        'p-disabled': !date.selectable\n      });\n      var content = date.otherMonth && !props.showOtherMonths ? null : createDateCellContent(date, dateClassName, groupIndex);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n        key: date.day,\n        className: cellClassName\n      }, content);\n    });\n\n    if (props.showWeek) {\n      var weekNumberCell = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n        key: 'wn' + weekNumber,\n        className: \"p-datepicker-weeknumber\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-disabled\"\n      }, weekNumber));\n      return [weekNumberCell].concat(_toConsumableArray(week));\n    }\n\n    return week;\n  };\n\n  var createDates = function createDates(monthMetaData, groupIndex) {\n    return monthMetaData.dates.map(function (weekDates, index) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n        key: index\n      }, createWeek(weekDates, monthMetaData.weekNumbers[index], groupIndex));\n    });\n  };\n\n  var createDateViewGrid = function createDateViewGrid(monthMetaData, weekDays, groupIndex) {\n    var dayNames = createDayNames(weekDays);\n    var dates = createDates(monthMetaData, groupIndex);\n    return currentView === 'date' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-calendar-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n      className: \"p-datepicker-calendar\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, dayNames)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tbody\", null, dates)));\n  };\n\n  var createMonth = function createMonth(monthMetaData, index) {\n    var weekDays = createWeekDaysMeta();\n    var backwardNavigator = createBackwardNavigator(index === 0);\n    var forwardNavigator = createForwardNavigator(props.numberOfMonths === 1 || index === props.numberOfMonths - 1);\n    var title = createTitle(monthMetaData);\n    var dateViewGrid = createDateViewGrid(monthMetaData, weekDays, index);\n    var header = props.headerTemplate ? props.headerTemplate() : null;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      key: monthMetaData.month,\n      className: \"p-datepicker-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-header\"\n    }, header, backwardNavigator, title, forwardNavigator), dateViewGrid);\n  };\n\n  var createMonths = function createMonths(monthsMetaData) {\n    var groups = monthsMetaData.map(createMonth);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-group-container\"\n    }, groups);\n  };\n\n  var createDateView = function createDateView() {\n    var viewDate = getViewDate();\n    var monthsMetaData = createMonthsMeta(viewDate.getMonth(), viewDate.getFullYear());\n    var months = createMonths(monthsMetaData);\n    return months;\n  };\n\n  var monthPickerValues = function monthPickerValues() {\n    var monthPickerValues = [];\n    var monthNamesShort = (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('monthNamesShort', props.locale);\n\n    for (var i = 0; i <= 11; i++) {\n      monthPickerValues.push(monthNamesShort[i]);\n    }\n\n    return monthPickerValues;\n  };\n\n  var yearPickerValues = function yearPickerValues() {\n    var yearPickerValues = [];\n    var base = currentYear - currentYear % 10;\n\n    for (var i = 0; i < 10; i++) {\n      yearPickerValues.push(base + i);\n    }\n\n    return yearPickerValues;\n  };\n\n  var createMonthYearView = function createMonthYearView() {\n    var backwardNavigator = createBackwardNavigator(true);\n    var forwardNavigator = createForwardNavigator(true);\n    var yearElement = createTitleYearElement(getViewDate().getFullYear());\n    var decade = createTitleDecadeElement();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-group-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-group\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-header\"\n    }, backwardNavigator, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-datepicker-title\"\n    }, yearElement, decade), forwardNavigator))));\n  };\n\n  var createDatePicker = function createDatePicker() {\n    if (!props.timeOnly) {\n      if (props.view === 'date') {\n        return createDateView();\n      } else {\n        return createMonthYearView();\n      }\n    }\n\n    return null;\n  };\n\n  var createHourPicker = function createHourPicker() {\n    var currentTime = getCurrentDateTime();\n    var hour = currentTime.getHours();\n\n    if (props.hourFormat === '12') {\n      if (hour === 0) hour = 12;else if (hour > 11 && hour !== 12) hour = hour - 12;\n    }\n\n    var hourDisplay = hour < 10 ? '0' + hour : hour;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-hour-picker\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: \"p-link\",\n      onMouseDown: function onMouseDown(e) {\n        return onTimePickerElementMouseDown(e, 0, 1);\n      },\n      onMouseUp: onTimePickerElementMouseUp,\n      onMouseLeave: onTimePickerElementMouseLeave,\n      onKeyDown: function onKeyDown(e) {\n        return onContainerButtonKeydown(e);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"pi pi-chevron-up\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, hourDisplay), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: \"p-link\",\n      onMouseDown: function onMouseDown(e) {\n        return onTimePickerElementMouseDown(e, 0, -1);\n      },\n      onMouseUp: onTimePickerElementMouseUp,\n      onMouseLeave: onTimePickerElementMouseLeave,\n      onKeyDown: function onKeyDown(e) {\n        return onContainerButtonKeydown(e);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"pi pi-chevron-down\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)));\n  };\n\n  var createMinutePicker = function createMinutePicker() {\n    var currentTime = getCurrentDateTime();\n    var minute = currentTime.getMinutes();\n    var minuteDisplay = minute < 10 ? '0' + minute : minute;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-minute-picker\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: \"p-link\",\n      onMouseDown: function onMouseDown(e) {\n        return onTimePickerElementMouseDown(e, 1, 1);\n      },\n      onMouseUp: onTimePickerElementMouseUp,\n      onMouseLeave: onTimePickerElementMouseLeave,\n      onKeyDown: function onKeyDown(e) {\n        return onContainerButtonKeydown(e);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"pi pi-chevron-up\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, minuteDisplay), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: \"p-link\",\n      onMouseDown: function onMouseDown(e) {\n        return onTimePickerElementMouseDown(e, 1, -1);\n      },\n      onMouseUp: onTimePickerElementMouseUp,\n      onMouseLeave: onTimePickerElementMouseLeave,\n      onKeyDown: function onKeyDown(e) {\n        return onContainerButtonKeydown(e);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"pi pi-chevron-down\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)));\n  };\n\n  var createSecondPicker = function createSecondPicker() {\n    if (props.showSeconds) {\n      var currentTime = getCurrentDateTime();\n      var second = currentTime.getSeconds();\n      var secondDisplay = second < 10 ? '0' + second : second;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-second-picker\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-link\",\n        onMouseDown: function onMouseDown(e) {\n          return onTimePickerElementMouseDown(e, 2, 1);\n        },\n        onMouseUp: onTimePickerElementMouseUp,\n        onMouseLeave: onTimePickerElementMouseLeave,\n        onKeyDown: function onKeyDown(e) {\n          return onContainerButtonKeydown(e);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-chevron-up\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, secondDisplay), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-link\",\n        onMouseDown: function onMouseDown(e) {\n          return onTimePickerElementMouseDown(e, 2, -1);\n        },\n        onMouseUp: onTimePickerElementMouseUp,\n        onMouseLeave: onTimePickerElementMouseLeave,\n        onKeyDown: function onKeyDown(e) {\n          return onContainerButtonKeydown(e);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-chevron-down\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)));\n    }\n\n    return null;\n  };\n\n  var createMiliSecondPicker = function createMiliSecondPicker() {\n    if (props.showMillisec) {\n      var currentTime = getCurrentDateTime();\n      var millisecond = currentTime.getMilliseconds();\n      var millisecondDisplay = millisecond < 100 ? (millisecond < 10 ? '00' : '0') + millisecond : millisecond;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-millisecond-picker\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-link\",\n        onMouseDown: function onMouseDown(e) {\n          return onTimePickerElementMouseDown(e, 3, 1);\n        },\n        onMouseUp: onTimePickerElementMouseUp,\n        onMouseLeave: onTimePickerElementMouseLeave,\n        onKeyDown: function onKeyDown(e) {\n          return onContainerButtonKeydown(e);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-chevron-up\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, millisecondDisplay), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-link\",\n        onMouseDown: function onMouseDown(e) {\n          return onTimePickerElementMouseDown(e, 3, -1);\n        },\n        onMouseUp: onTimePickerElementMouseUp,\n        onMouseLeave: onTimePickerElementMouseLeave,\n        onKeyDown: function onKeyDown(e) {\n          return onContainerButtonKeydown(e);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-chevron-down\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)));\n    }\n\n    return null;\n  };\n\n  var createAmPmPicker = function createAmPmPicker() {\n    if (props.hourFormat === '12') {\n      var currentTime = getCurrentDateTime();\n      var hour = currentTime.getHours();\n      var display = hour > 11 ? 'PM' : 'AM';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-ampm-picker\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-link\",\n        onClick: toggleAmPm\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-chevron-up\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, display), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: \"p-link\",\n        onClick: toggleAmPm\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"pi pi-chevron-down\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_7__.Ripple, null)));\n    }\n\n    return null;\n  };\n\n  var createSeparator = function createSeparator(separator) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-separator\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, separator));\n  };\n\n  var createTimePicker = function createTimePicker() {\n    if ((props.showTime || props.timeOnly) && currentView === 'date') {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-timepicker\"\n      }, createHourPicker(), createSeparator(':'), createMinutePicker(), props.showSeconds && createSeparator(':'), createSecondPicker(), props.showMillisec && createSeparator('.'), createMiliSecondPicker(), props.hourFormat === '12' && createSeparator(':'), createAmPmPicker());\n    }\n\n    return null;\n  };\n\n  var createInputElement = function createInputElement() {\n    if (!props.inline) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__.InputText, {\n        ref: inputRef,\n        id: props.inputId,\n        name: props.name,\n        type: \"text\",\n        className: props.inputClassName,\n        style: props.inputStyle,\n        readOnly: props.readOnlyInput,\n        disabled: props.disabled,\n        required: props.required,\n        autoComplete: \"off\",\n        placeholder: props.placeholder,\n        tabIndex: props.tabIndex,\n        onInput: onUserInput,\n        onFocus: onInputFocus,\n        onBlur: onInputBlur,\n        onKeyDown: onInputKeyDown,\n        \"aria-labelledby\": props.ariaLabelledBy,\n        inputMode: props.inputMode,\n        tooltip: props.tooltip,\n        tooltipOptions: props.tooltipOptions\n      });\n    }\n\n    return null;\n  };\n\n  var createButton = function createButton() {\n    if (props.showIcon) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n        type: \"button\",\n        icon: props.icon,\n        onClick: onButtonClick,\n        tabIndex: \"-1\",\n        disabled: props.disabled,\n        className: \"p-datepicker-trigger\"\n      });\n    }\n\n    return null;\n  };\n\n  var createContent = function createContent() {\n    var input = createInputElement();\n    var button = createButton();\n\n    if (props.iconPos === 'left') {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, button, input);\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, input, button);\n  };\n\n  var createButtonBar = function createButtonBar() {\n    if (props.showButtonBar) {\n      var todayClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)('p-button-text', props.todayButtonClassName);\n      var clearClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)('p-button-text', props.clearButtonClassName);\n\n      var _localeOptions4 = (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOptions)(props.locale),\n          today = _localeOptions4.today,\n          clear = _localeOptions4.clear;\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-datepicker-buttonbar\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n        type: \"button\",\n        label: today,\n        onClick: onTodayButtonClick,\n        onKeyDown: function onKeyDown(e) {\n          return onContainerButtonKeydown(e);\n        },\n        className: todayClassName\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n        type: \"button\",\n        label: clear,\n        onClick: onClearButtonClick,\n        onKeyDown: function onKeyDown(e) {\n          return onContainerButtonKeydown(e);\n        },\n        className: clearClassName\n      }));\n    }\n\n    return null;\n  };\n\n  var createFooter = function createFooter() {\n    if (props.footerTemplate) {\n      var _content3 = props.footerTemplate();\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-datepicker-footer\"\n      }, _content3);\n    }\n\n    return null;\n  };\n\n  var createMonthPicker = function createMonthPicker() {\n    if (currentView === 'month') {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-monthpicker\"\n      }, monthPickerValues().map(function (m, i) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          onClick: function onClick(event) {\n            return onMonthSelect(event, i);\n          },\n          key: \"month\".concat(i + 1),\n          className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)('p-monthpicker-month', {\n            'p-highlight': isMonthSelected(i),\n            'p-disabled': !isSelectable(1, i, currentYear)\n          })\n        }, m);\n      }));\n    }\n\n    return null;\n  };\n\n  var createYearPicker = function createYearPicker() {\n    if (currentView === 'year') {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-yearpicker\"\n      }, yearPickerValues().map(function (y, i) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          onClick: function onClick(event) {\n            return onYearSelect(event, y);\n          },\n          key: \"year\".concat(i + 1),\n          className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)('p-yearpicker-year', {\n            'p-highlight': isYearSelected(y)\n          })\n        }, y);\n      }));\n    }\n\n    return null;\n  };\n\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_6__.ObjectUtils.findDiffKeys(props, Calendar.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)('p-calendar p-component p-inputwrapper', props.className, (_classNames = {}, _defineProperty(_classNames, \"p-calendar-w-btn p-calendar-w-btn-\".concat(props.iconPos), props.showIcon), _defineProperty(_classNames, 'p-calendar-disabled', props.disabled), _defineProperty(_classNames, 'p-calendar-timeonly', props.timeOnly), _defineProperty(_classNames, 'p-inputwrapper-filled', props.value || primereact_utils__WEBPACK_IMPORTED_MODULE_6__.DomHandler.hasClass(inputRef.current, 'p-filled') && inputRef.current.value !== ''), _defineProperty(_classNames, 'p-inputwrapper-focus', focusedState), _classNames));\n  var panelClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_6__.classNames)('p-datepicker p-component', props.panelClassName, {\n    'p-datepicker-inline': props.inline,\n    'p-disabled': props.disabled,\n    'p-datepicker-timeonly': props.timeOnly,\n    'p-datepicker-multiple-month': props.numberOfMonths > 1,\n    'p-datepicker-monthpicker': currentView === 'month',\n    'p-datepicker-touch-ui': props.touchUI\n  });\n  var content = createContent();\n  var datePicker = createDatePicker();\n  var timePicker = createTimePicker();\n  var buttonBar = createButtonBar();\n  var footer = createFooter();\n  var monthPicker = createMonthPicker();\n  var yearPicker = createYearPicker();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps), content, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CalendarPanel, {\n    ref: overlayRef,\n    className: panelClassName,\n    style: props.panelStyle,\n    appendTo: props.appendTo,\n    inline: props.inline,\n    onClick: onPanelClick,\n    onMouseUp: onPanelMouseUp,\n    \"in\": visible,\n    onEnter: onOverlayEnter,\n    onEntered: onOverlayEntered,\n    onExit: onOverlayExit,\n    onExited: onOverlayExited,\n    transitionOptions: props.transitionOptions\n  }, datePicker, timePicker, monthPicker, yearPicker, buttonBar, footer));\n}));\nCalendar.displayName = 'Calendar';\nCalendar.defaultProps = {\n  __TYPE: 'Calendar',\n  id: null,\n  inputRef: null,\n  name: null,\n  value: null,\n  visible: false,\n  viewDate: null,\n  style: null,\n  className: null,\n  inline: false,\n  selectionMode: 'single',\n  inputId: null,\n  inputStyle: null,\n  inputClassName: null,\n  inputMode: 'none',\n  required: false,\n  readOnlyInput: false,\n  keepInvalid: false,\n  mask: null,\n  disabled: false,\n  tabIndex: null,\n  placeholder: null,\n  showIcon: false,\n  icon: 'pi pi-calendar',\n  iconPos: 'right',\n  showOnFocus: true,\n  numberOfMonths: 1,\n  view: 'date',\n  touchUI: false,\n  showTime: false,\n  timeOnly: false,\n  showSeconds: false,\n  showMillisec: false,\n  hourFormat: '24',\n  stepHour: 1,\n  stepMinute: 1,\n  stepSecond: 1,\n  stepMillisec: 1,\n  shortYearCutoff: '+10',\n  hideOnDateTimeSelect: false,\n  showWeek: false,\n  locale: null,\n  dateFormat: null,\n  panelStyle: null,\n  panelClassName: null,\n  monthNavigator: false,\n  yearNavigator: false,\n  yearRange: null,\n  disabledDates: null,\n  disabledDays: null,\n  minDate: null,\n  maxDate: null,\n  maxDateCount: null,\n  showMinMaxRange: false,\n  showOtherMonths: true,\n  selectOtherMonths: false,\n  showButtonBar: false,\n  todayButtonClassName: 'p-button-secondary',\n  clearButtonClassName: 'p-button-secondary',\n  autoZIndex: true,\n  baseZIndex: 0,\n  appendTo: null,\n  tooltip: null,\n  tooltipOptions: null,\n  ariaLabelledBy: null,\n  dateTemplate: null,\n  decadeTemplate: null,\n  headerTemplate: null,\n  footerTemplate: null,\n  monthNavigatorTemplate: null,\n  yearNavigatorTemplate: null,\n  transitionOptions: null,\n  onVisibleChange: null,\n  onFocus: null,\n  onBlur: null,\n  onInput: null,\n  onSelect: null,\n  onChange: null,\n  onViewDateChange: null,\n  onTodayButtonClick: null,\n  onClearButtonClick: null,\n  onShow: null,\n  onHide: null,\n  onMonthChange: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9jYWxlbmRhci9jYWxlbmRhci5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQzBDO0FBQzlCO0FBQzJFO0FBQ3JFO0FBQ1U7QUFDa0Q7QUFDbEU7QUFDYztBQUNkOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlDQUFpQyw2Q0FBZ0I7QUFDakQ7QUFDQSx3QkFBd0IsZ0RBQW1CLENBQUMsbUVBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFB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QUNkO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixtRUFBcUI7QUFDdkMsa0JBQWtCLG1FQUFxQjs7QUFFdkM7QUFDQSxNQUFNLGlFQUFtQjtBQUN6QixNQUFNLGlFQUFtQjtBQUN6QjtBQUNBLE1BQU07OztBQUdOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxpRUFBbUI7QUFDM0IsUUFBUTtBQUNSLFFBQVEsb0VBQXNCO0FBQzlCO0FBQ0EsTUFBTTs7O0FBR047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsaUVBQW1CO0FBQzNCLFFBQVE7QUFDUixRQUFRLG9FQUFzQjtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOERBQWdCO0FBQzFDOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCLGlFQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCLDhEQUFnQjs7QUFFM0M7O0FBRUE7QUFDQTs7QUFFQSxnQkFBZ0IsaUVBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQixpRUFBbUI7QUFDbkM7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCLGlFQUFtQjtBQUNuQztBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxvQkFBb0IsNkRBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQSwwQkFBMEIsbUVBQXFCOztBQUUvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksNkRBQWU7QUFDbkI7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7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QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMEJBQTBCLDZEQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIs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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ByaW1lcmVhY3QvY2FsZW5kYXIvY2FsZW5kYXIuZXNtLmpzPzlhYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByaW1lUmVhY3QsIHsgbG9jYWxlT3B0aW9uLCBsb2NhbGVPcHRpb25zIH0gZnJvbSAncHJpbWVyZWFjdC9hcGknO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAncHJpbWVyZWFjdC9idXR0b24nO1xuaW1wb3J0IHsgdXNlUHJldmlvdXMsIHVzZU92ZXJsYXlMaXN0ZW5lciwgdXNlTW91bnRFZmZlY3QsIHVzZVVwZGF0ZUVmZmVjdCwgdXNlVW5tb3VudEVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgSW5wdXRUZXh0IH0gZnJvbSAncHJpbWVyZWFjdC9pbnB1dHRleHQnO1xuaW1wb3J0IHsgT3ZlcmxheVNlcnZpY2UgfSBmcm9tICdwcmltZXJlYWN0L292ZXJsYXlzZXJ2aWNlJztcbmltcG9ydCB7IFVuaXF1ZUNvbXBvbmVudElkLCBEb21IYW5kbGVyLCBPYmplY3RVdGlscywgbWFzaywgWkluZGV4VXRpbHMsIGNsYXNzTmFtZXMgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tICdwcmltZXJlYWN0L2Nzc3RyYW5zaXRpb24nO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAncHJpbWVyZWFjdC9wb3J0YWwnO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQxKGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG52YXIgQ2FsZW5kYXJQYW5lbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgICAgbm9kZVJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lczogXCJwLWNvbm5lY3RlZC1vdmVybGF5XCIsXG4gICAgICBcImluXCI6IHByb3BzW1wiaW5cIl0sXG4gICAgICB0aW1lb3V0OiB7XG4gICAgICAgIGVudGVyOiAxMjAsXG4gICAgICAgIGV4aXQ6IDEwMFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnM6IHByb3BzLnRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICAgIG9uRW50ZXI6IHByb3BzLm9uRW50ZXIsXG4gICAgICBvbkVudGVyZWQ6IHByb3BzLm9uRW50ZXJlZCxcbiAgICAgIG9uRXhpdDogcHJvcHMub25FeGl0LFxuICAgICAgb25FeGl0ZWQ6IHByb3BzLm9uRXhpdGVkXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiByZWYsXG4gICAgICBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2ssXG4gICAgICBvbk1vdXNlVXA6IHByb3BzLm9uTW91c2VVcFxuICAgIH0sIHByb3BzLmNoaWxkcmVuKSk7XG4gIH07XG5cbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCk7XG4gIHJldHVybiBwcm9wcy5pbmxpbmUgPyBlbGVtZW50IDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUG9ydGFsLCB7XG4gICAgZWxlbWVudDogZWxlbWVudCxcbiAgICBhcHBlbmRUbzogcHJvcHMuYXBwZW5kVG9cbiAgfSk7XG59KTtcbkNhbGVuZGFyUGFuZWwuZGlzcGxheU5hbWUgPSAnQ2FsZW5kYXJQYW5lbCc7XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG52YXIgQ2FsZW5kYXIgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF9jbGFzc05hbWVzO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUzID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLFxuICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTUsIDIpLFxuICAgICAgdmlld0RhdGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTZbMF0sXG4gICAgICBzZXRWaWV3RGF0ZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlsxXTtcblxuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIG92ZXJsYXlSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihwcm9wcy5pbnB1dFJlZik7XG4gIHZhciBuYXZpZ2F0aW9uID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaWdub3JlRm9jdXNGdW5jdGlvbmFsaXR5ID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIGlzS2V5ZG93biA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIHZhciB0aW1lUGlja2VyVGltZXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciB2aWV3U3RhdGVDaGFuZ2VkID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIHRvdWNoVUlNYXNrID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgb3ZlcmxheUV2ZW50TGlzdGVuZXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciB0b3VjaFVJTWFza0NsaWNrTGlzdGVuZXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpc092ZXJsYXlDbGlja2VkID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIGlnbm9yZU1hc2tDaGFuZ2UgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGU3ID0gUmVhY3QudXNlU3RhdGUoJ2RhdGUnKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU3LCAyKSxcbiAgICAgIGN1cnJlbnRWaWV3ID0gX1JlYWN0JHVzZVN0YXRlOFswXSxcbiAgICAgIHNldEN1cnJlbnRWaWV3ID0gX1JlYWN0JHVzZVN0YXRlOFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlOSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU5LCAyKSxcbiAgICAgIGN1cnJlbnRNb250aCA9IF9SZWFjdCR1c2VTdGF0ZTEwWzBdLFxuICAgICAgc2V0Q3VycmVudE1vbnRoID0gX1JlYWN0JHVzZVN0YXRlMTBbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTExID0gUmVhY3QudXNlU3RhdGUobnVsbCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTExLCAyKSxcbiAgICAgIGN1cnJlbnRZZWFyID0gX1JlYWN0JHVzZVN0YXRlMTJbMF0sXG4gICAgICBzZXRDdXJyZW50WWVhciA9IF9SZWFjdCR1c2VTdGF0ZTEyWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMyA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTE0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMTMsIDIpLFxuICAgICAgeWVhck9wdGlvbnMgPSBfUmVhY3QkdXNlU3RhdGUxNFswXSxcbiAgICAgIHNldFllYXJPcHRpb25zID0gX1JlYWN0JHVzZVN0YXRlMTRbMV07XG5cbiAgdmFyIHByZXZpb3VzVmFsdWUgPSB1c2VQcmV2aW91cyhwcm9wcy52YWx1ZSk7XG4gIHZhciB2aXNpYmxlID0gcHJvcHMuaW5saW5lIHx8IChwcm9wcy5vblZpc2libGVDaGFuZ2UgPyBwcm9wcy52aXNpYmxlIDogb3ZlcmxheVZpc2libGVTdGF0ZSk7XG4gIHZhciBhdHRyaWJ1dGVTZWxlY3RvciA9IFVuaXF1ZUNvbXBvbmVudElkKCk7XG5cbiAgdmFyIF91c2VPdmVybGF5TGlzdGVuZXIgPSB1c2VPdmVybGF5TGlzdGVuZXIoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBvdmVybGF5OiBvdmVybGF5UmVmLFxuICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCwgX3JlZikge1xuICAgICAgdmFyIHR5cGUgPSBfcmVmLnR5cGUsXG4gICAgICAgICAgdmFsaWQgPSBfcmVmLnZhbGlkO1xuXG4gICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgdHlwZSA9PT0gJ291dHNpZGUnID8gIWlzT3ZlcmxheUNsaWNrZWQuY3VycmVudCAmJiAhaXNOYXZJY29uQ2xpY2tlZChldmVudC50YXJnZXQpICYmIGhpZGUoJ291dHNpZGUnKSA6IGhpZGUoKTtcbiAgICAgIH1cblxuICAgICAgaXNPdmVybGF5Q2xpY2tlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSxcbiAgICB3aGVuOiAhKHByb3BzLnRvdWNoVUkgfHwgcHJvcHMuaW5saW5lKSAmJiB2aXNpYmxlXG4gIH0pLFxuICAgICAgX3VzZU92ZXJsYXlMaXN0ZW5lcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlT3ZlcmxheUxpc3RlbmVyLCAyKSxcbiAgICAgIGJpbmRPdmVybGF5TGlzdGVuZXIgPSBfdXNlT3ZlcmxheUxpc3RlbmVyMlswXSxcbiAgICAgIHVuYmluZE92ZXJsYXlMaXN0ZW5lciA9IF91c2VPdmVybGF5TGlzdGVuZXIyWzFdO1xuXG4gIHZhciBnZXREYXRlRm9ybWF0ID0gZnVuY3Rpb24gZ2V0RGF0ZUZvcm1hdCgpIHtcbiAgICByZXR1cm4gcHJvcHMuZGF0ZUZvcm1hdCB8fCBsb2NhbGVPcHRpb24oJ2RhdGVGb3JtYXQnLCBwcm9wcy5sb2NhbGUpO1xuICB9O1xuXG4gIHZhciBvbklucHV0Rm9jdXMgPSBmdW5jdGlvbiBvbklucHV0Rm9jdXMoZXZlbnQpIHtcbiAgICBpZiAoaWdub3JlRm9jdXNGdW5jdGlvbmFsaXR5LmN1cnJlbnQpIHtcbiAgICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICAgIGlnbm9yZUZvY3VzRnVuY3Rpb25hbGl0eS5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wcy5zaG93T25Gb2N1cyAmJiAhdmlzaWJsZSkge1xuICAgICAgICBzaG93KCk7XG4gICAgICB9XG5cbiAgICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbklucHV0Qmx1ciA9IGZ1bmN0aW9uIG9uSW5wdXRCbHVyKGV2ZW50KSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKGZhbHNlKTtcbiAgICAhcHJvcHMua2VlcEludmFsaWQgJiYgdXBkYXRlSW5wdXRmaWVsZChwcm9wcy52YWx1ZSk7XG4gICAgcHJvcHMub25CbHVyICYmIHByb3BzLm9uQmx1cihldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRLZXlEb3duID0gZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICBpc0tleWRvd24uY3VycmVudCA9IHRydWU7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAvL2VzY2FwZVxuICAgICAgY2FzZSAyNzpcbiAgICAgICAge1xuICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgLy90YWJcblxuICAgICAgY2FzZSA5OlxuICAgICAgICB7XG4gICAgICAgICAgdmlzaWJsZSAmJiB0cmFwRm9jdXMoZXZlbnQpO1xuICAgICAgICAgIHByb3BzLnRvdWNoVUkgJiYgZGlzYWJsZU1vZGFsaXR5KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uVXNlcklucHV0ID0gZnVuY3Rpb24gb25Vc2VySW5wdXQoZXZlbnQpIHtcbiAgICAvLyBJRSAxMSBXb3JrYXJvdW5kIGZvciBpbnB1dCBwbGFjZWhvbGRlclxuICAgIGlmICghaXNLZXlkb3duLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpc0tleWRvd24uY3VycmVudCA9IGZhbHNlO1xuICAgIHVwZGF0ZVZhbHVlT25JbnB1dChldmVudCwgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICBwcm9wcy5vbklucHV0ICYmIHByb3BzLm9uSW5wdXQoZXZlbnQpO1xuICB9O1xuXG4gIHZhciB1cGRhdGVWYWx1ZU9uSW5wdXQgPSBmdW5jdGlvbiB1cGRhdGVWYWx1ZU9uSW5wdXQoZXZlbnQsIHJhd1ZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnNlVmFsdWVGcm9tU3RyaW5nKHJhd1ZhbHVlKTtcblxuICAgICAgaWYgKGlzVmFsaWRTZWxlY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIHVwZGF0ZU1vZGVsKGV2ZW50LCB2YWx1ZSk7XG4gICAgICAgIHVwZGF0ZVZpZXdEYXRlKGV2ZW50LCB2YWx1ZS5sZW5ndGggPyB2YWx1ZVswXSA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vaW52YWxpZCBkYXRlXG4gICAgICB2YXIgX3ZhbHVlID0gcHJvcHMua2VlcEludmFsaWQgPyByYXdWYWx1ZSA6IG51bGw7XG5cbiAgICAgIHVwZGF0ZU1vZGVsKGV2ZW50LCBfdmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVGb2N1c0lucHV0RmllbGQgPSBmdW5jdGlvbiByZUZvY3VzSW5wdXRGaWVsZCgpIHtcbiAgICBpZiAoIXByb3BzLmlubGluZSAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBpZ25vcmVGb2N1c0Z1bmN0aW9uYWxpdHkuY3VycmVudCA9IHRydWU7XG4gICAgICBEb21IYW5kbGVyLmZvY3VzKGlucHV0UmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNWYWxpZFNlbGVjdGlvbiA9IGZ1bmN0aW9uIGlzVmFsaWRTZWxlY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgaXNWYWxpZCA9IHRydWU7XG5cbiAgICBpZiAoaXNTaW5nbGVTZWxlY3Rpb24oKSkge1xuICAgICAgaWYgKCEoaXNTZWxlY3RhYmxlKHZhbHVlLmdldERhdGUoKSwgdmFsdWUuZ2V0TW9udGgoKSwgdmFsdWUuZ2V0RnVsbFllYXIoKSwgZmFsc2UpICYmIGlzU2VsZWN0YWJsZVRpbWUodmFsdWUpKSkge1xuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZS5ldmVyeShmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIGlzU2VsZWN0YWJsZSh2LmdldERhdGUoKSwgdi5nZXRNb250aCgpLCB2LmdldEZ1bGxZZWFyKCksIGZhbHNlKSAmJiBpc1NlbGVjdGFibGVUaW1lKHYpO1xuICAgIH0pKSB7XG4gICAgICBpZiAoaXNSYW5nZVNlbGVjdGlvbigpKSB7XG4gICAgICAgIGlzVmFsaWQgPSB2YWx1ZS5sZW5ndGggPiAxICYmIHZhbHVlWzFdID4gdmFsdWVbMF0gPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzVmFsaWQ7XG4gIH07XG5cbiAgdmFyIG9uQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkJ1dHRvbkNsaWNrKCkge1xuICAgIHZpc2libGUgPyBoaWRlKCkgOiBzaG93KCk7XG4gIH07XG5cbiAgdmFyIG9uUHJldkJ1dHRvbkNsaWNrID0gZnVuY3Rpb24gb25QcmV2QnV0dG9uQ2xpY2soZXZlbnQpIHtcbiAgICBuYXZpZ2F0aW9uLmN1cnJlbnQgPSB7XG4gICAgICBiYWNrd2FyZDogdHJ1ZSxcbiAgICAgIGJ1dHRvbjogdHJ1ZVxuICAgIH07XG4gICAgbmF2QmFja3dhcmQoZXZlbnQpO1xuICB9O1xuXG4gIHZhciBvbk5leHRCdXR0b25DbGljayA9IGZ1bmN0aW9uIG9uTmV4dEJ1dHRvbkNsaWNrKGV2ZW50KSB7XG4gICAgbmF2aWdhdGlvbi5jdXJyZW50ID0ge1xuICAgICAgYmFja3dhcmQ6IGZhbHNlLFxuICAgICAgYnV0dG9uOiB0cnVlXG4gICAgfTtcbiAgICBuYXZGb3J3YXJkKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgb25Db250YWluZXJCdXR0b25LZXlkb3duID0gZnVuY3Rpb24gb25Db250YWluZXJCdXR0b25LZXlkb3duKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgLy90YWJcbiAgICAgIGNhc2UgOTpcbiAgICAgICAgdHJhcEZvY3VzKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2VzY2FwZVxuXG4gICAgICBjYXNlIDI3OlxuICAgICAgICBoaWRlKG51bGwsIHJlRm9jdXNJbnB1dEZpZWxkKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIHZhciB0cmFwRm9jdXMgPSBmdW5jdGlvbiB0cmFwRm9jdXMoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IERvbUhhbmRsZXIuZ2V0Rm9jdXNhYmxlRWxlbWVudHMob3ZlcmxheVJlZi5jdXJyZW50KTtcblxuICAgIGlmIChmb2N1c2FibGVFbGVtZW50cyAmJiBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoIWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudHNbMF0uZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmb2N1c2VkSW5kZXggPSBmb2N1c2FibGVFbGVtZW50cy5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgIGlmIChmb2N1c2VkSW5kZXggPT09IC0xIHx8IGZvY3VzZWRJbmRleCA9PT0gMCkgZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV0uZm9jdXMoKTtlbHNlIGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzZWRJbmRleCAtIDFdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGZvY3VzZWRJbmRleCA9PT0gLTEgfHwgZm9jdXNlZEluZGV4ID09PSBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxKSBmb2N1c2FibGVFbGVtZW50c1swXS5mb2N1cygpO2Vsc2UgZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNlZEluZGV4ICsgMV0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlRm9jdXMgPSBmdW5jdGlvbiB1cGRhdGVGb2N1cygpIHtcbiAgICBpZiAobmF2aWdhdGlvbi5jdXJyZW50KSB7XG4gICAgICBpZiAobmF2aWdhdGlvbi5jdXJyZW50LmJ1dHRvbikge1xuICAgICAgICBpbml0Rm9jdXNhYmxlQ2VsbCgpO1xuICAgICAgICBpZiAobmF2aWdhdGlvbi5jdXJyZW50LmJhY2t3YXJkKSBEb21IYW5kbGVyLmZpbmRTaW5nbGUob3ZlcmxheVJlZi5jdXJyZW50LCAnLnAtZGF0ZXBpY2tlci1wcmV2JykuZm9jdXMoKTtlbHNlIERvbUhhbmRsZXIuZmluZFNpbmdsZShvdmVybGF5UmVmLmN1cnJlbnQsICcucC1kYXRlcGlja2VyLW5leHQnKS5mb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNlbGw7XG5cbiAgICAgICAgaWYgKG5hdmlnYXRpb24uY3VycmVudC5iYWNrd2FyZCkge1xuICAgICAgICAgIHZhciBjZWxscyA9IERvbUhhbmRsZXIuZmluZChvdmVybGF5UmVmLmN1cnJlbnQsICcucC1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIHNwYW46bm90KC5wLWRpc2FibGVkKScpO1xuICAgICAgICAgIGNlbGwgPSBjZWxsc1tjZWxscy5sZW5ndGggLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjZWxsID0gRG9tSGFuZGxlci5maW5kU2luZ2xlKG92ZXJsYXlSZWYuY3VycmVudCwgJy5wLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgc3Bhbjpub3QoLnAtZGlzYWJsZWQpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgIGNlbGwudGFiSW5kZXggPSAnMCc7XG4gICAgICAgICAgY2VsbC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5hdmlnYXRpb24uY3VycmVudCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXRGb2N1c2FibGVDZWxsKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbml0Rm9jdXNhYmxlQ2VsbCA9IGZ1bmN0aW9uIGluaXRGb2N1c2FibGVDZWxsKCkge1xuICAgIHZhciBjZWxsO1xuXG4gICAgaWYgKHByb3BzLnZpZXcgPT09ICdtb250aCcpIHtcbiAgICAgIHZhciBjZWxscyA9IERvbUhhbmRsZXIuZmluZChvdmVybGF5UmVmLmN1cnJlbnQsICcucC1tb250aHBpY2tlciAucC1tb250aHBpY2tlci1tb250aCcpO1xuICAgICAgdmFyIHNlbGVjdGVkQ2VsbCA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShvdmVybGF5UmVmLmN1cnJlbnQsICcucC1tb250aHBpY2tlciAucC1tb250aHBpY2tlci1tb250aC5wLWhpZ2hsaWdodCcpO1xuICAgICAgY2VsbHMuZm9yRWFjaChmdW5jdGlvbiAoY2VsbCkge1xuICAgICAgICByZXR1cm4gY2VsbC50YWJJbmRleCA9IC0xO1xuICAgICAgfSk7XG4gICAgICBjZWxsID0gc2VsZWN0ZWRDZWxsIHx8IGNlbGxzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBjZWxsID0gRG9tSGFuZGxlci5maW5kU2luZ2xlKG92ZXJsYXlSZWYuY3VycmVudCwgJ3NwYW4ucC1oaWdobGlnaHQnKTtcblxuICAgICAgaWYgKCFjZWxsKSB7XG4gICAgICAgIHZhciB0b2RheUNlbGwgPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUob3ZlcmxheVJlZi5jdXJyZW50LCAndGQucC1kYXRlcGlja2VyLXRvZGF5IHNwYW46bm90KC5wLWRpc2FibGVkKScpO1xuICAgICAgICBjZWxsID0gdG9kYXlDZWxsIHx8IERvbUhhbmRsZXIuZmluZFNpbmdsZShvdmVybGF5UmVmLmN1cnJlbnQsICcucC1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIHNwYW46bm90KC5wLWRpc2FibGVkKScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjZWxsKSB7XG4gICAgICBjZWxsLnRhYkluZGV4ID0gJzAnO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbmF2QmFja3dhcmQgPSBmdW5jdGlvbiBuYXZCYWNrd2FyZChldmVudCkge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV3Vmlld0RhdGUgPSBuZXcgRGF0ZShnZXRWaWV3RGF0ZSgpLmdldFRpbWUoKSk7XG4gICAgbmV3Vmlld0RhdGUuc2V0RGF0ZSgxKTtcblxuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ2RhdGUnKSB7XG4gICAgICBpZiAobmV3Vmlld0RhdGUuZ2V0TW9udGgoKSA9PT0gMCkge1xuICAgICAgICBuZXdWaWV3RGF0ZS5zZXRNb250aCgxMSk7XG4gICAgICAgIG5ld1ZpZXdEYXRlLnNldEZ1bGxZZWFyKGRlY3JlbWVudFllYXIoKSk7XG4gICAgICAgIHNldEN1cnJlbnRNb250aCgxMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdWaWV3RGF0ZS5zZXRNb250aChuZXdWaWV3RGF0ZS5nZXRNb250aCgpIC0gMSk7XG4gICAgICAgIHNldEN1cnJlbnRNb250aChmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuIHByZXZTdGF0ZSAtIDE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VycmVudFZpZXcgPT09ICdtb250aCcpIHtcbiAgICAgIHZhciBuZXdZZWFyID0gbmV3Vmlld0RhdGUuZ2V0RnVsbFllYXIoKSAtIDE7XG5cbiAgICAgIGlmIChwcm9wcy55ZWFyTmF2aWdhdG9yKSB7XG4gICAgICAgIHZhciBtaW5ZZWFyID0gcGFyc2VJbnQocHJvcHMueWVhclJhbmdlLnNwbGl0KCc6JylbMF0sIDEwKTtcblxuICAgICAgICBpZiAobmV3WWVhciA8IG1pblllYXIpIHtcbiAgICAgICAgICBuZXdZZWFyID0gbWluWWVhcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXdWaWV3RGF0ZS5zZXRGdWxsWWVhcihuZXdZZWFyKTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFZpZXcgPT09ICdtb250aCcpIHtcbiAgICAgIG5ld1ZpZXdEYXRlLnNldEZ1bGxZZWFyKGRlY3JlbWVudFllYXIoKSk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gJ3llYXInKSB7XG4gICAgICBuZXdWaWV3RGF0ZS5zZXRGdWxsWWVhcihkZWNyZW1lbnREZWNhZGUoKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlld0RhdGUoZXZlbnQsIG5ld1ZpZXdEYXRlKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBuYXZGb3J3YXJkID0gZnVuY3Rpb24gbmF2Rm9yd2FyZChldmVudCkge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV3Vmlld0RhdGUgPSBuZXcgRGF0ZShnZXRWaWV3RGF0ZSgpLmdldFRpbWUoKSk7XG4gICAgbmV3Vmlld0RhdGUuc2V0RGF0ZSgxKTtcblxuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ2RhdGUnKSB7XG4gICAgICBpZiAobmV3Vmlld0RhdGUuZ2V0TW9udGgoKSA9PT0gMTEpIHtcbiAgICAgICAgbmV3Vmlld0RhdGUuc2V0TW9udGgoMCk7XG4gICAgICAgIG5ld1ZpZXdEYXRlLnNldEZ1bGxZZWFyKGluY3JlbWVudFllYXIoKSk7XG4gICAgICAgIHNldEN1cnJlbnRNb250aCgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1ZpZXdEYXRlLnNldE1vbnRoKG5ld1ZpZXdEYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgICAgc2V0Q3VycmVudE1vbnRoKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gcHJldlN0YXRlICsgMTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gJ21vbnRoJykge1xuICAgICAgdmFyIG5ld1llYXIgPSBuZXdWaWV3RGF0ZS5nZXRGdWxsWWVhcigpICsgMTtcblxuICAgICAgaWYgKHByb3BzLnllYXJOYXZpZ2F0b3IpIHtcbiAgICAgICAgdmFyIG1heFllYXIgPSBwYXJzZUludChwcm9wcy55ZWFyUmFuZ2Uuc3BsaXQoJzonKVsxXSwgMTApO1xuXG4gICAgICAgIGlmIChuZXdZZWFyID4gbWF4WWVhcikge1xuICAgICAgICAgIG5ld1llYXIgPSBtYXhZZWFyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5ld1ZpZXdEYXRlLnNldEZ1bGxZZWFyKG5ld1llYXIpO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ21vbnRoJykge1xuICAgICAgbmV3Vmlld0RhdGUuc2V0RnVsbFllYXIoaW5jcmVtZW50WWVhcigpKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRWaWV3ID09PSAneWVhcicpIHtcbiAgICAgIG5ld1ZpZXdEYXRlLnNldEZ1bGxZZWFyKGluY3JlbWVudERlY2FkZSgpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaWV3RGF0ZShldmVudCwgbmV3Vmlld0RhdGUpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIHBvcHVsYXRlWWVhck9wdGlvbnMgPSBmdW5jdGlvbiBwb3B1bGF0ZVllYXJPcHRpb25zKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgX3llYXJPcHRpb25zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgIHllYXJPcHRpb25zLnB1c2goaSk7XG4gICAgfVxuXG4gICAgc2V0WWVhck9wdGlvbnMoX3llYXJPcHRpb25zKTtcbiAgfTtcblxuICB2YXIgZGVjcmVtZW50WWVhciA9IGZ1bmN0aW9uIGRlY3JlbWVudFllYXIoKSB7XG4gICAgdmFyIF9jdXJyZW50WWVhciA9IGN1cnJlbnRZZWFyIC0gMTtcblxuICAgIHNldEN1cnJlbnRZZWFyKF9jdXJyZW50WWVhcik7XG5cbiAgICBpZiAocHJvcHMueWVhck5hdmlnYXRvciAmJiBfY3VycmVudFllYXIgPCB5ZWFyT3B0aW9uc1swXSkge1xuICAgICAgdmFyIGRpZmZlcmVuY2UgPSB5ZWFyT3B0aW9uc1t5ZWFyT3B0aW9ucy5sZW5ndGggLSAxXSAtIHllYXJPcHRpb25zWzBdO1xuICAgICAgcG9wdWxhdGVZZWFyT3B0aW9ucyh5ZWFyT3B0aW9uc1swXSAtIGRpZmZlcmVuY2UsIHllYXJPcHRpb25zW3llYXJPcHRpb25zLmxlbmd0aCAtIDFdIC0gZGlmZmVyZW5jZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jdXJyZW50WWVhcjtcbiAgfTtcblxuICB2YXIgaW5jcmVtZW50WWVhciA9IGZ1bmN0aW9uIGluY3JlbWVudFllYXIoKSB7XG4gICAgdmFyIF9jdXJyZW50WWVhciA9IGN1cnJlbnRZZWFyICsgMTtcblxuICAgIHNldEN1cnJlbnRZZWFyKF9jdXJyZW50WWVhcik7XG5cbiAgICBpZiAocHJvcHMueWVhck5hdmlnYXRvciAmJiBfY3VycmVudFllYXIuY3VycmVudCA+IHllYXJPcHRpb25zW3llYXJPcHRpb25zLmxlbmd0aCAtIDFdKSB7XG4gICAgICB2YXIgZGlmZmVyZW5jZSA9IHllYXJPcHRpb25zW3llYXJPcHRpb25zLmxlbmd0aCAtIDFdIC0geWVhck9wdGlvbnNbMF07XG4gICAgICBwb3B1bGF0ZVllYXJPcHRpb25zKHllYXJPcHRpb25zWzBdICsgZGlmZmVyZW5jZSwgeWVhck9wdGlvbnNbeWVhck9wdGlvbnMubGVuZ3RoIC0gMV0gKyBkaWZmZXJlbmNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2N1cnJlbnRZZWFyO1xuICB9O1xuXG4gIHZhciBvbk1vbnRoRHJvcGRvd25DaGFuZ2UgPSBmdW5jdGlvbiBvbk1vbnRoRHJvcGRvd25DaGFuZ2UoZXZlbnQsIHZhbHVlKSB7XG4gICAgdmFyIGN1cnJlbnRWaWV3RGF0ZSA9IGdldFZpZXdEYXRlKCk7XG4gICAgdmFyIG5ld1ZpZXdEYXRlID0gbmV3IERhdGUoY3VycmVudFZpZXdEYXRlLmdldFRpbWUoKSk7XG4gICAgbmV3Vmlld0RhdGUuc2V0TW9udGgocGFyc2VJbnQodmFsdWUsIDEwKSk7XG4gICAgdXBkYXRlVmlld0RhdGUoZXZlbnQsIG5ld1ZpZXdEYXRlKTtcbiAgfTtcblxuICB2YXIgb25ZZWFyRHJvcGRvd25DaGFuZ2UgPSBmdW5jdGlvbiBvblllYXJEcm9wZG93bkNoYW5nZShldmVudCwgdmFsdWUpIHtcbiAgICB2YXIgY3VycmVudFZpZXdEYXRlID0gZ2V0Vmlld0RhdGUoKTtcbiAgICB2YXIgbmV3Vmlld0RhdGUgPSBuZXcgRGF0ZShjdXJyZW50Vmlld0RhdGUuZ2V0VGltZSgpKTtcbiAgICBuZXdWaWV3RGF0ZS5zZXRGdWxsWWVhcihwYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICB1cGRhdGVWaWV3RGF0ZShldmVudCwgbmV3Vmlld0RhdGUpO1xuICB9O1xuXG4gIHZhciBvblRvZGF5QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiBvblRvZGF5QnV0dG9uQ2xpY2soZXZlbnQpIHtcbiAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciBkYXRlTWV0YSA9IHtcbiAgICAgIGRheTogdG9kYXkuZ2V0RGF0ZSgpLFxuICAgICAgbW9udGg6IHRvZGF5LmdldE1vbnRoKCksXG4gICAgICB5ZWFyOiB0b2RheS5nZXRGdWxsWWVhcigpLFxuICAgICAgdG9kYXk6IHRydWUsXG4gICAgICBzZWxlY3RhYmxlOiB0cnVlXG4gICAgfTtcbiAgICB2YXIgdGltZU1ldGEgPSB7XG4gICAgICBob3VyczogdG9kYXkuZ2V0SG91cnMoKSxcbiAgICAgIG1pbnV0ZXM6IHRvZGF5LmdldE1pbnV0ZXMoKSxcbiAgICAgIHNlY29uZHM6IHRvZGF5LmdldFNlY29uZHMoKSxcbiAgICAgIG1pbGxpc2Vjb25kczogdG9kYXkuZ2V0TWlsbGlzZWNvbmRzKClcbiAgICB9O1xuICAgIHVwZGF0ZVZpZXdEYXRlKGV2ZW50LCB0b2RheSk7XG4gICAgb25EYXRlU2VsZWN0KGV2ZW50LCBkYXRlTWV0YSwgdGltZU1ldGEpO1xuICAgIHByb3BzLm9uVG9kYXlCdXR0b25DbGljayAmJiBwcm9wcy5vblRvZGF5QnV0dG9uQ2xpY2soZXZlbnQpO1xuICB9O1xuXG4gIHZhciBvbkNsZWFyQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsZWFyQnV0dG9uQ2xpY2soZXZlbnQpIHtcbiAgICB1cGRhdGVNb2RlbChldmVudCwgbnVsbCk7XG4gICAgdXBkYXRlSW5wdXRmaWVsZChudWxsKTtcbiAgICBoaWRlKCk7XG4gICAgcHJvcHMub25DbGVhckJ1dHRvbkNsaWNrICYmIHByb3BzLm9uQ2xlYXJCdXR0b25DbGljayhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uUGFuZWxDbGljayA9IGZ1bmN0aW9uIG9uUGFuZWxDbGljayhldmVudCkge1xuICAgIGlmICghcHJvcHMuaW5saW5lKSB7XG4gICAgICBPdmVybGF5U2VydmljZS5lbWl0KCdvdmVybGF5LWNsaWNrJywge1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdGFyZ2V0OiBlbGVtZW50UmVmLmN1cnJlbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25QYW5lbE1vdXNlVXAgPSBmdW5jdGlvbiBvblBhbmVsTW91c2VVcChldmVudCkge1xuICAgIG9uUGFuZWxDbGljayhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZURvd24gPSBmdW5jdGlvbiBvblRpbWVQaWNrZXJFbGVtZW50TW91c2VEb3duKGV2ZW50LCB0eXBlLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXBlYXQoZXZlbnQsIG51bGwsIHR5cGUsIGRpcmVjdGlvbik7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25UaW1lUGlja2VyRWxlbWVudE1vdXNlVXAgPSBmdW5jdGlvbiBvblRpbWVQaWNrZXJFbGVtZW50TW91c2VVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICBjbGVhclRpbWVQaWNrZXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25UaW1lUGlja2VyRWxlbWVudE1vdXNlTGVhdmUgPSBmdW5jdGlvbiBvblRpbWVQaWNrZXJFbGVtZW50TW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICBjbGVhclRpbWVQaWNrZXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KGV2ZW50LCBpbnRlcnZhbCwgdHlwZSwgZGlyZWN0aW9uKSB7XG4gICAgY2xlYXJUaW1lUGlja2VyVGltZXIoKTtcbiAgICB0aW1lUGlja2VyVGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmVwZWF0KGV2ZW50LCAxMDAsIHR5cGUsIGRpcmVjdGlvbik7XG4gICAgfSwgaW50ZXJ2YWwgfHwgNTAwKTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAxKSBpbmNyZW1lbnRIb3VyKGV2ZW50KTtlbHNlIGRlY3JlbWVudEhvdXIoZXZlbnQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAxKSBpbmNyZW1lbnRNaW51dGUoZXZlbnQpO2Vsc2UgZGVjcmVtZW50TWludXRlKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMSkgaW5jcmVtZW50U2Vjb25kKGV2ZW50KTtlbHNlIGRlY3JlbWVudFNlY29uZChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDM6XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDEpIGluY3JlbWVudE1pbGxpU2Vjb25kKGV2ZW50KTtlbHNlIGRlY3JlbWVudE1pbGxpU2Vjb25kKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbGVhclRpbWVQaWNrZXJUaW1lciA9IGZ1bmN0aW9uIGNsZWFyVGltZVBpY2tlclRpbWVyKCkge1xuICAgIGlmICh0aW1lUGlja2VyVGltZXIuY3VycmVudCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVQaWNrZXJUaW1lci5jdXJyZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGluY3JlbWVudEhvdXIgPSBmdW5jdGlvbiBpbmNyZW1lbnRIb3VyKGV2ZW50KSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgdmFyIGN1cnJlbnRIb3VyID0gY3VycmVudFRpbWUuZ2V0SG91cnMoKTtcbiAgICB2YXIgbmV3SG91ciA9IGN1cnJlbnRIb3VyICsgcHJvcHMuc3RlcEhvdXI7XG4gICAgbmV3SG91ciA9IG5ld0hvdXIgPj0gMjQgPyBuZXdIb3VyIC0gMjQgOiBuZXdIb3VyO1xuXG4gICAgaWYgKHZhbGlkYXRlSG91cihuZXdIb3VyLCBjdXJyZW50VGltZSkpIHtcbiAgICAgIGlmIChwcm9wcy5tYXhEYXRlICYmIHByb3BzLm1heERhdGUudG9EYXRlU3RyaW5nKCkgPT09IGN1cnJlbnRUaW1lLnRvRGF0ZVN0cmluZygpICYmIHByb3BzLm1heERhdGUuZ2V0SG91cnMoKSA9PT0gbmV3SG91cikge1xuICAgICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRNaW51dGVzKCkgPCBjdXJyZW50VGltZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRTZWNvbmRzKCkgPCBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5tYXhEYXRlLmdldE1pbGxpc2Vjb25kcygpIDwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpIHtcbiAgICAgICAgICAgICAgdXBkYXRlVGltZShldmVudCwgbmV3SG91ciwgcHJvcHMubWF4RGF0ZS5nZXRNaW51dGVzKCksIHByb3BzLm1heERhdGUuZ2V0U2Vjb25kcygpLCBwcm9wcy5tYXhEYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIHByb3BzLm1heERhdGUuZ2V0TWludXRlcygpLCBwcm9wcy5tYXhEYXRlLmdldFNlY29uZHMoKSwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBuZXdIb3VyLCBwcm9wcy5tYXhEYXRlLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1heERhdGUuZ2V0TWludXRlcygpID09PSBjdXJyZW50VGltZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRTZWNvbmRzKCkgPCBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5tYXhEYXRlLmdldE1pbGxpc2Vjb25kcygpIDwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpIHtcbiAgICAgICAgICAgICAgdXBkYXRlVGltZShldmVudCwgbmV3SG91ciwgcHJvcHMubWF4RGF0ZS5nZXRNaW51dGVzKCksIHByb3BzLm1heERhdGUuZ2V0U2Vjb25kcygpLCBwcm9wcy5tYXhEYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIHByb3BzLm1heERhdGUuZ2V0TWludXRlcygpLCBwcm9wcy5tYXhEYXRlLmdldFNlY29uZHMoKSwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBuZXdIb3VyLCBwcm9wcy5tYXhEYXRlLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgZGVjcmVtZW50SG91ciA9IGZ1bmN0aW9uIGRlY3JlbWVudEhvdXIoZXZlbnQpIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50RGF0ZVRpbWUoKTtcbiAgICB2YXIgY3VycmVudEhvdXIgPSBjdXJyZW50VGltZS5nZXRIb3VycygpO1xuICAgIHZhciBuZXdIb3VyID0gY3VycmVudEhvdXIgLSBwcm9wcy5zdGVwSG91cjtcbiAgICBuZXdIb3VyID0gbmV3SG91ciA8IDAgPyBuZXdIb3VyICsgMjQgOiBuZXdIb3VyO1xuXG4gICAgaWYgKHZhbGlkYXRlSG91cihuZXdIb3VyLCBjdXJyZW50VGltZSkpIHtcbiAgICAgIGlmIChwcm9wcy5taW5EYXRlICYmIHByb3BzLm1pbkRhdGUudG9EYXRlU3RyaW5nKCkgPT09IGN1cnJlbnRUaW1lLnRvRGF0ZVN0cmluZygpICYmIHByb3BzLm1pbkRhdGUuZ2V0SG91cnMoKSA9PT0gbmV3SG91cikge1xuICAgICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRNaW51dGVzKCkgPiBjdXJyZW50VGltZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRTZWNvbmRzKCkgPiBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5taW5EYXRlLmdldE1pbGxpc2Vjb25kcygpID4gY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpIHtcbiAgICAgICAgICAgICAgdXBkYXRlVGltZShldmVudCwgbmV3SG91ciwgcHJvcHMubWluRGF0ZS5nZXRNaW51dGVzKCksIHByb3BzLm1pbkRhdGUuZ2V0U2Vjb25kcygpLCBwcm9wcy5taW5EYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIHByb3BzLm1pbkRhdGUuZ2V0TWludXRlcygpLCBwcm9wcy5taW5EYXRlLmdldFNlY29uZHMoKSwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBuZXdIb3VyLCBwcm9wcy5taW5EYXRlLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1pbkRhdGUuZ2V0TWludXRlcygpID09PSBjdXJyZW50VGltZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRTZWNvbmRzKCkgPiBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5taW5EYXRlLmdldE1pbGxpc2Vjb25kcygpID4gY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpIHtcbiAgICAgICAgICAgICAgdXBkYXRlVGltZShldmVudCwgbmV3SG91ciwgcHJvcHMubWluRGF0ZS5nZXRNaW51dGVzKCksIHByb3BzLm1pbkRhdGUuZ2V0U2Vjb25kcygpLCBwcm9wcy5taW5EYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIHByb3BzLm1pbkRhdGUuZ2V0TWludXRlcygpLCBwcm9wcy5taW5EYXRlLmdldFNlY29uZHMoKSwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBuZXdIb3VyLCBwcm9wcy5taW5EYXRlLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIG5ld0hvdXIsIGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgZG9TdGVwTWludXRlID0gZnVuY3Rpb24gZG9TdGVwTWludXRlKGN1cnJlbnRNaW51dGUsIHN0ZXApIHtcbiAgICBpZiAocHJvcHMuc3RlcE1pbnV0ZSA8PSAxKSB7XG4gICAgICByZXR1cm4gc3RlcCA/IGN1cnJlbnRNaW51dGUgKyBzdGVwIDogY3VycmVudE1pbnV0ZTtcbiAgICB9XG5cbiAgICBpZiAoIXN0ZXApIHtcbiAgICAgIHN0ZXAgPSBwcm9wcy5zdGVwTWludXRlO1xuXG4gICAgICBpZiAoY3VycmVudE1pbnV0ZSAlIHN0ZXAgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRNaW51dGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKGN1cnJlbnRNaW51dGUgKyBzdGVwKSAvIHN0ZXApICogc3RlcDtcbiAgfTtcblxuICB2YXIgaW5jcmVtZW50TWludXRlID0gZnVuY3Rpb24gaW5jcmVtZW50TWludXRlKGV2ZW50KSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgdmFyIGN1cnJlbnRNaW51dGUgPSBjdXJyZW50VGltZS5nZXRNaW51dGVzKCk7XG4gICAgdmFyIG5ld01pbnV0ZSA9IGRvU3RlcE1pbnV0ZShjdXJyZW50TWludXRlLCBwcm9wcy5zdGVwTWludXRlKTtcbiAgICBuZXdNaW51dGUgPSBuZXdNaW51dGUgPiA1OSA/IG5ld01pbnV0ZSAtIDYwIDogbmV3TWludXRlO1xuXG4gICAgaWYgKHZhbGlkYXRlTWludXRlKG5ld01pbnV0ZSwgY3VycmVudFRpbWUpKSB7XG4gICAgICBpZiAocHJvcHMubWF4RGF0ZSAmJiBwcm9wcy5tYXhEYXRlLnRvRGF0ZVN0cmluZygpID09PSBjdXJyZW50VGltZS50b0RhdGVTdHJpbmcoKSAmJiBwcm9wcy5tYXhEYXRlLmdldE1pbnV0ZXMoKSA9PT0gbmV3TWludXRlKSB7XG4gICAgICAgIGlmIChwcm9wcy5tYXhEYXRlLmdldFNlY29uZHMoKSA8IGN1cnJlbnRUaW1lLmdldFNlY29uZHMoKSkge1xuICAgICAgICAgIGlmIChwcm9wcy5tYXhEYXRlLmdldE1pbGxpc2Vjb25kcygpIDwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIG5ld01pbnV0ZSwgcHJvcHMubWF4RGF0ZS5nZXRTZWNvbmRzKCksIHByb3BzLm1heERhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBjdXJyZW50VGltZS5nZXRIb3VycygpLCBuZXdNaW51dGUsIHByb3BzLm1heERhdGUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIG5ld01pbnV0ZSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIG5ld01pbnV0ZSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgZGVjcmVtZW50TWludXRlID0gZnVuY3Rpb24gZGVjcmVtZW50TWludXRlKGV2ZW50KSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgdmFyIGN1cnJlbnRNaW51dGUgPSBjdXJyZW50VGltZS5nZXRNaW51dGVzKCk7XG4gICAgdmFyIG5ld01pbnV0ZSA9IGRvU3RlcE1pbnV0ZShjdXJyZW50TWludXRlLCAtcHJvcHMuc3RlcE1pbnV0ZSk7XG4gICAgbmV3TWludXRlID0gbmV3TWludXRlIDwgMCA/IG5ld01pbnV0ZSArIDYwIDogbmV3TWludXRlO1xuXG4gICAgaWYgKHZhbGlkYXRlTWludXRlKG5ld01pbnV0ZSwgY3VycmVudFRpbWUpKSB7XG4gICAgICBpZiAocHJvcHMubWluRGF0ZSAmJiBwcm9wcy5taW5EYXRlLnRvRGF0ZVN0cmluZygpID09PSBjdXJyZW50VGltZS50b0RhdGVTdHJpbmcoKSAmJiBwcm9wcy5taW5EYXRlLmdldE1pbnV0ZXMoKSA9PT0gbmV3TWludXRlKSB7XG4gICAgICAgIGlmIChwcm9wcy5taW5EYXRlLmdldFNlY29uZHMoKSA+IGN1cnJlbnRUaW1lLmdldFNlY29uZHMoKSkge1xuICAgICAgICAgIGlmIChwcm9wcy5taW5EYXRlLmdldE1pbGxpc2Vjb25kcygpID4gY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIG5ld01pbnV0ZSwgcHJvcHMubWluRGF0ZS5nZXRTZWNvbmRzKCksIHByb3BzLm1pbkRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBjdXJyZW50VGltZS5nZXRIb3VycygpLCBuZXdNaW51dGUsIHByb3BzLm1pbkRhdGUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIG5ld01pbnV0ZSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIG5ld01pbnV0ZSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgaW5jcmVtZW50U2Vjb25kID0gZnVuY3Rpb24gaW5jcmVtZW50U2Vjb25kKGV2ZW50KSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgdmFyIGN1cnJlbnRTZWNvbmQgPSBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCk7XG4gICAgdmFyIG5ld1NlY29uZCA9IGN1cnJlbnRTZWNvbmQgKyBwcm9wcy5zdGVwU2Vjb25kO1xuICAgIG5ld1NlY29uZCA9IG5ld1NlY29uZCA+IDU5ID8gbmV3U2Vjb25kIC0gNjAgOiBuZXdTZWNvbmQ7XG5cbiAgICBpZiAodmFsaWRhdGVTZWNvbmQobmV3U2Vjb25kLCBjdXJyZW50VGltZSkpIHtcbiAgICAgIGlmIChwcm9wcy5tYXhEYXRlICYmIHByb3BzLm1heERhdGUudG9EYXRlU3RyaW5nKCkgPT09IGN1cnJlbnRUaW1lLnRvRGF0ZVN0cmluZygpICYmIHByb3BzLm1heERhdGUuZ2V0U2Vjb25kcygpID09PSBuZXdTZWNvbmQpIHtcbiAgICAgICAgaWYgKHByb3BzLm1heERhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgPCBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSkge1xuICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSwgbmV3U2Vjb25kLCBwcm9wcy5tYXhEYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBjdXJyZW50VGltZS5nZXRIb3VycygpLCBjdXJyZW50VGltZS5nZXRNaW51dGVzKCksIG5ld1NlY29uZCwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBjdXJyZW50VGltZS5nZXRIb3VycygpLCBjdXJyZW50VGltZS5nZXRNaW51dGVzKCksIG5ld1NlY29uZCwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIGRlY3JlbWVudFNlY29uZCA9IGZ1bmN0aW9uIGRlY3JlbWVudFNlY29uZChldmVudCkge1xuICAgIHZhciBjdXJyZW50VGltZSA9IGdldEN1cnJlbnREYXRlVGltZSgpO1xuICAgIHZhciBjdXJyZW50U2Vjb25kID0gY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpO1xuICAgIHZhciBuZXdTZWNvbmQgPSBjdXJyZW50U2Vjb25kIC0gcHJvcHMuc3RlcFNlY29uZDtcbiAgICBuZXdTZWNvbmQgPSBuZXdTZWNvbmQgPCAwID8gbmV3U2Vjb25kICsgNjAgOiBuZXdTZWNvbmQ7XG5cbiAgICBpZiAodmFsaWRhdGVTZWNvbmQobmV3U2Vjb25kLCBjdXJyZW50VGltZSkpIHtcbiAgICAgIGlmIChwcm9wcy5taW5EYXRlICYmIHByb3BzLm1pbkRhdGUudG9EYXRlU3RyaW5nKCkgPT09IGN1cnJlbnRUaW1lLnRvRGF0ZVN0cmluZygpICYmIHByb3BzLm1pbkRhdGUuZ2V0U2Vjb25kcygpID09PSBuZXdTZWNvbmQpIHtcbiAgICAgICAgaWYgKHByb3BzLm1pbkRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgPiBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKSkge1xuICAgICAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSwgbmV3U2Vjb25kLCBwcm9wcy5taW5EYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBjdXJyZW50VGltZS5nZXRIb3VycygpLCBjdXJyZW50VGltZS5nZXRNaW51dGVzKCksIG5ld1NlY29uZCwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVUaW1lKGV2ZW50LCBjdXJyZW50VGltZS5nZXRIb3VycygpLCBjdXJyZW50VGltZS5nZXRNaW51dGVzKCksIG5ld1NlY29uZCwgY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIGluY3JlbWVudE1pbGxpU2Vjb25kID0gZnVuY3Rpb24gaW5jcmVtZW50TWlsbGlTZWNvbmQoZXZlbnQpIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50RGF0ZVRpbWUoKTtcbiAgICB2YXIgY3VycmVudE1pbGxpc2Vjb25kID0gY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgdmFyIG5ld01pbGxpc2Vjb25kID0gY3VycmVudE1pbGxpc2Vjb25kICsgcHJvcHMuc3RlcE1pbGxpc2VjO1xuICAgIG5ld01pbGxpc2Vjb25kID0gbmV3TWlsbGlzZWNvbmQgPiA5OTkgPyBuZXdNaWxsaXNlY29uZCAtIDEwMDAgOiBuZXdNaWxsaXNlY29uZDtcblxuICAgIGlmICh2YWxpZGF0ZU1pbGxpc2Vjb25kKG5ld01pbGxpc2Vjb25kLCBjdXJyZW50VGltZSkpIHtcbiAgICAgIHVwZGF0ZVRpbWUoZXZlbnQsIGN1cnJlbnRUaW1lLmdldEhvdXJzKCksIGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKSwgY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpLCBuZXdNaWxsaXNlY29uZCk7XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgZGVjcmVtZW50TWlsbGlTZWNvbmQgPSBmdW5jdGlvbiBkZWNyZW1lbnRNaWxsaVNlY29uZChldmVudCkge1xuICAgIHZhciBjdXJyZW50VGltZSA9IGdldEN1cnJlbnREYXRlVGltZSgpO1xuICAgIHZhciBjdXJyZW50TWlsbGlzZWNvbmQgPSBjdXJyZW50VGltZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICB2YXIgbmV3TWlsbGlzZWNvbmQgPSBjdXJyZW50TWlsbGlzZWNvbmQgLSBwcm9wcy5zdGVwTWlsbGlzZWM7XG4gICAgbmV3TWlsbGlzZWNvbmQgPSBuZXdNaWxsaXNlY29uZCA8IDAgPyBuZXdNaWxsaXNlY29uZCArIDk5OSA6IG5ld01pbGxpc2Vjb25kO1xuXG4gICAgaWYgKHZhbGlkYXRlTWlsbGlzZWNvbmQobmV3TWlsbGlzZWNvbmQsIGN1cnJlbnRUaW1lKSkge1xuICAgICAgdXBkYXRlVGltZShldmVudCwgY3VycmVudFRpbWUuZ2V0SG91cnMoKSwgY3VycmVudFRpbWUuZ2V0TWludXRlcygpLCBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCksIG5ld01pbGxpc2Vjb25kKTtcbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciB0b2dnbGVBbVBtID0gZnVuY3Rpb24gdG9nZ2xlQW1QbShldmVudCkge1xuICAgIHZhciBjdXJyZW50VGltZSA9IGdldEN1cnJlbnREYXRlVGltZSgpO1xuICAgIHZhciBjdXJyZW50SG91ciA9IGN1cnJlbnRUaW1lLmdldEhvdXJzKCk7XG4gICAgdmFyIG5ld0hvdXIgPSBjdXJyZW50SG91ciA+PSAxMiA/IGN1cnJlbnRIb3VyIC0gMTIgOiBjdXJyZW50SG91ciArIDEyO1xuXG4gICAgaWYgKHZhbGlkYXRlSG91cihjb252ZXJ0VG8yNEhvdXIobmV3SG91ciwgIShjdXJyZW50SG91ciA+IDExKSksIGN1cnJlbnRUaW1lKSkge1xuICAgICAgdXBkYXRlVGltZShldmVudCwgbmV3SG91ciwgY3VycmVudFRpbWUuZ2V0TWludXRlcygpLCBjdXJyZW50VGltZS5nZXRTZWNvbmRzKCksIGN1cnJlbnRUaW1lLmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBnZXRWaWV3RGF0ZSA9IGZ1bmN0aW9uIGdldFZpZXdEYXRlKGRhdGUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHMudmFsdWU7XG4gICAgdmFyIHZpZXdEYXRlID0gZGF0ZSB8fCAocHJvcHMub25WaWV3RGF0ZUNoYW5nZSA/IHByb3BzLnZpZXdEYXRlIDogdmlld0RhdGVTdGF0ZSk7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICBwcm9wVmFsdWUgPSBwcm9wVmFsdWVbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHZpZXdEYXRlICYmIGlzVmFsaWREYXRlKHZpZXdEYXRlKSA/IHZpZXdEYXRlIDogcHJvcFZhbHVlICYmIGlzVmFsaWREYXRlKHByb3BWYWx1ZSkgPyBwcm9wVmFsdWUgOiBuZXcgRGF0ZSgpO1xuICB9O1xuXG4gIHZhciBnZXRDdXJyZW50RGF0ZVRpbWUgPSBmdW5jdGlvbiBnZXRDdXJyZW50RGF0ZVRpbWUoKSB7XG4gICAgaWYgKGlzU2luZ2xlU2VsZWN0aW9uKCkpIHtcbiAgICAgIHJldHVybiBwcm9wcy52YWx1ZSAmJiBwcm9wcy52YWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBwcm9wcy52YWx1ZSA6IGdldFZpZXdEYXRlKCk7XG4gICAgfSBlbHNlIGlmIChpc011bHRpcGxlU2VsZWN0aW9uKCkpIHtcbiAgICAgIGlmIChwcm9wcy52YWx1ZSAmJiBwcm9wcy52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLnZhbHVlW3Byb3BzLnZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSYW5nZVNlbGVjdGlvbigpKSB7XG4gICAgICBpZiAocHJvcHMudmFsdWUgJiYgcHJvcHMudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBzdGFydERhdGUgPSBwcm9wcy52YWx1ZVswXTtcbiAgICAgICAgdmFyIGVuZERhdGUgPSBwcm9wcy52YWx1ZVsxXTtcbiAgICAgICAgcmV0dXJuIGVuZERhdGUgfHwgc3RhcnREYXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICB9O1xuXG4gIHZhciBpc1ZhbGlkRGF0ZSA9IGZ1bmN0aW9uIGlzVmFsaWREYXRlKGRhdGUpIHtcbiAgICByZXR1cm4gZGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKGRhdGUpO1xuICB9O1xuXG4gIHZhciBjb252ZXJ0VG8yNEhvdXIgPSBmdW5jdGlvbiBjb252ZXJ0VG8yNEhvdXIoaG91ciwgcG0pIHtcbiAgICBpZiAocHJvcHMuaG91ckZvcm1hdCA9PSAnMTInKSB7XG4gICAgICByZXR1cm4gaG91ciA9PT0gMTIgPyBwbSA/IDEyIDogMCA6IHBtID8gaG91ciArIDEyIDogaG91cjtcbiAgICB9XG5cbiAgICByZXR1cm4gaG91cjtcbiAgfTtcblxuICB2YXIgdmFsaWRhdGVIb3VyID0gZnVuY3Rpb24gdmFsaWRhdGVIb3VyKGhvdXIsIHZhbHVlKSB7XG4gICAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgICB2YXIgdmFsdWVEYXRlU3RyaW5nID0gdmFsdWUgPyB2YWx1ZS50b0RhdGVTdHJpbmcoKSA6IG51bGw7XG5cbiAgICBpZiAocHJvcHMubWluRGF0ZSAmJiB2YWx1ZURhdGVTdHJpbmcgJiYgcHJvcHMubWluRGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdmFsdWVEYXRlU3RyaW5nKSB7XG4gICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRIb3VycygpID4gaG91cikge1xuICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5tYXhEYXRlICYmIHZhbHVlRGF0ZVN0cmluZyAmJiBwcm9wcy5tYXhEYXRlLnRvRGF0ZVN0cmluZygpID09PSB2YWx1ZURhdGVTdHJpbmcpIHtcbiAgICAgIGlmIChwcm9wcy5tYXhEYXRlLmdldEhvdXJzKCkgPCBob3VyKSB7XG4gICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkO1xuICB9O1xuXG4gIHZhciB2YWxpZGF0ZU1pbnV0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlTWludXRlKG1pbnV0ZSwgdmFsdWUpIHtcbiAgICB2YXIgdmFsaWQgPSB0cnVlO1xuICAgIHZhciB2YWx1ZURhdGVTdHJpbmcgPSB2YWx1ZSA/IHZhbHVlLnRvRGF0ZVN0cmluZygpIDogbnVsbDtcblxuICAgIGlmIChwcm9wcy5taW5EYXRlICYmIHZhbHVlRGF0ZVN0cmluZyAmJiBwcm9wcy5taW5EYXRlLnRvRGF0ZVN0cmluZygpID09PSB2YWx1ZURhdGVTdHJpbmcpIHtcbiAgICAgIGlmICh2YWx1ZS5nZXRIb3VycygpID09PSBwcm9wcy5taW5EYXRlLmdldEhvdXJzKCkpIHtcbiAgICAgICAgaWYgKHByb3BzLm1pbkRhdGUuZ2V0TWludXRlcygpID4gbWludXRlKSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5tYXhEYXRlICYmIHZhbHVlRGF0ZVN0cmluZyAmJiBwcm9wcy5tYXhEYXRlLnRvRGF0ZVN0cmluZygpID09PSB2YWx1ZURhdGVTdHJpbmcpIHtcbiAgICAgIGlmICh2YWx1ZS5nZXRIb3VycygpID09PSBwcm9wcy5tYXhEYXRlLmdldEhvdXJzKCkpIHtcbiAgICAgICAgaWYgKHByb3BzLm1heERhdGUuZ2V0TWludXRlcygpIDwgbWludXRlKSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWxpZDtcbiAgfTtcblxuICB2YXIgdmFsaWRhdGVTZWNvbmQgPSBmdW5jdGlvbiB2YWxpZGF0ZVNlY29uZChzZWNvbmQsIHZhbHVlKSB7XG4gICAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgICB2YXIgdmFsdWVEYXRlU3RyaW5nID0gdmFsdWUgPyB2YWx1ZS50b0RhdGVTdHJpbmcoKSA6IG51bGw7XG5cbiAgICBpZiAocHJvcHMubWluRGF0ZSAmJiB2YWx1ZURhdGVTdHJpbmcgJiYgcHJvcHMubWluRGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdmFsdWVEYXRlU3RyaW5nKSB7XG4gICAgICBpZiAodmFsdWUuZ2V0SG91cnMoKSA9PT0gcHJvcHMubWluRGF0ZS5nZXRIb3VycygpICYmIHZhbHVlLmdldE1pbnV0ZXMoKSA9PT0gcHJvcHMubWluRGF0ZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgaWYgKHByb3BzLm1pbkRhdGUuZ2V0U2Vjb25kcygpID4gc2Vjb25kKSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5tYXhEYXRlICYmIHZhbHVlRGF0ZVN0cmluZyAmJiBwcm9wcy5tYXhEYXRlLnRvRGF0ZVN0cmluZygpID09PSB2YWx1ZURhdGVTdHJpbmcpIHtcbiAgICAgIGlmICh2YWx1ZS5nZXRIb3VycygpID09PSBwcm9wcy5tYXhEYXRlLmdldEhvdXJzKCkgJiYgdmFsdWUuZ2V0TWludXRlcygpID09PSBwcm9wcy5tYXhEYXRlLmdldE1pbnV0ZXMoKSkge1xuICAgICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRTZWNvbmRzKCkgPCBzZWNvbmQpIHtcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkO1xuICB9O1xuXG4gIHZhciB2YWxpZGF0ZU1pbGxpc2Vjb25kID0gZnVuY3Rpb24gdmFsaWRhdGVNaWxsaXNlY29uZChtaWxsaXNlY29uZCwgdmFsdWUpIHtcbiAgICB2YXIgdmFsaWQgPSB0cnVlO1xuICAgIHZhciB2YWx1ZURhdGVTdHJpbmcgPSB2YWx1ZSA/IHZhbHVlLnRvRGF0ZVN0cmluZygpIDogbnVsbDtcblxuICAgIGlmIChwcm9wcy5taW5EYXRlICYmIHZhbHVlRGF0ZVN0cmluZyAmJiBwcm9wcy5taW5EYXRlLnRvRGF0ZVN0cmluZygpID09PSB2YWx1ZURhdGVTdHJpbmcpIHtcbiAgICAgIGlmICh2YWx1ZS5nZXRIb3VycygpID09PSBwcm9wcy5taW5EYXRlLmdldEhvdXJzKCkgJiYgdmFsdWUuZ2V0U2Vjb25kcygpID09PSBwcm9wcy5taW5EYXRlLmdldFNlY29uZHMoKSAmJiB2YWx1ZS5nZXRNaW51dGVzKCkgPT09IHByb3BzLm1pbkRhdGUuZ2V0TWludXRlcygpKSB7XG4gICAgICAgIGlmIChwcm9wcy5taW5EYXRlLmdldE1pbGxpc2Vjb25kcygpID4gbWlsbGlzZWNvbmQpIHtcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1heERhdGUgJiYgdmFsdWVEYXRlU3RyaW5nICYmIHByb3BzLm1heERhdGUudG9EYXRlU3RyaW5nKCkgPT09IHZhbHVlRGF0ZVN0cmluZykge1xuICAgICAgaWYgKHZhbHVlLmdldEhvdXJzKCkgPT09IHByb3BzLm1heERhdGUuZ2V0SG91cnMoKSAmJiB2YWx1ZS5nZXRTZWNvbmRzKCkgPT09IHByb3BzLm1heERhdGUuZ2V0U2Vjb25kcygpICYmIHZhbHVlLmdldE1pbnV0ZXMoKSA9PT0gcHJvcHMubWF4RGF0ZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgaWYgKHByb3BzLm1heERhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgPCBtaWxsaXNlY29uZCkge1xuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWQ7XG4gIH07XG5cbiAgdmFyIHZhbGlkYXRlRGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlRGF0ZSh2YWx1ZSkge1xuICAgIGlmIChwcm9wcy55ZWFyTmF2aWdhdG9yKSB7XG4gICAgICB2YXIgdmlld1llYXIgPSB2YWx1ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgdmFyIG1pblJhbmdlWWVhciA9IHByb3BzLnllYXJSYW5nZSA/IHBhcnNlSW50KHByb3BzLnllYXJSYW5nZS5zcGxpdCgnOicpWzBdLCAxMCkgOiBudWxsO1xuICAgICAgdmFyIG1heFJhbmdlWWVhciA9IHByb3BzLnllYXJSYW5nZSA/IHBhcnNlSW50KHByb3BzLnllYXJSYW5nZS5zcGxpdCgnOicpWzFdLCAxMCkgOiBudWxsO1xuICAgICAgdmFyIG1pblllYXIgPSBwcm9wcy5taW5EYXRlICYmIG1pblJhbmdlWWVhciAhPSBudWxsID8gTWF0aC5tYXgocHJvcHMubWluRGF0ZS5nZXRGdWxsWWVhcigpLCBtaW5SYW5nZVllYXIpIDogcHJvcHMubWluRGF0ZSB8fCBtaW5SYW5nZVllYXI7XG4gICAgICB2YXIgbWF4WWVhciA9IHByb3BzLm1heERhdGUgJiYgbWF4UmFuZ2VZZWFyICE9IG51bGwgPyBNYXRoLm1pbihwcm9wcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCksIG1heFJhbmdlWWVhcikgOiBwcm9wcy5tYXhEYXRlIHx8IG1heFJhbmdlWWVhcjtcblxuICAgICAgaWYgKG1pblllYXIgJiYgbWluWWVhciA+IHZpZXdZZWFyKSB7XG4gICAgICAgIHZpZXdZZWFyID0gbWluWWVhcjtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heFllYXIgJiYgbWF4WWVhciA8IHZpZXdZZWFyKSB7XG4gICAgICAgIHZpZXdZZWFyID0gbWF4WWVhcjtcbiAgICAgIH1cblxuICAgICAgdmFsdWUuc2V0RnVsbFllYXIodmlld1llYXIpO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5tb250aE5hdmlnYXRvciAmJiBwcm9wcy52aWV3ICE9PSAnbW9udGgnKSB7XG4gICAgICB2YXIgdmlld01vbnRoID0gdmFsdWUuZ2V0TW9udGgoKTtcbiAgICAgIHZhciB2aWV3TW9udGhXaXRoTWluTWF4ID0gcGFyc2VJbnQoaXNJbk1pblllYXIodmFsdWUpICYmIE1hdGgubWF4KHByb3BzLm1pbkRhdGUuZ2V0TW9udGgoKSwgdmlld01vbnRoKS50b1N0cmluZygpIHx8IGlzSW5NYXhZZWFyKHZhbHVlKSAmJiBNYXRoLm1pbihwcm9wcy5tYXhEYXRlLmdldE1vbnRoKCksIHZpZXdNb250aCkudG9TdHJpbmcoKSB8fCB2aWV3TW9udGgpO1xuICAgICAgdmFsdWUuc2V0TW9udGgodmlld01vbnRoV2l0aE1pbk1heCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciB1cGRhdGVUaW1lID0gZnVuY3Rpb24gdXBkYXRlVGltZShldmVudCwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kKSB7XG4gICAgdmFyIG5ld0RhdGVUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgbmV3RGF0ZVRpbWUuc2V0SG91cnMoaG91cik7XG4gICAgbmV3RGF0ZVRpbWUuc2V0TWludXRlcyhtaW51dGUpO1xuICAgIG5ld0RhdGVUaW1lLnNldFNlY29uZHMoc2Vjb25kKTtcbiAgICBuZXdEYXRlVGltZS5zZXRNaWxsaXNlY29uZHMobWlsbGlzZWNvbmQpO1xuXG4gICAgaWYgKGlzTXVsdGlwbGVTZWxlY3Rpb24oKSkge1xuICAgICAgaWYgKHByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMudmFsdWUpO1xuXG4gICAgICAgIHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdID0gbmV3RGF0ZVRpbWU7XG4gICAgICAgIG5ld0RhdGVUaW1lID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdEYXRlVGltZSA9IFtuZXdEYXRlVGltZV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1JhbmdlU2VsZWN0aW9uKCkpIHtcbiAgICAgIGlmIChwcm9wcy52YWx1ZSAmJiBwcm9wcy52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IHByb3BzLnZhbHVlWzBdO1xuICAgICAgICB2YXIgZW5kRGF0ZSA9IHByb3BzLnZhbHVlWzFdO1xuICAgICAgICBuZXdEYXRlVGltZSA9IGVuZERhdGUgPyBbc3RhcnREYXRlLCBuZXdEYXRlVGltZV0gOiBbbmV3RGF0ZVRpbWUsIG51bGxdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RGF0ZVRpbWUgPSBbbmV3RGF0ZVRpbWUsIG51bGxdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZU1vZGVsKGV2ZW50LCBuZXdEYXRlVGltZSk7XG5cbiAgICBpZiAocHJvcHMub25TZWxlY3QpIHtcbiAgICAgIHByb3BzLm9uU2VsZWN0KHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiBuZXdEYXRlVGltZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlSW5wdXRmaWVsZChuZXdEYXRlVGltZSk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZVZpZXdEYXRlID0gZnVuY3Rpb24gdXBkYXRlVmlld0RhdGUoZXZlbnQsIHZhbHVlKSB7XG4gICAgdmFsaWRhdGVEYXRlKHZhbHVlKTtcblxuICAgIGlmIChwcm9wcy5vblZpZXdEYXRlQ2hhbmdlKSB7XG4gICAgICBwcm9wcy5vblZpZXdEYXRlQ2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZXdTdGF0ZUNoYW5nZWQuY3VycmVudCA9IHRydWU7XG4gICAgICBzZXRWaWV3RGF0ZVN0YXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50TW9udGgodmFsdWUuZ2V0TW9udGgoKSk7XG4gICAgc2V0Q3VycmVudFllYXIodmFsdWUuZ2V0RnVsbFllYXIoKSk7XG4gIH07XG5cbiAgdmFyIHNldE5hdmlnYXRpb25TdGF0ZSA9IGZ1bmN0aW9uIHNldE5hdmlnYXRpb25TdGF0ZShuZXdWaWV3RGF0ZSkge1xuICAgIGlmICghcHJvcHMuc2hvd01pbk1heFJhbmdlIHx8IHByb3BzLnZpZXcgIT09ICdkYXRlJyB8fCAhb3ZlcmxheVJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5hdlByZXYgPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUob3ZlcmxheVJlZi5jdXJyZW50LCAnLnAtZGF0ZXBpY2tlci1wcmV2Jyk7XG4gICAgdmFyIG5hdk5leHQgPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUob3ZlcmxheVJlZi5jdXJyZW50LCAnLnAtZGF0ZXBpY2tlci1uZXh0Jyk7XG5cbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIERvbUhhbmRsZXIuYWRkQ2xhc3MobmF2UHJldiwgJ3AtZGlzYWJsZWQnKTtcbiAgICAgIERvbUhhbmRsZXIuYWRkQ2xhc3MobmF2TmV4dCwgJ3AtZGlzYWJsZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHByZXZpb3VzIChjaGVjayBmaXJzdCBkYXkgb2YgbW9udGggYXQgMDA6MDA6MDApXG5cblxuICAgIGlmIChwcm9wcy5taW5EYXRlKSB7XG4gICAgICB2YXIgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUobmV3Vmlld0RhdGUuZ2V0VGltZSgpKTtcblxuICAgICAgaWYgKGZpcnN0RGF5T2ZNb250aC5nZXRNb250aCgpID09PSAwKSB7XG4gICAgICAgIGZpcnN0RGF5T2ZNb250aC5zZXRNb250aCgxMSwgMSk7XG4gICAgICAgIGZpcnN0RGF5T2ZNb250aC5zZXRGdWxsWWVhcihmaXJzdERheU9mTW9udGguZ2V0RnVsbFllYXIoKSAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlyc3REYXlPZk1vbnRoLnNldE1vbnRoKGZpcnN0RGF5T2ZNb250aC5nZXRNb250aCgpIC0gMSwgMSk7XG4gICAgICB9XG5cbiAgICAgIGZpcnN0RGF5T2ZNb250aC5zZXRIb3VycygwKTtcbiAgICAgIGZpcnN0RGF5T2ZNb250aC5zZXRNaW51dGVzKDApO1xuICAgICAgZmlyc3REYXlPZk1vbnRoLnNldFNlY29uZHMoMCk7XG5cbiAgICAgIGlmIChwcm9wcy5taW5EYXRlID4gZmlyc3REYXlPZk1vbnRoKSB7XG4gICAgICAgIERvbUhhbmRsZXIuYWRkQ2xhc3MobmF2UHJldiwgJ3AtZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MobmF2UHJldiwgJ3AtZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9IC8vIG5leHQgKGNoZWNrIGxhc3QgZGF5IG9mIG1vbnRoIGF0IDExOjU5OjU5KVxuXG5cbiAgICBpZiAocHJvcHMubWF4RGF0ZSkge1xuICAgICAgdmFyIGxhc3REYXlPZk1vbnRoID0gbmV3IERhdGUobmV3Vmlld0RhdGUuZ2V0VGltZSgpKTtcblxuICAgICAgaWYgKGxhc3REYXlPZk1vbnRoLmdldE1vbnRoKCkgPT09IDExKSB7XG4gICAgICAgIGxhc3REYXlPZk1vbnRoLnNldE1vbnRoKDAsIDEpO1xuICAgICAgICBsYXN0RGF5T2ZNb250aC5zZXRGdWxsWWVhcihsYXN0RGF5T2ZNb250aC5nZXRGdWxsWWVhcigpICsgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXN0RGF5T2ZNb250aC5zZXRNb250aChsYXN0RGF5T2ZNb250aC5nZXRNb250aCgpICsgMSwgMSk7XG4gICAgICB9XG5cbiAgICAgIGxhc3REYXlPZk1vbnRoLnNldEhvdXJzKDApO1xuICAgICAgbGFzdERheU9mTW9udGguc2V0TWludXRlcygwKTtcbiAgICAgIGxhc3REYXlPZk1vbnRoLnNldFNlY29uZHMoMCk7XG4gICAgICBsYXN0RGF5T2ZNb250aC5zZXRTZWNvbmRzKC0xKTtcblxuICAgICAgaWYgKHByb3BzLm1heERhdGUgPCBsYXN0RGF5T2ZNb250aCkge1xuICAgICAgICBEb21IYW5kbGVyLmFkZENsYXNzKG5hdk5leHQsICdwLWRpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKG5hdk5leHQsICdwLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRhdGVDZWxsS2V5ZG93biA9IGZ1bmN0aW9uIG9uRGF0ZUNlbGxLZXlkb3duKGV2ZW50LCBkYXRlLCBncm91cEluZGV4KSB7XG4gICAgdmFyIGNlbGxDb250ZW50ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICB2YXIgY2VsbCA9IGNlbGxDb250ZW50LnBhcmVudEVsZW1lbnQ7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAvL2Rvd24gYXJyb3dcbiAgICAgIGNhc2UgNDA6XG4gICAgICAgIHtcbiAgICAgICAgICBjZWxsQ29udGVudC50YWJJbmRleCA9ICctMSc7XG4gICAgICAgICAgdmFyIGNlbGxJbmRleCA9IERvbUhhbmRsZXIuaW5kZXgoY2VsbCk7XG4gICAgICAgICAgdmFyIG5leHRSb3cgPSBjZWxsLnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgaWYgKG5leHRSb3cpIHtcbiAgICAgICAgICAgIHZhciBmb2N1c0NlbGwgPSBuZXh0Um93LmNoaWxkcmVuW2NlbGxJbmRleF0uY2hpbGRyZW5bMF07XG5cbiAgICAgICAgICAgIGlmIChEb21IYW5kbGVyLmhhc0NsYXNzKGZvY3VzQ2VsbCwgJ3AtZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICBuYXZpZ2F0aW9uLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgYmFja3dhcmQ6IGZhbHNlXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIG5hdkZvcndhcmQoZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV4dFJvdy5jaGlsZHJlbltjZWxsSW5kZXhdLmNoaWxkcmVuWzBdLnRhYkluZGV4ID0gJzAnO1xuICAgICAgICAgICAgICBuZXh0Um93LmNoaWxkcmVuW2NlbGxJbmRleF0uY2hpbGRyZW5bMF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGlvbi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgICBiYWNrd2FyZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuYXZGb3J3YXJkKGV2ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvL3VwIGFycm93XG5cbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIHtcbiAgICAgICAgICBjZWxsQ29udGVudC50YWJJbmRleCA9ICctMSc7XG5cbiAgICAgICAgICB2YXIgX2NlbGxJbmRleCA9IERvbUhhbmRsZXIuaW5kZXgoY2VsbCk7XG5cbiAgICAgICAgICB2YXIgcHJldlJvdyA9IGNlbGwucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgaWYgKHByZXZSb3cpIHtcbiAgICAgICAgICAgIHZhciBfZm9jdXNDZWxsID0gcHJldlJvdy5jaGlsZHJlbltfY2VsbEluZGV4XS5jaGlsZHJlblswXTtcblxuICAgICAgICAgICAgaWYgKERvbUhhbmRsZXIuaGFzQ2xhc3MoX2ZvY3VzQ2VsbCwgJ3AtZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICBuYXZpZ2F0aW9uLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgYmFja3dhcmQ6IHRydWVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbmF2QmFja3dhcmQoZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX2ZvY3VzQ2VsbC50YWJJbmRleCA9ICcwJztcblxuICAgICAgICAgICAgICBfZm9jdXNDZWxsLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hdmlnYXRpb24uY3VycmVudCA9IHtcbiAgICAgICAgICAgICAgYmFja3dhcmQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuYXZCYWNrd2FyZChldmVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgLy9sZWZ0IGFycm93XG5cbiAgICAgIGNhc2UgMzc6XG4gICAgICAgIHtcbiAgICAgICAgICBjZWxsQ29udGVudC50YWJJbmRleCA9ICctMSc7XG4gICAgICAgICAgdmFyIHByZXZDZWxsID0gY2VsbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgaWYgKHByZXZDZWxsKSB7XG4gICAgICAgICAgICB2YXIgX2ZvY3VzQ2VsbDIgPSBwcmV2Q2VsbC5jaGlsZHJlblswXTtcblxuICAgICAgICAgICAgaWYgKERvbUhhbmRsZXIuaGFzQ2xhc3MoX2ZvY3VzQ2VsbDIsICdwLWRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgbmF2aWdhdGVUb01vbnRoKHRydWUsIGdyb3VwSW5kZXgsIGV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF9mb2N1c0NlbGwyLnRhYkluZGV4ID0gJzAnO1xuXG4gICAgICAgICAgICAgIF9mb2N1c0NlbGwyLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hdmlnYXRlVG9Nb250aCh0cnVlLCBncm91cEluZGV4LCBldmVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgLy9yaWdodCBhcnJvd1xuXG4gICAgICBjYXNlIDM5OlxuICAgICAgICB7XG4gICAgICAgICAgY2VsbENvbnRlbnQudGFiSW5kZXggPSAnLTEnO1xuICAgICAgICAgIHZhciBuZXh0Q2VsbCA9IGNlbGwubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgICAgICAgaWYgKG5leHRDZWxsKSB7XG4gICAgICAgICAgICB2YXIgX2ZvY3VzQ2VsbDMgPSBuZXh0Q2VsbC5jaGlsZHJlblswXTtcblxuICAgICAgICAgICAgaWYgKERvbUhhbmRsZXIuaGFzQ2xhc3MoX2ZvY3VzQ2VsbDMsICdwLWRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgbmF2aWdhdGVUb01vbnRoKGZhbHNlLCBncm91cEluZGV4LCBldmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfZm9jdXNDZWxsMy50YWJJbmRleCA9ICcwJztcblxuICAgICAgICAgICAgICBfZm9jdXNDZWxsMy5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuYXZpZ2F0ZVRvTW9udGgoZmFsc2UsIGdyb3VwSW5kZXgsIGV2ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvL2VudGVyXG5cbiAgICAgIGNhc2UgMTM6XG4gICAgICAgIHtcbiAgICAgICAgICBvbkRhdGVTZWxlY3QoZXZlbnQsIGRhdGUpO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIC8vZXNjYXBlXG5cbiAgICAgIGNhc2UgMjc6XG4gICAgICAgIHtcbiAgICAgICAgICBoaWRlKG51bGwsIHJlRm9jdXNJbnB1dEZpZWxkKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvL3RhYlxuXG4gICAgICBjYXNlIDk6XG4gICAgICAgIHtcbiAgICAgICAgICB0cmFwRm9jdXMoZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBuYXZpZ2F0ZVRvTW9udGggPSBmdW5jdGlvbiBuYXZpZ2F0ZVRvTW9udGgocHJldiwgZ3JvdXBJbmRleCwgZXZlbnQpIHtcbiAgICBpZiAocHJldikge1xuICAgICAgaWYgKHByb3BzLm51bWJlck9mTW9udGhzID09PSAxIHx8IGdyb3VwSW5kZXggPT09IDApIHtcbiAgICAgICAgbmF2aWdhdGlvbi5jdXJyZW50ID0ge1xuICAgICAgICAgIGJhY2t3YXJkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIG5hdkJhY2t3YXJkKGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcmV2TW9udGhDb250YWluZXIgPSBvdmVybGF5UmVmLmN1cnJlbnQuY2hpbGRyZW5bZ3JvdXBJbmRleCAtIDFdO1xuICAgICAgICB2YXIgY2VsbHMgPSBEb21IYW5kbGVyLmZpbmQocHJldk1vbnRoQ29udGFpbmVyLCAnLnAtZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBzcGFuOm5vdCgucC1kaXNhYmxlZCknKTtcbiAgICAgICAgdmFyIGZvY3VzQ2VsbCA9IGNlbGxzW2NlbGxzLmxlbmd0aCAtIDFdO1xuICAgICAgICBmb2N1c0NlbGwudGFiSW5kZXggPSAnMCc7XG4gICAgICAgIGZvY3VzQ2VsbC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcHMubnVtYmVyT2ZNb250aHMgPT09IDEgfHwgZ3JvdXBJbmRleCA9PT0gcHJvcHMubnVtYmVyT2ZNb250aHMgLSAxKSB7XG4gICAgICAgIG5hdmlnYXRpb24uY3VycmVudCA9IHtcbiAgICAgICAgICBiYWNrd2FyZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgbmF2Rm9yd2FyZChldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmV4dE1vbnRoQ29udGFpbmVyID0gb3ZlcmxheVJlZi5jdXJyZW50LmNoaWxkcmVuW2dyb3VwSW5kZXggKyAxXTtcblxuICAgICAgICB2YXIgX2ZvY3VzQ2VsbDQgPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUobmV4dE1vbnRoQ29udGFpbmVyLCAnLnAtZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBzcGFuOm5vdCgucC1kaXNhYmxlZCknKTtcblxuICAgICAgICBfZm9jdXNDZWxsNC50YWJJbmRleCA9ICcwJztcblxuICAgICAgICBfZm9jdXNDZWxsNC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25EYXRlU2VsZWN0ID0gZnVuY3Rpb24gb25EYXRlU2VsZWN0KGV2ZW50LCBkYXRlTWV0YSwgdGltZU1ldGEpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgIWRhdGVNZXRhLnNlbGVjdGFibGUpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRG9tSGFuZGxlci5maW5kKG92ZXJsYXlSZWYuY3VycmVudCwgJy5wLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgc3Bhbjpub3QoLnAtZGlzYWJsZWQpJykuZm9yRWFjaChmdW5jdGlvbiAoY2VsbCkge1xuICAgICAgcmV0dXJuIGNlbGwudGFiSW5kZXggPSAtMTtcbiAgICB9KTtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LmZvY3VzKCk7XG5cbiAgICBpZiAoaXNNdWx0aXBsZVNlbGVjdGlvbigpKSB7XG4gICAgICBpZiAoaXNTZWxlY3RlZChkYXRlTWV0YSkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChkYXRlLCBpKSB7XG4gICAgICAgICAgcmV0dXJuICFpc0RhdGVFcXVhbHMoZGF0ZSwgZGF0ZU1ldGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIHZhbHVlKTtcbiAgICAgICAgdXBkYXRlSW5wdXRmaWVsZCh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9wcy5tYXhEYXRlQ291bnQgfHwgIXByb3BzLnZhbHVlIHx8IHByb3BzLm1heERhdGVDb3VudCA+IHByb3BzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICBzZWxlY3REYXRlKGV2ZW50LCBkYXRlTWV0YSwgdGltZU1ldGEpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3REYXRlKGV2ZW50LCBkYXRlTWV0YSwgdGltZU1ldGEpO1xuICAgIH1cblxuICAgIGlmICghcHJvcHMuaW5saW5lICYmIGlzU2luZ2xlU2VsZWN0aW9uKCkgJiYgKCFwcm9wcy5zaG93VGltZSB8fCBwcm9wcy5oaWRlT25EYXRlVGltZVNlbGVjdCkpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBoaWRlKCdkYXRlc2VsZWN0Jyk7XG4gICAgICB9LCAxMDApO1xuXG4gICAgICBpZiAodG91Y2hVSU1hc2suY3VycmVudCkge1xuICAgICAgICBkaXNhYmxlTW9kYWxpdHkoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBzZWxlY3RUaW1lID0gZnVuY3Rpb24gc2VsZWN0VGltZShkYXRlLCB0aW1lTWV0YSkge1xuICAgIGlmIChwcm9wcy5zaG93VGltZSkge1xuICAgICAgdmFyIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHM7XG5cbiAgICAgIGlmICh0aW1lTWV0YSkge1xuICAgICAgICBob3VycyA9IHRpbWVNZXRhLmhvdXJzO1xuICAgICAgICBtaW51dGVzID0gdGltZU1ldGEubWludXRlcztcbiAgICAgICAgc2Vjb25kcyA9IHRpbWVNZXRhLnNlY29uZHM7XG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IHRpbWVNZXRhLm1pbGxpc2Vjb25kcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0aW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgICAgIHZhciBfcmVmMiA9IFt0aW1lLmdldEhvdXJzKCksIHRpbWUuZ2V0TWludXRlcygpLCB0aW1lLmdldFNlY29uZHMoKSwgdGltZS5nZXRNaWxsaXNlY29uZHMoKV07XG4gICAgICAgIGhvdXJzID0gX3JlZjJbMF07XG4gICAgICAgIG1pbnV0ZXMgPSBfcmVmMlsxXTtcbiAgICAgICAgc2Vjb25kcyA9IF9yZWYyWzJdO1xuICAgICAgICBtaWxsaXNlY29uZHMgPSBfcmVmMlszXTtcbiAgICAgIH1cblxuICAgICAgZGF0ZS5zZXRIb3Vycyhob3Vycyk7XG4gICAgICBkYXRlLnNldE1pbnV0ZXMobWludXRlcyk7XG4gICAgICBkYXRlLnNldFNlY29uZHMoc2Vjb25kcyk7XG4gICAgICBkYXRlLnNldE1pbGxpc2Vjb25kcyhtaWxsaXNlY29uZHMpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc2VsZWN0RGF0ZSA9IGZ1bmN0aW9uIHNlbGVjdERhdGUoZXZlbnQsIGRhdGVNZXRhLCB0aW1lTWV0YSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0ZU1ldGEueWVhciwgZGF0ZU1ldGEubW9udGgsIGRhdGVNZXRhLmRheSk7XG4gICAgc2VsZWN0VGltZShkYXRlLCB0aW1lTWV0YSk7XG5cbiAgICBpZiAocHJvcHMubWluRGF0ZSAmJiBwcm9wcy5taW5EYXRlID4gZGF0ZSkge1xuICAgICAgZGF0ZSA9IHByb3BzLm1pbkRhdGU7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1heERhdGUgJiYgcHJvcHMubWF4RGF0ZSA8IGRhdGUpIHtcbiAgICAgIGRhdGUgPSBwcm9wcy5tYXhEYXRlO1xuICAgIH1cblxuICAgIHZhciBzZWxlY3RlZFZhbHVlcyA9IGRhdGU7XG5cbiAgICBpZiAoaXNTaW5nbGVTZWxlY3Rpb24oKSkge1xuICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIGRhdGUpO1xuICAgIH0gZWxzZSBpZiAoaXNNdWx0aXBsZVNlbGVjdGlvbigpKSB7XG4gICAgICBzZWxlY3RlZFZhbHVlcyA9IHByb3BzLnZhbHVlID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcy52YWx1ZSksIFtkYXRlXSkgOiBbZGF0ZV07XG4gICAgICB1cGRhdGVNb2RlbChldmVudCwgc2VsZWN0ZWRWYWx1ZXMpO1xuICAgIH0gZWxzZSBpZiAoaXNSYW5nZVNlbGVjdGlvbigpKSB7XG4gICAgICBpZiAocHJvcHMudmFsdWUgJiYgcHJvcHMudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBzdGFydERhdGUgPSBwcm9wcy52YWx1ZVswXTtcbiAgICAgICAgdmFyIGVuZERhdGUgPSBwcm9wcy52YWx1ZVsxXTtcblxuICAgICAgICBpZiAoIWVuZERhdGUpIHtcbiAgICAgICAgICBpZiAoZGF0ZS5nZXRUaW1lKCkgPj0gc3RhcnREYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgZW5kRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuZERhdGUgPSBzdGFydERhdGU7XG4gICAgICAgICAgICBzdGFydERhdGUgPSBkYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGFydERhdGUgPSBkYXRlO1xuICAgICAgICAgIGVuZERhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0ZWRWYWx1ZXMgPSBbc3RhcnREYXRlLCBlbmREYXRlXTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIHNlbGVjdGVkVmFsdWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGVjdGVkVmFsdWVzID0gW2RhdGUsIG51bGxdO1xuICAgICAgICB1cGRhdGVNb2RlbChldmVudCwgc2VsZWN0ZWRWYWx1ZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5vblNlbGVjdCkge1xuICAgICAgcHJvcHMub25TZWxlY3Qoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IGRhdGVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUlucHV0ZmllbGQoc2VsZWN0ZWRWYWx1ZXMpO1xuICB9O1xuXG4gIHZhciBkZWNyZW1lbnREZWNhZGUgPSBmdW5jdGlvbiBkZWNyZW1lbnREZWNhZGUoKSB7XG4gICAgdmFyIF9jdXJyZW50WWVhciA9IGN1cnJlbnRZZWFyIC0gMTA7XG5cbiAgICBzZXRDdXJyZW50WWVhcihfY3VycmVudFllYXIpO1xuICAgIHJldHVybiBfY3VycmVudFllYXI7XG4gIH07XG5cbiAgdmFyIGluY3JlbWVudERlY2FkZSA9IGZ1bmN0aW9uIGluY3JlbWVudERlY2FkZSgpIHtcbiAgICB2YXIgX2N1cnJlbnRZZWFyID0gY3VycmVudFllYXIgKyAxMDtcblxuICAgIHNldEN1cnJlbnRZZWFyKF9jdXJyZW50WWVhcik7XG4gICAgcmV0dXJuIF9jdXJyZW50WWVhcjtcbiAgfTtcblxuICB2YXIgc3dpdGNoVG9Nb250aFZpZXcgPSBmdW5jdGlvbiBzd2l0Y2hUb01vbnRoVmlldyhldmVudCkge1xuICAgIHNldEN1cnJlbnRWaWV3KCdtb250aCcpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIHN3aXRjaFRvWWVhclZpZXcgPSBmdW5jdGlvbiBzd2l0Y2hUb1llYXJWaWV3KGV2ZW50KSB7XG4gICAgc2V0Q3VycmVudFZpZXcoJ3llYXInKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBvbk1vbnRoU2VsZWN0ID0gZnVuY3Rpb24gb25Nb250aFNlbGVjdChldmVudCwgbW9udGgpIHtcbiAgICBpZiAocHJvcHMudmlldyA9PT0gJ21vbnRoJykge1xuICAgICAgb25EYXRlU2VsZWN0KGV2ZW50LCB7XG4gICAgICAgIHllYXI6IGN1cnJlbnRZZWFyLFxuICAgICAgICBtb250aDogbW9udGgsXG4gICAgICAgIGRheTogMSxcbiAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50TW9udGgobW9udGgpO1xuICAgICAgY3JlYXRlTW9udGhzTWV0YShtb250aCwgY3VycmVudFllYXIpO1xuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoZ2V0Q3VycmVudERhdGVUaW1lKCkuZ2V0VGltZSgpKTtcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoMSk7IC8vICMyOTQ4IGFsd2F5cyBzZXQgdG8gMXN0IG9mIG1vbnRoXG5cbiAgICAgIGN1cnJlbnREYXRlLnNldE1vbnRoKG1vbnRoKTtcbiAgICAgIGN1cnJlbnREYXRlLnNldFllYXIoY3VycmVudFllYXIpO1xuICAgICAgc2V0Vmlld0RhdGVTdGF0ZShjdXJyZW50RGF0ZSk7XG4gICAgICBzZXRDdXJyZW50VmlldygnZGF0ZScpO1xuICAgICAgcHJvcHMub25Nb250aENoYW5nZSAmJiBwcm9wcy5vbk1vbnRoQ2hhbmdlKHtcbiAgICAgICAgbW9udGg6IG1vbnRoICsgMSxcbiAgICAgICAgeWVhcjogY3VycmVudFllYXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25ZZWFyU2VsZWN0ID0gZnVuY3Rpb24gb25ZZWFyU2VsZWN0KGV2ZW50LCB5ZWFyKSB7XG4gICAgaWYgKHByb3BzLnZpZXcgPT09ICd5ZWFyJykge1xuICAgICAgb25EYXRlU2VsZWN0KGV2ZW50LCB7XG4gICAgICAgIHllYXI6IHllYXIsXG4gICAgICAgIG1vbnRoOiAwLFxuICAgICAgICBkYXk6IDEsXG4gICAgICAgIHNlbGVjdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50WWVhcih5ZWFyKTtcbiAgICAgIHNldEN1cnJlbnRWaWV3KCdtb250aCcpO1xuICAgICAgcHJvcHMub25Nb250aENoYW5nZSAmJiBwcm9wcy5vbk1vbnRoQ2hhbmdlKHtcbiAgICAgICAgbW9udGg6IGN1cnJlbnRNb250aCArIDEsXG4gICAgICAgIHllYXI6IHllYXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlTW9kZWwgPSBmdW5jdGlvbiB1cGRhdGVNb2RlbChldmVudCwgdmFsdWUpIHtcbiAgICBpZiAocHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSA/IG5ldyBEYXRlKHZhbHVlLmdldFRpbWUoKSkgOiB2YWx1ZTtcbiAgICAgIHZpZXdTdGF0ZUNoYW5nZWQuY3VycmVudCA9IHRydWU7XG4gICAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICB2YWx1ZTogbmV3VmFsdWUsXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge30sXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHt9LFxuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgICAgICB2YWx1ZTogbmV3VmFsdWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdyh0eXBlKSB7XG4gICAgaWYgKHByb3BzLm9uVmlzaWJsZUNoYW5nZSkge1xuICAgICAgcHJvcHMub25WaXNpYmxlQ2hhbmdlKHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgdHlwZTogdHlwZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUodHJ1ZSk7XG5cbiAgICAgIG92ZXJsYXlFdmVudExpc3RlbmVyLmN1cnJlbnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWlzT3V0c2lkZUNsaWNrZWQoZSkpIHtcbiAgICAgICAgICBpc092ZXJsYXlDbGlja2VkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBPdmVybGF5U2VydmljZS5vbignb3ZlcmxheS1jbGljaycsIG92ZXJsYXlFdmVudExpc3RlbmVyLmN1cnJlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUodHlwZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgX2hpZGVDYWxsYmFjayA9IGZ1bmN0aW9uIF9oaWRlQ2FsbGJhY2soKSB7XG4gICAgICB2aWV3U3RhdGVDaGFuZ2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlnbm9yZUZvY3VzRnVuY3Rpb25hbGl0eS5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBpc092ZXJsYXlDbGlja2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICBPdmVybGF5U2VydmljZS5vZmYoJ292ZXJsYXktY2xpY2snLCBvdmVybGF5RXZlbnRMaXN0ZW5lci5jdXJyZW50KTtcbiAgICAgIG92ZXJsYXlFdmVudExpc3RlbmVyLmN1cnJlbnQgPSBudWxsO1xuICAgIH07XG5cbiAgICBwcm9wcy50b3VjaFVJICYmIGRpc2FibGVNb2RhbGl0eSgpO1xuXG4gICAgaWYgKHByb3BzLm9uVmlzaWJsZUNoYW5nZSkge1xuICAgICAgcHJvcHMub25WaXNpYmxlQ2hhbmdlKHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNhbGxiYWNrOiBfaGlkZUNhbGxiYWNrXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0T3ZlcmxheVZpc2libGVTdGF0ZShmYWxzZSk7XG5cbiAgICAgIF9oaWRlQ2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uT3ZlcmxheUVudGVyID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXIoKSB7XG4gICAgaWYgKHByb3BzLmF1dG9aSW5kZXgpIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wcy50b3VjaFVJID8gJ21vZGFsJyA6ICdvdmVybGF5JztcbiAgICAgIFpJbmRleFV0aWxzLnNldChrZXksIG92ZXJsYXlSZWYuY3VycmVudCwgUHJpbWVSZWFjdC5hdXRvWkluZGV4LCBwcm9wcy5iYXNlWkluZGV4IHx8IFByaW1lUmVhY3QuekluZGV4W2tleV0pO1xuICAgIH1cblxuICAgIGFsaWduT3ZlcmxheSgpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFbnRlcmVkID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXJlZCgpIHtcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyKCk7XG4gICAgcHJvcHMub25TaG93ICYmIHByb3BzLm9uU2hvdygpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFeGl0ID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdCgpIHtcbiAgICB1bmJpbmRPdmVybGF5TGlzdGVuZXIoKTtcbiAgfTtcblxuICB2YXIgb25PdmVybGF5RXhpdGVkID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdGVkKCkge1xuICAgIFpJbmRleFV0aWxzLmNsZWFyKG92ZXJsYXlSZWYuY3VycmVudCk7XG4gICAgcHJvcHMub25IaWRlICYmIHByb3BzLm9uSGlkZSgpO1xuICB9O1xuXG4gIHZhciBhcHBlbmREaXNhYmxlZCA9IGZ1bmN0aW9uIGFwcGVuZERpc2FibGVkKCkge1xuICAgIHJldHVybiBwcm9wcy5hcHBlbmRUbyA9PT0gJ3NlbGYnIHx8IHByb3BzLmlubGluZTtcbiAgfTtcblxuICB2YXIgYWxpZ25PdmVybGF5ID0gZnVuY3Rpb24gYWxpZ25PdmVybGF5KCkge1xuICAgIGlmIChwcm9wcy50b3VjaFVJKSB7XG4gICAgICBlbmFibGVNb2RhbGl0eSgpO1xuICAgIH0gZWxzZSBpZiAob3ZlcmxheVJlZiAmJiBvdmVybGF5UmVmLmN1cnJlbnQgJiYgaW5wdXRSZWYgJiYgaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgRG9tSGFuZGxlci5hbGlnbk92ZXJsYXkob3ZlcmxheVJlZi5jdXJyZW50LCBpbnB1dFJlZi5jdXJyZW50LCBwcm9wcy5hcHBlbmRUbyB8fCBQcmltZVJlYWN0LmFwcGVuZFRvKTtcblxuICAgICAgaWYgKGFwcGVuZERpc2FibGVkKCkpIHtcbiAgICAgICAgRG9tSGFuZGxlci5yZWxhdGl2ZVBvc2l0aW9uKG92ZXJsYXlSZWYuY3VycmVudCwgaW5wdXRSZWYuY3VycmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudFZpZXcgPT09ICdkYXRlJykge1xuICAgICAgICAgIG92ZXJsYXlSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChvdmVybGF5UmVmLmN1cnJlbnQpICsgJ3B4JztcbiAgICAgICAgICBvdmVybGF5UmVmLmN1cnJlbnQuc3R5bGUubWluV2lkdGggPSBEb21IYW5kbGVyLmdldE91dGVyV2lkdGgoaW5wdXRSZWYuY3VycmVudCkgKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG92ZXJsYXlSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChpbnB1dFJlZi5jdXJyZW50KSArICdweCc7XG4gICAgICAgIH1cblxuICAgICAgICBEb21IYW5kbGVyLmFic29sdXRlUG9zaXRpb24ob3ZlcmxheVJlZi5jdXJyZW50LCBpbnB1dFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGVuYWJsZU1vZGFsaXR5ID0gZnVuY3Rpb24gZW5hYmxlTW9kYWxpdHkoKSB7XG4gICAgaWYgKCF0b3VjaFVJTWFzay5jdXJyZW50KSB7XG4gICAgICB0b3VjaFVJTWFzay5jdXJyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0b3VjaFVJTWFzay5jdXJyZW50LnN0eWxlLnpJbmRleCA9IFN0cmluZyhaSW5kZXhVdGlscy5nZXQob3ZlcmxheVJlZi5jdXJyZW50KSAtIDEpO1xuICAgICAgRG9tSGFuZGxlci5hZGRNdWx0aXBsZUNsYXNzZXModG91Y2hVSU1hc2suY3VycmVudCwgJ3AtY29tcG9uZW50LW92ZXJsYXkgcC1kYXRlcGlja2VyLW1hc2sgcC1kYXRlcGlja2VyLW1hc2stc2Nyb2xsYmxvY2tlciBwLWNvbXBvbmVudC1vdmVybGF5LWVudGVyJyk7XG5cbiAgICAgIHRvdWNoVUlNYXNrQ2xpY2tMaXN0ZW5lci5jdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkaXNhYmxlTW9kYWxpdHkoKTtcbiAgICAgICAgaGlkZSgpO1xuICAgICAgfTtcblxuICAgICAgdG91Y2hVSU1hc2suY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvdWNoVUlNYXNrQ2xpY2tMaXN0ZW5lci5jdXJyZW50KTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG91Y2hVSU1hc2suY3VycmVudCk7XG4gICAgICBEb21IYW5kbGVyLmFkZENsYXNzKGRvY3VtZW50LmJvZHksICdwLW92ZXJmbG93LWhpZGRlbicpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZGlzYWJsZU1vZGFsaXR5ID0gZnVuY3Rpb24gZGlzYWJsZU1vZGFsaXR5KCkge1xuICAgIGlmICh0b3VjaFVJTWFzay5jdXJyZW50KSB7XG4gICAgICBEb21IYW5kbGVyLmFkZENsYXNzKHRvdWNoVUlNYXNrLmN1cnJlbnQsICdwLWNvbXBvbmVudC1vdmVybGF5LWxlYXZlJyk7XG4gICAgICB0b3VjaFVJTWFzay5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVzdHJveU1hc2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZGVzdHJveU1hc2sgPSBmdW5jdGlvbiBkZXN0cm95TWFzaygpIHtcbiAgICBpZiAodG91Y2hVSU1hc2suY3VycmVudCkge1xuICAgICAgdG91Y2hVSU1hc2suY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRvdWNoVUlNYXNrQ2xpY2tMaXN0ZW5lci5jdXJyZW50KTtcbiAgICAgIHRvdWNoVUlNYXNrQ2xpY2tMaXN0ZW5lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodG91Y2hVSU1hc2suY3VycmVudCk7XG4gICAgICB0b3VjaFVJTWFzay5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgYm9keUNoaWxkcmVuID0gZG9jdW1lbnQuYm9keS5jaGlsZHJlbjtcbiAgICB2YXIgaGFzQmxvY2tlck1hc2tzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBib2R5Q2hpbGQgPSBib2R5Q2hpbGRyZW5baV07XG5cbiAgICAgIGlmIChEb21IYW5kbGVyLmhhc0NsYXNzKGJvZHlDaGlsZCwgJ3AtZGF0ZXBpY2tlci1tYXNrLXNjcm9sbGJsb2NrZXInKSkge1xuICAgICAgICBoYXNCbG9ja2VyTWFza3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhc0Jsb2NrZXJNYXNrcykge1xuICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCAncC1vdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzT3V0c2lkZUNsaWNrZWQgPSBmdW5jdGlvbiBpc091dHNpZGVDbGlja2VkKGV2ZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudCAmJiAhKGVsZW1lbnRSZWYuY3VycmVudC5pc1NhbWVOb2RlKGV2ZW50LnRhcmdldCkgfHwgaXNOYXZJY29uQ2xpY2tlZChldmVudC50YXJnZXQpIHx8IGVsZW1lbnRSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQpIHx8IG92ZXJsYXlSZWYuY3VycmVudCAmJiBvdmVybGF5UmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSk7XG4gIH07XG5cbiAgdmFyIGlzTmF2SWNvbkNsaWNrZWQgPSBmdW5jdGlvbiBpc05hdkljb25DbGlja2VkKHRhcmdldCkge1xuICAgIHJldHVybiBEb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldCwgJ3AtZGF0ZXBpY2tlci1wcmV2JykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyh0YXJnZXQsICdwLWRhdGVwaWNrZXItcHJldi1pY29uJykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyh0YXJnZXQsICdwLWRhdGVwaWNrZXItbmV4dCcpIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3ModGFyZ2V0LCAncC1kYXRlcGlja2VyLW5leHQtaWNvbicpO1xuICB9O1xuXG4gIHZhciBnZXRGaXJzdERheU9mTW9udGhJbmRleCA9IGZ1bmN0aW9uIGdldEZpcnN0RGF5T2ZNb250aEluZGV4KG1vbnRoLCB5ZWFyKSB7XG4gICAgdmFyIGRheSA9IG5ldyBEYXRlKCk7XG4gICAgZGF5LnNldERhdGUoMSk7XG4gICAgZGF5LnNldE1vbnRoKG1vbnRoKTtcbiAgICBkYXkuc2V0RnVsbFllYXIoeWVhcik7XG4gICAgdmFyIGRheUluZGV4ID0gZGF5LmdldERheSgpICsgZ2V0U3VuZGF5SW5kZXgoKTtcbiAgICByZXR1cm4gZGF5SW5kZXggPj0gNyA/IGRheUluZGV4IC0gNyA6IGRheUluZGV4O1xuICB9O1xuXG4gIHZhciBnZXREYXlzQ291bnRJbk1vbnRoID0gZnVuY3Rpb24gZ2V0RGF5c0NvdW50SW5Nb250aChtb250aCwgeWVhcikge1xuICAgIHJldHVybiAzMiAtIGRheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHllYXIsIG1vbnRoLCAzMikpLmdldERhdGUoKTtcbiAgfTtcblxuICB2YXIgZ2V0RGF5c0NvdW50SW5QcmV2TW9udGggPSBmdW5jdGlvbiBnZXREYXlzQ291bnRJblByZXZNb250aChtb250aCwgeWVhcikge1xuICAgIHZhciBwcmV2ID0gZ2V0UHJldmlvdXNNb250aEFuZFllYXIobW9udGgsIHllYXIpO1xuICAgIHJldHVybiBnZXREYXlzQ291bnRJbk1vbnRoKHByZXYubW9udGgsIHByZXYueWVhcik7XG4gIH07XG5cbiAgdmFyIGRheWxpZ2h0U2F2aW5nQWRqdXN0ID0gZnVuY3Rpb24gZGF5bGlnaHRTYXZpbmdBZGp1c3QoZGF0ZSkge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgPiAxMiA/IGRhdGUuZ2V0SG91cnMoKSArIDIgOiAwKTtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfTtcblxuICB2YXIgZ2V0UHJldmlvdXNNb250aEFuZFllYXIgPSBmdW5jdGlvbiBnZXRQcmV2aW91c01vbnRoQW5kWWVhcihtb250aCwgeWVhcikge1xuICAgIHZhciBtLCB5O1xuXG4gICAgaWYgKG1vbnRoID09PSAwKSB7XG4gICAgICBtID0gMTE7XG4gICAgICB5ID0geWVhciAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBtb250aCAtIDE7XG4gICAgICB5ID0geWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbW9udGg6IG0sXG4gICAgICB5ZWFyOiB5XG4gICAgfTtcbiAgfTtcblxuICB2YXIgZ2V0TmV4dE1vbnRoQW5kWWVhciA9IGZ1bmN0aW9uIGdldE5leHRNb250aEFuZFllYXIobW9udGgsIHllYXIpIHtcbiAgICB2YXIgbSwgeTtcblxuICAgIGlmIChtb250aCA9PT0gMTEpIHtcbiAgICAgIG0gPSAwO1xuICAgICAgeSA9IHllYXIgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gbW9udGggKyAxO1xuICAgICAgeSA9IHllYXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1vbnRoOiBtLFxuICAgICAgeWVhcjogeVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGdldFN1bmRheUluZGV4ID0gZnVuY3Rpb24gZ2V0U3VuZGF5SW5kZXgoKSB7XG4gICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlT3B0aW9uKCdmaXJzdERheU9mV2VlaycsIHByb3BzLmxvY2FsZSk7XG4gICAgcmV0dXJuIGZpcnN0RGF5T2ZXZWVrID4gMCA/IDcgLSBmaXJzdERheU9mV2VlayA6IDA7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVdlZWtEYXlzTWV0YSA9IGZ1bmN0aW9uIGNyZWF0ZVdlZWtEYXlzTWV0YSgpIHtcbiAgICB2YXIgd2Vla0RheXMgPSBbXTtcblxuICAgIHZhciBfbG9jYWxlT3B0aW9ucyA9IGxvY2FsZU9wdGlvbnMocHJvcHMubG9jYWxlKSxcbiAgICAgICAgZGF5SW5kZXggPSBfbG9jYWxlT3B0aW9ucy5maXJzdERheU9mV2VlayxcbiAgICAgICAgZGF5TmFtZXNNaW4gPSBfbG9jYWxlT3B0aW9ucy5kYXlOYW1lc01pbjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICB3ZWVrRGF5cy5wdXNoKGRheU5hbWVzTWluW2RheUluZGV4XSk7XG4gICAgICBkYXlJbmRleCA9IGRheUluZGV4ID09PSA2ID8gMCA6ICsrZGF5SW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdlZWtEYXlzO1xuICB9O1xuXG4gIHZhciBjcmVhdGVNb250aHNNZXRhID0gZnVuY3Rpb24gY3JlYXRlTW9udGhzTWV0YShtb250aCwgeWVhcikge1xuICAgIHZhciBtb250aHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubnVtYmVyT2ZNb250aHM7IGkrKykge1xuICAgICAgdmFyIG0gPSBtb250aCArIGk7XG4gICAgICB2YXIgeSA9IHllYXI7XG5cbiAgICAgIGlmIChtID4gMTEpIHtcbiAgICAgICAgbSA9IG0gJSAxMSAtIDE7XG4gICAgICAgIHkgPSB5ZWFyICsgMTtcbiAgICAgIH1cblxuICAgICAgbW9udGhzLnB1c2goY3JlYXRlTW9udGhNZXRhKG0sIHkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9udGhzO1xuICB9O1xuXG4gIHZhciBjcmVhdGVNb250aE1ldGEgPSBmdW5jdGlvbiBjcmVhdGVNb250aE1ldGEobW9udGgsIHllYXIpIHtcbiAgICB2YXIgZGF0ZXMgPSBbXTtcbiAgICB2YXIgZmlyc3REYXkgPSBnZXRGaXJzdERheU9mTW9udGhJbmRleChtb250aCwgeWVhcik7XG4gICAgdmFyIGRheXNMZW5ndGggPSBnZXREYXlzQ291bnRJbk1vbnRoKG1vbnRoLCB5ZWFyKTtcbiAgICB2YXIgcHJldk1vbnRoRGF5c0xlbmd0aCA9IGdldERheXNDb3VudEluUHJldk1vbnRoKG1vbnRoLCB5ZWFyKTtcbiAgICB2YXIgZGF5Tm8gPSAxO1xuICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIHdlZWtOdW1iZXJzID0gW107XG4gICAgdmFyIG1vbnRoUm93cyA9IE1hdGguY2VpbCgoZGF5c0xlbmd0aCArIGZpcnN0RGF5KSAvIDcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb250aFJvd3M7IGkrKykge1xuICAgICAgdmFyIHdlZWsgPSBbXTtcblxuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IHByZXZNb250aERheXNMZW5ndGggLSBmaXJzdERheSArIDE7IGogPD0gcHJldk1vbnRoRGF5c0xlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIHByZXYgPSBnZXRQcmV2aW91c01vbnRoQW5kWWVhcihtb250aCwgeWVhcik7XG4gICAgICAgICAgd2Vlay5wdXNoKHtcbiAgICAgICAgICAgIGRheTogaixcbiAgICAgICAgICAgIG1vbnRoOiBwcmV2Lm1vbnRoLFxuICAgICAgICAgICAgeWVhcjogcHJldi55ZWFyLFxuICAgICAgICAgICAgb3RoZXJNb250aDogdHJ1ZSxcbiAgICAgICAgICAgIHRvZGF5OiBpc1RvZGF5KHRvZGF5LCBqLCBwcmV2Lm1vbnRoLCBwcmV2LnllYXIpLFxuICAgICAgICAgICAgc2VsZWN0YWJsZTogaXNTZWxlY3RhYmxlKGosIHByZXYubW9udGgsIHByZXYueWVhciwgdHJ1ZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW1haW5pbmdEYXlzTGVuZ3RoID0gNyAtIHdlZWsubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCByZW1haW5pbmdEYXlzTGVuZ3RoOyBfaisrKSB7XG4gICAgICAgICAgd2Vlay5wdXNoKHtcbiAgICAgICAgICAgIGRheTogZGF5Tm8sXG4gICAgICAgICAgICBtb250aDogbW9udGgsXG4gICAgICAgICAgICB5ZWFyOiB5ZWFyLFxuICAgICAgICAgICAgdG9kYXk6IGlzVG9kYXkodG9kYXksIGRheU5vLCBtb250aCwgeWVhciksXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiBpc1NlbGVjdGFibGUoZGF5Tm8sIG1vbnRoLCB5ZWFyLCBmYWxzZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkYXlObysrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBfajIgPSAwOyBfajIgPCA3OyBfajIrKykge1xuICAgICAgICAgIGlmIChkYXlObyA+IGRheXNMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gZ2V0TmV4dE1vbnRoQW5kWWVhcihtb250aCwgeWVhcik7XG4gICAgICAgICAgICB3ZWVrLnB1c2goe1xuICAgICAgICAgICAgICBkYXk6IGRheU5vIC0gZGF5c0xlbmd0aCxcbiAgICAgICAgICAgICAgbW9udGg6IG5leHQubW9udGgsXG4gICAgICAgICAgICAgIHllYXI6IG5leHQueWVhcixcbiAgICAgICAgICAgICAgb3RoZXJNb250aDogdHJ1ZSxcbiAgICAgICAgICAgICAgdG9kYXk6IGlzVG9kYXkodG9kYXksIGRheU5vIC0gZGF5c0xlbmd0aCwgbmV4dC5tb250aCwgbmV4dC55ZWFyKSxcbiAgICAgICAgICAgICAgc2VsZWN0YWJsZTogaXNTZWxlY3RhYmxlKGRheU5vIC0gZGF5c0xlbmd0aCwgbmV4dC5tb250aCwgbmV4dC55ZWFyLCB0cnVlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdlZWsucHVzaCh7XG4gICAgICAgICAgICAgIGRheTogZGF5Tm8sXG4gICAgICAgICAgICAgIG1vbnRoOiBtb250aCxcbiAgICAgICAgICAgICAgeWVhcjogeWVhcixcbiAgICAgICAgICAgICAgdG9kYXk6IGlzVG9kYXkodG9kYXksIGRheU5vLCBtb250aCwgeWVhciksXG4gICAgICAgICAgICAgIHNlbGVjdGFibGU6IGlzU2VsZWN0YWJsZShkYXlObywgbW9udGgsIHllYXIsIGZhbHNlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF5Tm8rKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuc2hvd1dlZWspIHtcbiAgICAgICAgd2Vla051bWJlcnMucHVzaChnZXRXZWVrTnVtYmVyKG5ldyBEYXRlKHdlZWtbMF0ueWVhciwgd2Vla1swXS5tb250aCwgd2Vla1swXS5kYXkpKSk7XG4gICAgICB9XG5cbiAgICAgIGRhdGVzLnB1c2god2Vlayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1vbnRoOiBtb250aCxcbiAgICAgIHllYXI6IHllYXIsXG4gICAgICBkYXRlczogZGF0ZXMsXG4gICAgICB3ZWVrTnVtYmVyczogd2Vla051bWJlcnNcbiAgICB9O1xuICB9O1xuXG4gIHZhciBnZXRXZWVrTnVtYmVyID0gZnVuY3Rpb24gZ2V0V2Vla051bWJlcihkYXRlKSB7XG4gICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcbiAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtIChjaGVja0RhdGUuZ2V0RGF5KCkgfHwgNykpO1xuICAgIHZhciB0aW1lID0gY2hlY2tEYXRlLmdldFRpbWUoKTtcbiAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7XG4gICAgY2hlY2tEYXRlLnNldERhdGUoMSk7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZS5nZXRUaW1lKCkpIC8gODY0MDAwMDApIC8gNykgKyAxO1xuICB9O1xuXG4gIHZhciBpc1NlbGVjdGFibGUgPSBmdW5jdGlvbiBpc1NlbGVjdGFibGUoZGF5LCBtb250aCwgeWVhciwgb3RoZXJNb250aCkge1xuICAgIHZhciB2YWxpZE1pbiA9IHRydWU7XG4gICAgdmFyIHZhbGlkTWF4ID0gdHJ1ZTtcbiAgICB2YXIgdmFsaWREYXRlID0gdHJ1ZTtcbiAgICB2YXIgdmFsaWREYXkgPSB0cnVlO1xuICAgIHZhciB2YWxpZE1vbnRoID0gdHJ1ZTtcblxuICAgIGlmIChwcm9wcy5taW5EYXRlKSB7XG4gICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRGdWxsWWVhcigpID4geWVhcikge1xuICAgICAgICB2YWxpZE1pbiA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5taW5EYXRlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIpIHtcbiAgICAgICAgaWYgKHByb3BzLm1pbkRhdGUuZ2V0TW9udGgoKSA+IG1vbnRoKSB7XG4gICAgICAgICAgdmFsaWRNaW4gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5taW5EYXRlLmdldE1vbnRoKCkgPT09IG1vbnRoKSB7XG4gICAgICAgICAgaWYgKHByb3BzLm1pbkRhdGUuZ2V0RGF0ZSgpID4gZGF5KSB7XG4gICAgICAgICAgICB2YWxpZE1pbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5tYXhEYXRlKSB7XG4gICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRGdWxsWWVhcigpIDwgeWVhcikge1xuICAgICAgICB2YWxpZE1heCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIpIHtcbiAgICAgICAgaWYgKHByb3BzLm1heERhdGUuZ2V0TW9udGgoKSA8IG1vbnRoKSB7XG4gICAgICAgICAgdmFsaWRNYXggPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tYXhEYXRlLmdldE1vbnRoKCkgPT09IG1vbnRoKSB7XG4gICAgICAgICAgaWYgKHByb3BzLm1heERhdGUuZ2V0RGF0ZSgpIDwgZGF5KSB7XG4gICAgICAgICAgICB2YWxpZE1heCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5kaXNhYmxlZERhdGVzKSB7XG4gICAgICB2YWxpZERhdGUgPSAhaXNEYXRlRGlzYWJsZWQoZGF5LCBtb250aCwgeWVhcik7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmRpc2FibGVkRGF5cykge1xuICAgICAgdmFsaWREYXkgPSAhaXNEYXlEaXNhYmxlZChkYXksIG1vbnRoLCB5ZWFyKTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuc2VsZWN0T3RoZXJNb250aHMgPT09IGZhbHNlICYmIG90aGVyTW9udGgpIHtcbiAgICAgIHZhbGlkTW9udGggPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRNaW4gJiYgdmFsaWRNYXggJiYgdmFsaWREYXRlICYmIHZhbGlkRGF5ICYmIHZhbGlkTW9udGg7XG4gIH07XG5cbiAgdmFyIGlzU2VsZWN0YWJsZVRpbWUgPSBmdW5jdGlvbiBpc1NlbGVjdGFibGVUaW1lKHZhbHVlKSB7XG4gICAgdmFyIHZhbGlkTWluID0gdHJ1ZTtcbiAgICB2YXIgdmFsaWRNYXggPSB0cnVlO1xuXG4gICAgaWYgKHByb3BzLm1pbkRhdGUgJiYgcHJvcHMubWluRGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdmFsdWUudG9EYXRlU3RyaW5nKCkpIHtcbiAgICAgIGlmIChwcm9wcy5taW5EYXRlLmdldEhvdXJzKCkgPiB2YWx1ZS5nZXRIb3VycygpKSB7XG4gICAgICAgIHZhbGlkTWluID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLm1pbkRhdGUuZ2V0SG91cnMoKSA9PT0gdmFsdWUuZ2V0SG91cnMoKSkge1xuICAgICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRNaW51dGVzKCkgPiB2YWx1ZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICB2YWxpZE1pbiA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1pbkRhdGUuZ2V0TWludXRlcygpID09PSB2YWx1ZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRTZWNvbmRzKCkgPiB2YWx1ZS5nZXRTZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIHZhbGlkTWluID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5taW5EYXRlLmdldFNlY29uZHMoKSA9PT0gdmFsdWUuZ2V0U2Vjb25kcygpKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMubWluRGF0ZS5nZXRNaWxsaXNlY29uZHMoKSA+IHZhbHVlLmdldE1pbGxpc2Vjb25kcygpKSB7XG4gICAgICAgICAgICAgIHZhbGlkTWluID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1heERhdGUgJiYgcHJvcHMubWF4RGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdmFsdWUudG9EYXRlU3RyaW5nKCkpIHtcbiAgICAgIGlmIChwcm9wcy5tYXhEYXRlLmdldEhvdXJzKCkgPCB2YWx1ZS5nZXRIb3VycygpKSB7XG4gICAgICAgIHZhbGlkTWF4ID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLm1heERhdGUuZ2V0SG91cnMoKSA9PT0gdmFsdWUuZ2V0SG91cnMoKSkge1xuICAgICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRNaW51dGVzKCkgPCB2YWx1ZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICB2YWxpZE1heCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1heERhdGUuZ2V0TWludXRlcygpID09PSB2YWx1ZS5nZXRNaW51dGVzKCkpIHtcbiAgICAgICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRTZWNvbmRzKCkgPCB2YWx1ZS5nZXRTZWNvbmRzKCkpIHtcbiAgICAgICAgICAgIHZhbGlkTWF4ID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tYXhEYXRlLmdldFNlY29uZHMoKSA9PT0gdmFsdWUuZ2V0U2Vjb25kcygpKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMubWF4RGF0ZS5nZXRNaWxsaXNlY29uZHMoKSA8IHZhbHVlLmdldE1pbGxpc2Vjb25kcygpKSB7XG4gICAgICAgICAgICAgIHZhbGlkTWF4ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkTWluICYmIHZhbGlkTWF4O1xuICB9O1xuXG4gIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gaXNTZWxlY3RlZChkYXRlTWV0YSkge1xuICAgIGlmIChwcm9wcy52YWx1ZSkge1xuICAgICAgaWYgKGlzU2luZ2xlU2VsZWN0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuIGlzRGF0ZUVxdWFscyhwcm9wcy52YWx1ZSwgZGF0ZU1ldGEpO1xuICAgICAgfSBlbHNlIGlmIChpc011bHRpcGxlU2VsZWN0aW9uKCkpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb3BzLnZhbHVlKSxcbiAgICAgICAgICAgIF9zdGVwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IGlzRGF0ZUVxdWFscyhkYXRlLCBkYXRlTWV0YSk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RlZDtcbiAgICAgIH0gZWxzZSBpZiAoaXNSYW5nZVNlbGVjdGlvbigpKSB7XG4gICAgICAgIGlmIChwcm9wcy52YWx1ZVsxXSkgcmV0dXJuIGlzRGF0ZUVxdWFscyhwcm9wcy52YWx1ZVswXSwgZGF0ZU1ldGEpIHx8IGlzRGF0ZUVxdWFscyhwcm9wcy52YWx1ZVsxXSwgZGF0ZU1ldGEpIHx8IGlzRGF0ZUJldHdlZW4ocHJvcHMudmFsdWVbMF0sIHByb3BzLnZhbHVlWzFdLCBkYXRlTWV0YSk7ZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGlzRGF0ZUVxdWFscyhwcm9wcy52YWx1ZVswXSwgZGF0ZU1ldGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQ29tcGFyYWJsZSA9IGZ1bmN0aW9uIGlzQ29tcGFyYWJsZSgpIHtcbiAgICByZXR1cm4gcHJvcHMudmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgcHJvcHMudmFsdWUgIT09ICdzdHJpbmcnO1xuICB9O1xuXG4gIHZhciBpc01vbnRoU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc01vbnRoU2VsZWN0ZWQobW9udGgpIHtcbiAgICBpZiAoaXNDb21wYXJhYmxlKCkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlzUmFuZ2VTZWxlY3Rpb24oKSA/IHByb3BzLnZhbHVlWzBdIDogcHJvcHMudmFsdWU7XG4gICAgICByZXR1cm4gIWlzTXVsdGlwbGVTZWxlY3Rpb24oKSA/IHZhbHVlLmdldE1vbnRoKCkgPT09IG1vbnRoICYmIHZhbHVlLmdldEZ1bGxZZWFyKCkgPT09IGN1cnJlbnRZZWFyIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciBpc1llYXJTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzWWVhclNlbGVjdGVkKHllYXIpIHtcbiAgICBpZiAoaXNDb21wYXJhYmxlKCkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlzUmFuZ2VTZWxlY3Rpb24oKSA/IHByb3BzLnZhbHVlWzBdIDogcHJvcHMudmFsdWU7XG4gICAgICByZXR1cm4gIWlzTXVsdGlwbGVTZWxlY3Rpb24oKSAmJiBpc0NvbXBhcmFibGUoKSA/IHZhbHVlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIgOiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIHN3aXRjaFZpZXdCdXR0b25EaXNhYmxlZCA9IGZ1bmN0aW9uIHN3aXRjaFZpZXdCdXR0b25EaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gcHJvcHMubnVtYmVyT2ZNb250aHMgPiAxIHx8IHByb3BzLmRpc2FibGVkO1xuICB9O1xuXG4gIHZhciBpc0RhdGVFcXVhbHMgPSBmdW5jdGlvbiBpc0RhdGVFcXVhbHModmFsdWUsIGRhdGVNZXRhKSB7XG4gICAgaWYgKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHZhbHVlLmdldERhdGUoKSA9PT0gZGF0ZU1ldGEuZGF5ICYmIHZhbHVlLmdldE1vbnRoKCkgPT09IGRhdGVNZXRhLm1vbnRoICYmIHZhbHVlLmdldEZ1bGxZZWFyKCkgPT09IGRhdGVNZXRhLnllYXI7ZWxzZSByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGlzRGF0ZUJldHdlZW4gPSBmdW5jdGlvbiBpc0RhdGVCZXR3ZWVuKHN0YXJ0LCBlbmQsIGRhdGVNZXRhKSB7XG4gICAgdmFyIGJldHdlZW4gPSBmYWxzZTtcblxuICAgIGlmIChzdGFydCAmJiBlbmQpIHtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0ZU1ldGEueWVhciwgZGF0ZU1ldGEubW9udGgsIGRhdGVNZXRhLmRheSk7XG4gICAgICByZXR1cm4gc3RhcnQuZ2V0VGltZSgpIDw9IGRhdGUuZ2V0VGltZSgpICYmIGVuZC5nZXRUaW1lKCkgPj0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJldHdlZW47XG4gIH07XG5cbiAgdmFyIGlzU2luZ2xlU2VsZWN0aW9uID0gZnVuY3Rpb24gaXNTaW5nbGVTZWxlY3Rpb24oKSB7XG4gICAgcmV0dXJuIHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICdzaW5nbGUnO1xuICB9O1xuXG4gIHZhciBpc1JhbmdlU2VsZWN0aW9uID0gZnVuY3Rpb24gaXNSYW5nZVNlbGVjdGlvbigpIHtcbiAgICByZXR1cm4gcHJvcHMuc2VsZWN0aW9uTW9kZSA9PT0gJ3JhbmdlJztcbiAgfTtcblxuICB2YXIgaXNNdWx0aXBsZVNlbGVjdGlvbiA9IGZ1bmN0aW9uIGlzTXVsdGlwbGVTZWxlY3Rpb24oKSB7XG4gICAgcmV0dXJuIHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICdtdWx0aXBsZSc7XG4gIH07XG5cbiAgdmFyIGlzVG9kYXkgPSBmdW5jdGlvbiBpc1RvZGF5KHRvZGF5LCBkYXksIG1vbnRoLCB5ZWFyKSB7XG4gICAgcmV0dXJuIHRvZGF5LmdldERhdGUoKSA9PT0gZGF5ICYmIHRvZGF5LmdldE1vbnRoKCkgPT09IG1vbnRoICYmIHRvZGF5LmdldEZ1bGxZZWFyKCkgPT09IHllYXI7XG4gIH07XG5cbiAgdmFyIGlzRGF0ZURpc2FibGVkID0gZnVuY3Rpb24gaXNEYXRlRGlzYWJsZWQoZGF5LCBtb250aCwgeWVhcikge1xuICAgIHJldHVybiBwcm9wcy5kaXNhYmxlZERhdGVzID8gcHJvcHMuZGlzYWJsZWREYXRlcy5zb21lKGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gZC5nZXRGdWxsWWVhcigpID09PSB5ZWFyICYmIGQuZ2V0TW9udGgoKSA9PT0gbW9udGggJiYgZC5nZXREYXRlKCkgPT09IGRheTtcbiAgICB9KSA6IGZhbHNlO1xuICB9O1xuXG4gIHZhciBpc0RheURpc2FibGVkID0gZnVuY3Rpb24gaXNEYXlEaXNhYmxlZChkYXksIG1vbnRoLCB5ZWFyKSB7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkRGF5cykge1xuICAgICAgdmFyIHdlZWtkYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5KTtcbiAgICAgIHZhciB3ZWVrZGF5TnVtYmVyID0gd2Vla2RheS5nZXREYXkoKTtcbiAgICAgIHJldHVybiBwcm9wcy5kaXNhYmxlZERheXMuaW5kZXhPZih3ZWVrZGF5TnVtYmVyKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciB1cGRhdGVJbnB1dGZpZWxkID0gZnVuY3Rpb24gdXBkYXRlSW5wdXRmaWVsZCh2YWx1ZSkge1xuICAgIGlmICghaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9ICcnO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNTaW5nbGVTZWxlY3Rpb24oKSkge1xuICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gaXNWYWxpZERhdGUodmFsdWUpID8gZm9ybWF0RGF0ZVRpbWUodmFsdWUpIDogJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNdWx0aXBsZVNlbGVjdGlvbigpKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB2YWx1ZVtpXTtcbiAgICAgICAgICAgIHZhciBkYXRlQXNTdHJpbmcgPSBpc1ZhbGlkRGF0ZShzZWxlY3RlZFZhbHVlKSA/IGZvcm1hdERhdGVUaW1lKHNlbGVjdGVkVmFsdWUpIDogJyc7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSArPSBkYXRlQXNTdHJpbmc7XG5cbiAgICAgICAgICAgIGlmIChpICE9PSB2YWx1ZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlICs9ICcsICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzUmFuZ2VTZWxlY3Rpb24oKSkge1xuICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBzdGFydERhdGUgPSB2YWx1ZVswXTtcbiAgICAgICAgICAgIHZhciBlbmREYXRlID0gdmFsdWVbMV07XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGlzVmFsaWREYXRlKHN0YXJ0RGF0ZSkgPyBmb3JtYXREYXRlVGltZShzdGFydERhdGUpIDogJyc7XG5cbiAgICAgICAgICAgIGlmIChlbmREYXRlKSB7XG4gICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlICs9IGlzVmFsaWREYXRlKGVuZERhdGUpID8gJyAtICcgKyBmb3JtYXREYXRlVGltZShlbmREYXRlKSA6ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9IGZvcm1hdHRlZFZhbHVlO1xuICB9O1xuXG4gIHZhciBmb3JtYXREYXRlVGltZSA9IGZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lKGRhdGUpIHtcbiAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBudWxsO1xuXG4gICAgaWYgKGRhdGUpIHtcbiAgICAgIGlmIChwcm9wcy50aW1lT25seSkge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdFRpbWUoZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdERhdGUoZGF0ZSwgZ2V0RGF0ZUZvcm1hdCgpKTtcblxuICAgICAgICBpZiAocHJvcHMuc2hvd1RpbWUpIHtcbiAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSArPSAnICcgKyBmb3JtYXRUaW1lKGRhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlO1xuICB9O1xuXG4gIHZhciBmb3JtYXREYXRlID0gZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQpIHtcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB2YXIgaUZvcm1hdDtcblxuICAgIHZhciBsb29rQWhlYWQgPSBmdW5jdGlvbiBsb29rQWhlYWQobWF0Y2gpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gaUZvcm1hdCArIDEgPCBmb3JtYXQubGVuZ3RoICYmIGZvcm1hdC5jaGFyQXQoaUZvcm1hdCArIDEpID09PSBtYXRjaDtcblxuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgaUZvcm1hdCsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9LFxuICAgICAgICBmb3JtYXROdW1iZXIgPSBmdW5jdGlvbiBmb3JtYXROdW1iZXIobWF0Y2gsIHZhbHVlLCBsZW4pIHtcbiAgICAgIHZhciBudW0gPSAnJyArIHZhbHVlO1xuXG4gICAgICBpZiAobG9va0FoZWFkKG1hdGNoKSkge1xuICAgICAgICB3aGlsZSAobnVtLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgIG51bSA9ICcwJyArIG51bTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVtO1xuICAgIH0sXG4gICAgICAgIGZvcm1hdE5hbWUgPSBmdW5jdGlvbiBmb3JtYXROYW1lKG1hdGNoLCB2YWx1ZSwgc2hvcnROYW1lcywgbG9uZ05hbWVzKSB7XG4gICAgICByZXR1cm4gbG9va0FoZWFkKG1hdGNoKSA/IGxvbmdOYW1lc1t2YWx1ZV0gOiBzaG9ydE5hbWVzW3ZhbHVlXTtcbiAgICB9O1xuXG4gICAgdmFyIG91dHB1dCA9ICcnO1xuICAgIHZhciBsaXRlcmFsID0gZmFsc2U7XG5cbiAgICB2YXIgX2xvY2FsZU9wdGlvbnMyID0gbG9jYWxlT3B0aW9ucyhwcm9wcy5sb2NhbGUpLFxuICAgICAgICBkYXlOYW1lc1Nob3J0ID0gX2xvY2FsZU9wdGlvbnMyLmRheU5hbWVzU2hvcnQsXG4gICAgICAgIGRheU5hbWVzID0gX2xvY2FsZU9wdGlvbnMyLmRheU5hbWVzLFxuICAgICAgICBtb250aE5hbWVzU2hvcnQgPSBfbG9jYWxlT3B0aW9uczIubW9udGhOYW1lc1Nob3J0LFxuICAgICAgICBtb250aE5hbWVzID0gX2xvY2FsZU9wdGlvbnMyLm1vbnRoTmFtZXM7XG5cbiAgICBpZiAoZGF0ZSkge1xuICAgICAgZm9yIChpRm9ybWF0ID0gMDsgaUZvcm1hdCA8IGZvcm1hdC5sZW5ndGg7IGlGb3JtYXQrKykge1xuICAgICAgICBpZiAobGl0ZXJhbCkge1xuICAgICAgICAgIGlmIChmb3JtYXQuY2hhckF0KGlGb3JtYXQpID09PSBcIidcIiAmJiAhbG9va0FoZWFkKFwiJ1wiKSkge1xuICAgICAgICAgICAgbGl0ZXJhbCA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZm9ybWF0LmNoYXJBdChpRm9ybWF0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpdGNoIChmb3JtYXQuY2hhckF0KGlGb3JtYXQpKSB7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgb3V0cHV0ICs9IGZvcm1hdE51bWJlcignZCcsIGRhdGUuZ2V0RGF0ZSgpLCAyKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgICBvdXRwdXQgKz0gZm9ybWF0TmFtZSgnRCcsIGRhdGUuZ2V0RGF5KCksIGRheU5hbWVzU2hvcnQsIGRheU5hbWVzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ28nOlxuICAgICAgICAgICAgICBvdXRwdXQgKz0gZm9ybWF0TnVtYmVyKCdvJywgTWF0aC5yb3VuZCgobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDApLmdldFRpbWUoKSkgLyA4NjQwMDAwMCksIDMpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgIG91dHB1dCArPSBmb3JtYXROdW1iZXIoJ20nLCBkYXRlLmdldE1vbnRoKCkgKyAxLCAyKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICBvdXRwdXQgKz0gZm9ybWF0TmFtZSgnTScsIGRhdGUuZ2V0TW9udGgoKSwgbW9udGhOYW1lc1Nob3J0LCBtb250aE5hbWVzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3knOlxuICAgICAgICAgICAgICBvdXRwdXQgKz0gbG9va0FoZWFkKCd5JykgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOiAoZGF0ZS5nZXRGdWxsWWVhcigpICUgMTAwIDwgMTAgPyAnMCcgOiAnJykgKyBkYXRlLmdldEZ1bGxZZWFyKCkgJSAxMDA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdAJzpcbiAgICAgICAgICAgICAgb3V0cHV0ICs9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgICAgIG91dHB1dCArPSBkYXRlLmdldFRpbWUoKSAqIDEwMDAwICsgdGlja3NUbzE5NzA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwiJ1wiOlxuICAgICAgICAgICAgICBpZiAobG9va0FoZWFkKFwiJ1wiKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSBcIidcIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXRlcmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBvdXRwdXQgKz0gZm9ybWF0LmNoYXJBdChpRm9ybWF0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHZhciBmb3JtYXRUaW1lID0gZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIG91dHB1dCA9ICcnO1xuICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICB2YXIgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xuICAgIHZhciBzZWNvbmRzID0gZGF0ZS5nZXRTZWNvbmRzKCk7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG5cbiAgICBpZiAocHJvcHMuaG91ckZvcm1hdCA9PT0gJzEyJyAmJiBob3VycyA+IDExICYmIGhvdXJzICE9PSAxMikge1xuICAgICAgaG91cnMgLT0gMTI7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmhvdXJGb3JtYXQgPT09ICcxMicpIHtcbiAgICAgIG91dHB1dCArPSBob3VycyA9PT0gMCA/IDEyIDogaG91cnMgPCAxMCA/ICcwJyArIGhvdXJzIDogaG91cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dCArPSBob3VycyA8IDEwID8gJzAnICsgaG91cnMgOiBob3VycztcbiAgICB9XG5cbiAgICBvdXRwdXQgKz0gJzonO1xuICAgIG91dHB1dCArPSBtaW51dGVzIDwgMTAgPyAnMCcgKyBtaW51dGVzIDogbWludXRlcztcblxuICAgIGlmIChwcm9wcy5zaG93U2Vjb25kcykge1xuICAgICAgb3V0cHV0ICs9ICc6JztcbiAgICAgIG91dHB1dCArPSBzZWNvbmRzIDwgMTAgPyAnMCcgKyBzZWNvbmRzIDogc2Vjb25kcztcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuc2hvd01pbGxpc2VjKSB7XG4gICAgICBvdXRwdXQgKz0gJy4nO1xuICAgICAgb3V0cHV0ICs9IG1pbGxpc2Vjb25kcyA8IDEwMCA/IChtaWxsaXNlY29uZHMgPCAxMCA/ICcwMCcgOiAnMCcpICsgbWlsbGlzZWNvbmRzIDogbWlsbGlzZWNvbmRzO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5ob3VyRm9ybWF0ID09PSAnMTInKSB7XG4gICAgICBvdXRwdXQgKz0gZGF0ZS5nZXRIb3VycygpID4gMTEgPyAnIFBNJyA6ICcgQU0nO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgdmFyIHBhcnNlVmFsdWVGcm9tU3RyaW5nID0gZnVuY3Rpb24gcGFyc2VWYWx1ZUZyb21TdHJpbmcodGV4dCkge1xuICAgIGlmICghdGV4dCB8fCB0ZXh0LnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZTtcblxuICAgIGlmIChpc1NpbmdsZVNlbGVjdGlvbigpKSB7XG4gICAgICB2YWx1ZSA9IHBhcnNlRGF0ZVRpbWUodGV4dCk7XG4gICAgfSBlbHNlIGlmIChpc011bHRpcGxlU2VsZWN0aW9uKCkpIHtcbiAgICAgIHZhciB0b2tlbnMgPSB0ZXh0LnNwbGl0KCcsJyk7XG4gICAgICB2YWx1ZSA9IFtdO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRva2VucyksXG4gICAgICAgICAgX3N0ZXAyO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciB0b2tlbiA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICB2YWx1ZS5wdXNoKHBhcnNlRGF0ZVRpbWUodG9rZW4udHJpbSgpKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSYW5nZVNlbGVjdGlvbigpKSB7XG4gICAgICB2YXIgX3Rva2VucyA9IHRleHQuc3BsaXQoJyAtICcpO1xuXG4gICAgICB2YWx1ZSA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWVbaV0gPSBwYXJzZURhdGVUaW1lKF90b2tlbnNbaV0udHJpbSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgdmFyIHBhcnNlRGF0ZVRpbWUgPSBmdW5jdGlvbiBwYXJzZURhdGVUaW1lKHRleHQpIHtcbiAgICB2YXIgZGF0ZTtcbiAgICB2YXIgcGFydHMgPSB0ZXh0LnNwbGl0KCcgJyk7XG5cbiAgICBpZiAocHJvcHMudGltZU9ubHkpIHtcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgcG9wdWxhdGVUaW1lKGRhdGUsIHBhcnRzWzBdLCBwYXJ0c1sxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wcy5zaG93VGltZSkge1xuICAgICAgICBkYXRlID0gcGFyc2VEYXRlKHBhcnRzWzBdLCBnZXREYXRlRm9ybWF0KCkpO1xuICAgICAgICBwb3B1bGF0ZVRpbWUoZGF0ZSwgcGFydHNbMV0sIHBhcnRzWzJdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGUgPSBwYXJzZURhdGUodGV4dCwgZ2V0RGF0ZUZvcm1hdCgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0ZTtcbiAgfTtcblxuICB2YXIgcG9wdWxhdGVUaW1lID0gZnVuY3Rpb24gcG9wdWxhdGVUaW1lKHZhbHVlLCB0aW1lU3RyaW5nLCBhbXBtKSB7XG4gICAgaWYgKHByb3BzLmhvdXJGb3JtYXQgPT09ICcxMicgJiYgYW1wbSAhPT0gJ1BNJyAmJiBhbXBtICE9PSAnQU0nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVGltZScpO1xuICAgIH1cblxuICAgIHZhciB0aW1lID0gcGFyc2VUaW1lKHRpbWVTdHJpbmcsIGFtcG0pO1xuICAgIHZhbHVlLnNldEhvdXJzKHRpbWUuaG91cik7XG4gICAgdmFsdWUuc2V0TWludXRlcyh0aW1lLm1pbnV0ZSk7XG4gICAgdmFsdWUuc2V0U2Vjb25kcyh0aW1lLnNlY29uZCk7XG4gICAgdmFsdWUuc2V0TWlsbGlzZWNvbmRzKHRpbWUubWlsbGlzZWNvbmQpO1xuICB9O1xuXG4gIHZhciBwYXJzZVRpbWUgPSBmdW5jdGlvbiBwYXJzZVRpbWUodmFsdWUsIGFtcG0pIHtcbiAgICB2YWx1ZSA9IHByb3BzLnNob3dNaWxsaXNlYyA/IHZhbHVlLnJlcGxhY2UoJy4nLCAnOicpIDogdmFsdWU7XG4gICAgdmFyIHRva2VucyA9IHZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgdmFyIHZhbGlkVG9rZW5MZW5ndGggPSBwcm9wcy5zaG93U2Vjb25kcyA/IDMgOiAyO1xuICAgIHZhbGlkVG9rZW5MZW5ndGggPSBwcm9wcy5zaG93TWlsbGlzZWMgPyB2YWxpZFRva2VuTGVuZ3RoICsgMSA6IHZhbGlkVG9rZW5MZW5ndGg7XG5cbiAgICBpZiAodG9rZW5zLmxlbmd0aCAhPT0gdmFsaWRUb2tlbkxlbmd0aCB8fCB0b2tlbnNbMF0ubGVuZ3RoICE9PSAyIHx8IHRva2Vuc1sxXS5sZW5ndGggIT09IDIgfHwgcHJvcHMuc2hvd1NlY29uZHMgJiYgdG9rZW5zWzJdLmxlbmd0aCAhPT0gMiB8fCBwcm9wcy5zaG93TWlsbGlzZWMgJiYgdG9rZW5zWzNdLmxlbmd0aCAhPT0gMykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRpbWUnKTtcbiAgICB9XG5cbiAgICB2YXIgaCA9IHBhcnNlSW50KHRva2Vuc1swXSwgMTApO1xuICAgIHZhciBtID0gcGFyc2VJbnQodG9rZW5zWzFdLCAxMCk7XG4gICAgdmFyIHMgPSBwcm9wcy5zaG93U2Vjb25kcyA/IHBhcnNlSW50KHRva2Vuc1syXSwgMTApIDogbnVsbDtcbiAgICB2YXIgbXMgPSBwcm9wcy5zaG93TWlsbGlzZWMgPyBwYXJzZUludCh0b2tlbnNbM10sIDEwKSA6IG51bGw7XG5cbiAgICBpZiAoaXNOYU4oaCkgfHwgaXNOYU4obSkgfHwgaCA+IDIzIHx8IG0gPiA1OSB8fCBwcm9wcy5ob3VyRm9ybWF0ID09PSAnMTInICYmIGggPiAxMiB8fCBwcm9wcy5zaG93U2Vjb25kcyAmJiAoaXNOYU4ocykgfHwgcyA+IDU5KSB8fCBwcm9wcy5zaG93TWlsbGlzZWMgJiYgKGlzTmFOKHMpIHx8IHMgPiAxMDAwKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRpbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb3BzLmhvdXJGb3JtYXQgPT09ICcxMicgJiYgaCAhPT0gMTIgJiYgYW1wbSA9PT0gJ1BNJykge1xuICAgICAgICBoICs9IDEyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBob3VyOiBoLFxuICAgICAgICBtaW51dGU6IG0sXG4gICAgICAgIHNlY29uZDogcyxcbiAgICAgICAgbWlsbGlzZWNvbmQ6IG1zXG4gICAgICB9O1xuICAgIH1cbiAgfTsgLy8gUG9ydGVkIGZyb20ganF1ZXJ5LXVpIGRhdGVwaWNrZXIgcGFyc2VEYXRlXG5cblxuICB2YXIgcGFyc2VEYXRlID0gZnVuY3Rpb24gcGFyc2VEYXRlKHZhbHVlLCBmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09IG51bGwgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIHZhbHVlID0gX3R5cGVvZih2YWx1ZSkgPT09ICdvYmplY3QnID8gdmFsdWUudG9TdHJpbmcoKSA6IHZhbHVlICsgJyc7XG5cbiAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaUZvcm1hdCxcbiAgICAgICAgZGltLFxuICAgICAgICBleHRyYSxcbiAgICAgICAgaVZhbHVlID0gMCxcbiAgICAgICAgc2hvcnRZZWFyQ3V0b2ZmID0gdHlwZW9mIHByb3BzLnNob3J0WWVhckN1dG9mZiAhPT0gJ3N0cmluZycgPyBwcm9wcy5zaG9ydFllYXJDdXRvZmYgOiBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgJSAxMDAgKyBwYXJzZUludChwcm9wcy5zaG9ydFllYXJDdXRvZmYsIDEwKSxcbiAgICAgICAgeWVhciA9IC0xLFxuICAgICAgICBtb250aCA9IC0xLFxuICAgICAgICBkYXkgPSAtMSxcbiAgICAgICAgZG95ID0gLTEsXG4gICAgICAgIGxpdGVyYWwgPSBmYWxzZSxcbiAgICAgICAgZGF0ZSxcbiAgICAgICAgbG9va0FoZWFkID0gZnVuY3Rpb24gbG9va0FoZWFkKG1hdGNoKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9IGlGb3JtYXQgKyAxIDwgZm9ybWF0Lmxlbmd0aCAmJiBmb3JtYXQuY2hhckF0KGlGb3JtYXQgKyAxKSA9PT0gbWF0Y2g7XG5cbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIGlGb3JtYXQrKztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfSxcbiAgICAgICAgZ2V0TnVtYmVyID0gZnVuY3Rpb24gZ2V0TnVtYmVyKG1hdGNoKSB7XG4gICAgICB2YXIgaXNEb3VibGVkID0gbG9va0FoZWFkKG1hdGNoKSxcbiAgICAgICAgICBzaXplID0gbWF0Y2ggPT09ICdAJyA/IDE0IDogbWF0Y2ggPT09ICchJyA/IDIwIDogbWF0Y2ggPT09ICd5JyAmJiBpc0RvdWJsZWQgPyA0IDogbWF0Y2ggPT09ICdvJyA/IDMgOiAyLFxuICAgICAgICAgIG1pblNpemUgPSBtYXRjaCA9PT0gJ3knID8gc2l6ZSA6IDEsXG4gICAgICAgICAgZGlnaXRzID0gbmV3IFJlZ0V4cCgnXlxcXFxkeycgKyBtaW5TaXplICsgJywnICsgc2l6ZSArICd9JyksXG4gICAgICAgICAgbnVtID0gdmFsdWUuc3Vic3RyaW5nKGlWYWx1ZSkubWF0Y2goZGlnaXRzKTtcblxuICAgICAgaWYgKCFudW0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIG51bWJlciBhdCBwb3NpdGlvbiAnICsgaVZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaVZhbHVlICs9IG51bVswXS5sZW5ndGg7XG4gICAgICByZXR1cm4gcGFyc2VJbnQobnVtWzBdLCAxMCk7XG4gICAgfSxcbiAgICAgICAgZ2V0TmFtZSA9IGZ1bmN0aW9uIGdldE5hbWUobWF0Y2gsIHNob3J0TmFtZXMsIGxvbmdOYW1lcykge1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgYXJyID0gbG9va0FoZWFkKG1hdGNoKSA/IGxvbmdOYW1lcyA6IHNob3J0TmFtZXM7XG4gICAgICB2YXIgbmFtZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbmFtZXMucHVzaChbaSwgYXJyW2ldXSk7XG4gICAgICB9XG5cbiAgICAgIG5hbWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIC0oYVsxXS5sZW5ndGggLSBiWzFdLmxlbmd0aCk7XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG5hbWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgbmFtZSA9IG5hbWVzW19pXVsxXTtcblxuICAgICAgICBpZiAodmFsdWUuc3Vic3RyKGlWYWx1ZSwgbmFtZS5sZW5ndGgpLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGluZGV4ID0gbmFtZXNbX2ldWzBdO1xuICAgICAgICAgIGlWYWx1ZSArPSBuYW1lLmxlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbmFtZSBhdCBwb3NpdGlvbiAnICsgaVZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICAgICBjaGVja0xpdGVyYWwgPSBmdW5jdGlvbiBjaGVja0xpdGVyYWwoKSB7XG4gICAgICBpZiAodmFsdWUuY2hhckF0KGlWYWx1ZSkgIT09IGZvcm1hdC5jaGFyQXQoaUZvcm1hdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gJyArIGlWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlWYWx1ZSsrO1xuICAgIH07XG5cbiAgICBpZiAocHJvcHMudmlldyA9PT0gJ21vbnRoJykge1xuICAgICAgZGF5ID0gMTtcbiAgICB9XG5cbiAgICB2YXIgX2xvY2FsZU9wdGlvbnMzID0gbG9jYWxlT3B0aW9ucyhwcm9wcy5sb2NhbGUpLFxuICAgICAgICBkYXlOYW1lc1Nob3J0ID0gX2xvY2FsZU9wdGlvbnMzLmRheU5hbWVzU2hvcnQsXG4gICAgICAgIGRheU5hbWVzID0gX2xvY2FsZU9wdGlvbnMzLmRheU5hbWVzLFxuICAgICAgICBtb250aE5hbWVzU2hvcnQgPSBfbG9jYWxlT3B0aW9uczMubW9udGhOYW1lc1Nob3J0LFxuICAgICAgICBtb250aE5hbWVzID0gX2xvY2FsZU9wdGlvbnMzLm1vbnRoTmFtZXM7XG5cbiAgICBmb3IgKGlGb3JtYXQgPSAwOyBpRm9ybWF0IDwgZm9ybWF0Lmxlbmd0aDsgaUZvcm1hdCsrKSB7XG4gICAgICBpZiAobGl0ZXJhbCkge1xuICAgICAgICBpZiAoZm9ybWF0LmNoYXJBdChpRm9ybWF0KSA9PT0gXCInXCIgJiYgIWxvb2tBaGVhZChcIidcIikpIHtcbiAgICAgICAgICBsaXRlcmFsID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tMaXRlcmFsKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXRjaCAoZm9ybWF0LmNoYXJBdChpRm9ybWF0KSkge1xuICAgICAgICAgIGNhc2UgJ2QnOlxuICAgICAgICAgICAgZGF5ID0gZ2V0TnVtYmVyKCdkJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgZ2V0TmFtZSgnRCcsIGRheU5hbWVzU2hvcnQsIGRheU5hbWVzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnbyc6XG4gICAgICAgICAgICBkb3kgPSBnZXROdW1iZXIoJ28nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICBtb250aCA9IGdldE51bWJlcignbScpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgIG1vbnRoID0gZ2V0TmFtZSgnTScsIG1vbnRoTmFtZXNTaG9ydCwgbW9udGhOYW1lcyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3knOlxuICAgICAgICAgICAgeWVhciA9IGdldE51bWJlcigneScpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdAJzpcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShnZXROdW1iZXIoJ0AnKSk7XG4gICAgICAgICAgICB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgICAgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJyEnOlxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKChnZXROdW1iZXIoJyEnKSAtIHRpY2tzVG8xOTcwKSAvIDEwMDAwKTtcbiAgICAgICAgICAgIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgICAgICBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgIGlmIChsb29rQWhlYWQoXCInXCIpKSB7XG4gICAgICAgICAgICAgIGNoZWNrTGl0ZXJhbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGl0ZXJhbCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNoZWNrTGl0ZXJhbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlWYWx1ZSA8IHZhbHVlLmxlbmd0aCkge1xuICAgICAgZXh0cmEgPSB2YWx1ZS5zdWJzdHIoaVZhbHVlKTtcblxuICAgICAgaWYgKCEvXlxccysvLnRlc3QoZXh0cmEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXh0cmEvdW5wYXJzZWQgY2hhcmFjdGVycyBmb3VuZCBpbiBkYXRlOiAnICsgZXh0cmEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh5ZWFyID09PSAtMSkge1xuICAgICAgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICB9IGVsc2UgaWYgKHllYXIgPCAxMDApIHtcbiAgICAgIHllYXIgKz0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICUgMTAwICsgKHllYXIgPD0gc2hvcnRZZWFyQ3V0b2ZmID8gMCA6IC0xMDApO1xuICAgIH1cblxuICAgIGlmIChkb3kgPiAtMSkge1xuICAgICAgbW9udGggPSAxO1xuICAgICAgZGF5ID0gZG95O1xuXG4gICAgICBkbyB7XG4gICAgICAgIGRpbSA9IGdldERheXNDb3VudEluTW9udGgoeWVhciwgbW9udGggLSAxKTtcblxuICAgICAgICBpZiAoZGF5IDw9IGRpbSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9udGgrKztcbiAgICAgICAgZGF5IC09IGRpbTtcbiAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgIH1cblxuICAgIGRhdGUgPSBkYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSkpO1xuXG4gICAgaWYgKGRhdGUuZ2V0RnVsbFllYXIoKSAhPT0geWVhciB8fCBkYXRlLmdldE1vbnRoKCkgKyAxICE9PSBtb250aCB8fCBkYXRlLmdldERhdGUoKSAhPT0gZGF5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGF0ZScpOyAvLyBFLmcuIDMxLzAyLzAwXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGU7XG4gIH07XG5cbiAgdmFyIGlzSW5NaW5ZZWFyID0gZnVuY3Rpb24gaXNJbk1pblllYXIodmlld0RhdGUpIHtcbiAgICByZXR1cm4gcHJvcHMubWluRGF0ZSAmJiBwcm9wcy5taW5EYXRlLmdldEZ1bGxZZWFyKCkgPT09IHZpZXdEYXRlLmdldEZ1bGxZZWFyKCk7XG4gIH07XG5cbiAgdmFyIGlzSW5NYXhZZWFyID0gZnVuY3Rpb24gaXNJbk1heFllYXIodmlld0RhdGUpIHtcbiAgICByZXR1cm4gcHJvcHMubWF4RGF0ZSAmJiBwcm9wcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgPT09IHZpZXdEYXRlLmdldEZ1bGxZZWFyKCk7XG4gIH07XG5cbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3RVdGlscy5jb21iaW5lZFJlZnMoaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmKTtcbiAgfSwgW2lucHV0UmVmLCBwcm9wcy5pbnB1dFJlZl0pO1xuICB1c2VNb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVuYmluZE1hc2tFdmVudHMgPSBudWxsO1xuICAgIHZhciB2aWV3RGF0ZSA9IGdldFZpZXdEYXRlKHByb3BzLnZpZXdEYXRlKTtcbiAgICB2YWxpZGF0ZURhdGUodmlld0RhdGUpO1xuICAgIHNldFZpZXdEYXRlU3RhdGUodmlld0RhdGUpO1xuICAgIHNldEN1cnJlbnRNb250aCh2aWV3RGF0ZS5nZXRNb250aCgpKTtcbiAgICBzZXRDdXJyZW50WWVhcih2aWV3RGF0ZS5nZXRGdWxsWWVhcigpKTtcbiAgICBzZXRDdXJyZW50Vmlldyhwcm9wcy52aWV3KTtcblxuICAgIGlmIChwcm9wcy5pbmxpbmUpIHtcbiAgICAgIG92ZXJsYXlSZWYgJiYgb3ZlcmxheVJlZi5jdXJyZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVTZWxlY3RvciwgJycpO1xuXG4gICAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIGluaXRGb2N1c2FibGVDZWxsKCk7XG5cbiAgICAgICAgaWYgKHByb3BzLm51bWJlck9mTW9udGhzID09PSAxKSB7XG4gICAgICAgICAgb3ZlcmxheVJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gRG9tSGFuZGxlci5nZXRPdXRlcldpZHRoKG92ZXJsYXlSZWYuY3VycmVudCkgKyAncHgnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wcy5tYXNrKSB7XG4gICAgICB1bmJpbmRNYXNrRXZlbnRzID0gbWFzayhpbnB1dFJlZi5jdXJyZW50LCB7XG4gICAgICAgIG1hc2s6IHByb3BzLm1hc2ssXG4gICAgICAgIHJlYWRPbmx5OiBwcm9wcy5yZWFkT25seUlucHV0IHx8IHByb3BzLmRpc2FibGVkLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICFpZ25vcmVNYXNrQ2hhbmdlLmN1cnJlbnQgJiYgdXBkYXRlVmFsdWVPbklucHV0KGUub3JpZ2luYWxFdmVudCwgZS52YWx1ZSk7XG4gICAgICAgICAgaWdub3JlTWFza0NoYW5nZS5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgICAgIGlnbm9yZU1hc2tDaGFuZ2UuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pLnVuYmluZEV2ZW50cztcbiAgICB9XG5cbiAgICBpZiAocHJvcHMudmFsdWUpIHtcbiAgICAgIHVwZGF0ZUlucHV0ZmllbGQocHJvcHMudmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9wcy5tYXNrICYmIHVuYmluZE1hc2tFdmVudHMoKTtcbiAgICB9O1xuICB9KTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZXRDdXJyZW50Vmlldyhwcm9wcy52aWV3KTtcbiAgfSwgW3Byb3BzLnZpZXddKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXByb3BzLm9uVmlld0RhdGVDaGFuZ2UgJiYgIXZpZXdTdGF0ZUNoYW5nZWQuY3VycmVudCkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzLnZhbHVlO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHByb3BWYWx1ZSA9IHByb3BWYWx1ZVswXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZQcm9wVmFsdWUgPSBwcmV2aW91c1ZhbHVlO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwcmV2UHJvcFZhbHVlKSkge1xuICAgICAgICBwcmV2UHJvcFZhbHVlID0gcHJldlByb3BWYWx1ZVswXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwcmV2UHJvcFZhbHVlICYmIHByb3BWYWx1ZSB8fCBwcm9wVmFsdWUgJiYgcHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiBwcm9wVmFsdWUuZ2V0VGltZSgpICE9PSBwcmV2UHJvcFZhbHVlLmdldFRpbWUoKSkge1xuICAgICAgICB2YXIgdmlld0RhdGUgPSBwcm9wcy52aWV3RGF0ZSAmJiBpc1ZhbGlkRGF0ZShwcm9wcy52aWV3RGF0ZSkgPyBwcm9wcy52aWV3RGF0ZSA6IHByb3BWYWx1ZSAmJiBpc1ZhbGlkRGF0ZShwcm9wVmFsdWUpID8gcHJvcFZhbHVlIDogbmV3IERhdGUoKTtcbiAgICAgICAgdmFsaWRhdGVEYXRlKHZpZXdEYXRlKTtcbiAgICAgICAgc2V0Vmlld0RhdGVTdGF0ZSh2aWV3RGF0ZSk7XG4gICAgICAgIHZpZXdTdGF0ZUNoYW5nZWQuY3VycmVudCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LCBbcHJvcHMub25WaWV3RGF0ZUNoYW5nZSwgcHJvcHMudmFsdWVdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gcHJvcHMudmFsdWUgJiYgKCF2aWV3U3RhdGVDaGFuZ2VkIHx8ICF2aXNpYmxlKSkge1xuICAgICAgdXBkYXRlSW5wdXRmaWVsZChwcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9LCBbcHJvcHMudmFsdWUsIHZpc2libGVdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB1cGRhdGVJbnB1dGZpZWxkKHByb3BzLnZhbHVlKTtcbiAgfSwgW3Byb3BzLmRhdGVGb3JtYXQsIHByb3BzLmhvdXJGb3JtYXQsIHByb3BzLnRpbWVPbmx5LCBwcm9wcy5zaG93U2Vjb25kcywgcHJvcHMuc2hvd01pbGxpc2VjXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG92ZXJsYXlSZWYuY3VycmVudCkge1xuICAgICAgc2V0TmF2aWdhdGlvblN0YXRlKHZpZXdEYXRlU3RhdGUpO1xuICAgICAgdXBkYXRlRm9jdXMoKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodG91Y2hVSU1hc2suY3VycmVudCkge1xuICAgICAgZGlzYWJsZU1vZGFsaXR5KCk7XG4gICAgICB0b3VjaFVJTWFzay5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBaSW5kZXhVdGlscy5jbGVhcihvdmVybGF5UmVmLmN1cnJlbnQpO1xuICB9KTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgc2hvdzogc2hvdyxcbiAgICAgIGhpZGU6IGhpZGUsXG4gICAgICBnZXRDdXJyZW50RGF0ZVRpbWU6IGdldEN1cnJlbnREYXRlVGltZSxcbiAgICAgIGdldFZpZXdEYXRlOiBnZXRWaWV3RGF0ZSxcbiAgICAgIHVwZGF0ZVZpZXdEYXRlOiB1cGRhdGVWaWV3RGF0ZSxcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0T3ZlcmxheTogZnVuY3Rpb24gZ2V0T3ZlcmxheSgpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXlSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIHZhciBjcmVhdGVCYWNrd2FyZE5hdmlnYXRvciA9IGZ1bmN0aW9uIGNyZWF0ZUJhY2t3YXJkTmF2aWdhdG9yKGlzVmlzaWJsZSkge1xuICAgIHZhciBuYXZpZ2F0b3JQcm9wcyA9IGlzVmlzaWJsZSA/IHtcbiAgICAgIG9uQ2xpY2s6IG9uUHJldkJ1dHRvbkNsaWNrLFxuICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICByZXR1cm4gb25Db250YWluZXJCdXR0b25LZXlkb3duKGUpO1xuICAgICAgfVxuICAgIH0gOiB7XG4gICAgICBzdHlsZToge1xuICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIF9leHRlbmRzKHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLXByZXZcIlxuICAgIH0sIG5hdmlnYXRvclByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGVwaWNrZXItcHJldi1pY29uIHBpIHBpLWNoZXZyb24tbGVmdFwiXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVGb3J3YXJkTmF2aWdhdG9yID0gZnVuY3Rpb24gY3JlYXRlRm9yd2FyZE5hdmlnYXRvcihpc1Zpc2libGUpIHtcbiAgICB2YXIgbmF2aWdhdG9yUHJvcHMgPSBpc1Zpc2libGUgPyB7XG4gICAgICBvbkNsaWNrOiBvbk5leHRCdXR0b25DbGljayxcbiAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgcmV0dXJuIG9uQ29udGFpbmVyQnV0dG9uS2V5ZG93bihlKTtcbiAgICAgIH1cbiAgICB9IDoge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfZXh0ZW5kcyh7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci1uZXh0XCJcbiAgICB9LCBuYXZpZ2F0b3JQcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLW5leHQtaWNvbiBwaSBwaS1jaGV2cm9uLXJpZ2h0XCJcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVRpdGxlTW9udGhFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlVGl0bGVNb250aEVsZW1lbnQobW9udGgpIHtcbiAgICB2YXIgbW9udGhOYW1lcyA9IGxvY2FsZU9wdGlvbignbW9udGhOYW1lcycsIHByb3BzLmxvY2FsZSk7XG5cbiAgICBpZiAocHJvcHMubW9udGhOYXZpZ2F0b3IgJiYgcHJvcHMudmlldyAhPT0gJ21vbnRoJykge1xuICAgICAgdmFyIHZpZXdEYXRlID0gZ2V0Vmlld0RhdGUoKTtcbiAgICAgIHZhciB2aWV3TW9udGggPSB2aWV3RGF0ZS5nZXRNb250aCgpO1xuICAgICAgdmFyIGRpc3BsYXllZE1vbnRoT3B0aW9ucyA9IG1vbnRoTmFtZXMubWFwKGZ1bmN0aW9uIChtb250aCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuICghaXNJbk1pblllYXIodmlld0RhdGUpIHx8IGluZGV4ID49IHByb3BzLm1pbkRhdGUuZ2V0TW9udGgoKSkgJiYgKCFpc0luTWF4WWVhcih2aWV3RGF0ZSkgfHwgaW5kZXggPD0gcHJvcHMubWF4RGF0ZS5nZXRNb250aCgpKSA/IHtcbiAgICAgICAgICBsYWJlbDogbW9udGgsXG4gICAgICAgICAgdmFsdWU6IGluZGV4LFxuICAgICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgICB9IDogbnVsbDtcbiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiAhIW9wdGlvbjtcbiAgICAgIH0pO1xuICAgICAgdmFyIGRpc3BsYXllZE1vbnRoTmFtZXMgPSBkaXNwbGF5ZWRNb250aE9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbi5sYWJlbDtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgX2NvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGVwaWNrZXItbW9udGhcIixcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25Nb250aERyb3Bkb3duQ2hhbmdlKGUsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IHZpZXdNb250aFxuICAgICAgfSwgZGlzcGxheWVkTW9udGhPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgICAgICAga2V5OiBvcHRpb24ubGFiZWwsXG4gICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICAgICAgICB9LCBvcHRpb24ubGFiZWwpO1xuICAgICAgfSkpO1xuXG4gICAgICBpZiAocHJvcHMubW9udGhOYXZpZ2F0b3JUZW1wbGF0ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICAgIG9uQ2hhbmdlOiBvbk1vbnRoRHJvcGRvd25DaGFuZ2UsXG4gICAgICAgICAgY2xhc3NOYW1lOiAncC1kYXRlcGlja2VyLW1vbnRoJyxcbiAgICAgICAgICB2YWx1ZTogdmlld01vbnRoLFxuICAgICAgICAgIG5hbWVzOiBkaXNwbGF5ZWRNb250aE5hbWVzLFxuICAgICAgICAgIG9wdGlvbnM6IGRpc3BsYXllZE1vbnRoT3B0aW9ucyxcbiAgICAgICAgICBlbGVtZW50OiBfY29udGVudCxcbiAgICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMubW9udGhOYXZpZ2F0b3JUZW1wbGF0ZSwgZGVmYXVsdENvbnRlbnRPcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jb250ZW50O1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50VmlldyA9PT0gJ2RhdGUnICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGVwaWNrZXItbW9udGggcC1saW5rXCIsXG4gICAgICBvbkNsaWNrOiBzd2l0Y2hUb01vbnRoVmlldyxcbiAgICAgIGRpc2FibGVkOiBzd2l0Y2hWaWV3QnV0dG9uRGlzYWJsZWQoKVxuICAgIH0sIG1vbnRoTmFtZXNbbW9udGhdKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlVGl0bGVZZWFyRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZVRpdGxlWWVhckVsZW1lbnQoKSB7XG4gICAgaWYgKHByb3BzLnllYXJOYXZpZ2F0b3IpIHtcbiAgICAgIHZhciBfeWVhck9wdGlvbnMyID0gW107XG4gICAgICB2YXIgeWVhcnMgPSBwcm9wcy55ZWFyUmFuZ2Uuc3BsaXQoJzonKTtcbiAgICAgIHZhciB5ZWFyU3RhcnQgPSBwYXJzZUludCh5ZWFyc1swXSwgMTApO1xuICAgICAgdmFyIHllYXJFbmQgPSBwYXJzZUludCh5ZWFyc1sxXSwgMTApO1xuXG4gICAgICBmb3IgKHZhciBpID0geWVhclN0YXJ0OyBpIDw9IHllYXJFbmQ7IGkrKykge1xuICAgICAgICBfeWVhck9wdGlvbnMyLnB1c2goaSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2aWV3RGF0ZSA9IGdldFZpZXdEYXRlKCk7XG4gICAgICB2YXIgdmlld1llYXIgPSB2aWV3RGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICB2YXIgZGlzcGxheWVkWWVhck5hbWVzID0gX3llYXJPcHRpb25zMi5maWx0ZXIoZnVuY3Rpb24gKHllYXIpIHtcbiAgICAgICAgcmV0dXJuICEocHJvcHMubWluRGF0ZSAmJiBwcm9wcy5taW5EYXRlLmdldEZ1bGxZZWFyKCkgPiB5ZWFyKSAmJiAhKHByb3BzLm1heERhdGUgJiYgcHJvcHMubWF4RGF0ZS5nZXRGdWxsWWVhcigpIDwgeWVhcik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9jb250ZW50MiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci15ZWFyXCIsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uWWVhckRyb3Bkb3duQ2hhbmdlKGUsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IHZpZXdZZWFyXG4gICAgICB9LCBkaXNwbGF5ZWRZZWFyTmFtZXMubWFwKGZ1bmN0aW9uICh5ZWFyKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgICAgICAga2V5OiB5ZWFyLFxuICAgICAgICAgIHZhbHVlOiB5ZWFyXG4gICAgICAgIH0sIHllYXIpO1xuICAgICAgfSkpO1xuXG4gICAgICBpZiAocHJvcHMueWVhck5hdmlnYXRvclRlbXBsYXRlKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gZGlzcGxheWVkWWVhck5hbWVzLm1hcChmdW5jdGlvbiAobmFtZSwgaSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogbmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRlZmF1bHRDb250ZW50T3B0aW9ucyA9IHtcbiAgICAgICAgICBvbkNoYW5nZTogb25ZZWFyRHJvcGRvd25DaGFuZ2UsXG4gICAgICAgICAgY2xhc3NOYW1lOiAncC1kYXRlcGlja2VyLXllYXInLFxuICAgICAgICAgIHZhbHVlOiB2aWV3WWVhcixcbiAgICAgICAgICBuYW1lczogZGlzcGxheWVkWWVhck5hbWVzLFxuICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgZWxlbWVudDogX2NvbnRlbnQyLFxuICAgICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy55ZWFyTmF2aWdhdG9yVGVtcGxhdGUsIGRlZmF1bHRDb250ZW50T3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfY29udGVudDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRWaWV3ICE9PSAneWVhcicgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci15ZWFyIHAtbGlua1wiLFxuICAgICAgb25DbGljazogc3dpdGNoVG9ZZWFyVmlldyxcbiAgICAgIGRpc2FibGVkOiBzd2l0Y2hWaWV3QnV0dG9uRGlzYWJsZWQoKVxuICAgIH0sIGN1cnJlbnRZZWFyKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlVGl0bGVEZWNhZGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlVGl0bGVEZWNhZGVFbGVtZW50KCkge1xuICAgIHZhciB5ZWFycyA9IHllYXJQaWNrZXJWYWx1ZXMoKTtcblxuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ3llYXInKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci1kZWNhZGVcIlxuICAgICAgfSwgcHJvcHMuZGVjYWRlVGVtcGxhdGUgPyBwcm9wcy5kZWNhZGVUZW1wbGF0ZSh5ZWFycykgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJcIi5jb25jYXQoeWVhclBpY2tlclZhbHVlcygpWzBdLCBcIiAtIFwiKS5jb25jYXQoeWVhclBpY2tlclZhbHVlcygpW3llYXJQaWNrZXJWYWx1ZXMoKS5sZW5ndGggLSAxXSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlVGl0bGUgPSBmdW5jdGlvbiBjcmVhdGVUaXRsZShtb250aE1ldGFEYXRhKSB7XG4gICAgdmFyIG1vbnRoID0gY3JlYXRlVGl0bGVNb250aEVsZW1lbnQobW9udGhNZXRhRGF0YS5tb250aCk7XG4gICAgdmFyIHllYXIgPSBjcmVhdGVUaXRsZVllYXJFbGVtZW50KG1vbnRoTWV0YURhdGEueWVhcik7XG4gICAgdmFyIGRlY2FkZSA9IGNyZWF0ZVRpdGxlRGVjYWRlRWxlbWVudCgpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLXRpdGxlXCJcbiAgICB9LCBtb250aCwgeWVhciwgZGVjYWRlKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlRGF5TmFtZXMgPSBmdW5jdGlvbiBjcmVhdGVEYXlOYW1lcyh3ZWVrRGF5cykge1xuICAgIHZhciBkYXlOYW1lcyA9IHdlZWtEYXlzLm1hcChmdW5jdGlvbiAod2Vla0RheSwgaW5kZXgpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIHtcbiAgICAgICAga2V5OiBcIlwiLmNvbmNhdCh3ZWVrRGF5LCBcIi1cIikuY29uY2F0KGluZGV4KSxcbiAgICAgICAgc2NvcGU6IFwiY29sXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB3ZWVrRGF5KSk7XG4gICAgfSk7XG5cbiAgICBpZiAocHJvcHMuc2hvd1dlZWspIHtcbiAgICAgIHZhciB3ZWVrSGVhZGVyID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XG4gICAgICAgIHNjb3BlOiBcImNvbFwiLFxuICAgICAgICBrZXk6IFwid25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci13ZWVraGVhZGVyIHAtZGlzYWJsZWRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGxvY2FsZU9wdGlvbignd2Vla0hlYWRlcicsIHByb3BzLmxvY2FsZSkpKTtcbiAgICAgIHJldHVybiBbd2Vla0hlYWRlcl0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShkYXlOYW1lcykpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXlOYW1lcztcbiAgfTtcblxuICB2YXIgY3JlYXRlRGF0ZUNlbGxDb250ZW50ID0gZnVuY3Rpb24gY3JlYXRlRGF0ZUNlbGxDb250ZW50KGRhdGUsIGNsYXNzTmFtZSwgZ3JvdXBJbmRleCkge1xuICAgIHZhciBjb250ZW50ID0gcHJvcHMuZGF0ZVRlbXBsYXRlID8gcHJvcHMuZGF0ZVRlbXBsYXRlKGRhdGUpIDogZGF0ZS5kYXk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICByZXR1cm4gb25EYXRlU2VsZWN0KGUsIGRhdGUpO1xuICAgICAgfSxcbiAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgcmV0dXJuIG9uRGF0ZUNlbGxLZXlkb3duKGUsIGRhdGUsIGdyb3VwSW5kZXgpO1xuICAgICAgfVxuICAgIH0sIGNvbnRlbnQsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVXZWVrID0gZnVuY3Rpb24gY3JlYXRlV2Vlayh3ZWVrRGF0ZXMsIHdlZWtOdW1iZXIsIGdyb3VwSW5kZXgpIHtcbiAgICB2YXIgd2VlayA9IHdlZWtEYXRlcy5tYXAoZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IGlzU2VsZWN0ZWQoZGF0ZSk7XG4gICAgICB2YXIgY2VsbENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAncC1kYXRlcGlja2VyLW90aGVyLW1vbnRoJzogZGF0ZS5vdGhlck1vbnRoLFxuICAgICAgICAncC1kYXRlcGlja2VyLXRvZGF5JzogZGF0ZS50b2RheVxuICAgICAgfSk7XG4gICAgICB2YXIgZGF0ZUNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAncC1oaWdobGlnaHQnOiBzZWxlY3RlZCxcbiAgICAgICAgJ3AtZGlzYWJsZWQnOiAhZGF0ZS5zZWxlY3RhYmxlXG4gICAgICB9KTtcbiAgICAgIHZhciBjb250ZW50ID0gZGF0ZS5vdGhlck1vbnRoICYmICFwcm9wcy5zaG93T3RoZXJNb250aHMgPyBudWxsIDogY3JlYXRlRGF0ZUNlbGxDb250ZW50KGRhdGUsIGRhdGVDbGFzc05hbWUsIGdyb3VwSW5kZXgpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwge1xuICAgICAgICBrZXk6IGRhdGUuZGF5LFxuICAgICAgICBjbGFzc05hbWU6IGNlbGxDbGFzc05hbWVcbiAgICAgIH0sIGNvbnRlbnQpO1xuICAgIH0pO1xuXG4gICAgaWYgKHByb3BzLnNob3dXZWVrKSB7XG4gICAgICB2YXIgd2Vla051bWJlckNlbGwgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgICAga2V5OiAnd24nICsgd2Vla051bWJlcixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci13ZWVrbnVtYmVyXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWRpc2FibGVkXCJcbiAgICAgIH0sIHdlZWtOdW1iZXIpKTtcbiAgICAgIHJldHVybiBbd2Vla051bWJlckNlbGxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkod2VlaykpO1xuICAgIH1cblxuICAgIHJldHVybiB3ZWVrO1xuICB9O1xuXG4gIHZhciBjcmVhdGVEYXRlcyA9IGZ1bmN0aW9uIGNyZWF0ZURhdGVzKG1vbnRoTWV0YURhdGEsIGdyb3VwSW5kZXgpIHtcbiAgICByZXR1cm4gbW9udGhNZXRhRGF0YS5kYXRlcy5tYXAoZnVuY3Rpb24gKHdlZWtEYXRlcywgaW5kZXgpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgICAga2V5OiBpbmRleFxuICAgICAgfSwgY3JlYXRlV2Vlayh3ZWVrRGF0ZXMsIG1vbnRoTWV0YURhdGEud2Vla051bWJlcnNbaW5kZXhdLCBncm91cEluZGV4KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZURhdGVWaWV3R3JpZCA9IGZ1bmN0aW9uIGNyZWF0ZURhdGVWaWV3R3JpZChtb250aE1ldGFEYXRhLCB3ZWVrRGF5cywgZ3JvdXBJbmRleCkge1xuICAgIHZhciBkYXlOYW1lcyA9IGNyZWF0ZURheU5hbWVzKHdlZWtEYXlzKTtcbiAgICB2YXIgZGF0ZXMgPSBjcmVhdGVEYXRlcyhtb250aE1ldGFEYXRhLCBncm91cEluZGV4KTtcbiAgICByZXR1cm4gY3VycmVudFZpZXcgPT09ICdkYXRlJyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLWNhbGVuZGFyLWNvbnRhaW5lclwiXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLWNhbGVuZGFyXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRoZWFkXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgZGF5TmFtZXMpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLCBkYXRlcykpKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlTW9udGggPSBmdW5jdGlvbiBjcmVhdGVNb250aChtb250aE1ldGFEYXRhLCBpbmRleCkge1xuICAgIHZhciB3ZWVrRGF5cyA9IGNyZWF0ZVdlZWtEYXlzTWV0YSgpO1xuICAgIHZhciBiYWNrd2FyZE5hdmlnYXRvciA9IGNyZWF0ZUJhY2t3YXJkTmF2aWdhdG9yKGluZGV4ID09PSAwKTtcbiAgICB2YXIgZm9yd2FyZE5hdmlnYXRvciA9IGNyZWF0ZUZvcndhcmROYXZpZ2F0b3IocHJvcHMubnVtYmVyT2ZNb250aHMgPT09IDEgfHwgaW5kZXggPT09IHByb3BzLm51bWJlck9mTW9udGhzIC0gMSk7XG4gICAgdmFyIHRpdGxlID0gY3JlYXRlVGl0bGUobW9udGhNZXRhRGF0YSk7XG4gICAgdmFyIGRhdGVWaWV3R3JpZCA9IGNyZWF0ZURhdGVWaWV3R3JpZChtb250aE1ldGFEYXRhLCB3ZWVrRGF5cywgaW5kZXgpO1xuICAgIHZhciBoZWFkZXIgPSBwcm9wcy5oZWFkZXJUZW1wbGF0ZSA/IHByb3BzLmhlYWRlclRlbXBsYXRlKCkgOiBudWxsO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IG1vbnRoTWV0YURhdGEubW9udGgsXG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLWdyb3VwXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLWhlYWRlclwiXG4gICAgfSwgaGVhZGVyLCBiYWNrd2FyZE5hdmlnYXRvciwgdGl0bGUsIGZvcndhcmROYXZpZ2F0b3IpLCBkYXRlVmlld0dyaWQpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVNb250aHMgPSBmdW5jdGlvbiBjcmVhdGVNb250aHMobW9udGhzTWV0YURhdGEpIHtcbiAgICB2YXIgZ3JvdXBzID0gbW9udGhzTWV0YURhdGEubWFwKGNyZWF0ZU1vbnRoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci1ncm91cC1jb250YWluZXJcIlxuICAgIH0sIGdyb3Vwcyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZURhdGVWaWV3ID0gZnVuY3Rpb24gY3JlYXRlRGF0ZVZpZXcoKSB7XG4gICAgdmFyIHZpZXdEYXRlID0gZ2V0Vmlld0RhdGUoKTtcbiAgICB2YXIgbW9udGhzTWV0YURhdGEgPSBjcmVhdGVNb250aHNNZXRhKHZpZXdEYXRlLmdldE1vbnRoKCksIHZpZXdEYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgIHZhciBtb250aHMgPSBjcmVhdGVNb250aHMobW9udGhzTWV0YURhdGEpO1xuICAgIHJldHVybiBtb250aHM7XG4gIH07XG5cbiAgdmFyIG1vbnRoUGlja2VyVmFsdWVzID0gZnVuY3Rpb24gbW9udGhQaWNrZXJWYWx1ZXMoKSB7XG4gICAgdmFyIG1vbnRoUGlja2VyVmFsdWVzID0gW107XG4gICAgdmFyIG1vbnRoTmFtZXNTaG9ydCA9IGxvY2FsZU9wdGlvbignbW9udGhOYW1lc1Nob3J0JywgcHJvcHMubG9jYWxlKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IDExOyBpKyspIHtcbiAgICAgIG1vbnRoUGlja2VyVmFsdWVzLnB1c2gobW9udGhOYW1lc1Nob3J0W2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9udGhQaWNrZXJWYWx1ZXM7XG4gIH07XG5cbiAgdmFyIHllYXJQaWNrZXJWYWx1ZXMgPSBmdW5jdGlvbiB5ZWFyUGlja2VyVmFsdWVzKCkge1xuICAgIHZhciB5ZWFyUGlja2VyVmFsdWVzID0gW107XG4gICAgdmFyIGJhc2UgPSBjdXJyZW50WWVhciAtIGN1cnJlbnRZZWFyICUgMTA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIHllYXJQaWNrZXJWYWx1ZXMucHVzaChiYXNlICsgaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHllYXJQaWNrZXJWYWx1ZXM7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1vbnRoWWVhclZpZXcgPSBmdW5jdGlvbiBjcmVhdGVNb250aFllYXJWaWV3KCkge1xuICAgIHZhciBiYWNrd2FyZE5hdmlnYXRvciA9IGNyZWF0ZUJhY2t3YXJkTmF2aWdhdG9yKHRydWUpO1xuICAgIHZhciBmb3J3YXJkTmF2aWdhdG9yID0gY3JlYXRlRm9yd2FyZE5hdmlnYXRvcih0cnVlKTtcbiAgICB2YXIgeWVhckVsZW1lbnQgPSBjcmVhdGVUaXRsZVllYXJFbGVtZW50KGdldFZpZXdEYXRlKCkuZ2V0RnVsbFllYXIoKSk7XG4gICAgdmFyIGRlY2FkZSA9IGNyZWF0ZVRpdGxlRGVjYWRlRWxlbWVudCgpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci1ncm91cC1jb250YWluZXJcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGVwaWNrZXItZ3JvdXBcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGVwaWNrZXItaGVhZGVyXCJcbiAgICB9LCBiYWNrd2FyZE5hdmlnYXRvciwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci10aXRsZVwiXG4gICAgfSwgeWVhckVsZW1lbnQsIGRlY2FkZSksIGZvcndhcmROYXZpZ2F0b3IpKSkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVEYXRlUGlja2VyID0gZnVuY3Rpb24gY3JlYXRlRGF0ZVBpY2tlcigpIHtcbiAgICBpZiAoIXByb3BzLnRpbWVPbmx5KSB7XG4gICAgICBpZiAocHJvcHMudmlldyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEYXRlVmlldygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU1vbnRoWWVhclZpZXcoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlSG91clBpY2tlciA9IGZ1bmN0aW9uIGNyZWF0ZUhvdXJQaWNrZXIoKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgdmFyIGhvdXIgPSBjdXJyZW50VGltZS5nZXRIb3VycygpO1xuXG4gICAgaWYgKHByb3BzLmhvdXJGb3JtYXQgPT09ICcxMicpIHtcbiAgICAgIGlmIChob3VyID09PSAwKSBob3VyID0gMTI7ZWxzZSBpZiAoaG91ciA+IDExICYmIGhvdXIgIT09IDEyKSBob3VyID0gaG91ciAtIDEyO1xuICAgIH1cblxuICAgIHZhciBob3VyRGlzcGxheSA9IGhvdXIgPCAxMCA/ICcwJyArIGhvdXIgOiBob3VyO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1ob3VyLXBpY2tlclwiXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGNsYXNzTmFtZTogXCJwLWxpbmtcIixcbiAgICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICAgIHJldHVybiBvblRpbWVQaWNrZXJFbGVtZW50TW91c2VEb3duKGUsIDAsIDEpO1xuICAgICAgfSxcbiAgICAgIG9uTW91c2VVcDogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlVXAsXG4gICAgICBvbk1vdXNlTGVhdmU6IG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZUxlYXZlLFxuICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICByZXR1cm4gb25Db250YWluZXJCdXR0b25LZXlkb3duKGUpO1xuICAgICAgfVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicGkgcGktY2hldnJvbi11cFwiXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgaG91ckRpc3BsYXkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInAtbGlua1wiLFxuICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgICAgcmV0dXJuIG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZURvd24oZSwgMCwgLTEpO1xuICAgICAgfSxcbiAgICAgIG9uTW91c2VVcDogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlVXAsXG4gICAgICBvbk1vdXNlTGVhdmU6IG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZUxlYXZlLFxuICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICByZXR1cm4gb25Db250YWluZXJCdXR0b25LZXlkb3duKGUpO1xuICAgICAgfVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicGkgcGktY2hldnJvbi1kb3duXCJcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVNaW51dGVQaWNrZXIgPSBmdW5jdGlvbiBjcmVhdGVNaW51dGVQaWNrZXIoKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgdmFyIG1pbnV0ZSA9IGN1cnJlbnRUaW1lLmdldE1pbnV0ZXMoKTtcbiAgICB2YXIgbWludXRlRGlzcGxheSA9IG1pbnV0ZSA8IDEwID8gJzAnICsgbWludXRlIDogbWludXRlO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1taW51dGUtcGlja2VyXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInAtbGlua1wiLFxuICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgICAgcmV0dXJuIG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZURvd24oZSwgMSwgMSk7XG4gICAgICB9LFxuICAgICAgb25Nb3VzZVVwOiBvblRpbWVQaWNrZXJFbGVtZW50TW91c2VVcCxcbiAgICAgIG9uTW91c2VMZWF2ZTogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlTGVhdmUsXG4gICAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgIHJldHVybiBvbkNvbnRhaW5lckJ1dHRvbktleWRvd24oZSk7XG4gICAgICB9XG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwaSBwaS1jaGV2cm9uLXVwXCJcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBtaW51dGVEaXNwbGF5KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGNsYXNzTmFtZTogXCJwLWxpbmtcIixcbiAgICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICAgIHJldHVybiBvblRpbWVQaWNrZXJFbGVtZW50TW91c2VEb3duKGUsIDEsIC0xKTtcbiAgICAgIH0sXG4gICAgICBvbk1vdXNlVXA6IG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZVVwLFxuICAgICAgb25Nb3VzZUxlYXZlOiBvblRpbWVQaWNrZXJFbGVtZW50TW91c2VMZWF2ZSxcbiAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgcmV0dXJuIG9uQ29udGFpbmVyQnV0dG9uS2V5ZG93bihlKTtcbiAgICAgIH1cbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInBpIHBpLWNoZXZyb24tZG93blwiXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlU2Vjb25kUGlja2VyID0gZnVuY3Rpb24gY3JlYXRlU2Vjb25kUGlja2VyKCkge1xuICAgIGlmIChwcm9wcy5zaG93U2Vjb25kcykge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudERhdGVUaW1lKCk7XG4gICAgICB2YXIgc2Vjb25kID0gY3VycmVudFRpbWUuZ2V0U2Vjb25kcygpO1xuICAgICAgdmFyIHNlY29uZERpc3BsYXkgPSBzZWNvbmQgPCAxMCA/ICcwJyArIHNlY29uZCA6IHNlY29uZDtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLXNlY29uZC1waWNrZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1saW5rXCIsXG4gICAgICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZURvd24oZSwgMiwgMSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VVcDogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlVXAsXG4gICAgICAgIG9uTW91c2VMZWF2ZTogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlTGVhdmUsXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25Db250YWluZXJCdXR0b25LZXlkb3duKGUpO1xuICAgICAgICB9XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicGkgcGktY2hldnJvbi11cFwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBzZWNvbmREaXNwbGF5KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1saW5rXCIsXG4gICAgICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZURvd24oZSwgMiwgLTEpO1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdXNlVXA6IG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZVVwLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZUxlYXZlLFxuICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ29udGFpbmVyQnV0dG9uS2V5ZG93bihlKTtcbiAgICAgICAgfVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInBpIHBpLWNoZXZyb24tZG93blwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVNaWxpU2Vjb25kUGlja2VyID0gZnVuY3Rpb24gY3JlYXRlTWlsaVNlY29uZFBpY2tlcigpIHtcbiAgICBpZiAocHJvcHMuc2hvd01pbGxpc2VjKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50RGF0ZVRpbWUoKTtcbiAgICAgIHZhciBtaWxsaXNlY29uZCA9IGN1cnJlbnRUaW1lLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgdmFyIG1pbGxpc2Vjb25kRGlzcGxheSA9IG1pbGxpc2Vjb25kIDwgMTAwID8gKG1pbGxpc2Vjb25kIDwgMTAgPyAnMDAnIDogJzAnKSArIG1pbGxpc2Vjb25kIDogbWlsbGlzZWNvbmQ7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1taWxsaXNlY29uZC1waWNrZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1saW5rXCIsXG4gICAgICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uVGltZVBpY2tlckVsZW1lbnRNb3VzZURvd24oZSwgMywgMSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VVcDogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlVXAsXG4gICAgICAgIG9uTW91c2VMZWF2ZTogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlTGVhdmUsXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25Db250YWluZXJCdXR0b25LZXlkb3duKGUpO1xuICAgICAgICB9XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicGkgcGktY2hldnJvbi11cFwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBtaWxsaXNlY29uZERpc3BsYXkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWxpbmtcIixcbiAgICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25UaW1lUGlja2VyRWxlbWVudE1vdXNlRG93bihlLCAzLCAtMSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VVcDogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlVXAsXG4gICAgICAgIG9uTW91c2VMZWF2ZTogb25UaW1lUGlja2VyRWxlbWVudE1vdXNlTGVhdmUsXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25Db250YWluZXJCdXR0b25LZXlkb3duKGUpO1xuICAgICAgICB9XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicGkgcGktY2hldnJvbi1kb3duXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUFtUG1QaWNrZXIgPSBmdW5jdGlvbiBjcmVhdGVBbVBtUGlja2VyKCkge1xuICAgIGlmIChwcm9wcy5ob3VyRm9ybWF0ID09PSAnMTInKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50RGF0ZVRpbWUoKTtcbiAgICAgIHZhciBob3VyID0gY3VycmVudFRpbWUuZ2V0SG91cnMoKTtcbiAgICAgIHZhciBkaXNwbGF5ID0gaG91ciA+IDExID8gJ1BNJyA6ICdBTSc7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1hbXBtLXBpY2tlclwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWxpbmtcIixcbiAgICAgICAgb25DbGljazogdG9nZ2xlQW1QbVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInBpIHBpLWNoZXZyb24tdXBcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgZGlzcGxheSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtbGlua1wiLFxuICAgICAgICBvbkNsaWNrOiB0b2dnbGVBbVBtXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicGkgcGktY2hldnJvbi1kb3duXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNlcGFyYXRvciA9IGZ1bmN0aW9uIGNyZWF0ZVNlcGFyYXRvcihzZXBhcmF0b3IpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtc2VwYXJhdG9yXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgc2VwYXJhdG9yKSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVRpbWVQaWNrZXIgPSBmdW5jdGlvbiBjcmVhdGVUaW1lUGlja2VyKCkge1xuICAgIGlmICgocHJvcHMuc2hvd1RpbWUgfHwgcHJvcHMudGltZU9ubHkpICYmIGN1cnJlbnRWaWV3ID09PSAnZGF0ZScpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLXRpbWVwaWNrZXJcIlxuICAgICAgfSwgY3JlYXRlSG91clBpY2tlcigpLCBjcmVhdGVTZXBhcmF0b3IoJzonKSwgY3JlYXRlTWludXRlUGlja2VyKCksIHByb3BzLnNob3dTZWNvbmRzICYmIGNyZWF0ZVNlcGFyYXRvcignOicpLCBjcmVhdGVTZWNvbmRQaWNrZXIoKSwgcHJvcHMuc2hvd01pbGxpc2VjICYmIGNyZWF0ZVNlcGFyYXRvcignLicpLCBjcmVhdGVNaWxpU2Vjb25kUGlja2VyKCksIHByb3BzLmhvdXJGb3JtYXQgPT09ICcxMicgJiYgY3JlYXRlU2VwYXJhdG9yKCc6JyksIGNyZWF0ZUFtUG1QaWNrZXIoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUlucHV0RWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUlucHV0RWxlbWVudCgpIHtcbiAgICBpZiAoIXByb3BzLmlubGluZSkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0VGV4dCwge1xuICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICBpZDogcHJvcHMuaW5wdXRJZCxcbiAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIGNsYXNzTmFtZTogcHJvcHMuaW5wdXRDbGFzc05hbWUsXG4gICAgICAgIHN0eWxlOiBwcm9wcy5pbnB1dFN0eWxlLFxuICAgICAgICByZWFkT25seTogcHJvcHMucmVhZE9ubHlJbnB1dCxcbiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgICByZXF1aXJlZDogcHJvcHMucmVxdWlyZWQsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IHByb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICAgIG9uSW5wdXQ6IG9uVXNlcklucHV0LFxuICAgICAgICBvbkZvY3VzOiBvbklucHV0Rm9jdXMsXG4gICAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICAgIG9uS2V5RG93bjogb25JbnB1dEtleURvd24sXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLmFyaWFMYWJlbGxlZEJ5LFxuICAgICAgICBpbnB1dE1vZGU6IHByb3BzLmlucHV0TW9kZSxcbiAgICAgICAgdG9vbHRpcDogcHJvcHMudG9vbHRpcCxcbiAgICAgICAgdG9vbHRpcE9wdGlvbnM6IHByb3BzLnRvb2x0aXBPcHRpb25zXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlQnV0dG9uID0gZnVuY3Rpb24gY3JlYXRlQnV0dG9uKCkge1xuICAgIGlmIChwcm9wcy5zaG93SWNvbikge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBpY29uOiBwcm9wcy5pY29uLFxuICAgICAgICBvbkNsaWNrOiBvbkJ1dHRvbkNsaWNrLFxuICAgICAgICB0YWJJbmRleDogXCItMVwiLFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWRhdGVwaWNrZXItdHJpZ2dlclwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgdmFyIGlucHV0ID0gY3JlYXRlSW5wdXRFbGVtZW50KCk7XG4gICAgdmFyIGJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbigpO1xuXG4gICAgaWYgKHByb3BzLmljb25Qb3MgPT09ICdsZWZ0Jykge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBidXR0b24sIGlucHV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGlucHV0LCBidXR0b24pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVCdXR0b25CYXIgPSBmdW5jdGlvbiBjcmVhdGVCdXR0b25CYXIoKSB7XG4gICAgaWYgKHByb3BzLnNob3dCdXR0b25CYXIpIHtcbiAgICAgIHZhciB0b2RheUNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtYnV0dG9uLXRleHQnLCBwcm9wcy50b2RheUJ1dHRvbkNsYXNzTmFtZSk7XG4gICAgICB2YXIgY2xlYXJDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWJ1dHRvbi10ZXh0JywgcHJvcHMuY2xlYXJCdXR0b25DbGFzc05hbWUpO1xuXG4gICAgICB2YXIgX2xvY2FsZU9wdGlvbnM0ID0gbG9jYWxlT3B0aW9ucyhwcm9wcy5sb2NhbGUpLFxuICAgICAgICAgIHRvZGF5ID0gX2xvY2FsZU9wdGlvbnM0LnRvZGF5LFxuICAgICAgICAgIGNsZWFyID0gX2xvY2FsZU9wdGlvbnM0LmNsZWFyO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kYXRlcGlja2VyLWJ1dHRvbmJhclwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgbGFiZWw6IHRvZGF5LFxuICAgICAgICBvbkNsaWNrOiBvblRvZGF5QnV0dG9uQ2xpY2ssXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25Db250YWluZXJCdXR0b25LZXlkb3duKGUpO1xuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWU6IHRvZGF5Q2xhc3NOYW1lXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGxhYmVsOiBjbGVhcixcbiAgICAgICAgb25DbGljazogb25DbGVhckJ1dHRvbkNsaWNrLFxuICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ29udGFpbmVyQnV0dG9uS2V5ZG93bihlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGVhckNsYXNzTmFtZVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVGb290ZXIgPSBmdW5jdGlvbiBjcmVhdGVGb290ZXIoKSB7XG4gICAgaWYgKHByb3BzLmZvb3RlclRlbXBsYXRlKSB7XG4gICAgICB2YXIgX2NvbnRlbnQzID0gcHJvcHMuZm9vdGVyVGVtcGxhdGUoKTtcblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZGF0ZXBpY2tlci1mb290ZXJcIlxuICAgICAgfSwgX2NvbnRlbnQzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlTW9udGhQaWNrZXIgPSBmdW5jdGlvbiBjcmVhdGVNb250aFBpY2tlcigpIHtcbiAgICBpZiAoY3VycmVudFZpZXcgPT09ICdtb250aCcpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLW1vbnRocGlja2VyXCJcbiAgICAgIH0sIG1vbnRoUGlja2VyVmFsdWVzKCkubWFwKGZ1bmN0aW9uIChtLCBpKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBvbk1vbnRoU2VsZWN0KGV2ZW50LCBpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleTogXCJtb250aFwiLmNvbmNhdChpICsgMSksXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCdwLW1vbnRocGlja2VyLW1vbnRoJywge1xuICAgICAgICAgICAgJ3AtaGlnaGxpZ2h0JzogaXNNb250aFNlbGVjdGVkKGkpLFxuICAgICAgICAgICAgJ3AtZGlzYWJsZWQnOiAhaXNTZWxlY3RhYmxlKDEsIGksIGN1cnJlbnRZZWFyKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sIG0pO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVZZWFyUGlja2VyID0gZnVuY3Rpb24gY3JlYXRlWWVhclBpY2tlcigpIHtcbiAgICBpZiAoY3VycmVudFZpZXcgPT09ICd5ZWFyJykge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAteWVhcnBpY2tlclwiXG4gICAgICB9LCB5ZWFyUGlja2VyVmFsdWVzKCkubWFwKGZ1bmN0aW9uICh5LCBpKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBvblllYXJTZWxlY3QoZXZlbnQsIHkpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5OiBcInllYXJcIi5jb25jYXQoaSArIDEpLFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygncC15ZWFycGlja2VyLXllYXInLCB7XG4gICAgICAgICAgICAncC1oaWdobGlnaHQnOiBpc1llYXJTZWxlY3RlZCh5KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sIHkpO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBvdGhlclByb3BzID0gT2JqZWN0VXRpbHMuZmluZERpZmZLZXlzKHByb3BzLCBDYWxlbmRhci5kZWZhdWx0UHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jYWxlbmRhciBwLWNvbXBvbmVudCBwLWlucHV0d3JhcHBlcicsIHByb3BzLmNsYXNzTmFtZSwgKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgXCJwLWNhbGVuZGFyLXctYnRuIHAtY2FsZW5kYXItdy1idG4tXCIuY29uY2F0KHByb3BzLmljb25Qb3MpLCBwcm9wcy5zaG93SWNvbiksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgJ3AtY2FsZW5kYXItZGlzYWJsZWQnLCBwcm9wcy5kaXNhYmxlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgJ3AtY2FsZW5kYXItdGltZW9ubHknLCBwcm9wcy50aW1lT25seSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgJ3AtaW5wdXR3cmFwcGVyLWZpbGxlZCcsIHByb3BzLnZhbHVlIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3MoaW5wdXRSZWYuY3VycmVudCwgJ3AtZmlsbGVkJykgJiYgaW5wdXRSZWYuY3VycmVudC52YWx1ZSAhPT0gJycpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsICdwLWlucHV0d3JhcHBlci1mb2N1cycsIGZvY3VzZWRTdGF0ZSksIF9jbGFzc05hbWVzKSk7XG4gIHZhciBwYW5lbENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZGF0ZXBpY2tlciBwLWNvbXBvbmVudCcsIHByb3BzLnBhbmVsQ2xhc3NOYW1lLCB7XG4gICAgJ3AtZGF0ZXBpY2tlci1pbmxpbmUnOiBwcm9wcy5pbmxpbmUsXG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1kYXRlcGlja2VyLXRpbWVvbmx5JzogcHJvcHMudGltZU9ubHksXG4gICAgJ3AtZGF0ZXBpY2tlci1tdWx0aXBsZS1tb250aCc6IHByb3BzLm51bWJlck9mTW9udGhzID4gMSxcbiAgICAncC1kYXRlcGlja2VyLW1vbnRocGlja2VyJzogY3VycmVudFZpZXcgPT09ICdtb250aCcsXG4gICAgJ3AtZGF0ZXBpY2tlci10b3VjaC11aSc6IHByb3BzLnRvdWNoVUlcbiAgfSk7XG4gIHZhciBjb250ZW50ID0gY3JlYXRlQ29udGVudCgpO1xuICB2YXIgZGF0ZVBpY2tlciA9IGNyZWF0ZURhdGVQaWNrZXIoKTtcbiAgdmFyIHRpbWVQaWNrZXIgPSBjcmVhdGVUaW1lUGlja2VyKCk7XG4gIHZhciBidXR0b25CYXIgPSBjcmVhdGVCdXR0b25CYXIoKTtcbiAgdmFyIGZvb3RlciA9IGNyZWF0ZUZvb3RlcigpO1xuICB2YXIgbW9udGhQaWNrZXIgPSBjcmVhdGVNb250aFBpY2tlcigpO1xuICB2YXIgeWVhclBpY2tlciA9IGNyZWF0ZVllYXJQaWNrZXIoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBlbGVtZW50UmVmLFxuICAgIGlkOiBwcm9wcy5pZCxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgfSwgb3RoZXJQcm9wcyksIGNvbnRlbnQsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENhbGVuZGFyUGFuZWwsIHtcbiAgICByZWY6IG92ZXJsYXlSZWYsXG4gICAgY2xhc3NOYW1lOiBwYW5lbENsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMucGFuZWxTdHlsZSxcbiAgICBhcHBlbmRUbzogcHJvcHMuYXBwZW5kVG8sXG4gICAgaW5saW5lOiBwcm9wcy5pbmxpbmUsXG4gICAgb25DbGljazogb25QYW5lbENsaWNrLFxuICAgIG9uTW91c2VVcDogb25QYW5lbE1vdXNlVXAsXG4gICAgXCJpblwiOiB2aXNpYmxlLFxuICAgIG9uRW50ZXI6IG9uT3ZlcmxheUVudGVyLFxuICAgIG9uRW50ZXJlZDogb25PdmVybGF5RW50ZXJlZCxcbiAgICBvbkV4aXQ6IG9uT3ZlcmxheUV4aXQsXG4gICAgb25FeGl0ZWQ6IG9uT3ZlcmxheUV4aXRlZCxcbiAgICB0cmFuc2l0aW9uT3B0aW9uczogcHJvcHMudHJhbnNpdGlvbk9wdGlvbnNcbiAgfSwgZGF0ZVBpY2tlciwgdGltZVBpY2tlciwgbW9udGhQaWNrZXIsIHllYXJQaWNrZXIsIGJ1dHRvbkJhciwgZm9vdGVyKSk7XG59KSk7XG5DYWxlbmRhci5kaXNwbGF5TmFtZSA9ICdDYWxlbmRhcic7XG5DYWxlbmRhci5kZWZhdWx0UHJvcHMgPSB7XG4gIF9fVFlQRTogJ0NhbGVuZGFyJyxcbiAgaWQ6IG51bGwsXG4gIGlucHV0UmVmOiBudWxsLFxuICBuYW1lOiBudWxsLFxuICB2YWx1ZTogbnVsbCxcbiAgdmlzaWJsZTogZmFsc2UsXG4gIHZpZXdEYXRlOiBudWxsLFxuICBzdHlsZTogbnVsbCxcbiAgY2xhc3NOYW1lOiBudWxsLFxuICBpbmxpbmU6IGZhbHNlLFxuICBzZWxlY3Rpb25Nb2RlOiAnc2luZ2xlJyxcbiAgaW5wdXRJZDogbnVsbCxcbiAgaW5wdXRTdHlsZTogbnVsbCxcbiAgaW5wdXRDbGFzc05hbWU6IG51bGwsXG4gIGlucHV0TW9kZTogJ25vbmUnLFxuICByZXF1aXJlZDogZmFsc2UsXG4gIHJlYWRPbmx5SW5wdXQ6IGZhbHNlLFxuICBrZWVwSW52YWxpZDogZmFsc2UsXG4gIG1hc2s6IG51bGwsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgdGFiSW5kZXg6IG51bGwsXG4gIHBsYWNlaG9sZGVyOiBudWxsLFxuICBzaG93SWNvbjogZmFsc2UsXG4gIGljb246ICdwaSBwaS1jYWxlbmRhcicsXG4gIGljb25Qb3M6ICdyaWdodCcsXG4gIHNob3dPbkZvY3VzOiB0cnVlLFxuICBudW1iZXJPZk1vbnRoczogMSxcbiAgdmlldzogJ2RhdGUnLFxuICB0b3VjaFVJOiBmYWxzZSxcbiAgc2hvd1RpbWU6IGZhbHNlLFxuICB0aW1lT25seTogZmFsc2UsXG4gIHNob3dTZWNvbmRzOiBmYWxzZSxcbiAgc2hvd01pbGxpc2VjOiBmYWxzZSxcbiAgaG91ckZvcm1hdDogJzI0JyxcbiAgc3RlcEhvdXI6IDEsXG4gIHN0ZXBNaW51dGU6IDEsXG4gIHN0ZXBTZWNvbmQ6IDEsXG4gIHN0ZXBNaWxsaXNlYzogMSxcbiAgc2hvcnRZZWFyQ3V0b2ZmOiAnKzEwJyxcbiAgaGlkZU9uRGF0ZVRpbWVTZWxlY3Q6IGZhbHNlLFxuICBzaG93V2VlazogZmFsc2UsXG4gIGxvY2FsZTogbnVsbCxcbiAgZGF0ZUZvcm1hdDogbnVsbCxcbiAgcGFuZWxTdHlsZTogbnVsbCxcbiAgcGFuZWxDbGFzc05hbWU6IG51bGwsXG4gIG1vbnRoTmF2aWdhdG9yOiBmYWxzZSxcbiAgeWVhck5hdmlnYXRvcjogZmFsc2UsXG4gIHllYXJSYW5nZTogbnVsbCxcbiAgZGlzYWJsZWREYXRlczogbnVsbCxcbiAgZGlzYWJsZWREYXlzOiBudWxsLFxuICBtaW5EYXRlOiBudWxsLFxuICBtYXhEYXRlOiBudWxsLFxuICBtYXhEYXRlQ291bnQ6IG51bGwsXG4gIHNob3dNaW5NYXhSYW5nZTogZmFsc2UsXG4gIHNob3dPdGhlck1vbnRoczogdHJ1ZSxcbiAgc2VsZWN0T3RoZXJNb250aHM6IGZhbHNlLFxuICBzaG93QnV0dG9uQmFyOiBmYWxzZSxcbiAgdG9kYXlCdXR0b25DbGFzc05hbWU6ICdwLWJ1dHRvbi1zZWNvbmRhcnknLFxuICBjbGVhckJ1dHRvbkNsYXNzTmFtZTogJ3AtYnV0dG9uLXNlY29uZGFyeScsXG4gIGF1dG9aSW5kZXg6IHRydWUsXG4gIGJhc2VaSW5kZXg6IDAsXG4gIGFwcGVuZFRvOiBudWxsLFxuICB0b29sdGlwOiBudWxsLFxuICB0b29sdGlwT3B0aW9uczogbnVsbCxcbiAgYXJpYUxhYmVsbGVkQnk6IG51bGwsXG4gIGRhdGVUZW1wbGF0ZTogbnVsbCxcbiAgZGVjYWRlVGVtcGxhdGU6IG51bGwsXG4gIGhlYWRlclRlbXBsYXRlOiBudWxsLFxuICBmb290ZXJUZW1wbGF0ZTogbnVsbCxcbiAgbW9udGhOYXZpZ2F0b3JUZW1wbGF0ZTogbnVsbCxcbiAgeWVhck5hdmlnYXRvclRlbXBsYXRlOiBudWxsLFxuICB0cmFuc2l0aW9uT3B0aW9uczogbnVsbCxcbiAgb25WaXNpYmxlQ2hhbmdlOiBudWxsLFxuICBvbkZvY3VzOiBudWxsLFxuICBvbkJsdXI6IG51bGwsXG4gIG9uSW5wdXQ6IG51bGwsXG4gIG9uU2VsZWN0OiBudWxsLFxuICBvbkNoYW5nZTogbnVsbCxcbiAgb25WaWV3RGF0ZUNoYW5nZTogbnVsbCxcbiAgb25Ub2RheUJ1dHRvbkNsaWNrOiBudWxsLFxuICBvbkNsZWFyQnV0dG9uQ2xpY2s6IG51bGwsXG4gIG9uU2hvdzogbnVsbCxcbiAgb25IaWRlOiBudWxsLFxuICBvbk1vbnRoQ2hhbmdlOiBudWxsXG59O1xuXG5leHBvcnQgeyBDYWxlbmRhciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/calendar/calendar.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/chips/chips.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/primereact/chips/chips.esm.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Chips\": function() { return /* binding */ Chips; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/keyfilter */ \"./node_modules/primereact/keyfilter/keyfilter.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar Chips = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focusedState = _React$useState2[0],\n      setFocusedState = _React$useState2[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var listRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n\n  var removeItem = function removeItem(event, index) {\n    if (props.disabled && props.readOnly) {\n      return;\n    }\n\n    var values = _toConsumableArray(props.value);\n\n    var removedItem = values.splice(index, 1);\n\n    if (!isRemovable(removedItem, index)) {\n      return;\n    }\n\n    if (props.onRemove) {\n      props.onRemove({\n        originalEvent: event,\n        value: removedItem\n      });\n    }\n\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event,\n        value: values,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: values\n        }\n      });\n    }\n  };\n\n  var addItem = function addItem(event, item, preventDefault) {\n    if (item && item.trim().length) {\n      var values = props.value ? _toConsumableArray(props.value) : [];\n\n      if (props.allowDuplicate || values.indexOf(item) === -1) {\n        var allowAddition = true;\n\n        if (props.onAdd) {\n          allowAddition = props.onAdd({\n            originalEvent: event,\n            value: item\n          });\n        }\n\n        if (allowAddition !== false) {\n          values.push(item);\n        }\n      }\n\n      updateInput(event, values, preventDefault);\n    }\n  };\n\n  var onWrapperClick = function onWrapperClick() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.focus(inputRef.current);\n  };\n\n  var onKeyDown = function onKeyDown(event) {\n    var inputValue = event.target.value;\n    var values = props.value || [];\n    props.onKeyDown && props.onKeyDown(event); // do not continue if the user defined keydown wants to prevent\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    switch (event.which) {\n      //backspace\n      case 8:\n        if (inputRef.current.value.length === 0 && values.length > 0) {\n          removeItem(event, values.length - 1);\n        }\n\n        break;\n      //enter\n\n      case 13:\n        if (inputValue && inputValue.trim().length && (!props.max || props.max > values.length)) {\n          addItem(event, inputValue, true);\n        }\n\n        break;\n\n      default:\n        if (props.keyfilter) {\n          primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.onKeyPress(event, props.keyfilter);\n        }\n\n        if (isMaxedOut()) {\n          event.preventDefault();\n        } else if (props.separator === ',' && event.which === 188) {\n          addItem(event, inputValue, true);\n        }\n\n        break;\n    }\n  };\n\n  var updateInput = function updateInput(event, items, preventDefault) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event,\n        value: items,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: items\n        }\n      });\n    }\n\n    inputRef.current.value = '';\n    preventDefault && event.preventDefault();\n  };\n\n  var onPaste = function onPaste(event) {\n    if (props.separator) {\n      var pastedData = (event.clipboardData || window['clipboardData']).getData('Text');\n\n      if (props.keyfilter) {\n        primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.onPaste(event, props.keyfilter);\n      }\n\n      if (pastedData) {\n        var values = props.value || [];\n        var pastedValues = pastedData.split(props.separator);\n        pastedValues = pastedValues.filter(function (val) {\n          return (props.allowDuplicate || values.indexOf(val) === -1) && val.trim().length;\n        });\n        values = [].concat(_toConsumableArray(values), _toConsumableArray(pastedValues));\n        updateInput(event, values, true);\n      }\n    }\n  };\n\n  var onFocus = function onFocus(event) {\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onBlur = function onBlur(event) {\n    if (props.addOnBlur) {\n      var inputValue = event.target.value;\n      var values = props.value || [];\n\n      if (inputValue && inputValue.trim().length && (!props.max || props.max > values.length)) {\n        addItem(event, inputValue, true);\n      }\n    }\n\n    setFocusedState(false);\n    props.onBlur && props.onBlur(event);\n  };\n\n  var isMaxedOut = function isMaxedOut() {\n    return props.max && props.value && props.max === props.value.length;\n  };\n\n  var currentValue = inputRef.current && inputRef.current.value;\n  var isFilled = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.value) || primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(currentValue);\n  }, [props.value, currentValue]);\n\n  var isRemovable = function isRemovable(value, index) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.getPropValue(props.removable, {\n      value: value,\n      index: index,\n      props: props\n    });\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n\n  var createRemoveIcon = function createRemoveIcon(value, index) {\n    if (!props.disabled && !props.readOnly && isRemovable(value, index)) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-chips-token-icon pi pi-times-circle\",\n        onClick: function onClick(event) {\n          return removeItem(event, index);\n        }\n      });\n    }\n\n    return null;\n  };\n\n  var createItem = function createItem(value, index) {\n    var content = props.itemTemplate ? props.itemTemplate(value) : value;\n    var label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"p-chips-token-label\"\n    }, content);\n    var icon = createRemoveIcon(value, index);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      key: index,\n      className: \"p-chips-token p-highlight\"\n    }, label, icon);\n  };\n\n  var createInput = function createInput() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      className: \"p-chips-input-token\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n      ref: inputRef,\n      id: props.inputId,\n      placeholder: props.placeholder,\n      type: \"text\",\n      name: props.name,\n      disabled: props.disabled || isMaxedOut(),\n      onKeyDown: onKeyDown,\n      onPaste: onPaste,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      \"aria-labelledby\": props.ariaLabelledBy,\n      readOnly: props.readOnly\n    }));\n  };\n\n  var createItems = function createItems() {\n    return props.value ? props.value.map(createItem) : null;\n  };\n\n  var createList = function createList() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_3__.classNames)('p-inputtext p-chips-multiple-container', {\n      'p-disabled': props.disabled,\n      'p-focus': focusedState\n    });\n    var items = createItems();\n    var input = createInput();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n      ref: listRef,\n      className: className,\n      onClick: onWrapperClick\n    }, items, input);\n  };\n\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.findDiffKeys(props, Chips.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_3__.classNames)('p-chips p-component p-inputwrapper', {\n    'p-inputwrapper-filled': isFilled,\n    'p-inputwrapper-focus': focusedState\n  }, props.className);\n  var list = createList();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps), list), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_2__.Tooltip, _extends({\n    target: inputRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nChips.displayName = 'Chips';\nChips.defaultProps = {\n  __TYPE: 'Chips',\n  id: null,\n  inputRef: null,\n  inputId: null,\n  name: null,\n  placeholder: null,\n  value: null,\n  max: null,\n  disabled: null,\n  readOnly: false,\n  removable: true,\n  style: null,\n  className: null,\n  tooltip: null,\n  tooltipOptions: null,\n  ariaLabelledBy: null,\n  separator: null,\n  allowDuplicate: true,\n  itemTemplate: null,\n  keyfilter: null,\n  addOnBlur: null,\n  onAdd: null,\n  onRemove: null,\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onKeyDown: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9jaGlwcy9jaGlwcy5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQStCO0FBQ2tCO0FBQ0o7QUFDMEI7O0FBRXZFO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0QkFBNEIsK0JBQStCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLHVDQUFVLGVBQWUsNkNBQWdCO0FBQ2xFLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHlDQUFZO0FBQy9CLGdCQUFnQix5Q0FBWTtBQUM1QixpQkFBaUIseUNBQVk7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksOERBQWdCO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQzs7QUFFL0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLHNFQUFvQjtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsbUVBQWlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLDBDQUFhO0FBQzlCLFdBQVcsb0VBQXNCLGlCQUFpQixvRUFBc0I7QUFDeEUsR0FBRzs7QUFFSDtBQUNBLFdBQVcsc0VBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxFQUFFLHNEQUF5QjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLDRDQUFlO0FBQ2pCLElBQUksc0VBQXdCO0FBQzVCLEdBQUc7O0FBRUg7QUFDQTtBQUNBLDBCQUEwQixnREFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFtQjtBQUNoRDtBQUNBLEtBQUs7QUFDTDtBQUNBLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQSxLQUFLLGVBQWUsZ0RBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsNERBQVU7QUFDOUI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsbUJBQW1CLG9FQUFzQjtBQUN6QyxtQkFBbUIsc0VBQXdCO0FBQzNDLGtCQUFrQiw0REFBVTtBQUM1QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGlEQUFpRCxnREFBbUIsQ0FBQyx1REFBTztBQUMvRTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2NoaXBzL2NoaXBzLmVzbS5qcz9jODEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEtleUZpbHRlciB9IGZyb20gJ3ByaW1lcmVhY3Qva2V5ZmlsdGVyJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbnZhciBDaGlwcyA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBmb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Rm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGxpc3RSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihwcm9wcy5pbnB1dFJlZik7XG5cbiAgdmFyIHJlbW92ZUl0ZW0gPSBmdW5jdGlvbiByZW1vdmVJdGVtKGV2ZW50LCBpbmRleCkge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCAmJiBwcm9wcy5yZWFkT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMudmFsdWUpO1xuXG4gICAgdmFyIHJlbW92ZWRJdGVtID0gdmFsdWVzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICBpZiAoIWlzUmVtb3ZhYmxlKHJlbW92ZWRJdGVtLCBpbmRleCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMub25SZW1vdmUpIHtcbiAgICAgIHByb3BzLm9uUmVtb3ZlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiByZW1vdmVkSXRlbVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICB2YWx1ZTogdmFsdWVzLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGFkZEl0ZW0gPSBmdW5jdGlvbiBhZGRJdGVtKGV2ZW50LCBpdGVtLCBwcmV2ZW50RGVmYXVsdCkge1xuICAgIGlmIChpdGVtICYmIGl0ZW0udHJpbSgpLmxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlcyA9IHByb3BzLnZhbHVlID8gX3RvQ29uc3VtYWJsZUFycmF5KHByb3BzLnZhbHVlKSA6IFtdO1xuXG4gICAgICBpZiAocHJvcHMuYWxsb3dEdXBsaWNhdGUgfHwgdmFsdWVzLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgIHZhciBhbGxvd0FkZGl0aW9uID0gdHJ1ZTtcblxuICAgICAgICBpZiAocHJvcHMub25BZGQpIHtcbiAgICAgICAgICBhbGxvd0FkZGl0aW9uID0gcHJvcHMub25BZGQoe1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFsbG93QWRkaXRpb24gIT09IGZhbHNlKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdXBkYXRlSW5wdXQoZXZlbnQsIHZhbHVlcywgcHJldmVudERlZmF1bHQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25XcmFwcGVyQ2xpY2sgPSBmdW5jdGlvbiBvbldyYXBwZXJDbGljaygpIHtcbiAgICBEb21IYW5kbGVyLmZvY3VzKGlucHV0UmVmLmN1cnJlbnQpO1xuICB9O1xuXG4gIHZhciBvbktleURvd24gPSBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICB2YXIgdmFsdWVzID0gcHJvcHMudmFsdWUgfHwgW107XG4gICAgcHJvcHMub25LZXlEb3duICYmIHByb3BzLm9uS2V5RG93bihldmVudCk7IC8vIGRvIG5vdCBjb250aW51ZSBpZiB0aGUgdXNlciBkZWZpbmVkIGtleWRvd24gd2FudHMgdG8gcHJldmVudFxuXG4gICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAvL2JhY2tzcGFjZVxuICAgICAgY2FzZSA4OlxuICAgICAgICBpZiAoaW5wdXRSZWYuY3VycmVudC52YWx1ZS5sZW5ndGggPT09IDAgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZW1vdmVJdGVtKGV2ZW50LCB2YWx1ZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIC8vZW50ZXJcblxuICAgICAgY2FzZSAxMzpcbiAgICAgICAgaWYgKGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS50cmltKCkubGVuZ3RoICYmICghcHJvcHMubWF4IHx8IHByb3BzLm1heCA+IHZhbHVlcy5sZW5ndGgpKSB7XG4gICAgICAgICAgYWRkSXRlbShldmVudCwgaW5wdXRWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHByb3BzLmtleWZpbHRlcikge1xuICAgICAgICAgIEtleUZpbHRlci5vbktleVByZXNzKGV2ZW50LCBwcm9wcy5rZXlmaWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTWF4ZWRPdXQoKSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcHMuc2VwYXJhdG9yID09PSAnLCcgJiYgZXZlbnQud2hpY2ggPT09IDE4OCkge1xuICAgICAgICAgIGFkZEl0ZW0oZXZlbnQsIGlucHV0VmFsdWUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIHZhciB1cGRhdGVJbnB1dCA9IGZ1bmN0aW9uIHVwZGF0ZUlucHV0KGV2ZW50LCBpdGVtcywgcHJldmVudERlZmF1bHQpIHtcbiAgICBpZiAocHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiBpdGVtcyxcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7fSxcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge30sXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgIHZhbHVlOiBpdGVtc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gICAgcHJldmVudERlZmF1bHQgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgb25QYXN0ZSA9IGZ1bmN0aW9uIG9uUGFzdGUoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuc2VwYXJhdG9yKSB7XG4gICAgICB2YXIgcGFzdGVkRGF0YSA9IChldmVudC5jbGlwYm9hcmREYXRhIHx8IHdpbmRvd1snY2xpcGJvYXJkRGF0YSddKS5nZXREYXRhKCdUZXh0Jyk7XG5cbiAgICAgIGlmIChwcm9wcy5rZXlmaWx0ZXIpIHtcbiAgICAgICAgS2V5RmlsdGVyLm9uUGFzdGUoZXZlbnQsIHByb3BzLmtleWZpbHRlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXN0ZWREYXRhKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBwcm9wcy52YWx1ZSB8fCBbXTtcbiAgICAgICAgdmFyIHBhc3RlZFZhbHVlcyA9IHBhc3RlZERhdGEuc3BsaXQocHJvcHMuc2VwYXJhdG9yKTtcbiAgICAgICAgcGFzdGVkVmFsdWVzID0gcGFzdGVkVmFsdWVzLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIChwcm9wcy5hbGxvd0R1cGxpY2F0ZSB8fCB2YWx1ZXMuaW5kZXhPZih2YWwpID09PSAtMSkgJiYgdmFsLnRyaW0oKS5sZW5ndGg7XG4gICAgICAgIH0pO1xuICAgICAgICB2YWx1ZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlcyksIF90b0NvbnN1bWFibGVBcnJheShwYXN0ZWRWYWx1ZXMpKTtcbiAgICAgICAgdXBkYXRlSW5wdXQoZXZlbnQsIHZhbHVlcywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcbiAgICBwcm9wcy5vbkZvY3VzICYmIHByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICB9O1xuXG4gIHZhciBvbkJsdXIgPSBmdW5jdGlvbiBvbkJsdXIoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuYWRkT25CbHVyKSB7XG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgIHZhciB2YWx1ZXMgPSBwcm9wcy52YWx1ZSB8fCBbXTtcblxuICAgICAgaWYgKGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS50cmltKCkubGVuZ3RoICYmICghcHJvcHMubWF4IHx8IHByb3BzLm1heCA+IHZhbHVlcy5sZW5ndGgpKSB7XG4gICAgICAgIGFkZEl0ZW0oZXZlbnQsIGlucHV0VmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldEZvY3VzZWRTdGF0ZShmYWxzZSk7XG4gICAgcHJvcHMub25CbHVyICYmIHByb3BzLm9uQmx1cihldmVudCk7XG4gIH07XG5cbiAgdmFyIGlzTWF4ZWRPdXQgPSBmdW5jdGlvbiBpc01heGVkT3V0KCkge1xuICAgIHJldHVybiBwcm9wcy5tYXggJiYgcHJvcHMudmFsdWUgJiYgcHJvcHMubWF4ID09PSBwcm9wcy52YWx1ZS5sZW5ndGg7XG4gIH07XG5cbiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQgJiYgaW5wdXRSZWYuY3VycmVudC52YWx1ZTtcbiAgdmFyIGlzRmlsbGVkID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMudmFsdWUpIHx8IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoY3VycmVudFZhbHVlKTtcbiAgfSwgW3Byb3BzLnZhbHVlLCBjdXJyZW50VmFsdWVdKTtcblxuICB2YXIgaXNSZW1vdmFibGUgPSBmdW5jdGlvbiBpc1JlbW92YWJsZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0UHJvcFZhbHVlKHByb3BzLnJlbW92YWJsZSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHJvcHM6IHByb3BzXG4gICAgfSk7XG4gIH07XG5cbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhpbnB1dFJlZiwgcHJvcHMuaW5wdXRSZWYpO1xuICB9LCBbaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmXSk7XG5cbiAgdmFyIGNyZWF0ZVJlbW92ZUljb24gPSBmdW5jdGlvbiBjcmVhdGVSZW1vdmVJY29uKHZhbHVlLCBpbmRleCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5ICYmIGlzUmVtb3ZhYmxlKHZhbHVlLCBpbmRleCkpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1jaGlwcy10b2tlbi1pY29uIHBpIHBpLXRpbWVzLWNpcmNsZVwiLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHJlbW92ZUl0ZW0oZXZlbnQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUl0ZW0gPSBmdW5jdGlvbiBjcmVhdGVJdGVtKHZhbHVlLCBpbmRleCkge1xuICAgIHZhciBjb250ZW50ID0gcHJvcHMuaXRlbVRlbXBsYXRlID8gcHJvcHMuaXRlbVRlbXBsYXRlKHZhbHVlKSA6IHZhbHVlO1xuICAgIHZhciBsYWJlbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1jaGlwcy10b2tlbi1sYWJlbFwiXG4gICAgfSwgY29udGVudCk7XG4gICAgdmFyIGljb24gPSBjcmVhdGVSZW1vdmVJY29uKHZhbHVlLCBpbmRleCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAga2V5OiBpbmRleCxcbiAgICAgIGNsYXNzTmFtZTogXCJwLWNoaXBzLXRva2VuIHAtaGlnaGxpZ2h0XCJcbiAgICB9LCBsYWJlbCwgaWNvbik7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUlucHV0ID0gZnVuY3Rpb24gY3JlYXRlSW5wdXQoKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtY2hpcHMtaW5wdXQtdG9rZW5cIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgIGlkOiBwcm9wcy5pbnB1dElkLFxuICAgICAgcGxhY2Vob2xkZXI6IHByb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkIHx8IGlzTWF4ZWRPdXQoKSxcbiAgICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgICAgb25QYXN0ZTogb25QYXN0ZSxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLmFyaWFMYWJlbGxlZEJ5LFxuICAgICAgcmVhZE9ubHk6IHByb3BzLnJlYWRPbmx5XG4gICAgfSkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJdGVtcyA9IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1zKCkge1xuICAgIHJldHVybiBwcm9wcy52YWx1ZSA/IHByb3BzLnZhbHVlLm1hcChjcmVhdGVJdGVtKSA6IG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUxpc3QgPSBmdW5jdGlvbiBjcmVhdGVMaXN0KCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWlucHV0dGV4dCBwLWNoaXBzLW11bHRpcGxlLWNvbnRhaW5lcicsIHtcbiAgICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAncC1mb2N1cyc6IGZvY3VzZWRTdGF0ZVxuICAgIH0pO1xuICAgIHZhciBpdGVtcyA9IGNyZWF0ZUl0ZW1zKCk7XG4gICAgdmFyIGlucHV0ID0gY3JlYXRlSW5wdXQoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICByZWY6IGxpc3RSZWYsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIG9uQ2xpY2s6IG9uV3JhcHBlckNsaWNrXG4gICAgfSwgaXRlbXMsIGlucHV0KTtcbiAgfTtcblxuICB2YXIgaGFzVG9vbHRpcCA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkocHJvcHMudG9vbHRpcCk7XG4gIHZhciBvdGhlclByb3BzID0gT2JqZWN0VXRpbHMuZmluZERpZmZLZXlzKHByb3BzLCBDaGlwcy5kZWZhdWx0UHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jaGlwcyBwLWNvbXBvbmVudCBwLWlucHV0d3JhcHBlcicsIHtcbiAgICAncC1pbnB1dHdyYXBwZXItZmlsbGVkJzogaXNGaWxsZWQsXG4gICAgJ3AtaW5wdXR3cmFwcGVyLWZvY3VzJzogZm9jdXNlZFN0YXRlXG4gIH0sIHByb3BzLmNsYXNzTmFtZSk7XG4gIHZhciBsaXN0ID0gY3JlYXRlTGlzdCgpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgaWQ6IHByb3BzLmlkLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICB9LCBvdGhlclByb3BzKSwgbGlzdCksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgIHRhcmdldDogaW5wdXRSZWYsXG4gICAgY29udGVudDogcHJvcHMudG9vbHRpcFxuICB9LCBwcm9wcy50b29sdGlwT3B0aW9ucykpKTtcbn0pKTtcbkNoaXBzLmRpc3BsYXlOYW1lID0gJ0NoaXBzJztcbkNoaXBzLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnQ2hpcHMnLFxuICBpZDogbnVsbCxcbiAgaW5wdXRSZWY6IG51bGwsXG4gIGlucHV0SWQ6IG51bGwsXG4gIG5hbWU6IG51bGwsXG4gIHBsYWNlaG9sZGVyOiBudWxsLFxuICB2YWx1ZTogbnVsbCxcbiAgbWF4OiBudWxsLFxuICBkaXNhYmxlZDogbnVsbCxcbiAgcmVhZE9ubHk6IGZhbHNlLFxuICByZW1vdmFibGU6IHRydWUsXG4gIHN0eWxlOiBudWxsLFxuICBjbGFzc05hbWU6IG51bGwsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBhcmlhTGFiZWxsZWRCeTogbnVsbCxcbiAgc2VwYXJhdG9yOiBudWxsLFxuICBhbGxvd0R1cGxpY2F0ZTogdHJ1ZSxcbiAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICBrZXlmaWx0ZXI6IG51bGwsXG4gIGFkZE9uQmx1cjogbnVsbCxcbiAgb25BZGQ6IG51bGwsXG4gIG9uUmVtb3ZlOiBudWxsLFxuICBvbkNoYW5nZTogbnVsbCxcbiAgb25Gb2N1czogbnVsbCxcbiAgb25CbHVyOiBudWxsLFxuICBvbktleURvd246IG51bGxcbn07XG5cbmV4cG9ydCB7IENoaXBzIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/chips/chips.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/csstransition/csstransition.esm.js":
/*!********************************************************************!*\
  !*** ./node_modules/primereact/csstransition/csstransition.esm.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CSSTransition\": function() { return /* binding */ CSSTransition; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-transition-group */ \"./node_modules/react-transition-group/esm/index.js\");\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar CSSTransition = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var disabled = props.disabled || props.options && props.options.disabled || !primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].cssTransition;\n\n  var onEnter = function onEnter(node, isAppearing) {\n    props.onEnter && props.onEnter(node, isAppearing); // component\n\n    props.options && props.options.onEnter && props.options.onEnter(node, isAppearing); // user option\n  };\n\n  var onEntering = function onEntering(node, isAppearing) {\n    props.onEntering && props.onEntering(node, isAppearing); // component\n\n    props.options && props.options.onEntering && props.options.onEntering(node, isAppearing); // user option\n  };\n\n  var onEntered = function onEntered(node, isAppearing) {\n    props.onEntered && props.onEntered(node, isAppearing); // component\n\n    props.options && props.options.onEntered && props.options.onEntered(node, isAppearing); // user option\n  };\n\n  var onExit = function onExit(node) {\n    props.onExit && props.onExit(node); // component\n\n    props.options && props.options.onExit && props.options.onExit(node); // user option\n  };\n\n  var onExiting = function onExiting(node) {\n    props.onExiting && props.onExiting(node); // component\n\n    props.options && props.options.onExiting && props.options.onExiting(node); // user option\n  };\n\n  var onExited = function onExited(node) {\n    props.onExited && props.onExited(node); // component\n\n    props.options && props.options.onExited && props.options.onExited(node); // user option\n  };\n\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (disabled) {\n      // no animation\n      var node = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.getRefElement(props.nodeRef);\n\n      if (props[\"in\"]) {\n        onEnter(node, true);\n        onEntering(node, true);\n        onEntered(node, true);\n      } else {\n        onExit(node);\n        onExiting(node);\n        onExited(node);\n      }\n    }\n  }, [props[\"in\"]]);\n\n  if (disabled) {\n    return props[\"in\"] ? props.children : null;\n  } else {\n    var immutableProps = {\n      nodeRef: props.nodeRef,\n      \"in\": props[\"in\"],\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: onExited\n    };\n    var mutableProps = {\n      classNames: props.classNames,\n      timeout: props.timeout,\n      unmountOnExit: props.unmountOnExit\n    };\n\n    var mergedProps = _objectSpread(_objectSpread(_objectSpread({}, mutableProps), props.options || {}), immutableProps);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_4__.CSSTransition, mergedProps, props.children);\n  }\n});\nCSSTransition.displayName = 'CSSTransition';\nCSSTransition.defaultProps = {\n  __TYPE: 'CSSTransition'\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9jc3N0cmFuc2l0aW9uL2Nzc3RyYW5zaXRpb24uZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0I7QUFDMkM7QUFDbEM7QUFDVztBQUNKOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELDRDQUE0QyxvS0FBb0ssbUZBQW1GLEtBQUs7QUFDMWUsaUNBQWlDLDZDQUFnQjtBQUNqRCwrRUFBK0Usb0VBQXdCOztBQUV2RztBQUNBLHVEQUF1RDs7QUFFdkQsd0ZBQXdGO0FBQ3hGOztBQUVBO0FBQ0EsNkRBQTZEOztBQUU3RCw4RkFBOEY7QUFDOUY7O0FBRUE7QUFDQSwyREFBMkQ7O0FBRTNELDRGQUE0RjtBQUM1Rjs7QUFFQTtBQUNBLHdDQUF3Qzs7QUFFeEMseUVBQXlFO0FBQ3pFOztBQUVBO0FBQ0EsOENBQThDOztBQUU5QywrRUFBK0U7QUFDL0U7O0FBRUE7QUFDQSw0Q0FBNEM7O0FBRTVDLDZFQUE2RTtBQUM3RTs7QUFFQSxFQUFFLGlFQUFlO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUIsdUVBQXlCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrRUFBa0Usb0NBQW9DOztBQUV0Ryx3QkFBd0IsZ0RBQW1CLENBQUMsaUVBQWU7QUFDM0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2Nzc3RyYW5zaXRpb24vY3NzdHJhbnNpdGlvbi5lc20uanM/NmQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIGFzIENTU1RyYW5zaXRpb24kMSB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IFByaW1lUmVhY3QgZnJvbSAncHJpbWVyZWFjdC9hcGknO1xuaW1wb3J0IHsgdXNlVXBkYXRlRWZmZWN0IH0gZnJvbSAncHJpbWVyZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBPYmplY3RVdGlscyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBDU1NUcmFuc2l0aW9uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLmRpc2FibGVkIHx8ICFQcmltZVJlYWN0LmNzc1RyYW5zaXRpb247XG5cbiAgdmFyIG9uRW50ZXIgPSBmdW5jdGlvbiBvbkVudGVyKG5vZGUsIGlzQXBwZWFyaW5nKSB7XG4gICAgcHJvcHMub25FbnRlciAmJiBwcm9wcy5vbkVudGVyKG5vZGUsIGlzQXBwZWFyaW5nKTsgLy8gY29tcG9uZW50XG5cbiAgICBwcm9wcy5vcHRpb25zICYmIHByb3BzLm9wdGlvbnMub25FbnRlciAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXIobm9kZSwgaXNBcHBlYXJpbmcpOyAvLyB1c2VyIG9wdGlvblxuICB9O1xuXG4gIHZhciBvbkVudGVyaW5nID0gZnVuY3Rpb24gb25FbnRlcmluZyhub2RlLCBpc0FwcGVhcmluZykge1xuICAgIHByb3BzLm9uRW50ZXJpbmcgJiYgcHJvcHMub25FbnRlcmluZyhub2RlLCBpc0FwcGVhcmluZyk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXJpbmcgJiYgcHJvcHMub3B0aW9ucy5vbkVudGVyaW5nKG5vZGUsIGlzQXBwZWFyaW5nKTsgLy8gdXNlciBvcHRpb25cbiAgfTtcblxuICB2YXIgb25FbnRlcmVkID0gZnVuY3Rpb24gb25FbnRlcmVkKG5vZGUsIGlzQXBwZWFyaW5nKSB7XG4gICAgcHJvcHMub25FbnRlcmVkICYmIHByb3BzLm9uRW50ZXJlZChub2RlLCBpc0FwcGVhcmluZyk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXJlZCAmJiBwcm9wcy5vcHRpb25zLm9uRW50ZXJlZChub2RlLCBpc0FwcGVhcmluZyk7IC8vIHVzZXIgb3B0aW9uXG4gIH07XG5cbiAgdmFyIG9uRXhpdCA9IGZ1bmN0aW9uIG9uRXhpdChub2RlKSB7XG4gICAgcHJvcHMub25FeGl0ICYmIHByb3BzLm9uRXhpdChub2RlKTsgLy8gY29tcG9uZW50XG5cbiAgICBwcm9wcy5vcHRpb25zICYmIHByb3BzLm9wdGlvbnMub25FeGl0ICYmIHByb3BzLm9wdGlvbnMub25FeGl0KG5vZGUpOyAvLyB1c2VyIG9wdGlvblxuICB9O1xuXG4gIHZhciBvbkV4aXRpbmcgPSBmdW5jdGlvbiBvbkV4aXRpbmcobm9kZSkge1xuICAgIHByb3BzLm9uRXhpdGluZyAmJiBwcm9wcy5vbkV4aXRpbmcobm9kZSk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRXhpdGluZyAmJiBwcm9wcy5vcHRpb25zLm9uRXhpdGluZyhub2RlKTsgLy8gdXNlciBvcHRpb25cbiAgfTtcblxuICB2YXIgb25FeGl0ZWQgPSBmdW5jdGlvbiBvbkV4aXRlZChub2RlKSB7XG4gICAgcHJvcHMub25FeGl0ZWQgJiYgcHJvcHMub25FeGl0ZWQobm9kZSk7IC8vIGNvbXBvbmVudFxuXG4gICAgcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm9uRXhpdGVkICYmIHByb3BzLm9wdGlvbnMub25FeGl0ZWQobm9kZSk7IC8vIHVzZXIgb3B0aW9uXG4gIH07XG5cbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIC8vIG5vIGFuaW1hdGlvblxuICAgICAgdmFyIG5vZGUgPSBPYmplY3RVdGlscy5nZXRSZWZFbGVtZW50KHByb3BzLm5vZGVSZWYpO1xuXG4gICAgICBpZiAocHJvcHNbXCJpblwiXSkge1xuICAgICAgICBvbkVudGVyKG5vZGUsIHRydWUpO1xuICAgICAgICBvbkVudGVyaW5nKG5vZGUsIHRydWUpO1xuICAgICAgICBvbkVudGVyZWQobm9kZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkV4aXQobm9kZSk7XG4gICAgICAgIG9uRXhpdGluZyhub2RlKTtcbiAgICAgICAgb25FeGl0ZWQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbcHJvcHNbXCJpblwiXV0pO1xuXG4gIGlmIChkaXNhYmxlZCkge1xuICAgIHJldHVybiBwcm9wc1tcImluXCJdID8gcHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZhciBpbW11dGFibGVQcm9wcyA9IHtcbiAgICAgIG5vZGVSZWY6IHByb3BzLm5vZGVSZWYsXG4gICAgICBcImluXCI6IHByb3BzW1wiaW5cIl0sXG4gICAgICBvbkVudGVyOiBvbkVudGVyLFxuICAgICAgb25FbnRlcmluZzogb25FbnRlcmluZyxcbiAgICAgIG9uRW50ZXJlZDogb25FbnRlcmVkLFxuICAgICAgb25FeGl0OiBvbkV4aXQsXG4gICAgICBvbkV4aXRpbmc6IG9uRXhpdGluZyxcbiAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZFxuICAgIH07XG4gICAgdmFyIG11dGFibGVQcm9wcyA9IHtcbiAgICAgIGNsYXNzTmFtZXM6IHByb3BzLmNsYXNzTmFtZXMsXG4gICAgICB0aW1lb3V0OiBwcm9wcy50aW1lb3V0LFxuICAgICAgdW5tb3VudE9uRXhpdDogcHJvcHMudW5tb3VudE9uRXhpdFxuICAgIH07XG5cbiAgICB2YXIgbWVyZ2VkUHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbXV0YWJsZVByb3BzKSwgcHJvcHMub3B0aW9ucyB8fCB7fSksIGltbXV0YWJsZVByb3BzKTtcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDU1NUcmFuc2l0aW9uJDEsIG1lcmdlZFByb3BzLCBwcm9wcy5jaGlsZHJlbik7XG4gIH1cbn0pO1xuQ1NTVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9ICdDU1NUcmFuc2l0aW9uJztcbkNTU1RyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdDU1NUcmFuc2l0aW9uJ1xufTtcblxuZXhwb3J0IHsgQ1NTVHJhbnNpdGlvbiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/csstransition/csstransition.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/dropdown/dropdown.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/primereact/dropdown/dropdown.esm.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Dropdown\": function() { return /* binding */ Dropdown; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/virtualscroller */ \"./node_modules/primereact/virtualscroller/virtualscroller.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar DropdownItem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var onClick = function onClick(event) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        option: props.option\n      });\n    }\n  };\n\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-item', {\n    'p-highlight': props.selected,\n    'p-disabled': props.disabled,\n    'p-dropdown-item-empty': !props.label || props.label.length === 0\n  }, props.option && props.option.className);\n  var content = props.template ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.template, props.option) : props.label;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n    className: className,\n    style: props.style,\n    onClick: onClick,\n    \"aria-label\": props.label,\n    key: props.label,\n    role: \"option\",\n    \"aria-selected\": props.selected\n  }, content, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_9__.Ripple, null));\n});\nDropdownItem.displayName = 'DropdownItem';\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar DropdownPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var virtualScrollerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var filterInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isEmptyFilter = !(props.visibleOptions && props.visibleOptions.length) && props.hasFilter;\n  var filterOptions = {\n    filter: function filter(e) {\n      return onFilterInputChange(e);\n    },\n    reset: function reset() {\n      return props.resetFilter();\n    }\n  };\n\n  var onEnter = function onEnter() {\n    props.onEnter(function () {\n      if (virtualScrollerRef.current) {\n        var selectedIndex = props.getSelectedOptionIndex();\n\n        if (selectedIndex !== -1) {\n          setTimeout(function () {\n            return virtualScrollerRef.current.scrollToIndex(selectedIndex);\n          }, 0);\n        }\n      }\n    });\n  };\n\n  var onEntered = function onEntered() {\n    props.onEntered(function () {\n      if (props.filter && props.filterInputAutoFocus) {\n        primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(filterInputRef.current, false);\n      }\n    });\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    virtualScrollerRef.current && virtualScrollerRef.current.scrollToIndex(0);\n    props.onFilterInputChange && props.onFilterInputChange(event);\n  };\n\n  var createGroupChildren = function createGroupChildren(optionGroup, style) {\n    var groupChildren = props.getOptionGroupChildren(optionGroup);\n    return groupChildren.map(function (option, j) {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = j + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: props.isSelected(option),\n        disabled: disabled,\n        onClick: props.onOptionClick\n      });\n    });\n  };\n\n  var createEmptyMessage = function createEmptyMessage(emptyMessage, isFilter) {\n    var message = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(emptyMessage, props) || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)(isFilter ? 'emptyFilterMessage' : 'emptyMessage');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      className: \"p-dropdown-empty-message\"\n    }, message);\n  };\n\n  var createItem = function createItem(option, index) {\n    var scrollerOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var style = {\n      height: scrollerOptions.props ? scrollerOptions.props.itemSize : undefined\n    };\n\n    if (props.optionGroupLabel) {\n      var groupContent = props.optionGroupTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.optionGroupTemplate, option, index) : props.getOptionGroupLabel(option);\n      var groupChildrenContent = createGroupChildren(option, style);\n      var key = index + '_' + props.getOptionGroupRenderKey(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: key\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-dropdown-item-group\",\n        style: style\n      }, groupContent), groupChildrenContent);\n    } else {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = index + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: props.isSelected(option),\n        disabled: disabled,\n        onClick: props.onOptionClick\n      });\n    }\n  };\n\n  var createItems = function createItems() {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.visibleOptions)) {\n      return props.visibleOptions.map(createItem);\n    } else if (props.hasFilter) {\n      return createEmptyMessage(props.emptyFilterMessage, true);\n    }\n\n    return createEmptyMessage(props.emptyMessage);\n  };\n\n  var createFilterClearIcon = function createFilterClearIcon() {\n    if (props.showFilterClear && props.filterValue) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-filter-clear-icon pi pi-times\",\n        onClick: function onClick() {\n          return props.onFilterClearIconClick(function () {\n            return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(filterInputRef.current);\n          });\n        }\n      });\n    }\n\n    return null;\n  };\n\n  var createFilter = function createFilter() {\n    if (props.filter) {\n      var clearIcon = createFilterClearIcon();\n      var containerClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-filter-container', {\n        'p-dropdown-clearable-filter': !!clearIcon\n      });\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: containerClassName\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        ref: filterInputRef,\n        type: \"text\",\n        autoComplete: \"off\",\n        className: \"p-dropdown-filter p-inputtext p-component\",\n        placeholder: props.filterPlaceholder,\n        onKeyDown: props.onFilterInputKeyDown,\n        onChange: onFilterInputChange,\n        value: props.filterValue\n      }), clearIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-filter-icon pi pi-search\"\n      }));\n\n      if (props.filterTemplate) {\n        var defaultContentOptions = {\n          className: containerClassName,\n          element: content,\n          filterOptions: filterOptions,\n          filterInputKeyDown: props.onFilterInputKeyDown,\n          filterInputChange: onFilterInputChange,\n          filterIconClassName: 'p-dropdown-filter-icon pi pi-search',\n          clearIcon: clearIcon,\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.filterTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-dropdown-header\"\n      }, content);\n    }\n\n    return null;\n  };\n\n  var createContent = function createContent() {\n    if (props.virtualScrollerOptions) {\n      var virtualScrollerProps = _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions), {\n        style: _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions.style), {\n          height: props.scrollHeight\n        }),\n        className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-items-wrapper', props.virtualScrollerOptions.className),\n        items: props.visibleOptions,\n        autoSize: true,\n        onLazyLoad: function onLazyLoad(event) {\n          return props.virtualScrollerOptions.onLazyLoad(_objectSpread$1(_objectSpread$1({}, event), {\n            filter: props.filterValue\n          }));\n        },\n        itemTemplate: function itemTemplate(item, options) {\n          return item && createItem(item, options.index, options);\n        },\n        contentTemplate: function contentTemplate(options) {\n          var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-items', options.className);\n          var content = isEmptyFilter ? createEmptyMessage() : options.children;\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n            ref: options.contentRef,\n            className: className,\n            role: \"listbox\"\n          }, content);\n        }\n      });\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_8__.VirtualScroller, _extends({\n        ref: virtualScrollerRef\n      }, virtualScrollerProps));\n    } else {\n      var items = createItems();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-dropdown-items-wrapper\",\n        style: {\n          maxHeight: props.scrollHeight || 'auto'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: \"p-dropdown-items\",\n        role: \"listbox\"\n      }, items));\n    }\n  };\n\n  var createElement = function createElement() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-panel p-component', props.panelClassName);\n    var filter = createFilter();\n    var content = createContent();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__.CSSTransition, {\n      nodeRef: ref,\n      classNames: \"p-connected-overlay\",\n      \"in\": props[\"in\"],\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: onEnter,\n      onEntering: props.onEntering,\n      onEntered: onEntered,\n      onExit: props.onExit,\n      onExited: props.onExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: ref,\n      className: className,\n      style: props.panelStyle,\n      onClick: props.onClick\n    }, filter, content));\n  };\n\n  var element = createElement();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_7__.Portal, {\n    element: element,\n    appendTo: props.appendTo\n  });\n}));\nDropdownPanel.displayName = 'DropdownPanel';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar Dropdown = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterState = _React$useState2[0],\n      setFilterState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      focusedState = _React$useState4[0],\n      setFocusedState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      overlayVisibleState = _React$useState6[0],\n      setOverlayVisibleState = _React$useState6[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n  var focusInputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var searchTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var searchValue = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var currentSearchChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isLazy = props.virtualScrollerOptions && props.virtualScrollerOptions.lazy;\n  var hasFilter = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(filterState);\n  var appendTo = props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo;\n\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useOverlayListener)({\n    target: elementRef,\n    overlay: overlayRef,\n    listener: function listener(event, _ref) {\n      var type = _ref.type,\n          valid = _ref.valid;\n\n      if (valid) {\n        type === 'outside' ? !isClearClicked(event) && hide() : hide();\n      }\n    },\n    when: overlayVisibleState\n  }),\n      _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n      bindOverlayListener = _useOverlayListener2[0],\n      unbindOverlayListener = _useOverlayListener2[1];\n\n  var getVisibleOptions = function getVisibleOptions() {\n    if (hasFilter && !isLazy) {\n      var filterValue = filterState.trim().toLocaleLowerCase(props.filterLocale);\n      var searchFields = props.filterBy ? props.filterBy.split(',') : [props.optionLabel || 'label'];\n\n      if (props.optionGroupLabel) {\n        var filteredGroups = [];\n\n        var _iterator = _createForOfIteratorHelper(props.options),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var optgroup = _step.value;\n            var filteredSubOptions = primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filter(getOptionGroupChildren(optgroup), searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n\n            if (filteredSubOptions && filteredSubOptions.length) {\n              filteredGroups.push(_objectSpread(_objectSpread({}, optgroup), {\n                items: filteredSubOptions\n              }));\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return filteredGroups;\n      } else {\n        return primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filter(props.options, searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n      }\n    } else {\n      return props.options;\n    }\n  };\n\n  var isClearClicked = function isClearClicked(event) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-dropdown-clear-icon') || primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-dropdown-filter-clear-icon');\n  };\n\n  var onClick = function onClick(event) {\n    if (props.disabled) {\n      return;\n    }\n\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-dropdown-clear-icon') || event.target.tagName === 'INPUT') {\n      return;\n    } else if (!overlayRef.current || !(overlayRef.current && overlayRef.current.contains(event.target))) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(focusInputRef.current);\n      overlayVisibleState ? hide() : show();\n    }\n  };\n\n  var onInputFocus = function onInputFocus(event) {\n    if (props.showOnFocus && !overlayVisibleState) {\n      show();\n    }\n\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n\n    if (props.onBlur) {\n      setTimeout(function () {\n        var currentValue = inputRef.current ? inputRef.current.value : undefined;\n        props.onBlur({\n          originalEvent: event.originalEvent,\n          value: currentValue,\n          stopPropagation: function stopPropagation() {},\n          preventDefault: function preventDefault() {},\n          target: {\n            name: props.name,\n            id: props.id,\n            value: currentValue\n          }\n        });\n      }, 200);\n    }\n  };\n\n  var onPanelClick = function onPanelClick(event) {\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_3__.OverlayService.emit('overlay-click', {\n      originalEvent: event,\n      target: elementRef.current\n    });\n  };\n\n  var onInputKeyDown = function onInputKeyDown(event) {\n    switch (event.which) {\n      //down\n      case 40:\n        onDownKey(event);\n        break;\n      //up\n\n      case 38:\n        onUpKey(event);\n        break;\n      //space and enter\n\n      case 32:\n      case 13:\n        overlayVisibleState ? hide() : show();\n        event.preventDefault();\n        break;\n      //escape and tab\n\n      case 27:\n      case 9:\n        hide();\n        break;\n\n      default:\n        search(event);\n        break;\n    }\n  };\n\n  var onFilterInputKeyDown = function onFilterInputKeyDown(event) {\n    switch (event.which) {\n      //down\n      case 40:\n        onDownKey(event);\n        break;\n      //up\n\n      case 38:\n        onUpKey(event);\n        break;\n      //enter and escape\n\n      case 13:\n      case 27:\n        hide();\n        event.preventDefault();\n        break;\n    }\n  };\n\n  var onUpKey = function onUpKey(event) {\n    if (visibleOptions) {\n      var prevOption = findPrevOption(getSelectedOptionIndex());\n\n      if (prevOption) {\n        selectItem({\n          originalEvent: event,\n          option: prevOption\n        });\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var onDownKey = function onDownKey(event) {\n    if (visibleOptions) {\n      if (!overlayVisibleState && event.altKey) {\n        show();\n      } else {\n        var nextOption = findNextOption(getSelectedOptionIndex());\n\n        if (nextOption) {\n          selectItem({\n            originalEvent: event,\n            option: nextOption\n          });\n        }\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var findNextOption = function findNextOption(index) {\n    if (props.optionGroupLabel) {\n      var groupIndex = index === -1 ? 0 : index.group;\n      var optionIndex = index === -1 ? -1 : index.option;\n      var option = findNextOptionInList(getOptionGroupChildren(visibleOptions[groupIndex]), optionIndex);\n      if (option) return option;else if (groupIndex + 1 !== visibleOptions.length) return findNextOption({\n        group: groupIndex + 1,\n        option: -1\n      });else return null;\n    }\n\n    return findNextOptionInList(visibleOptions, index);\n  };\n\n  var findNextOptionInList = function findNextOptionInList(list, index) {\n    var i = index + 1;\n\n    if (i === list.length) {\n      return null;\n    }\n\n    var option = list[i];\n    return isOptionDisabled(option) ? findNextOptionInList(i) : option;\n  };\n\n  var findPrevOption = function findPrevOption(index) {\n    if (index === -1) {\n      return null;\n    }\n\n    if (props.optionGroupLabel) {\n      var groupIndex = index.group;\n      var optionIndex = index.option;\n      var option = findPrevOptionInList(getOptionGroupChildren(visibleOptions[groupIndex]), optionIndex);\n      if (option) return option;else if (groupIndex > 0) return findPrevOption({\n        group: groupIndex - 1,\n        option: getOptionGroupChildren(visibleOptions[groupIndex - 1]).length\n      });else return null;\n    }\n\n    return findPrevOptionInList(visibleOptions, index);\n  };\n\n  var findPrevOptionInList = function findPrevOptionInList(list, index) {\n    var i = index - 1;\n\n    if (i < 0) {\n      return null;\n    }\n\n    var option = list[i];\n    return isOptionDisabled(option) ? findPrevOption(i) : option;\n  };\n\n  var search = function search(event) {\n    if (searchTimeout.current) {\n      clearTimeout(searchTimeout.current);\n    }\n\n    var _char = event.key;\n\n    if (_char === 'Shift' || _char === 'Control' || _char === 'Alt') {\n      return;\n    }\n\n    if (currentSearchChar.current === _char) searchValue.current = _char;else searchValue.current = searchValue.current ? searchValue.current + _char : _char;\n    currentSearchChar.current = _char;\n\n    if (searchValue.current) {\n      var searchIndex = getSelectedOptionIndex();\n      var newOption = props.optionGroupLabel ? searchOptionInGroup(searchIndex) : searchOption(searchIndex + 1);\n\n      if (newOption) {\n        selectItem({\n          originalEvent: event,\n          option: newOption\n        });\n      }\n    }\n\n    searchTimeout.current = setTimeout(function () {\n      searchValue.current = null;\n    }, 250);\n  };\n\n  var searchOption = function searchOption(index) {\n    if (searchValue.current) {\n      return searchOptionInRange(index, visibleOptions.length) || searchOptionInRange(0, index);\n    }\n\n    return null;\n  };\n\n  var searchOptionInRange = function searchOptionInRange(start, end) {\n    for (var i = start; i < end; i++) {\n      var opt = visibleOptions[i];\n\n      if (matchesSearchValue(opt)) {\n        return opt;\n      }\n    }\n\n    return null;\n  };\n\n  var searchOptionInGroup = function searchOptionInGroup(index) {\n    var searchIndex = index === -1 ? {\n      group: 0,\n      option: -1\n    } : index;\n\n    for (var i = searchIndex.group; i < visibleOptions.length; i++) {\n      var groupOptions = getOptionGroupChildren(visibleOptions[i]);\n\n      for (var j = searchIndex.group === i ? searchIndex.option + 1 : 0; j < groupOptions.length; j++) {\n        if (matchesSearchValue(groupOptions[j])) {\n          return groupOptions[j];\n        }\n      }\n    }\n\n    for (var _i = 0; _i <= searchIndex.group; _i++) {\n      var _groupOptions = getOptionGroupChildren(visibleOptions[_i]);\n\n      for (var _j = 0; _j < (searchIndex.group === _i ? searchIndex.option : _groupOptions.length); _j++) {\n        if (matchesSearchValue(_groupOptions[_j])) {\n          return _groupOptions[_j];\n        }\n      }\n    }\n\n    return null;\n  };\n\n  var matchesSearchValue = function matchesSearchValue(option) {\n    var label = getOptionLabel(option);\n\n    if (!label) {\n      return false;\n    }\n\n    label = label.toLocaleLowerCase(props.filterLocale);\n    return label.startsWith(searchValue.current.toLocaleLowerCase(props.filterLocale));\n  };\n\n  var onEditableInputChange = function onEditableInputChange(event) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event.originalEvent,\n        value: event.target.value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: event.target.value\n        }\n      });\n    }\n  };\n\n  var onEditableInputFocus = function onEditableInputFocus(event) {\n    setFocusedState(true);\n    hide();\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onOptionClick = function onOptionClick(event) {\n    var option = event.option;\n\n    if (!option.disabled) {\n      selectItem(event);\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(focusInputRef.current);\n    }\n\n    hide();\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    var filter = event.target.value;\n    setFilterState(filter);\n\n    if (props.onFilter) {\n      props.onFilter({\n        originalEvent: event,\n        filter: filter\n      });\n    }\n  };\n\n  var onFilterClearIconClick = function onFilterClearIconClick(callback) {\n    resetFilter(callback);\n  };\n\n  var resetFilter = function resetFilter(callback) {\n    setFilterState('');\n    props.onFilter && props.onFilter({\n      filter: ''\n    });\n    callback && callback();\n  };\n\n  var clear = function clear(event) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event,\n        value: undefined,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: undefined\n        }\n      });\n    }\n\n    updateEditableLabel();\n  };\n\n  var selectItem = function selectItem(event) {\n    if (selectedOption !== event.option) {\n      updateEditableLabel(event.option);\n      var optionValue = getOptionValue(event.option);\n\n      if (props.onChange) {\n        props.onChange({\n          originalEvent: event.originalEvent,\n          value: optionValue,\n          stopPropagation: function stopPropagation() {},\n          preventDefault: function preventDefault() {},\n          target: {\n            name: props.name,\n            id: props.id,\n            value: optionValue\n          }\n        });\n      }\n    }\n  };\n\n  var getSelectedOptionIndex = function getSelectedOptionIndex(options) {\n    options = options || visibleOptions;\n\n    if (props.value != null && options) {\n      if (props.optionGroupLabel) {\n        for (var i = 0; i < options.length; i++) {\n          var selectedOptionIndex = findOptionIndexInList(props.value, getOptionGroupChildren(options[i]));\n\n          if (selectedOptionIndex !== -1) {\n            return {\n              group: i,\n              option: selectedOptionIndex\n            };\n          }\n        }\n      } else {\n        return findOptionIndexInList(props.value, options);\n      }\n    }\n\n    return -1;\n  };\n\n  var equalityKey = function equalityKey() {\n    return props.optionValue ? null : props.dataKey;\n  };\n\n  var findOptionIndexInList = function findOptionIndexInList(value, list) {\n    var key = equalityKey();\n    return list.findIndex(function (item) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(value, getOptionValue(item), key);\n    });\n  };\n\n  var isSelected = function isSelected(option) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(props.value, getOptionValue(option), equalityKey());\n  };\n\n  var show = function show() {\n    setOverlayVisibleState(true);\n  };\n\n  var hide = function hide() {\n    setOverlayVisibleState(false);\n  };\n\n  var onOverlayEnter = function onOverlayEnter(callback) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.set('overlay', overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].autoZIndex, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].zIndex.overlay);\n    alignOverlay();\n    callback && callback();\n  };\n\n  var onOverlayEntered = function onOverlayEntered(callback) {\n    callback && callback();\n    bindOverlayListener();\n    props.onShow && props.onShow();\n  };\n\n  var onOverlayExit = function onOverlayExit() {\n    unbindOverlayListener();\n  };\n\n  var onOverlayExited = function onOverlayExited() {\n    if (props.filter && props.resetFilterOnHide) {\n      resetFilter();\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.clear(overlayRef.current);\n    props.onHide && props.onHide();\n  };\n\n  var alignOverlay = function alignOverlay() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.alignOverlay(overlayRef.current, inputRef.current.parentElement, props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo);\n  };\n\n  var scrollInView = function scrollInView() {\n    var highlightItem = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.findSingle(overlayRef.current, 'li.p-highlight');\n\n    if (highlightItem && highlightItem.scrollIntoView) {\n      highlightItem.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  };\n\n  var updateEditableLabel = function updateEditableLabel(option) {\n    if (inputRef.current) {\n      inputRef.current.value = option ? getOptionLabel(option) : props.value || '';\n    }\n  };\n\n  var getOptionLabel = function getOptionLabel(option) {\n    return props.optionLabel ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionLabel) : option && option['label'] !== undefined ? option['label'] : option;\n  };\n\n  var getOptionValue = function getOptionValue(option) {\n    return props.optionValue ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionValue) : option && option['value'] !== undefined ? option['value'] : option;\n  };\n\n  var getOptionRenderKey = function getOptionRenderKey(option) {\n    return props.dataKey ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.dataKey) : getOptionLabel(option);\n  };\n\n  var isOptionDisabled = function isOptionDisabled(option) {\n    if (props.optionDisabled) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isFunction(props.optionDisabled) ? props.optionDisabled(option) : primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionDisabled);\n    }\n\n    return option && option['disabled'] !== undefined ? option['disabled'] : false;\n  };\n\n  var getOptionGroupRenderKey = function getOptionGroupRenderKey(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n\n  var getOptionGroupLabel = function getOptionGroupLabel(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n\n  var getOptionGroupChildren = function getOptionGroupChildren(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupChildren);\n  };\n\n  var updateInputField = function updateInputField() {\n    if (props.editable && inputRef.current) {\n      var label = selectedOption ? getOptionLabel(selectedOption) : null;\n      var value = label || props.value || '';\n      inputRef.current.value = value;\n    }\n  };\n\n  var getSelectedOption = function getSelectedOption() {\n    var index = getSelectedOptionIndex(props.options);\n    return index !== -1 ? props.optionGroupLabel ? getOptionGroupChildren(props.options[index.group])[index.option] : props.options[index] : null;\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      show: show,\n      hide: hide,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getOverlay: function getOverlay() {\n        return overlayRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      },\n      getFocusInput: function getFocusInput() {\n        return focusInputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useMountEffect)(function () {\n    if (props.autoFocus) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(focusInputRef.current, props.autoFocus);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (overlayVisibleState && props.value) {\n      scrollInView();\n    }\n  }, [overlayVisibleState, props.value]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (overlayVisibleState && props.filter) {\n      alignOverlay();\n    }\n  }, [overlayVisibleState, props.filter]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (filterState && (!props.options || props.options.length === 0)) {\n      setFilterState('');\n    }\n\n    updateInputField();\n\n    if (inputRef.current) {\n      inputRef.current.selectedIndex = 1;\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.clear(overlayRef.current);\n  });\n\n  var createHiddenSelect = function createHiddenSelect() {\n    var option = {\n      value: '',\n      label: props.placeholder\n    };\n\n    if (selectedOption) {\n      var optionValue = getOptionValue(selectedOption);\n      option = {\n        value: _typeof(optionValue) === 'object' ? props.options.findIndex(function (o) {\n          return o === optionValue;\n        }) : optionValue,\n        label: getOptionLabel(selectedOption)\n      };\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-hidden-accessible p-dropdown-hidden-select\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"select\", {\n      ref: inputRef,\n      required: props.required,\n      defaultValue: option.value,\n      name: props.name,\n      tabIndex: -1,\n      \"aria-hidden\": \"true\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"option\", {\n      value: option.value\n    }, option.label)));\n  };\n\n  var createKeyboardHelper = function createKeyboardHelper() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-hidden-accessible\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n      ref: focusInputRef,\n      id: props.inputId,\n      type: \"text\",\n      readOnly: true,\n      \"aria-haspopup\": \"listbox\",\n      onFocus: onInputFocus,\n      onBlur: onInputBlur,\n      onKeyDown: onInputKeyDown,\n      disabled: props.disabled,\n      tabIndex: props.tabIndex,\n      \"aria-label\": props.ariaLabel,\n      \"aria-labelledby\": props.ariaLabelledBy\n    }));\n  };\n\n  var createLabel = function createLabel() {\n    var label = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(selectedOption) ? getOptionLabel(selectedOption) : null;\n\n    if (props.editable) {\n      var value = label || props.value || '';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        ref: inputRef,\n        type: \"text\",\n        defaultValue: value,\n        className: \"p-dropdown-label p-inputtext\",\n        disabled: props.disabled,\n        placeholder: props.placeholder,\n        maxLength: props.maxLength,\n        onInput: onEditableInputChange,\n        onFocus: onEditableInputFocus,\n        onBlur: onInputBlur,\n        \"aria-label\": props.ariaLabel,\n        \"aria-labelledby\": props.ariaLabelledBy,\n        \"aria-haspopup\": \"listbox\"\n      });\n    } else {\n      var _className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-label p-inputtext', {\n        'p-placeholder': label === null && props.placeholder,\n        'p-dropdown-label-empty': label === null && !props.placeholder\n      });\n\n      var content = props.valueTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.valueTemplate, selectedOption, props) : label || props.placeholder || 'empty';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ref: inputRef,\n        className: _className\n      }, content);\n    }\n  };\n\n  var createClearIcon = function createClearIcon() {\n    if (props.value != null && props.showClear && !props.disabled) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-dropdown-clear-icon pi pi-times\",\n        onClick: clear\n      });\n    }\n\n    return null;\n  };\n\n  var createDropdownIcon = function createDropdownIcon() {\n    var iconClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown-trigger-icon p-clickable', props.dropdownIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-dropdown-trigger\",\n      role: \"button\",\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": overlayVisibleState\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: iconClassName\n    }));\n  };\n\n  var visibleOptions = getVisibleOptions();\n  var selectedOption = getSelectedOption();\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.findDiffKeys(props, Dropdown.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-dropdown p-component p-inputwrapper', {\n    'p-disabled': props.disabled,\n    'p-focus': focusedState,\n    'p-dropdown-clearable': props.showClear && !props.disabled,\n    'p-inputwrapper-filled': primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.value),\n    'p-inputwrapper-focus': focusedState || overlayVisibleState\n  }, props.className);\n  var hiddenSelect = createHiddenSelect();\n  var keyboardHelper = createKeyboardHelper();\n  var labelElement = createLabel();\n  var dropdownIcon = createDropdownIcon();\n  var clearIcon = createClearIcon();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps, {\n    onClick: onClick,\n    onMouseDown: props.onMouseDown,\n    onContextMenu: props.onContextMenu\n  }), keyboardHelper, hiddenSelect, labelElement, clearIcon, dropdownIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownPanel, _extends({\n    ref: overlayRef,\n    visibleOptions: visibleOptions\n  }, props, {\n    appendTo: appendTo,\n    onClick: onPanelClick,\n    onOptionClick: onOptionClick,\n    filterValue: filterState,\n    hasFilter: hasFilter,\n    onFilterClearIconClick: onFilterClearIconClick,\n    resetFilter: resetFilter,\n    onFilterInputKeyDown: onFilterInputKeyDown,\n    onFilterInputChange: onFilterInputChange,\n    getOptionLabel: getOptionLabel,\n    getOptionRenderKey: getOptionRenderKey,\n    isOptionDisabled: isOptionDisabled,\n    getOptionGroupChildren: getOptionGroupChildren,\n    getOptionGroupLabel: getOptionGroupLabel,\n    getOptionGroupRenderKey: getOptionGroupRenderKey,\n    isSelected: isSelected,\n    getSelectedOptionIndex: getSelectedOptionIndex,\n    \"in\": overlayVisibleState,\n    onEnter: onOverlayEnter,\n    onEntered: onOverlayEntered,\n    onExit: onOverlayExit,\n    onExited: onOverlayExited\n  }))), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nDropdown.displayName = 'Dropdown';\nDropdown.defaultProps = {\n  __TYPE: 'Dropdown',\n  id: null,\n  inputRef: null,\n  name: null,\n  value: null,\n  options: null,\n  optionLabel: null,\n  optionValue: null,\n  optionDisabled: null,\n  optionGroupLabel: null,\n  optionGroupChildren: null,\n  optionGroupTemplate: null,\n  filterTemplate: null,\n  valueTemplate: null,\n  itemTemplate: null,\n  style: null,\n  className: null,\n  virtualScrollerOptions: null,\n  scrollHeight: '200px',\n  filter: false,\n  filterBy: null,\n  filterMatchMode: 'contains',\n  filterPlaceholder: null,\n  filterLocale: undefined,\n  emptyMessage: null,\n  emptyFilterMessage: null,\n  editable: false,\n  placeholder: null,\n  required: false,\n  disabled: false,\n  appendTo: null,\n  tabIndex: null,\n  autoFocus: false,\n  filterInputAutoFocus: true,\n  resetFilterOnHide: false,\n  showFilterClear: false,\n  panelClassName: null,\n  panelStyle: null,\n  dataKey: null,\n  inputId: null,\n  showClear: false,\n  maxLength: null,\n  tooltip: null,\n  tooltipOptions: null,\n  ariaLabel: null,\n  ariaLabelledBy: null,\n  transitionOptions: null,\n  dropdownIcon: 'pi pi-chevron-down',\n  showOnFocus: false,\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onMouseDown: null,\n  onContextMenu: null,\n  onShow: null,\n  onHide: null,\n  onFilter: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9kcm9wZG93bi9kcm9wZG93bi5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQzBDO0FBQ2dDO0FBQzlDO0FBQ2Q7QUFDdUM7QUFDM0I7QUFDZDtBQUNrQjtBQUNsQjs7QUFFM0M7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyx1Q0FBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsa0JBQWtCLDREQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxpQ0FBaUMsdUVBQXlCO0FBQzFELHNCQUFzQixnREFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHdCQUF3Qixn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O0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRyxxRkFBcUYsZ0RBQW1CO0FBQzNHO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdDQUFnQyxnREFBbUIsQ0FBQyx1REFBTztBQUM5RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2Ryb3Bkb3duL2Ryb3Bkb3duLmVzbS5qcz9hYWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcmltZVJlYWN0LCB7IGxvY2FsZU9wdGlvbiwgRmlsdGVyU2VydmljZSB9IGZyb20gJ3ByaW1lcmVhY3QvYXBpJztcbmltcG9ydCB7IHVzZU92ZXJsYXlMaXN0ZW5lciwgdXNlTW91bnRFZmZlY3QsIHVzZVVwZGF0ZUVmZmVjdCwgdXNlVW5tb3VudEVmZmVjdCB9IGZyb20gJ3ByaW1lcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgT3ZlcmxheVNlcnZpY2UgfSBmcm9tICdwcmltZXJlYWN0L292ZXJsYXlzZXJ2aWNlJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcywgT2JqZWN0VXRpbHMsIERvbUhhbmRsZXIsIFpJbmRleFV0aWxzIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIH0gZnJvbSAncHJpbWVyZWFjdC9jc3N0cmFuc2l0aW9uJztcbmltcG9ydCB7IFBvcnRhbCB9IGZyb20gJ3ByaW1lcmVhY3QvcG9ydGFsJztcbmltcG9ydCB7IFZpcnR1YWxTY3JvbGxlciB9IGZyb20gJ3ByaW1lcmVhY3QvdmlydHVhbHNjcm9sbGVyJztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbnZhciBEcm9wZG93bkl0ZW0gPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgIHByb3BzLm9uQ2xpY2soe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgb3B0aW9uOiBwcm9wcy5vcHRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1pdGVtJywge1xuICAgICdwLWhpZ2hsaWdodCc6IHByb3BzLnNlbGVjdGVkLFxuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZHJvcGRvd24taXRlbS1lbXB0eSc6ICFwcm9wcy5sYWJlbCB8fCBwcm9wcy5sYWJlbC5sZW5ndGggPT09IDBcbiAgfSwgcHJvcHMub3B0aW9uICYmIHByb3BzLm9wdGlvbi5jbGFzc05hbWUpO1xuICB2YXIgY29udGVudCA9IHByb3BzLnRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgcHJvcHMub3B0aW9uKSA6IHByb3BzLmxhYmVsO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmxhYmVsLFxuICAgIGtleTogcHJvcHMubGFiZWwsXG4gICAgcm9sZTogXCJvcHRpb25cIixcbiAgICBcImFyaWEtc2VsZWN0ZWRcIjogcHJvcHMuc2VsZWN0ZWRcbiAgfSwgY29udGVudCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmlwcGxlLCBudWxsKSk7XG59KTtcbkRyb3Bkb3duSXRlbS5kaXNwbGF5TmFtZSA9ICdEcm9wZG93bkl0ZW0nO1xuXG5mdW5jdGlvbiBvd25LZXlzJDEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgRHJvcGRvd25QYW5lbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgdmlydHVhbFNjcm9sbGVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZmlsdGVySW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpc0VtcHR5RmlsdGVyID0gIShwcm9wcy52aXNpYmxlT3B0aW9ucyAmJiBwcm9wcy52aXNpYmxlT3B0aW9ucy5sZW5ndGgpICYmIHByb3BzLmhhc0ZpbHRlcjtcbiAgdmFyIGZpbHRlck9wdGlvbnMgPSB7XG4gICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoZSkge1xuICAgICAgcmV0dXJuIG9uRmlsdGVySW5wdXRDaGFuZ2UoZSk7XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICByZXR1cm4gcHJvcHMucmVzZXRGaWx0ZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRW50ZXIgPSBmdW5jdGlvbiBvbkVudGVyKCkge1xuICAgIHByb3BzLm9uRW50ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gcHJvcHMuZ2V0U2VsZWN0ZWRPcHRpb25JbmRleCgpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbFRvSW5kZXgoc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25FbnRlcmVkID0gZnVuY3Rpb24gb25FbnRlcmVkKCkge1xuICAgIHByb3BzLm9uRW50ZXJlZChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJvcHMuZmlsdGVyICYmIHByb3BzLmZpbHRlcklucHV0QXV0b0ZvY3VzKSB7XG4gICAgICAgIERvbUhhbmRsZXIuZm9jdXMoZmlsdGVySW5wdXRSZWYuY3VycmVudCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvbkZpbHRlcklucHV0Q2hhbmdlID0gZnVuY3Rpb24gb25GaWx0ZXJJbnB1dENoYW5nZShldmVudCkge1xuICAgIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50ICYmIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbFRvSW5kZXgoMCk7XG4gICAgcHJvcHMub25GaWx0ZXJJbnB1dENoYW5nZSAmJiBwcm9wcy5vbkZpbHRlcklucHV0Q2hhbmdlKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlR3JvdXBDaGlsZHJlbiA9IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hpbGRyZW4ob3B0aW9uR3JvdXAsIHN0eWxlKSB7XG4gICAgdmFyIGdyb3VwQ2hpbGRyZW4gPSBwcm9wcy5nZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKTtcbiAgICByZXR1cm4gZ3JvdXBDaGlsZHJlbi5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaikge1xuICAgICAgdmFyIG9wdGlvbkxhYmVsID0gcHJvcHMuZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBvcHRpb25LZXkgPSBqICsgJ18nICsgcHJvcHMuZ2V0T3B0aW9uUmVuZGVyS2V5KG9wdGlvbik7XG4gICAgICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5pc09wdGlvbkRpc2FibGVkKG9wdGlvbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25JdGVtLCB7XG4gICAgICAgIGtleTogb3B0aW9uS2V5LFxuICAgICAgICBsYWJlbDogb3B0aW9uTGFiZWwsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uLFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIHRlbXBsYXRlOiBwcm9wcy5pdGVtVGVtcGxhdGUsXG4gICAgICAgIHNlbGVjdGVkOiBwcm9wcy5pc1NlbGVjdGVkKG9wdGlvbiksXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogcHJvcHMub25PcHRpb25DbGlja1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUVtcHR5TWVzc2FnZSA9IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5TWVzc2FnZShlbXB0eU1lc3NhZ2UsIGlzRmlsdGVyKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KGVtcHR5TWVzc2FnZSwgcHJvcHMpIHx8IGxvY2FsZU9wdGlvbihpc0ZpbHRlciA/ICdlbXB0eUZpbHRlck1lc3NhZ2UnIDogJ2VtcHR5TWVzc2FnZScpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWRyb3Bkb3duLWVtcHR5LW1lc3NhZ2VcIlxuICAgIH0sIG1lc3NhZ2UpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJdGVtID0gZnVuY3Rpb24gY3JlYXRlSXRlbShvcHRpb24sIGluZGV4KSB7XG4gICAgdmFyIHNjcm9sbGVyT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgdmFyIHN0eWxlID0ge1xuICAgICAgaGVpZ2h0OiBzY3JvbGxlck9wdGlvbnMucHJvcHMgPyBzY3JvbGxlck9wdGlvbnMucHJvcHMuaXRlbVNpemUgOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgaWYgKHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpIHtcbiAgICAgIHZhciBncm91cENvbnRlbnQgPSBwcm9wcy5vcHRpb25Hcm91cFRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5vcHRpb25Hcm91cFRlbXBsYXRlLCBvcHRpb24sIGluZGV4KSA6IHByb3BzLmdldE9wdGlvbkdyb3VwTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBncm91cENoaWxkcmVuQ29udGVudCA9IGNyZWF0ZUdyb3VwQ2hpbGRyZW4ob3B0aW9uLCBzdHlsZSk7XG4gICAgICB2YXIga2V5ID0gaW5kZXggKyAnXycgKyBwcm9wcy5nZXRPcHRpb25Hcm91cFJlbmRlcktleShvcHRpb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICAgIGtleToga2V5XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24taXRlbS1ncm91cFwiLFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgIH0sIGdyb3VwQ29udGVudCksIGdyb3VwQ2hpbGRyZW5Db250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG9wdGlvbkxhYmVsID0gcHJvcHMuZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgICAgIHZhciBvcHRpb25LZXkgPSBpbmRleCArICdfJyArIHByb3BzLmdldE9wdGlvblJlbmRlcktleShvcHRpb24pO1xuICAgICAgdmFyIGRpc2FibGVkID0gcHJvcHMuaXNPcHRpb25EaXNhYmxlZChvcHRpb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duSXRlbSwge1xuICAgICAgICBrZXk6IG9wdGlvbktleSxcbiAgICAgICAgbGFiZWw6IG9wdGlvbkxhYmVsLFxuICAgICAgICBvcHRpb246IG9wdGlvbixcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB0ZW1wbGF0ZTogcHJvcHMuaXRlbVRlbXBsYXRlLFxuICAgICAgICBzZWxlY3RlZDogcHJvcHMuaXNTZWxlY3RlZChvcHRpb24pLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xpY2s6IHByb3BzLm9uT3B0aW9uQ2xpY2tcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcygpIHtcbiAgICBpZiAoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52aXNpYmxlT3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBwcm9wcy52aXNpYmxlT3B0aW9ucy5tYXAoY3JlYXRlSXRlbSk7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5oYXNGaWx0ZXIpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbXB0eU1lc3NhZ2UocHJvcHMuZW1wdHlGaWx0ZXJNZXNzYWdlLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlRW1wdHlNZXNzYWdlKHByb3BzLmVtcHR5TWVzc2FnZSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZpbHRlckNsZWFySWNvbiA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckNsZWFySWNvbigpIHtcbiAgICBpZiAocHJvcHMuc2hvd0ZpbHRlckNsZWFyICYmIHByb3BzLmZpbHRlclZhbHVlKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyLWNsZWFyLWljb24gcGkgcGktdGltZXNcIixcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMub25GaWx0ZXJDbGVhckljb25DbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gRG9tSGFuZGxlci5mb2N1cyhmaWx0ZXJJbnB1dFJlZi5jdXJyZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZpbHRlciA9IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlcigpIHtcbiAgICBpZiAocHJvcHMuZmlsdGVyKSB7XG4gICAgICB2YXIgY2xlYXJJY29uID0gY3JlYXRlRmlsdGVyQ2xlYXJJY29uKCk7XG4gICAgICB2YXIgY29udGFpbmVyQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi1maWx0ZXItY29udGFpbmVyJywge1xuICAgICAgICAncC1kcm9wZG93bi1jbGVhcmFibGUtZmlsdGVyJzogISFjbGVhckljb25cbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY29udGFpbmVyQ2xhc3NOYW1lXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgcmVmOiBmaWx0ZXJJbnB1dFJlZixcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyIHAtaW5wdXR0ZXh0IHAtY29tcG9uZW50XCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5maWx0ZXJQbGFjZWhvbGRlcixcbiAgICAgICAgb25LZXlEb3duOiBwcm9wcy5vbkZpbHRlcklucHV0S2V5RG93bixcbiAgICAgICAgb25DaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgICAgIHZhbHVlOiBwcm9wcy5maWx0ZXJWYWx1ZVxuICAgICAgfSksIGNsZWFySWNvbiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInAtZHJvcGRvd24tZmlsdGVyLWljb24gcGkgcGktc2VhcmNoXCJcbiAgICAgIH0pKTtcblxuICAgICAgaWYgKHByb3BzLmZpbHRlclRlbXBsYXRlKSB7XG4gICAgICAgIHZhciBkZWZhdWx0Q29udGVudE9wdGlvbnMgPSB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjb250YWluZXJDbGFzc05hbWUsXG4gICAgICAgICAgZWxlbWVudDogY29udGVudCxcbiAgICAgICAgICBmaWx0ZXJPcHRpb25zOiBmaWx0ZXJPcHRpb25zLFxuICAgICAgICAgIGZpbHRlcklucHV0S2V5RG93bjogcHJvcHMub25GaWx0ZXJJbnB1dEtleURvd24sXG4gICAgICAgICAgZmlsdGVySW5wdXRDaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgICAgICAgZmlsdGVySWNvbkNsYXNzTmFtZTogJ3AtZHJvcGRvd24tZmlsdGVyLWljb24gcGkgcGktc2VhcmNoJyxcbiAgICAgICAgICBjbGVhckljb246IGNsZWFySWNvbixcbiAgICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuZmlsdGVyVGVtcGxhdGUsIGRlZmF1bHRDb250ZW50T3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLWRyb3Bkb3duLWhlYWRlclwiXG4gICAgICB9LCBjb250ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ29udGVudCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgaWYgKHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMpIHtcbiAgICAgIHZhciB2aXJ0dWFsU2Nyb2xsZXJQcm9wcyA9IF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMpLCB7XG4gICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkJDEoX29iamVjdFNwcmVhZCQxKHt9LCBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLnN0eWxlKSwge1xuICAgICAgICAgIGhlaWdodDogcHJvcHMuc2Nyb2xsSGVpZ2h0XG4gICAgICAgIH0pLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24taXRlbXMtd3JhcHBlcicsIHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMuY2xhc3NOYW1lKSxcbiAgICAgICAgaXRlbXM6IHByb3BzLnZpc2libGVPcHRpb25zLFxuICAgICAgICBhdXRvU2l6ZTogdHJ1ZSxcbiAgICAgICAgb25MYXp5TG9hZDogZnVuY3Rpb24gb25MYXp5TG9hZChldmVudCkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLm9uTGF6eUxvYWQoX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgZXZlbnQpLCB7XG4gICAgICAgICAgICBmaWx0ZXI6IHByb3BzLmZpbHRlclZhbHVlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBpdGVtVGVtcGxhdGU6IGZ1bmN0aW9uIGl0ZW1UZW1wbGF0ZShpdGVtLCBvcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0gJiYgY3JlYXRlSXRlbShpdGVtLCBvcHRpb25zLmluZGV4LCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudFRlbXBsYXRlOiBmdW5jdGlvbiBjb250ZW50VGVtcGxhdGUob3B0aW9ucykge1xuICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRyb3Bkb3duLWl0ZW1zJywgb3B0aW9ucy5jbGFzc05hbWUpO1xuICAgICAgICAgIHZhciBjb250ZW50ID0gaXNFbXB0eUZpbHRlciA/IGNyZWF0ZUVtcHR5TWVzc2FnZSgpIDogb3B0aW9ucy5jaGlsZHJlbjtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICAgICAgICByZWY6IG9wdGlvbnMuY29udGVudFJlZixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgcm9sZTogXCJsaXN0Ym94XCJcbiAgICAgICAgICB9LCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChWaXJ0dWFsU2Nyb2xsZXIsIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiB2aXJ0dWFsU2Nyb2xsZXJSZWZcbiAgICAgIH0sIHZpcnR1YWxTY3JvbGxlclByb3BzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpdGVtcyA9IGNyZWF0ZUl0ZW1zKCk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1pdGVtcy13cmFwcGVyXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgbWF4SGVpZ2h0OiBwcm9wcy5zY3JvbGxIZWlnaHQgfHwgJ2F1dG8nXG4gICAgICAgIH1cbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1pdGVtc1wiLFxuICAgICAgICByb2xlOiBcImxpc3Rib3hcIlxuICAgICAgfSwgaXRlbXMpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRyb3Bkb3duLXBhbmVsIHAtY29tcG9uZW50JywgcHJvcHMucGFuZWxDbGFzc05hbWUpO1xuICAgIHZhciBmaWx0ZXIgPSBjcmVhdGVGaWx0ZXIoKTtcbiAgICB2YXIgY29udGVudCA9IGNyZWF0ZUNvbnRlbnQoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTVHJhbnNpdGlvbiwge1xuICAgICAgbm9kZVJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lczogXCJwLWNvbm5lY3RlZC1vdmVybGF5XCIsXG4gICAgICBcImluXCI6IHByb3BzW1wiaW5cIl0sXG4gICAgICB0aW1lb3V0OiB7XG4gICAgICAgIGVudGVyOiAxMjAsXG4gICAgICAgIGV4aXQ6IDEwMFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnM6IHByb3BzLnRyYW5zaXRpb25PcHRpb25zLFxuICAgICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICAgIG9uRW50ZXI6IG9uRW50ZXIsXG4gICAgICBvbkVudGVyaW5nOiBwcm9wcy5vbkVudGVyaW5nLFxuICAgICAgb25FbnRlcmVkOiBvbkVudGVyZWQsXG4gICAgICBvbkV4aXQ6IHByb3BzLm9uRXhpdCxcbiAgICAgIG9uRXhpdGVkOiBwcm9wcy5vbkV4aXRlZFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogcHJvcHMucGFuZWxTdHlsZSxcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2tcbiAgICB9LCBmaWx0ZXIsIGNvbnRlbnQpKTtcbiAgfTtcblxuICB2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBvcnRhbCwge1xuICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgYXBwZW5kVG86IHByb3BzLmFwcGVuZFRvXG4gIH0pO1xufSkpO1xuRHJvcGRvd25QYW5lbC5kaXNwbGF5TmFtZSA9ICdEcm9wZG93blBhbmVsJztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cbnZhciBEcm9wZG93biA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoJycpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBmaWx0ZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGaWx0ZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMywgMiksXG4gICAgICBmb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0Rm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIG92ZXJsYXlWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0T3ZlcmxheVZpc2libGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTZbMV07XG5cbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBvdmVybGF5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYocHJvcHMuaW5wdXRSZWYpO1xuICB2YXIgZm9jdXNJbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHNlYXJjaFRpbWVvdXQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzZWFyY2hWYWx1ZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGN1cnJlbnRTZWFyY2hDaGFyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNMYXp5ID0gcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucyAmJiBwcm9wcy52aXJ0dWFsU2Nyb2xsZXJPcHRpb25zLmxhenk7XG4gIHZhciBoYXNGaWx0ZXIgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KGZpbHRlclN0YXRlKTtcbiAgdmFyIGFwcGVuZFRvID0gcHJvcHMuYXBwZW5kVG8gfHwgUHJpbWVSZWFjdC5hcHBlbmRUbztcblxuICB2YXIgX3VzZU92ZXJsYXlMaXN0ZW5lciA9IHVzZU92ZXJsYXlMaXN0ZW5lcih7XG4gICAgdGFyZ2V0OiBlbGVtZW50UmVmLFxuICAgIG92ZXJsYXk6IG92ZXJsYXlSZWYsXG4gICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50LCBfcmVmKSB7XG4gICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgICB2YWxpZCA9IF9yZWYudmFsaWQ7XG5cbiAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICB0eXBlID09PSAnb3V0c2lkZScgPyAhaXNDbGVhckNsaWNrZWQoZXZlbnQpICYmIGhpZGUoKSA6IGhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW46IG92ZXJsYXlWaXNpYmxlU3RhdGVcbiAgfSksXG4gICAgICBfdXNlT3ZlcmxheUxpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VPdmVybGF5TGlzdGVuZXIsIDIpLFxuICAgICAgYmluZE92ZXJsYXlMaXN0ZW5lciA9IF91c2VPdmVybGF5TGlzdGVuZXIyWzBdLFxuICAgICAgdW5iaW5kT3ZlcmxheUxpc3RlbmVyID0gX3VzZU92ZXJsYXlMaXN0ZW5lcjJbMV07XG5cbiAgdmFyIGdldFZpc2libGVPcHRpb25zID0gZnVuY3Rpb24gZ2V0VmlzaWJsZU9wdGlvbnMoKSB7XG4gICAgaWYgKGhhc0ZpbHRlciAmJiAhaXNMYXp5KSB7XG4gICAgICB2YXIgZmlsdGVyVmFsdWUgPSBmaWx0ZXJTdGF0ZS50cmltKCkudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgIHZhciBzZWFyY2hGaWVsZHMgPSBwcm9wcy5maWx0ZXJCeSA/IHByb3BzLmZpbHRlckJ5LnNwbGl0KCcsJykgOiBbcHJvcHMub3B0aW9uTGFiZWwgfHwgJ2xhYmVsJ107XG5cbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIHZhciBmaWx0ZXJlZEdyb3VwcyA9IFtdO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcm9wcy5vcHRpb25zKSxcbiAgICAgICAgICAgIF9zdGVwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBvcHRncm91cCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkU3ViT3B0aW9ucyA9IEZpbHRlclNlcnZpY2UuZmlsdGVyKGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ob3B0Z3JvdXApLCBzZWFyY2hGaWVsZHMsIGZpbHRlclZhbHVlLCBwcm9wcy5maWx0ZXJNYXRjaE1vZGUsIHByb3BzLmZpbHRlckxvY2FsZSk7XG5cbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZFN1Yk9wdGlvbnMgJiYgZmlsdGVyZWRTdWJPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmaWx0ZXJlZEdyb3Vwcy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0Z3JvdXApLCB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IGZpbHRlcmVkU3ViT3B0aW9uc1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlsdGVyZWRHcm91cHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRmlsdGVyU2VydmljZS5maWx0ZXIocHJvcHMub3B0aW9ucywgc2VhcmNoRmllbGRzLCBmaWx0ZXJWYWx1ZSwgcHJvcHMuZmlsdGVyTWF0Y2hNb2RlLCBwcm9wcy5maWx0ZXJMb2NhbGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvcHMub3B0aW9ucztcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQ2xlYXJDbGlja2VkID0gZnVuY3Rpb24gaXNDbGVhckNsaWNrZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gRG9tSGFuZGxlci5oYXNDbGFzcyhldmVudC50YXJnZXQsICdwLWRyb3Bkb3duLWNsZWFyLWljb24nKSB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtZHJvcGRvd24tZmlsdGVyLWNsZWFyLWljb24nKTtcbiAgfTtcblxuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoRG9tSGFuZGxlci5oYXNDbGFzcyhldmVudC50YXJnZXQsICdwLWRyb3Bkb3duLWNsZWFyLWljb24nKSB8fCBldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoIW92ZXJsYXlSZWYuY3VycmVudCB8fCAhKG92ZXJsYXlSZWYuY3VycmVudCAmJiBvdmVybGF5UmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoZm9jdXNJbnB1dFJlZi5jdXJyZW50KTtcbiAgICAgIG92ZXJsYXlWaXNpYmxlU3RhdGUgPyBoaWRlKCkgOiBzaG93KCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbklucHV0Rm9jdXMgPSBmdW5jdGlvbiBvbklucHV0Rm9jdXMoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuc2hvd09uRm9jdXMgJiYgIW92ZXJsYXlWaXNpYmxlU3RhdGUpIHtcbiAgICAgIHNob3coKTtcbiAgICB9XG5cbiAgICBzZXRGb2N1c2VkU3RhdGUodHJ1ZSk7XG4gICAgcHJvcHMub25Gb2N1cyAmJiBwcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgb25JbnB1dEJsdXIgPSBmdW5jdGlvbiBvbklucHV0Qmx1cihldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZShmYWxzZSk7XG5cbiAgICBpZiAocHJvcHMub25CbHVyKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQgPyBpbnB1dFJlZi5jdXJyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICBwcm9wcy5vbkJsdXIoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgdmFsdWU6IGN1cnJlbnRWYWx1ZSxcbiAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHt9LFxuICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgICAgICAgIHZhbHVlOiBjdXJyZW50VmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgMjAwKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUGFuZWxDbGljayA9IGZ1bmN0aW9uIG9uUGFuZWxDbGljayhldmVudCkge1xuICAgIE92ZXJsYXlTZXJ2aWNlLmVtaXQoJ292ZXJsYXktY2xpY2snLCB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgIHRhcmdldDogZWxlbWVudFJlZi5jdXJyZW50XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRLZXlEb3duID0gZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAvL2Rvd25cbiAgICAgIGNhc2UgNDA6XG4gICAgICAgIG9uRG93bktleShldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy91cFxuXG4gICAgICBjYXNlIDM4OlxuICAgICAgICBvblVwS2V5KGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL3NwYWNlIGFuZCBlbnRlclxuXG4gICAgICBjYXNlIDMyOlxuICAgICAgY2FzZSAxMzpcbiAgICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA/IGhpZGUoKSA6IHNob3coKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2VzY2FwZSBhbmQgdGFiXG5cbiAgICAgIGNhc2UgMjc6XG4gICAgICBjYXNlIDk6XG4gICAgICAgIGhpZGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHNlYXJjaChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25GaWx0ZXJJbnB1dEtleURvd24gPSBmdW5jdGlvbiBvbkZpbHRlcklucHV0S2V5RG93bihldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIC8vZG93blxuICAgICAgY2FzZSA0MDpcbiAgICAgICAgb25Eb3duS2V5KGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL3VwXG5cbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIG9uVXBLZXkoZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vZW50ZXIgYW5kIGVzY2FwZVxuXG4gICAgICBjYXNlIDEzOlxuICAgICAgY2FzZSAyNzpcbiAgICAgICAgaGlkZSgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uVXBLZXkgPSBmdW5jdGlvbiBvblVwS2V5KGV2ZW50KSB7XG4gICAgaWYgKHZpc2libGVPcHRpb25zKSB7XG4gICAgICB2YXIgcHJldk9wdGlvbiA9IGZpbmRQcmV2T3B0aW9uKGdldFNlbGVjdGVkT3B0aW9uSW5kZXgoKSk7XG5cbiAgICAgIGlmIChwcmV2T3B0aW9uKSB7XG4gICAgICAgIHNlbGVjdEl0ZW0oe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIG9wdGlvbjogcHJldk9wdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBvbkRvd25LZXkgPSBmdW5jdGlvbiBvbkRvd25LZXkoZXZlbnQpIHtcbiAgICBpZiAodmlzaWJsZU9wdGlvbnMpIHtcbiAgICAgIGlmICghb3ZlcmxheVZpc2libGVTdGF0ZSAmJiBldmVudC5hbHRLZXkpIHtcbiAgICAgICAgc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5leHRPcHRpb24gPSBmaW5kTmV4dE9wdGlvbihnZXRTZWxlY3RlZE9wdGlvbkluZGV4KCkpO1xuXG4gICAgICAgIGlmIChuZXh0T3B0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIG9wdGlvbjogbmV4dE9wdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfTtcblxuICB2YXIgZmluZE5leHRPcHRpb24gPSBmdW5jdGlvbiBmaW5kTmV4dE9wdGlvbihpbmRleCkge1xuICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICB2YXIgZ3JvdXBJbmRleCA9IGluZGV4ID09PSAtMSA/IDAgOiBpbmRleC5ncm91cDtcbiAgICAgIHZhciBvcHRpb25JbmRleCA9IGluZGV4ID09PSAtMSA/IC0xIDogaW5kZXgub3B0aW9uO1xuICAgICAgdmFyIG9wdGlvbiA9IGZpbmROZXh0T3B0aW9uSW5MaXN0KGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbZ3JvdXBJbmRleF0pLCBvcHRpb25JbmRleCk7XG4gICAgICBpZiAob3B0aW9uKSByZXR1cm4gb3B0aW9uO2Vsc2UgaWYgKGdyb3VwSW5kZXggKyAxICE9PSB2aXNpYmxlT3B0aW9ucy5sZW5ndGgpIHJldHVybiBmaW5kTmV4dE9wdGlvbih7XG4gICAgICAgIGdyb3VwOiBncm91cEluZGV4ICsgMSxcbiAgICAgICAgb3B0aW9uOiAtMVxuICAgICAgfSk7ZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmluZE5leHRPcHRpb25Jbkxpc3QodmlzaWJsZU9wdGlvbnMsIGluZGV4KTtcbiAgfTtcblxuICB2YXIgZmluZE5leHRPcHRpb25Jbkxpc3QgPSBmdW5jdGlvbiBmaW5kTmV4dE9wdGlvbkluTGlzdChsaXN0LCBpbmRleCkge1xuICAgIHZhciBpID0gaW5kZXggKyAxO1xuXG4gICAgaWYgKGkgPT09IGxpc3QubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgb3B0aW9uID0gbGlzdFtpXTtcbiAgICByZXR1cm4gaXNPcHRpb25EaXNhYmxlZChvcHRpb24pID8gZmluZE5leHRPcHRpb25Jbkxpc3QoaSkgOiBvcHRpb247XG4gIH07XG5cbiAgdmFyIGZpbmRQcmV2T3B0aW9uID0gZnVuY3Rpb24gZmluZFByZXZPcHRpb24oaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMub3B0aW9uR3JvdXBMYWJlbCkge1xuICAgICAgdmFyIGdyb3VwSW5kZXggPSBpbmRleC5ncm91cDtcbiAgICAgIHZhciBvcHRpb25JbmRleCA9IGluZGV4Lm9wdGlvbjtcbiAgICAgIHZhciBvcHRpb24gPSBmaW5kUHJldk9wdGlvbkluTGlzdChnZXRPcHRpb25Hcm91cENoaWxkcmVuKHZpc2libGVPcHRpb25zW2dyb3VwSW5kZXhdKSwgb3B0aW9uSW5kZXgpO1xuICAgICAgaWYgKG9wdGlvbikgcmV0dXJuIG9wdGlvbjtlbHNlIGlmIChncm91cEluZGV4ID4gMCkgcmV0dXJuIGZpbmRQcmV2T3B0aW9uKHtcbiAgICAgICAgZ3JvdXA6IGdyb3VwSW5kZXggLSAxLFxuICAgICAgICBvcHRpb246IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbZ3JvdXBJbmRleCAtIDFdKS5sZW5ndGhcbiAgICAgIH0pO2Vsc2UgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbmRQcmV2T3B0aW9uSW5MaXN0KHZpc2libGVPcHRpb25zLCBpbmRleCk7XG4gIH07XG5cbiAgdmFyIGZpbmRQcmV2T3B0aW9uSW5MaXN0ID0gZnVuY3Rpb24gZmluZFByZXZPcHRpb25Jbkxpc3QobGlzdCwgaW5kZXgpIHtcbiAgICB2YXIgaSA9IGluZGV4IC0gMTtcblxuICAgIGlmIChpIDwgMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbiA9IGxpc3RbaV07XG4gICAgcmV0dXJuIGlzT3B0aW9uRGlzYWJsZWQob3B0aW9uKSA/IGZpbmRQcmV2T3B0aW9uKGkpIDogb3B0aW9uO1xuICB9O1xuXG4gIHZhciBzZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goZXZlbnQpIHtcbiAgICBpZiAoc2VhcmNoVGltZW91dC5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2VhcmNoVGltZW91dC5jdXJyZW50KTtcbiAgICB9XG5cbiAgICB2YXIgX2NoYXIgPSBldmVudC5rZXk7XG5cbiAgICBpZiAoX2NoYXIgPT09ICdTaGlmdCcgfHwgX2NoYXIgPT09ICdDb250cm9sJyB8fCBfY2hhciA9PT0gJ0FsdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFNlYXJjaENoYXIuY3VycmVudCA9PT0gX2NoYXIpIHNlYXJjaFZhbHVlLmN1cnJlbnQgPSBfY2hhcjtlbHNlIHNlYXJjaFZhbHVlLmN1cnJlbnQgPSBzZWFyY2hWYWx1ZS5jdXJyZW50ID8gc2VhcmNoVmFsdWUuY3VycmVudCArIF9jaGFyIDogX2NoYXI7XG4gICAgY3VycmVudFNlYXJjaENoYXIuY3VycmVudCA9IF9jaGFyO1xuXG4gICAgaWYgKHNlYXJjaFZhbHVlLmN1cnJlbnQpIHtcbiAgICAgIHZhciBzZWFyY2hJbmRleCA9IGdldFNlbGVjdGVkT3B0aW9uSW5kZXgoKTtcbiAgICAgIHZhciBuZXdPcHRpb24gPSBwcm9wcy5vcHRpb25Hcm91cExhYmVsID8gc2VhcmNoT3B0aW9uSW5Hcm91cChzZWFyY2hJbmRleCkgOiBzZWFyY2hPcHRpb24oc2VhcmNoSW5kZXggKyAxKTtcblxuICAgICAgaWYgKG5ld09wdGlvbikge1xuICAgICAgICBzZWxlY3RJdGVtKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICBvcHRpb246IG5ld09wdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hUaW1lb3V0LmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlYXJjaFZhbHVlLmN1cnJlbnQgPSBudWxsO1xuICAgIH0sIDI1MCk7XG4gIH07XG5cbiAgdmFyIHNlYXJjaE9wdGlvbiA9IGZ1bmN0aW9uIHNlYXJjaE9wdGlvbihpbmRleCkge1xuICAgIGlmIChzZWFyY2hWYWx1ZS5jdXJyZW50KSB7XG4gICAgICByZXR1cm4gc2VhcmNoT3B0aW9uSW5SYW5nZShpbmRleCwgdmlzaWJsZU9wdGlvbnMubGVuZ3RoKSB8fCBzZWFyY2hPcHRpb25JblJhbmdlKDAsIGluZGV4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgc2VhcmNoT3B0aW9uSW5SYW5nZSA9IGZ1bmN0aW9uIHNlYXJjaE9wdGlvbkluUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICB2YXIgb3B0ID0gdmlzaWJsZU9wdGlvbnNbaV07XG5cbiAgICAgIGlmIChtYXRjaGVzU2VhcmNoVmFsdWUob3B0KSkge1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBzZWFyY2hPcHRpb25Jbkdyb3VwID0gZnVuY3Rpb24gc2VhcmNoT3B0aW9uSW5Hcm91cChpbmRleCkge1xuICAgIHZhciBzZWFyY2hJbmRleCA9IGluZGV4ID09PSAtMSA/IHtcbiAgICAgIGdyb3VwOiAwLFxuICAgICAgb3B0aW9uOiAtMVxuICAgIH0gOiBpbmRleDtcblxuICAgIGZvciAodmFyIGkgPSBzZWFyY2hJbmRleC5ncm91cDsgaSA8IHZpc2libGVPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZ3JvdXBPcHRpb25zID0gZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbih2aXNpYmxlT3B0aW9uc1tpXSk7XG5cbiAgICAgIGZvciAodmFyIGogPSBzZWFyY2hJbmRleC5ncm91cCA9PT0gaSA/IHNlYXJjaEluZGV4Lm9wdGlvbiArIDEgOiAwOyBqIDwgZ3JvdXBPcHRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChtYXRjaGVzU2VhcmNoVmFsdWUoZ3JvdXBPcHRpb25zW2pdKSkge1xuICAgICAgICAgIHJldHVybiBncm91cE9wdGlvbnNbal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDw9IHNlYXJjaEluZGV4Lmdyb3VwOyBfaSsrKSB7XG4gICAgICB2YXIgX2dyb3VwT3B0aW9ucyA9IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4odmlzaWJsZU9wdGlvbnNbX2ldKTtcblxuICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IChzZWFyY2hJbmRleC5ncm91cCA9PT0gX2kgPyBzZWFyY2hJbmRleC5vcHRpb24gOiBfZ3JvdXBPcHRpb25zLmxlbmd0aCk7IF9qKyspIHtcbiAgICAgICAgaWYgKG1hdGNoZXNTZWFyY2hWYWx1ZShfZ3JvdXBPcHRpb25zW19qXSkpIHtcbiAgICAgICAgICByZXR1cm4gX2dyb3VwT3B0aW9uc1tfal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgbWF0Y2hlc1NlYXJjaFZhbHVlID0gZnVuY3Rpb24gbWF0Y2hlc1NlYXJjaFZhbHVlKG9wdGlvbikge1xuICAgIHZhciBsYWJlbCA9IGdldE9wdGlvbkxhYmVsKG9wdGlvbik7XG5cbiAgICBpZiAoIWxhYmVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGFiZWwgPSBsYWJlbC50b0xvY2FsZUxvd2VyQ2FzZShwcm9wcy5maWx0ZXJMb2NhbGUpO1xuICAgIHJldHVybiBsYWJlbC5zdGFydHNXaXRoKHNlYXJjaFZhbHVlLmN1cnJlbnQudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKSk7XG4gIH07XG5cbiAgdmFyIG9uRWRpdGFibGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIG9uRWRpdGFibGVJbnB1dENoYW5nZShldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRWRpdGFibGVJbnB1dEZvY3VzID0gZnVuY3Rpb24gb25FZGl0YWJsZUlucHV0Rm9jdXMoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUodHJ1ZSk7XG4gICAgaGlkZSgpO1xuICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uT3B0aW9uQ2xpY2sgPSBmdW5jdGlvbiBvbk9wdGlvbkNsaWNrKGV2ZW50KSB7XG4gICAgdmFyIG9wdGlvbiA9IGV2ZW50Lm9wdGlvbjtcblxuICAgIGlmICghb3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICBzZWxlY3RJdGVtKGV2ZW50KTtcbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoZm9jdXNJbnB1dFJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBoaWRlKCk7XG4gIH07XG5cbiAgdmFyIG9uRmlsdGVySW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiBvbkZpbHRlcklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIGZpbHRlciA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBzZXRGaWx0ZXJTdGF0ZShmaWx0ZXIpO1xuXG4gICAgaWYgKHByb3BzLm9uRmlsdGVyKSB7XG4gICAgICBwcm9wcy5vbkZpbHRlcih7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBmaWx0ZXI6IGZpbHRlclxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkZpbHRlckNsZWFySWNvbkNsaWNrID0gZnVuY3Rpb24gb25GaWx0ZXJDbGVhckljb25DbGljayhjYWxsYmFjaykge1xuICAgIHJlc2V0RmlsdGVyKGNhbGxiYWNrKTtcbiAgfTtcblxuICB2YXIgcmVzZXRGaWx0ZXIgPSBmdW5jdGlvbiByZXNldEZpbHRlcihjYWxsYmFjaykge1xuICAgIHNldEZpbHRlclN0YXRlKCcnKTtcbiAgICBwcm9wcy5vbkZpbHRlciAmJiBwcm9wcy5vbkZpbHRlcih7XG4gICAgICBmaWx0ZXI6ICcnXG4gICAgfSk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgfTtcblxuICB2YXIgY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7fSxcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge30sXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdGFibGVMYWJlbCgpO1xuICB9O1xuXG4gIHZhciBzZWxlY3RJdGVtID0gZnVuY3Rpb24gc2VsZWN0SXRlbShldmVudCkge1xuICAgIGlmIChzZWxlY3RlZE9wdGlvbiAhPT0gZXZlbnQub3B0aW9uKSB7XG4gICAgICB1cGRhdGVFZGl0YWJsZUxhYmVsKGV2ZW50Lm9wdGlvbik7XG4gICAgICB2YXIgb3B0aW9uVmFsdWUgPSBnZXRPcHRpb25WYWx1ZShldmVudC5vcHRpb24pO1xuXG4gICAgICBpZiAocHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgdmFsdWU6IG9wdGlvblZhbHVlLFxuICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge30sXG4gICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge30sXG4gICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvblZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldFNlbGVjdGVkT3B0aW9uSW5kZXggPSBmdW5jdGlvbiBnZXRTZWxlY3RlZE9wdGlvbkluZGV4KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB2aXNpYmxlT3B0aW9ucztcblxuICAgIGlmIChwcm9wcy52YWx1ZSAhPSBudWxsICYmIG9wdGlvbnMpIHtcbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbkluZGV4ID0gZmluZE9wdGlvbkluZGV4SW5MaXN0KHByb3BzLnZhbHVlLCBnZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbnNbaV0pKTtcblxuICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZ3JvdXA6IGksXG4gICAgICAgICAgICAgIG9wdGlvbjogc2VsZWN0ZWRPcHRpb25JbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5kT3B0aW9uSW5kZXhJbkxpc3QocHJvcHMudmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICB2YXIgZXF1YWxpdHlLZXkgPSBmdW5jdGlvbiBlcXVhbGl0eUtleSgpIHtcbiAgICByZXR1cm4gcHJvcHMub3B0aW9uVmFsdWUgPyBudWxsIDogcHJvcHMuZGF0YUtleTtcbiAgfTtcblxuICB2YXIgZmluZE9wdGlvbkluZGV4SW5MaXN0ID0gZnVuY3Rpb24gZmluZE9wdGlvbkluZGV4SW5MaXN0KHZhbHVlLCBsaXN0KSB7XG4gICAgdmFyIGtleSA9IGVxdWFsaXR5S2V5KCk7XG4gICAgcmV0dXJuIGxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZXF1YWxzKHZhbHVlLCBnZXRPcHRpb25WYWx1ZShpdGVtKSwga2V5KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzU2VsZWN0ZWQob3B0aW9uKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmVxdWFscyhwcm9wcy52YWx1ZSwgZ2V0T3B0aW9uVmFsdWUob3B0aW9uKSwgZXF1YWxpdHlLZXkoKSk7XG4gIH07XG5cbiAgdmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUodHJ1ZSk7XG4gIH07XG5cbiAgdmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUoZmFsc2UpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFbnRlciA9IGZ1bmN0aW9uIG9uT3ZlcmxheUVudGVyKGNhbGxiYWNrKSB7XG4gICAgWkluZGV4VXRpbHMuc2V0KCdvdmVybGF5Jywgb3ZlcmxheVJlZi5jdXJyZW50LCBQcmltZVJlYWN0LmF1dG9aSW5kZXgsIFByaW1lUmVhY3QuekluZGV4WydvdmVybGF5J10pO1xuICAgIGFsaWduT3ZlcmxheSgpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgdmFyIG9uT3ZlcmxheUVudGVyZWQgPSBmdW5jdGlvbiBvbk92ZXJsYXlFbnRlcmVkKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyKCk7XG4gICAgcHJvcHMub25TaG93ICYmIHByb3BzLm9uU2hvdygpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFeGl0ID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdCgpIHtcbiAgICB1bmJpbmRPdmVybGF5TGlzdGVuZXIoKTtcbiAgfTtcblxuICB2YXIgb25PdmVybGF5RXhpdGVkID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdGVkKCkge1xuICAgIGlmIChwcm9wcy5maWx0ZXIgJiYgcHJvcHMucmVzZXRGaWx0ZXJPbkhpZGUpIHtcbiAgICAgIHJlc2V0RmlsdGVyKCk7XG4gICAgfVxuXG4gICAgWkluZGV4VXRpbHMuY2xlYXIob3ZlcmxheVJlZi5jdXJyZW50KTtcbiAgICBwcm9wcy5vbkhpZGUgJiYgcHJvcHMub25IaWRlKCk7XG4gIH07XG5cbiAgdmFyIGFsaWduT3ZlcmxheSA9IGZ1bmN0aW9uIGFsaWduT3ZlcmxheSgpIHtcbiAgICBEb21IYW5kbGVyLmFsaWduT3ZlcmxheShvdmVybGF5UmVmLmN1cnJlbnQsIGlucHV0UmVmLmN1cnJlbnQucGFyZW50RWxlbWVudCwgcHJvcHMuYXBwZW5kVG8gfHwgUHJpbWVSZWFjdC5hcHBlbmRUbyk7XG4gIH07XG5cbiAgdmFyIHNjcm9sbEluVmlldyA9IGZ1bmN0aW9uIHNjcm9sbEluVmlldygpIHtcbiAgICB2YXIgaGlnaGxpZ2h0SXRlbSA9IERvbUhhbmRsZXIuZmluZFNpbmdsZShvdmVybGF5UmVmLmN1cnJlbnQsICdsaS5wLWhpZ2hsaWdodCcpO1xuXG4gICAgaWYgKGhpZ2hsaWdodEl0ZW0gJiYgaGlnaGxpZ2h0SXRlbS5zY3JvbGxJbnRvVmlldykge1xuICAgICAgaGlnaGxpZ2h0SXRlbS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUVkaXRhYmxlTGFiZWwgPSBmdW5jdGlvbiB1cGRhdGVFZGl0YWJsZUxhYmVsKG9wdGlvbikge1xuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gb3B0aW9uID8gZ2V0T3B0aW9uTGFiZWwob3B0aW9uKSA6IHByb3BzLnZhbHVlIHx8ICcnO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0T3B0aW9uTGFiZWwgPSBmdW5jdGlvbiBnZXRPcHRpb25MYWJlbChvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMub3B0aW9uTGFiZWwgPyBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbiwgcHJvcHMub3B0aW9uTGFiZWwpIDogb3B0aW9uICYmIG9wdGlvblsnbGFiZWwnXSAhPT0gdW5kZWZpbmVkID8gb3B0aW9uWydsYWJlbCddIDogb3B0aW9uO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25WYWx1ZSA9IGZ1bmN0aW9uIGdldE9wdGlvblZhbHVlKG9wdGlvbikge1xuICAgIHJldHVybiBwcm9wcy5vcHRpb25WYWx1ZSA/IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5vcHRpb25WYWx1ZSkgOiBvcHRpb24gJiYgb3B0aW9uWyd2YWx1ZSddICE9PSB1bmRlZmluZWQgPyBvcHRpb25bJ3ZhbHVlJ10gOiBvcHRpb247XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvblJlbmRlcktleSA9IGZ1bmN0aW9uIGdldE9wdGlvblJlbmRlcktleShvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMuZGF0YUtleSA/IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5kYXRhS2V5KSA6IGdldE9wdGlvbkxhYmVsKG9wdGlvbik7XG4gIH07XG5cbiAgdmFyIGlzT3B0aW9uRGlzYWJsZWQgPSBmdW5jdGlvbiBpc09wdGlvbkRpc2FibGVkKG9wdGlvbikge1xuICAgIGlmIChwcm9wcy5vcHRpb25EaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmlzRnVuY3Rpb24ocHJvcHMub3B0aW9uRGlzYWJsZWQpID8gcHJvcHMub3B0aW9uRGlzYWJsZWQob3B0aW9uKSA6IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5vcHRpb25EaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbiAmJiBvcHRpb25bJ2Rpc2FibGVkJ10gIT09IHVuZGVmaW5lZCA/IG9wdGlvblsnZGlzYWJsZWQnXSA6IGZhbHNlO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25Hcm91cFJlbmRlcktleSA9IGZ1bmN0aW9uIGdldE9wdGlvbkdyb3VwUmVuZGVyS2V5KG9wdGlvbkdyb3VwKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uR3JvdXAsIHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25Hcm91cExhYmVsID0gZnVuY3Rpb24gZ2V0T3B0aW9uR3JvdXBMYWJlbChvcHRpb25Hcm91cCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbkdyb3VwLCBwcm9wcy5vcHRpb25Hcm91cExhYmVsKTtcbiAgfTtcblxuICB2YXIgZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbiA9IGZ1bmN0aW9uIGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ob3B0aW9uR3JvdXApIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShvcHRpb25Hcm91cCwgcHJvcHMub3B0aW9uR3JvdXBDaGlsZHJlbik7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUlucHV0RmllbGQgPSBmdW5jdGlvbiB1cGRhdGVJbnB1dEZpZWxkKCkge1xuICAgIGlmIChwcm9wcy5lZGl0YWJsZSAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgbGFiZWwgPSBzZWxlY3RlZE9wdGlvbiA/IGdldE9wdGlvbkxhYmVsKHNlbGVjdGVkT3B0aW9uKSA6IG51bGw7XG4gICAgICB2YXIgdmFsdWUgPSBsYWJlbCB8fCBwcm9wcy52YWx1ZSB8fCAnJztcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldFNlbGVjdGVkT3B0aW9uID0gZnVuY3Rpb24gZ2V0U2VsZWN0ZWRPcHRpb24oKSB7XG4gICAgdmFyIGluZGV4ID0gZ2V0U2VsZWN0ZWRPcHRpb25JbmRleChwcm9wcy5vcHRpb25zKTtcbiAgICByZXR1cm4gaW5kZXggIT09IC0xID8gcHJvcHMub3B0aW9uR3JvdXBMYWJlbCA/IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ocHJvcHMub3B0aW9uc1tpbmRleC5ncm91cF0pW2luZGV4Lm9wdGlvbl0gOiBwcm9wcy5vcHRpb25zW2luZGV4XSA6IG51bGw7XG4gIH07XG5cbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgc2hvdzogc2hvdyxcbiAgICAgIGhpZGU6IGhpZGUsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldE92ZXJsYXk6IGZ1bmN0aW9uIGdldE92ZXJsYXkoKSB7XG4gICAgICAgIHJldHVybiBvdmVybGF5UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuICAgICAgICByZXR1cm4gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRGb2N1c0lucHV0OiBmdW5jdGlvbiBnZXRGb2N1c0lucHV0KCkge1xuICAgICAgICByZXR1cm4gZm9jdXNJbnB1dFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhpbnB1dFJlZiwgcHJvcHMuaW5wdXRSZWYpO1xuICB9LCBbaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmXSk7XG4gIHVzZU1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICBEb21IYW5kbGVyLmZvY3VzKGZvY3VzSW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvdmVybGF5VmlzaWJsZVN0YXRlICYmIHByb3BzLnZhbHVlKSB7XG4gICAgICBzY3JvbGxJblZpZXcoKTtcbiAgICB9XG4gIH0sIFtvdmVybGF5VmlzaWJsZVN0YXRlLCBwcm9wcy52YWx1ZV0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChvdmVybGF5VmlzaWJsZVN0YXRlICYmIHByb3BzLmZpbHRlcikge1xuICAgICAgYWxpZ25PdmVybGF5KCk7XG4gICAgfVxuICB9LCBbb3ZlcmxheVZpc2libGVTdGF0ZSwgcHJvcHMuZmlsdGVyXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZpbHRlclN0YXRlICYmICghcHJvcHMub3B0aW9ucyB8fCBwcm9wcy5vcHRpb25zLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgIHNldEZpbHRlclN0YXRlKCcnKTtcbiAgICB9XG5cbiAgICB1cGRhdGVJbnB1dEZpZWxkKCk7XG5cbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5zZWxlY3RlZEluZGV4ID0gMTtcbiAgICB9XG4gIH0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBaSW5kZXhVdGlscy5jbGVhcihvdmVybGF5UmVmLmN1cnJlbnQpO1xuICB9KTtcblxuICB2YXIgY3JlYXRlSGlkZGVuU2VsZWN0ID0gZnVuY3Rpb24gY3JlYXRlSGlkZGVuU2VsZWN0KCkge1xuICAgIHZhciBvcHRpb24gPSB7XG4gICAgICB2YWx1ZTogJycsXG4gICAgICBsYWJlbDogcHJvcHMucGxhY2Vob2xkZXJcbiAgICB9O1xuXG4gICAgaWYgKHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgICB2YXIgb3B0aW9uVmFsdWUgPSBnZXRPcHRpb25WYWx1ZShzZWxlY3RlZE9wdGlvbik7XG4gICAgICBvcHRpb24gPSB7XG4gICAgICAgIHZhbHVlOiBfdHlwZW9mKG9wdGlvblZhbHVlKSA9PT0gJ29iamVjdCcgPyBwcm9wcy5vcHRpb25zLmZpbmRJbmRleChmdW5jdGlvbiAobykge1xuICAgICAgICAgIHJldHVybiBvID09PSBvcHRpb25WYWx1ZTtcbiAgICAgICAgfSkgOiBvcHRpb25WYWx1ZSxcbiAgICAgICAgbGFiZWw6IGdldE9wdGlvbkxhYmVsKHNlbGVjdGVkT3B0aW9uKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtaGlkZGVuLWFjY2Vzc2libGUgcC1kcm9wZG93bi1oaWRkZW4tc2VsZWN0XCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XG4gICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgcmVxdWlyZWQ6IHByb3BzLnJlcXVpcmVkLFxuICAgICAgZGVmYXVsdFZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIsIHtcbiAgICAgIHZhbHVlOiBvcHRpb24udmFsdWVcbiAgICB9LCBvcHRpb24ubGFiZWwpKSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUtleWJvYXJkSGVscGVyID0gZnVuY3Rpb24gY3JlYXRlS2V5Ym9hcmRIZWxwZXIoKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLWhpZGRlbi1hY2Nlc3NpYmxlXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgIHJlZjogZm9jdXNJbnB1dFJlZixcbiAgICAgIGlkOiBwcm9wcy5pbnB1dElkLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIixcbiAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICBvbktleURvd246IG9uSW5wdXRLZXlEb3duLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmFyaWFMYWJlbCxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLmFyaWFMYWJlbGxlZEJ5XG4gICAgfSkpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVMYWJlbCA9IGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKCkge1xuICAgIHZhciBsYWJlbCA9IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoc2VsZWN0ZWRPcHRpb24pID8gZ2V0T3B0aW9uTGFiZWwoc2VsZWN0ZWRPcHRpb24pIDogbnVsbDtcblxuICAgIGlmIChwcm9wcy5lZGl0YWJsZSkge1xuICAgICAgdmFyIHZhbHVlID0gbGFiZWwgfHwgcHJvcHMudmFsdWUgfHwgJyc7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlLFxuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1sYWJlbCBwLWlucHV0dGV4dFwiLFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgbWF4TGVuZ3RoOiBwcm9wcy5tYXhMZW5ndGgsXG4gICAgICAgIG9uSW5wdXQ6IG9uRWRpdGFibGVJbnB1dENoYW5nZSxcbiAgICAgICAgb25Gb2N1czogb25FZGl0YWJsZUlucHV0Rm9jdXMsXG4gICAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBwcm9wcy5hcmlhTGFiZWwsXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLmFyaWFMYWJlbGxlZEJ5LFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJsaXN0Ym94XCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtZHJvcGRvd24tbGFiZWwgcC1pbnB1dHRleHQnLCB7XG4gICAgICAgICdwLXBsYWNlaG9sZGVyJzogbGFiZWwgPT09IG51bGwgJiYgcHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICAgICdwLWRyb3Bkb3duLWxhYmVsLWVtcHR5JzogbGFiZWwgPT09IG51bGwgJiYgIXByb3BzLnBsYWNlaG9sZGVyXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNvbnRlbnQgPSBwcm9wcy52YWx1ZVRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy52YWx1ZVRlbXBsYXRlLCBzZWxlY3RlZE9wdGlvbiwgcHJvcHMpIDogbGFiZWwgfHwgcHJvcHMucGxhY2Vob2xkZXIgfHwgJ2VtcHR5JztcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgICAgIH0sIGNvbnRlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlQ2xlYXJJY29uID0gZnVuY3Rpb24gY3JlYXRlQ2xlYXJJY29uKCkge1xuICAgIGlmIChwcm9wcy52YWx1ZSAhPSBudWxsICYmIHByb3BzLnNob3dDbGVhciAmJiAhcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi1jbGVhci1pY29uIHBpIHBpLXRpbWVzXCIsXG4gICAgICAgIG9uQ2xpY2s6IGNsZWFyXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlRHJvcGRvd25JY29uID0gZnVuY3Rpb24gY3JlYXRlRHJvcGRvd25JY29uKCkge1xuICAgIHZhciBpY29uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1kcm9wZG93bi10cmlnZ2VyLWljb24gcC1jbGlja2FibGUnLCBwcm9wcy5kcm9wZG93bkljb24pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1kcm9wZG93bi10cmlnZ2VyXCIsXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibGlzdGJveFwiLFxuICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IG92ZXJsYXlWaXNpYmxlU3RhdGVcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lXG4gICAgfSkpO1xuICB9O1xuXG4gIHZhciB2aXNpYmxlT3B0aW9ucyA9IGdldFZpc2libGVPcHRpb25zKCk7XG4gIHZhciBzZWxlY3RlZE9wdGlvbiA9IGdldFNlbGVjdGVkT3B0aW9uKCk7XG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIERyb3Bkb3duLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWRyb3Bkb3duIHAtY29tcG9uZW50IHAtaW5wdXR3cmFwcGVyJywge1xuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZm9jdXMnOiBmb2N1c2VkU3RhdGUsXG4gICAgJ3AtZHJvcGRvd24tY2xlYXJhYmxlJzogcHJvcHMuc2hvd0NsZWFyICYmICFwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1pbnB1dHdyYXBwZXItZmlsbGVkJzogT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52YWx1ZSksXG4gICAgJ3AtaW5wdXR3cmFwcGVyLWZvY3VzJzogZm9jdXNlZFN0YXRlIHx8IG92ZXJsYXlWaXNpYmxlU3RhdGVcbiAgfSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgdmFyIGhpZGRlblNlbGVjdCA9IGNyZWF0ZUhpZGRlblNlbGVjdCgpO1xuICB2YXIga2V5Ym9hcmRIZWxwZXIgPSBjcmVhdGVLZXlib2FyZEhlbHBlcigpO1xuICB2YXIgbGFiZWxFbGVtZW50ID0gY3JlYXRlTGFiZWwoKTtcbiAgdmFyIGRyb3Bkb3duSWNvbiA9IGNyZWF0ZURyb3Bkb3duSWNvbigpO1xuICB2YXIgY2xlYXJJY29uID0gY3JlYXRlQ2xlYXJJY29uKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBpZDogcHJvcHMuaWQsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gIH0sIG90aGVyUHJvcHMsIHtcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIG9uTW91c2VEb3duOiBwcm9wcy5vbk1vdXNlRG93bixcbiAgICBvbkNvbnRleHRNZW51OiBwcm9wcy5vbkNvbnRleHRNZW51XG4gIH0pLCBrZXlib2FyZEhlbHBlciwgaGlkZGVuU2VsZWN0LCBsYWJlbEVsZW1lbnQsIGNsZWFySWNvbiwgZHJvcGRvd25JY29uLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93blBhbmVsLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBvdmVybGF5UmVmLFxuICAgIHZpc2libGVPcHRpb25zOiB2aXNpYmxlT3B0aW9uc1xuICB9LCBwcm9wcywge1xuICAgIGFwcGVuZFRvOiBhcHBlbmRUbyxcbiAgICBvbkNsaWNrOiBvblBhbmVsQ2xpY2ssXG4gICAgb25PcHRpb25DbGljazogb25PcHRpb25DbGljayxcbiAgICBmaWx0ZXJWYWx1ZTogZmlsdGVyU3RhdGUsXG4gICAgaGFzRmlsdGVyOiBoYXNGaWx0ZXIsXG4gICAgb25GaWx0ZXJDbGVhckljb25DbGljazogb25GaWx0ZXJDbGVhckljb25DbGljayxcbiAgICByZXNldEZpbHRlcjogcmVzZXRGaWx0ZXIsXG4gICAgb25GaWx0ZXJJbnB1dEtleURvd246IG9uRmlsdGVySW5wdXRLZXlEb3duLFxuICAgIG9uRmlsdGVySW5wdXRDaGFuZ2U6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgZ2V0T3B0aW9uTGFiZWw6IGdldE9wdGlvbkxhYmVsLFxuICAgIGdldE9wdGlvblJlbmRlcktleTogZ2V0T3B0aW9uUmVuZGVyS2V5LFxuICAgIGlzT3B0aW9uRGlzYWJsZWQ6IGlzT3B0aW9uRGlzYWJsZWQsXG4gICAgZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbjogZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbixcbiAgICBnZXRPcHRpb25Hcm91cExhYmVsOiBnZXRPcHRpb25Hcm91cExhYmVsLFxuICAgIGdldE9wdGlvbkdyb3VwUmVuZGVyS2V5OiBnZXRPcHRpb25Hcm91cFJlbmRlcktleSxcbiAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgIGdldFNlbGVjdGVkT3B0aW9uSW5kZXg6IGdldFNlbGVjdGVkT3B0aW9uSW5kZXgsXG4gICAgXCJpblwiOiBvdmVybGF5VmlzaWJsZVN0YXRlLFxuICAgIG9uRW50ZXI6IG9uT3ZlcmxheUVudGVyLFxuICAgIG9uRW50ZXJlZDogb25PdmVybGF5RW50ZXJlZCxcbiAgICBvbkV4aXQ6IG9uT3ZlcmxheUV4aXQsXG4gICAgb25FeGl0ZWQ6IG9uT3ZlcmxheUV4aXRlZFxuICB9KSkpLCBoYXNUb29sdGlwICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgY29udGVudDogcHJvcHMudG9vbHRpcFxuICB9LCBwcm9wcy50b29sdGlwT3B0aW9ucykpKTtcbn0pKTtcbkRyb3Bkb3duLmRpc3BsYXlOYW1lID0gJ0Ryb3Bkb3duJztcbkRyb3Bkb3duLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnRHJvcGRvd24nLFxuICBpZDogbnVsbCxcbiAgaW5wdXRSZWY6IG51bGwsXG4gIG5hbWU6IG51bGwsXG4gIHZhbHVlOiBudWxsLFxuICBvcHRpb25zOiBudWxsLFxuICBvcHRpb25MYWJlbDogbnVsbCxcbiAgb3B0aW9uVmFsdWU6IG51bGwsXG4gIG9wdGlvbkRpc2FibGVkOiBudWxsLFxuICBvcHRpb25Hcm91cExhYmVsOiBudWxsLFxuICBvcHRpb25Hcm91cENoaWxkcmVuOiBudWxsLFxuICBvcHRpb25Hcm91cFRlbXBsYXRlOiBudWxsLFxuICBmaWx0ZXJUZW1wbGF0ZTogbnVsbCxcbiAgdmFsdWVUZW1wbGF0ZTogbnVsbCxcbiAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICBzdHlsZTogbnVsbCxcbiAgY2xhc3NOYW1lOiBudWxsLFxuICB2aXJ0dWFsU2Nyb2xsZXJPcHRpb25zOiBudWxsLFxuICBzY3JvbGxIZWlnaHQ6ICcyMDBweCcsXG4gIGZpbHRlcjogZmFsc2UsXG4gIGZpbHRlckJ5OiBudWxsLFxuICBmaWx0ZXJNYXRjaE1vZGU6ICdjb250YWlucycsXG4gIGZpbHRlclBsYWNlaG9sZGVyOiBudWxsLFxuICBmaWx0ZXJMb2NhbGU6IHVuZGVmaW5lZCxcbiAgZW1wdHlNZXNzYWdlOiBudWxsLFxuICBlbXB0eUZpbHRlck1lc3NhZ2U6IG51bGwsXG4gIGVkaXRhYmxlOiBmYWxzZSxcbiAgcGxhY2Vob2xkZXI6IG51bGwsXG4gIHJlcXVpcmVkOiBmYWxzZSxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBhcHBlbmRUbzogbnVsbCxcbiAgdGFiSW5kZXg6IG51bGwsXG4gIGF1dG9Gb2N1czogZmFsc2UsXG4gIGZpbHRlcklucHV0QXV0b0ZvY3VzOiB0cnVlLFxuICByZXNldEZpbHRlck9uSGlkZTogZmFsc2UsXG4gIHNob3dGaWx0ZXJDbGVhcjogZmFsc2UsXG4gIHBhbmVsQ2xhc3NOYW1lOiBudWxsLFxuICBwYW5lbFN0eWxlOiBudWxsLFxuICBkYXRhS2V5OiBudWxsLFxuICBpbnB1dElkOiBudWxsLFxuICBzaG93Q2xlYXI6IGZhbHNlLFxuICBtYXhMZW5ndGg6IG51bGwsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBhcmlhTGFiZWw6IG51bGwsXG4gIGFyaWFMYWJlbGxlZEJ5OiBudWxsLFxuICB0cmFuc2l0aW9uT3B0aW9uczogbnVsbCxcbiAgZHJvcGRvd25JY29uOiAncGkgcGktY2hldnJvbi1kb3duJyxcbiAgc2hvd09uRm9jdXM6IGZhbHNlLFxuICBvbkNoYW5nZTogbnVsbCxcbiAgb25Gb2N1czogbnVsbCxcbiAgb25CbHVyOiBudWxsLFxuICBvbk1vdXNlRG93bjogbnVsbCxcbiAgb25Db250ZXh0TWVudTogbnVsbCxcbiAgb25TaG93OiBudWxsLFxuICBvbkhpZGU6IG51bGwsXG4gIG9uRmlsdGVyOiBudWxsXG59O1xuXG5leHBvcnQgeyBEcm9wZG93biB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/dropdown/dropdown.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputmask/inputmask.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/inputmask/inputmask.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputMask\": function() { return /* binding */ InputMask; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar InputMask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(ref);\n  var firstNonMaskPos = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var lastRequiredNonMaskPos = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  var tests = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n  var buffer = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n  var len = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  var oldVal = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var focus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  var focusText = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isValueChecked = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var partialPosition = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultBuffer = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var caretTimeoutId = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var androidChrome = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n\n  var caret = function caret(first, last) {\n    var range, begin, end;\n    var inputEl = elementRef.current;\n\n    if (!inputEl || !inputEl.offsetParent || inputEl !== document.activeElement) {\n      return;\n    }\n\n    if (typeof first === 'number') {\n      begin = first;\n      end = typeof last === 'number' ? last : begin;\n\n      if (inputEl.setSelectionRange) {\n        inputEl.setSelectionRange(begin, end);\n      } else if (inputEl['createTextRange']) {\n        range = inputEl['createTextRange']();\n        range.collapse(true);\n        range.moveEnd('character', end);\n        range.moveStart('character', begin);\n        range.select();\n      }\n    } else {\n      if (inputEl.setSelectionRange) {\n        begin = inputEl.selectionStart;\n        end = inputEl.selectionEnd;\n      } else if (document['selection'] && document['selection'].createRange) {\n        range = document['selection'].createRange();\n        begin = 0 - range.duplicate().moveStart('character', -100000);\n        end = begin + range.text.length;\n      }\n\n      return {\n        begin: begin,\n        end: end\n      };\n    }\n  };\n\n  var isCompleted = function isCompleted() {\n    for (var i = firstNonMaskPos.current; i <= lastRequiredNonMaskPos.current; i++) {\n      if (tests.current[i] && buffer.current[i] === getPlaceholder(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  var getPlaceholder = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (i) {\n    if (i < props.slotChar.length) {\n      return props.slotChar.charAt(i);\n    }\n\n    return props.slotChar.charAt(0);\n  }, [props.slotChar]);\n\n  var getValue = function getValue() {\n    return props.unmask ? getUnmaskedValue() : elementRef.current && elementRef.current.value;\n  };\n\n  var seekNext = function seekNext(pos) {\n    while (++pos < len.current && !tests.current[pos]) {\n    }\n\n    return pos;\n  };\n\n  var seekPrev = function seekPrev(pos) {\n    while (--pos >= 0 && !tests.current[pos]) {\n    }\n\n    return pos;\n  };\n\n  var shiftL = function shiftL(begin, end) {\n    var i, j;\n\n    if (begin < 0) {\n      return;\n    }\n\n    for (i = begin, j = seekNext(end); i < len.current; i++) {\n      if (tests.current[i]) {\n        if (j < len.current && tests.current[i].test(buffer.current[j])) {\n          buffer.current[i] = buffer.current[j];\n          buffer.current[j] = getPlaceholder(j);\n        } else {\n          break;\n        }\n\n        j = seekNext(j);\n      }\n    }\n\n    writeBuffer();\n    caret(Math.max(firstNonMaskPos.current, begin));\n  };\n\n  var shiftR = function shiftR(pos) {\n    var i, c, j, t;\n\n    for (i = pos, c = getPlaceholder(pos); i < len.current; i++) {\n      if (tests.current[i]) {\n        j = seekNext(i);\n        t = buffer.current[i];\n        buffer.current[i] = c;\n\n        if (j < len.current && tests.current[j].test(t)) {\n          c = t;\n        } else {\n          break;\n        }\n      }\n    }\n  };\n\n  var handleAndroidInput = function handleAndroidInput(e) {\n    var curVal = elementRef.current.value;\n    var pos = caret();\n\n    if (oldVal.current.length && oldVal.current.length > curVal.length) {\n      // a deletion or backspace happened\n      checkVal(true);\n\n      while (pos.begin > 0 && !tests.current[pos.begin - 1]) {\n        pos.begin--;\n      }\n\n      if (pos.begin === 0) {\n        while (pos.begin < firstNonMaskPos.current && !tests.current[pos.begin]) {\n          pos.begin++;\n        }\n      }\n\n      caret(pos.begin, pos.begin);\n    } else {\n      checkVal(true);\n\n      while (pos.begin < len.current && !tests.current[pos.begin]) {\n        pos.begin++;\n      }\n\n      caret(pos.begin, pos.begin);\n    }\n\n    if (props.onComplete && isCompleted()) {\n      props.onComplete({\n        originalEvent: e,\n        value: getValue()\n      });\n    }\n\n    updateModel(e);\n  };\n\n  var onBlur = function onBlur(e) {\n    focus.current = false;\n    checkVal();\n    updateModel(e);\n    updateFilledState();\n    props.onBlur && props.onBlur(e);\n\n    if (elementRef.current.value !== focusText.current) {\n      var event = document.createEvent('HTMLEvents');\n      event.initEvent('change', true, false);\n      elementRef.current.dispatchEvent(event);\n    }\n  };\n\n  var onKeyDown = function onKeyDown(e) {\n    if (props.readOnly) {\n      return;\n    }\n\n    var k = e.which || e.keyCode,\n        pos,\n        begin,\n        end;\n    var iPhone = /iphone/i.test(primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.getUserAgent());\n    oldVal.current = elementRef.current.value; //backspace, delete, and escape get special treatment\n\n    if (k === 8 || k === 46 || iPhone && k === 127) {\n      pos = caret();\n      begin = pos.begin;\n      end = pos.end;\n\n      if (end - begin === 0) {\n        begin = k !== 46 ? seekPrev(begin) : end = seekNext(begin - 1);\n        end = k === 46 ? seekNext(end) : end;\n      }\n\n      clearBuffer(begin, end);\n      shiftL(begin, end - 1);\n      updateModel(e);\n      e.preventDefault();\n    } else if (k === 13) {\n      // enter\n      onBlur(e);\n      updateModel(e);\n    } else if (k === 27) {\n      // escape\n      elementRef.current.value = focusText.current;\n      caret(0, checkVal());\n      updateModel(e);\n      e.preventDefault();\n    }\n  };\n\n  var onKeyPress = function onKeyPress(e) {\n    if (props.readOnly) {\n      return;\n    }\n\n    var k = e.which || e.keyCode,\n        pos = caret(),\n        p,\n        c,\n        next,\n        completed;\n\n    if (e.ctrlKey || e.altKey || e.metaKey || k < 32) {\n      //Ignore\n      return;\n    } else if (k && k !== 13) {\n      if (pos.end - pos.begin !== 0) {\n        clearBuffer(pos.begin, pos.end);\n        shiftL(pos.begin, pos.end - 1);\n      }\n\n      p = seekNext(pos.begin - 1);\n\n      if (p < len.current) {\n        c = String.fromCharCode(k);\n\n        if (tests.current[p].test(c)) {\n          shiftR(p);\n          buffer.current[p] = c;\n          writeBuffer();\n          next = seekNext(p);\n\n          if (/android/i.test(primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.getUserAgent())) {\n            //Path for CSP Violation on FireFox OS 1.1\n            var proxy = function proxy() {\n              caret(next);\n            };\n\n            setTimeout(proxy, 0);\n          } else {\n            caret(next);\n          }\n\n          if (pos.begin <= lastRequiredNonMaskPos.current) {\n            completed = isCompleted();\n          }\n        }\n      }\n\n      e.preventDefault();\n    }\n\n    updateModel(e);\n\n    if (props.onComplete && completed) {\n      props.onComplete({\n        originalEvent: e,\n        value: getValue()\n      });\n    }\n  };\n\n  var clearBuffer = function clearBuffer(start, end) {\n    var i;\n\n    for (i = start; i < end && i < len.current; i++) {\n      if (tests.current[i]) {\n        buffer.current[i] = getPlaceholder(i);\n      }\n    }\n  };\n\n  var writeBuffer = function writeBuffer() {\n    elementRef.current.value = buffer.current.join('');\n  };\n\n  var checkVal = function checkVal(allow) {\n    isValueChecked.current = true; //try to place characters where they belong\n\n    var test = elementRef.current.value,\n        lastMatch = -1,\n        i,\n        c,\n        pos;\n\n    for (i = 0, pos = 0; i < len.current; i++) {\n      if (tests.current[i]) {\n        buffer.current[i] = getPlaceholder(i);\n\n        while (pos++ < test.length) {\n          c = test.charAt(pos - 1);\n\n          if (tests.current[i].test(c)) {\n            buffer.current[i] = c;\n            lastMatch = i;\n            break;\n          }\n        }\n\n        if (pos > test.length) {\n          clearBuffer(i + 1, len.current);\n          break;\n        }\n      } else {\n        if (buffer.current[i] === test.charAt(pos)) {\n          pos++;\n        }\n\n        if (i < partialPosition.current) {\n          lastMatch = i;\n        }\n      }\n    }\n\n    if (allow) {\n      writeBuffer();\n    } else if (lastMatch + 1 < partialPosition.current) {\n      if (props.autoClear || buffer.current.join('') === defaultBuffer.current) {\n        // Invalid value. Remove it and replace it with the\n        // mask, which is the default behavior.\n        if (elementRef.current.value) elementRef.current.value = '';\n        clearBuffer(0, len.current);\n      } else {\n        // Invalid value, but we opt to show the value to the\n        // user and allow them to correct their mistake.\n        writeBuffer();\n      }\n    } else {\n      writeBuffer();\n      elementRef.current.value = elementRef.current.value.substring(0, lastMatch + 1);\n    }\n\n    return partialPosition.current ? i : firstNonMaskPos.current;\n  };\n\n  var onFocus = function onFocus(e) {\n    if (props.readOnly) {\n      return;\n    }\n\n    focus.current = true;\n    clearTimeout(caretTimeoutId.current);\n    var pos;\n    focusText.current = elementRef.current.value;\n    pos = checkVal();\n    caretTimeoutId.current = setTimeout(function () {\n      if (elementRef.current !== document.activeElement) {\n        return;\n      }\n\n      writeBuffer();\n\n      if (pos === props.mask.replace('?', '').length) {\n        caret(0, pos);\n      } else {\n        caret(pos);\n      }\n\n      updateFilledState();\n    }, 10);\n    props.onFocus && props.onFocus(e);\n  };\n\n  var onInput = function onInput(event) {\n    androidChrome.current ? handleAndroidInput(event) : handleInputChange(event);\n  };\n\n  var handleInputChange = function handleInputChange(e) {\n    if (props.readOnly) {\n      return;\n    }\n\n    var pos = checkVal(true);\n    caret(pos);\n    updateModel(e);\n\n    if (props.onComplete && isCompleted()) {\n      props.onComplete({\n        originalEvent: e,\n        value: getValue()\n      });\n    }\n  };\n\n  var getUnmaskedValue = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {\n    var unmaskedBuffer = [];\n\n    for (var i = 0; i < buffer.current.length; i++) {\n      var c = buffer.current[i];\n\n      if (tests.current[i] && c !== getPlaceholder(i)) {\n        unmaskedBuffer.push(c);\n      }\n    }\n\n    return unmaskedBuffer.join('');\n  }, [getPlaceholder]);\n\n  var updateModel = function updateModel(e) {\n    if (props.onChange) {\n      var val = props.unmask ? getUnmaskedValue() : e && e.target.value;\n      props.onChange({\n        originalEvent: e,\n        value: defaultBuffer.current !== val ? val : '',\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: defaultBuffer.current !== val ? val : ''\n        }\n      });\n    }\n  };\n\n  var updateFilledState = function updateFilledState() {\n    if (elementRef.current && elementRef.current.value && elementRef.current.value.length > 0) primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.addClass(elementRef.current, 'p-filled');else primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.removeClass(elementRef.current, 'p-filled');\n  };\n\n  var updateValue = function updateValue(allow) {\n    var pos;\n\n    if (elementRef.current) {\n      if (props.value == null) {\n        elementRef.current.value = '';\n      } else {\n        elementRef.current.value = props.value;\n        pos = checkVal(allow);\n        setTimeout(function () {\n          if (elementRef.current) {\n            writeBuffer();\n            return checkVal(allow);\n          }\n        }, 10);\n      }\n\n      focusText.current = elementRef.current.value;\n    }\n\n    updateFilledState();\n    return pos;\n  };\n\n  var isValueUpdated = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {\n    return props.unmask ? props.value !== getUnmaskedValue() : defaultBuffer.current !== elementRef.current.value && elementRef.current.value !== props.value;\n  }, [props.unmask, props.value, getUnmaskedValue]);\n\n  var init = function init() {\n    if (props.mask) {\n      tests.current = [];\n      partialPosition.current = props.mask.length;\n      len.current = props.mask.length;\n      firstNonMaskPos.current = null;\n      var defs = {\n        9: '[0-9]',\n        a: '[A-Za-z]',\n        '*': '[A-Za-z0-9]'\n      };\n      var ua = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.getUserAgent();\n      androidChrome.current = /chrome/i.test(ua) && /android/i.test(ua);\n      var maskTokens = props.mask.split('');\n\n      for (var i = 0; i < maskTokens.length; i++) {\n        var c = maskTokens[i];\n\n        if (c === '?') {\n          len.current--;\n          partialPosition.current = i;\n        } else if (defs[c]) {\n          tests.current.push(new RegExp(defs[c]));\n\n          if (firstNonMaskPos.current === null) {\n            firstNonMaskPos.current = tests.current.length - 1;\n          }\n\n          if (i < partialPosition.current) {\n            lastRequiredNonMaskPos.current = tests.current.length - 1;\n          }\n        } else {\n          tests.current.push(null);\n        }\n      }\n\n      buffer.current = [];\n\n      for (var _i = 0; _i < maskTokens.length; _i++) {\n        var _c = maskTokens[_i];\n\n        if (_c !== '?') {\n          if (defs[_c]) buffer.current.push(getPlaceholder(_i));else buffer.current.push(_c);\n        }\n      }\n\n      defaultBuffer.current = buffer.current.join('');\n    }\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.combinedRefs(elementRef, ref);\n  }, [elementRef, ref]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMountEffect)(function () {\n    init();\n    updateValue();\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    init();\n    caret(updateValue(true));\n\n    if (props.unmask) {\n      updateModel();\n    }\n  }, [props.mask]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (isValueUpdated()) {\n      updateValue();\n    }\n  }, [isValueUpdated]);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.findDiffKeys(props, InputMask.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_3__.classNames)('p-inputmask', props.className);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__.InputText, _extends({\n    ref: elementRef,\n    id: props.id,\n    type: props.type,\n    name: props.name,\n    style: props.style,\n    className: className\n  }, otherProps, {\n    placeholder: props.placeholder,\n    size: props.size,\n    maxLength: props.maxLength,\n    tabIndex: props.tabIndex,\n    disabled: props.disabled,\n    readOnly: props.readOnly,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onKeyPress: onKeyPress,\n    onInput: onInput,\n    onPaste: handleInputChange,\n    required: props.required,\n    tooltip: props.tooltip,\n    tooltipOptions: props.tooltipOptions\n  }));\n}));\nInputMask.displayName = 'InputMask';\nInputMask.defaultProps = {\n  __TYPE: 'InputMask',\n  id: null,\n  value: null,\n  type: 'text',\n  mask: null,\n  slotChar: '_',\n  autoClear: true,\n  unmask: false,\n  style: null,\n  className: null,\n  placeholder: null,\n  size: null,\n  maxLength: null,\n  tabIndex: null,\n  disabled: false,\n  readOnly: false,\n  name: null,\n  required: false,\n  tooltip: null,\n  tooltipOptions: null,\n  onComplete: null,\n  onChange: null,\n  onFocus: null,\n  onBlur: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dG1hc2svaW5wdXRtYXNrLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0I7QUFDb0M7QUFDbEI7QUFDc0I7O0FBRXZFO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNkJBQTZCLHVDQUFVLGVBQWUsNkNBQWdCO0FBQ3RFLG1CQUFtQix5Q0FBWTtBQUMvQix3QkFBd0IseUNBQVk7QUFDcEMsK0JBQStCLHlDQUFZO0FBQzNDLGNBQWMseUNBQVk7QUFDMUIsZUFBZSx5Q0FBWTtBQUMzQixZQUFZLHlDQUFZO0FBQ3hCLGVBQWUseUNBQVk7QUFDM0IsY0FBYyx5Q0FBWTtBQUMxQixrQkFBa0IseUNBQVk7QUFDOUIsdUJBQXVCLHlDQUFZO0FBQ25DLHdCQUF3Qix5Q0FBWTtBQUNwQyxzQkFBc0IseUNBQVk7QUFDbEMsdUJBQXVCLHlDQUFZO0FBQ25DLHNCQUFzQix5Q0FBWTs7QUFFbEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQyxxQ0FBcUM7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx1QkFBdUIsOENBQWlCO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHVD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dG1hc2svaW5wdXRtYXNrLmVzbS5qcz84MzAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU1vdW50RWZmZWN0LCB1c2VVcGRhdGVFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IElucHV0VGV4dCB9IGZyb20gJ3ByaW1lcmVhY3QvaW5wdXR0ZXh0JztcbmltcG9ydCB7IE9iamVjdFV0aWxzLCBjbGFzc05hbWVzLCBEb21IYW5kbGVyIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBJbnB1dE1hc2sgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYocmVmKTtcbiAgdmFyIGZpcnN0Tm9uTWFza1BvcyA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGxhc3RSZXF1aXJlZE5vbk1hc2tQb3MgPSBSZWFjdC51c2VSZWYoMCk7XG4gIHZhciB0ZXN0cyA9IFJlYWN0LnVzZVJlZihbXSk7XG4gIHZhciBidWZmZXIgPSBSZWFjdC51c2VSZWYoW10pO1xuICB2YXIgbGVuID0gUmVhY3QudXNlUmVmKDApO1xuICB2YXIgb2xkVmFsID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZm9jdXMgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgZm9jdXNUZXh0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNWYWx1ZUNoZWNrZWQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBwYXJ0aWFsUG9zaXRpb24gPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkZWZhdWx0QnVmZmVyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgY2FyZXRUaW1lb3V0SWQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBhbmRyb2lkQ2hyb21lID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcblxuICB2YXIgY2FyZXQgPSBmdW5jdGlvbiBjYXJldChmaXJzdCwgbGFzdCkge1xuICAgIHZhciByYW5nZSwgYmVnaW4sIGVuZDtcbiAgICB2YXIgaW5wdXRFbCA9IGVsZW1lbnRSZWYuY3VycmVudDtcblxuICAgIGlmICghaW5wdXRFbCB8fCAhaW5wdXRFbC5vZmZzZXRQYXJlbnQgfHwgaW5wdXRFbCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZmlyc3QgPT09ICdudW1iZXInKSB7XG4gICAgICBiZWdpbiA9IGZpcnN0O1xuICAgICAgZW5kID0gdHlwZW9mIGxhc3QgPT09ICdudW1iZXInID8gbGFzdCA6IGJlZ2luO1xuXG4gICAgICBpZiAoaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZSkge1xuICAgICAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKGJlZ2luLCBlbmQpO1xuICAgICAgfSBlbHNlIGlmIChpbnB1dEVsWydjcmVhdGVUZXh0UmFuZ2UnXSkge1xuICAgICAgICByYW5nZSA9IGlucHV0RWxbJ2NyZWF0ZVRleHRSYW5nZSddKCk7XG4gICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBlbmQpO1xuICAgICAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIGJlZ2luKTtcbiAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKSB7XG4gICAgICAgIGJlZ2luID0gaW5wdXRFbC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgZW5kID0gaW5wdXRFbC5zZWxlY3Rpb25FbmQ7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50WydzZWxlY3Rpb24nXSAmJiBkb2N1bWVudFsnc2VsZWN0aW9uJ10uY3JlYXRlUmFuZ2UpIHtcbiAgICAgICAgcmFuZ2UgPSBkb2N1bWVudFsnc2VsZWN0aW9uJ10uY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgYmVnaW4gPSAwIC0gcmFuZ2UuZHVwbGljYXRlKCkubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtMTAwMDAwKTtcbiAgICAgICAgZW5kID0gYmVnaW4gKyByYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmVnaW46IGJlZ2luLFxuICAgICAgICBlbmQ6IGVuZFxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQ29tcGxldGVkID0gZnVuY3Rpb24gaXNDb21wbGV0ZWQoKSB7XG4gICAgZm9yICh2YXIgaSA9IGZpcnN0Tm9uTWFza1Bvcy5jdXJyZW50OyBpIDw9IGxhc3RSZXF1aXJlZE5vbk1hc2tQb3MuY3VycmVudDsgaSsrKSB7XG4gICAgICBpZiAodGVzdHMuY3VycmVudFtpXSAmJiBidWZmZXIuY3VycmVudFtpXSA9PT0gZ2V0UGxhY2Vob2xkZXIoaSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIHZhciBnZXRQbGFjZWhvbGRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpKSB7XG4gICAgaWYgKGkgPCBwcm9wcy5zbG90Q2hhci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBwcm9wcy5zbG90Q2hhci5jaGFyQXQoaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BzLnNsb3RDaGFyLmNoYXJBdCgwKTtcbiAgfSwgW3Byb3BzLnNsb3RDaGFyXSk7XG5cbiAgdmFyIGdldFZhbHVlID0gZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHByb3BzLnVubWFzayA/IGdldFVubWFza2VkVmFsdWUoKSA6IGVsZW1lbnRSZWYuY3VycmVudCAmJiBlbGVtZW50UmVmLmN1cnJlbnQudmFsdWU7XG4gIH07XG5cbiAgdmFyIHNlZWtOZXh0ID0gZnVuY3Rpb24gc2Vla05leHQocG9zKSB7XG4gICAgd2hpbGUgKCsrcG9zIDwgbGVuLmN1cnJlbnQgJiYgIXRlc3RzLmN1cnJlbnRbcG9zXSkge1xuICAgIH1cblxuICAgIHJldHVybiBwb3M7XG4gIH07XG5cbiAgdmFyIHNlZWtQcmV2ID0gZnVuY3Rpb24gc2Vla1ByZXYocG9zKSB7XG4gICAgd2hpbGUgKC0tcG9zID49IDAgJiYgIXRlc3RzLmN1cnJlbnRbcG9zXSkge1xuICAgIH1cblxuICAgIHJldHVybiBwb3M7XG4gIH07XG5cbiAgdmFyIHNoaWZ0TCA9IGZ1bmN0aW9uIHNoaWZ0TChiZWdpbiwgZW5kKSB7XG4gICAgdmFyIGksIGo7XG5cbiAgICBpZiAoYmVnaW4gPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChpID0gYmVnaW4sIGogPSBzZWVrTmV4dChlbmQpOyBpIDwgbGVuLmN1cnJlbnQ7IGkrKykge1xuICAgICAgaWYgKHRlc3RzLmN1cnJlbnRbaV0pIHtcbiAgICAgICAgaWYgKGogPCBsZW4uY3VycmVudCAmJiB0ZXN0cy5jdXJyZW50W2ldLnRlc3QoYnVmZmVyLmN1cnJlbnRbal0pKSB7XG4gICAgICAgICAgYnVmZmVyLmN1cnJlbnRbaV0gPSBidWZmZXIuY3VycmVudFtqXTtcbiAgICAgICAgICBidWZmZXIuY3VycmVudFtqXSA9IGdldFBsYWNlaG9sZGVyKGopO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaiA9IHNlZWtOZXh0KGopO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdyaXRlQnVmZmVyKCk7XG4gICAgY2FyZXQoTWF0aC5tYXgoZmlyc3ROb25NYXNrUG9zLmN1cnJlbnQsIGJlZ2luKSk7XG4gIH07XG5cbiAgdmFyIHNoaWZ0UiA9IGZ1bmN0aW9uIHNoaWZ0Uihwb3MpIHtcbiAgICB2YXIgaSwgYywgaiwgdDtcblxuICAgIGZvciAoaSA9IHBvcywgYyA9IGdldFBsYWNlaG9sZGVyKHBvcyk7IGkgPCBsZW4uY3VycmVudDsgaSsrKSB7XG4gICAgICBpZiAodGVzdHMuY3VycmVudFtpXSkge1xuICAgICAgICBqID0gc2Vla05leHQoaSk7XG4gICAgICAgIHQgPSBidWZmZXIuY3VycmVudFtpXTtcbiAgICAgICAgYnVmZmVyLmN1cnJlbnRbaV0gPSBjO1xuXG4gICAgICAgIGlmIChqIDwgbGVuLmN1cnJlbnQgJiYgdGVzdHMuY3VycmVudFtqXS50ZXN0KHQpKSB7XG4gICAgICAgICAgYyA9IHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhbmRsZUFuZHJvaWRJbnB1dCA9IGZ1bmN0aW9uIGhhbmRsZUFuZHJvaWRJbnB1dChlKSB7XG4gICAgdmFyIGN1clZhbCA9IGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZTtcbiAgICB2YXIgcG9zID0gY2FyZXQoKTtcblxuICAgIGlmIChvbGRWYWwuY3VycmVudC5sZW5ndGggJiYgb2xkVmFsLmN1cnJlbnQubGVuZ3RoID4gY3VyVmFsLmxlbmd0aCkge1xuICAgICAgLy8gYSBkZWxldGlvbiBvciBiYWNrc3BhY2UgaGFwcGVuZWRcbiAgICAgIGNoZWNrVmFsKHRydWUpO1xuXG4gICAgICB3aGlsZSAocG9zLmJlZ2luID4gMCAmJiAhdGVzdHMuY3VycmVudFtwb3MuYmVnaW4gLSAxXSkge1xuICAgICAgICBwb3MuYmVnaW4tLTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvcy5iZWdpbiA9PT0gMCkge1xuICAgICAgICB3aGlsZSAocG9zLmJlZ2luIDwgZmlyc3ROb25NYXNrUG9zLmN1cnJlbnQgJiYgIXRlc3RzLmN1cnJlbnRbcG9zLmJlZ2luXSkge1xuICAgICAgICAgIHBvcy5iZWdpbisrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNhcmV0KHBvcy5iZWdpbiwgcG9zLmJlZ2luKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tWYWwodHJ1ZSk7XG5cbiAgICAgIHdoaWxlIChwb3MuYmVnaW4gPCBsZW4uY3VycmVudCAmJiAhdGVzdHMuY3VycmVudFtwb3MuYmVnaW5dKSB7XG4gICAgICAgIHBvcy5iZWdpbisrO1xuICAgICAgfVxuXG4gICAgICBjYXJldChwb3MuYmVnaW4sIHBvcy5iZWdpbik7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9uQ29tcGxldGUgJiYgaXNDb21wbGV0ZWQoKSkge1xuICAgICAgcHJvcHMub25Db21wbGV0ZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgIHZhbHVlOiBnZXRWYWx1ZSgpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVNb2RlbChlKTtcbiAgfTtcblxuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKGUpIHtcbiAgICBmb2N1cy5jdXJyZW50ID0gZmFsc2U7XG4gICAgY2hlY2tWYWwoKTtcbiAgICB1cGRhdGVNb2RlbChlKTtcbiAgICB1cGRhdGVGaWxsZWRTdGF0ZSgpO1xuICAgIHByb3BzLm9uQmx1ciAmJiBwcm9wcy5vbkJsdXIoZSk7XG5cbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlICE9PSBmb2N1c1RleHQuY3VycmVudCkge1xuICAgICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTtcbiAgICAgIGV2ZW50LmluaXRFdmVudCgnY2hhbmdlJywgdHJ1ZSwgZmFsc2UpO1xuICAgICAgZWxlbWVudFJlZi5jdXJyZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICBpZiAocHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgayA9IGUud2hpY2ggfHwgZS5rZXlDb2RlLFxuICAgICAgICBwb3MsXG4gICAgICAgIGJlZ2luLFxuICAgICAgICBlbmQ7XG4gICAgdmFyIGlQaG9uZSA9IC9pcGhvbmUvaS50ZXN0KERvbUhhbmRsZXIuZ2V0VXNlckFnZW50KCkpO1xuICAgIG9sZFZhbC5jdXJyZW50ID0gZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlOyAvL2JhY2tzcGFjZSwgZGVsZXRlLCBhbmQgZXNjYXBlIGdldCBzcGVjaWFsIHRyZWF0bWVudFxuXG4gICAgaWYgKGsgPT09IDggfHwgayA9PT0gNDYgfHwgaVBob25lICYmIGsgPT09IDEyNykge1xuICAgICAgcG9zID0gY2FyZXQoKTtcbiAgICAgIGJlZ2luID0gcG9zLmJlZ2luO1xuICAgICAgZW5kID0gcG9zLmVuZDtcblxuICAgICAgaWYgKGVuZCAtIGJlZ2luID09PSAwKSB7XG4gICAgICAgIGJlZ2luID0gayAhPT0gNDYgPyBzZWVrUHJldihiZWdpbikgOiBlbmQgPSBzZWVrTmV4dChiZWdpbiAtIDEpO1xuICAgICAgICBlbmQgPSBrID09PSA0NiA/IHNlZWtOZXh0KGVuZCkgOiBlbmQ7XG4gICAgICB9XG5cbiAgICAgIGNsZWFyQnVmZmVyKGJlZ2luLCBlbmQpO1xuICAgICAgc2hpZnRMKGJlZ2luLCBlbmQgLSAxKTtcbiAgICAgIHVwZGF0ZU1vZGVsKGUpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAoayA9PT0gMTMpIHtcbiAgICAgIC8vIGVudGVyXG4gICAgICBvbkJsdXIoZSk7XG4gICAgICB1cGRhdGVNb2RlbChlKTtcbiAgICB9IGVsc2UgaWYgKGsgPT09IDI3KSB7XG4gICAgICAvLyBlc2NhcGVcbiAgICAgIGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZSA9IGZvY3VzVGV4dC5jdXJyZW50O1xuICAgICAgY2FyZXQoMCwgY2hlY2tWYWwoKSk7XG4gICAgICB1cGRhdGVNb2RlbChlKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uS2V5UHJlc3MgPSBmdW5jdGlvbiBvbktleVByZXNzKGUpIHtcbiAgICBpZiAocHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgayA9IGUud2hpY2ggfHwgZS5rZXlDb2RlLFxuICAgICAgICBwb3MgPSBjYXJldCgpLFxuICAgICAgICBwLFxuICAgICAgICBjLFxuICAgICAgICBuZXh0LFxuICAgICAgICBjb21wbGV0ZWQ7XG5cbiAgICBpZiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUubWV0YUtleSB8fCBrIDwgMzIpIHtcbiAgICAgIC8vSWdub3JlXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChrICYmIGsgIT09IDEzKSB7XG4gICAgICBpZiAocG9zLmVuZCAtIHBvcy5iZWdpbiAhPT0gMCkge1xuICAgICAgICBjbGVhckJ1ZmZlcihwb3MuYmVnaW4sIHBvcy5lbmQpO1xuICAgICAgICBzaGlmdEwocG9zLmJlZ2luLCBwb3MuZW5kIC0gMSk7XG4gICAgICB9XG5cbiAgICAgIHAgPSBzZWVrTmV4dChwb3MuYmVnaW4gLSAxKTtcblxuICAgICAgaWYgKHAgPCBsZW4uY3VycmVudCkge1xuICAgICAgICBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShrKTtcblxuICAgICAgICBpZiAodGVzdHMuY3VycmVudFtwXS50ZXN0KGMpKSB7XG4gICAgICAgICAgc2hpZnRSKHApO1xuICAgICAgICAgIGJ1ZmZlci5jdXJyZW50W3BdID0gYztcbiAgICAgICAgICB3cml0ZUJ1ZmZlcigpO1xuICAgICAgICAgIG5leHQgPSBzZWVrTmV4dChwKTtcblxuICAgICAgICAgIGlmICgvYW5kcm9pZC9pLnRlc3QoRG9tSGFuZGxlci5nZXRVc2VyQWdlbnQoKSkpIHtcbiAgICAgICAgICAgIC8vUGF0aCBmb3IgQ1NQIFZpb2xhdGlvbiBvbiBGaXJlRm94IE9TIDEuMVxuICAgICAgICAgICAgdmFyIHByb3h5ID0gZnVuY3Rpb24gcHJveHkoKSB7XG4gICAgICAgICAgICAgIGNhcmV0KG5leHQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChwcm94eSwgMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhcmV0KG5leHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwb3MuYmVnaW4gPD0gbGFzdFJlcXVpcmVkTm9uTWFza1Bvcy5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb21wbGV0ZWQgPSBpc0NvbXBsZXRlZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlTW9kZWwoZSk7XG5cbiAgICBpZiAocHJvcHMub25Db21wbGV0ZSAmJiBjb21wbGV0ZWQpIHtcbiAgICAgIHByb3BzLm9uQ29tcGxldGUoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICB2YWx1ZTogZ2V0VmFsdWUoKVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbGVhckJ1ZmZlciA9IGZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kICYmIGkgPCBsZW4uY3VycmVudDsgaSsrKSB7XG4gICAgICBpZiAodGVzdHMuY3VycmVudFtpXSkge1xuICAgICAgICBidWZmZXIuY3VycmVudFtpXSA9IGdldFBsYWNlaG9sZGVyKGkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgd3JpdGVCdWZmZXIgPSBmdW5jdGlvbiB3cml0ZUJ1ZmZlcigpIHtcbiAgICBlbGVtZW50UmVmLmN1cnJlbnQudmFsdWUgPSBidWZmZXIuY3VycmVudC5qb2luKCcnKTtcbiAgfTtcblxuICB2YXIgY2hlY2tWYWwgPSBmdW5jdGlvbiBjaGVja1ZhbChhbGxvdykge1xuICAgIGlzVmFsdWVDaGVja2VkLmN1cnJlbnQgPSB0cnVlOyAvL3RyeSB0byBwbGFjZSBjaGFyYWN0ZXJzIHdoZXJlIHRoZXkgYmVsb25nXG5cbiAgICB2YXIgdGVzdCA9IGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZSxcbiAgICAgICAgbGFzdE1hdGNoID0gLTEsXG4gICAgICAgIGksXG4gICAgICAgIGMsXG4gICAgICAgIHBvcztcblxuICAgIGZvciAoaSA9IDAsIHBvcyA9IDA7IGkgPCBsZW4uY3VycmVudDsgaSsrKSB7XG4gICAgICBpZiAodGVzdHMuY3VycmVudFtpXSkge1xuICAgICAgICBidWZmZXIuY3VycmVudFtpXSA9IGdldFBsYWNlaG9sZGVyKGkpO1xuXG4gICAgICAgIHdoaWxlIChwb3MrKyA8IHRlc3QubGVuZ3RoKSB7XG4gICAgICAgICAgYyA9IHRlc3QuY2hhckF0KHBvcyAtIDEpO1xuXG4gICAgICAgICAgaWYgKHRlc3RzLmN1cnJlbnRbaV0udGVzdChjKSkge1xuICAgICAgICAgICAgYnVmZmVyLmN1cnJlbnRbaV0gPSBjO1xuICAgICAgICAgICAgbGFzdE1hdGNoID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3MgPiB0ZXN0Lmxlbmd0aCkge1xuICAgICAgICAgIGNsZWFyQnVmZmVyKGkgKyAxLCBsZW4uY3VycmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChidWZmZXIuY3VycmVudFtpXSA9PT0gdGVzdC5jaGFyQXQocG9zKSkge1xuICAgICAgICAgIHBvcysrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBwYXJ0aWFsUG9zaXRpb24uY3VycmVudCkge1xuICAgICAgICAgIGxhc3RNYXRjaCA9IGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWxsb3cpIHtcbiAgICAgIHdyaXRlQnVmZmVyKCk7XG4gICAgfSBlbHNlIGlmIChsYXN0TWF0Y2ggKyAxIDwgcGFydGlhbFBvc2l0aW9uLmN1cnJlbnQpIHtcbiAgICAgIGlmIChwcm9wcy5hdXRvQ2xlYXIgfHwgYnVmZmVyLmN1cnJlbnQuam9pbignJykgPT09IGRlZmF1bHRCdWZmZXIuY3VycmVudCkge1xuICAgICAgICAvLyBJbnZhbGlkIHZhbHVlLiBSZW1vdmUgaXQgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGVcbiAgICAgICAgLy8gbWFzaywgd2hpY2ggaXMgdGhlIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICAgIGlmIChlbGVtZW50UmVmLmN1cnJlbnQudmFsdWUpIGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xuICAgICAgICBjbGVhckJ1ZmZlcigwLCBsZW4uY3VycmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbnZhbGlkIHZhbHVlLCBidXQgd2Ugb3B0IHRvIHNob3cgdGhlIHZhbHVlIHRvIHRoZVxuICAgICAgICAvLyB1c2VyIGFuZCBhbGxvdyB0aGVtIHRvIGNvcnJlY3QgdGhlaXIgbWlzdGFrZS5cbiAgICAgICAgd3JpdGVCdWZmZXIoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd3JpdGVCdWZmZXIoKTtcbiAgICAgIGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZSA9IGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZS5zdWJzdHJpbmcoMCwgbGFzdE1hdGNoICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnRpYWxQb3NpdGlvbi5jdXJyZW50ID8gaSA6IGZpcnN0Tm9uTWFza1Bvcy5jdXJyZW50O1xuICB9O1xuXG4gIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cyhlKSB7XG4gICAgaWYgKHByb3BzLnJlYWRPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9jdXMuY3VycmVudCA9IHRydWU7XG4gICAgY2xlYXJUaW1lb3V0KGNhcmV0VGltZW91dElkLmN1cnJlbnQpO1xuICAgIHZhciBwb3M7XG4gICAgZm9jdXNUZXh0LmN1cnJlbnQgPSBlbGVtZW50UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgcG9zID0gY2hlY2tWYWwoKTtcbiAgICBjYXJldFRpbWVvdXRJZC5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50ICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd3JpdGVCdWZmZXIoKTtcblxuICAgICAgaWYgKHBvcyA9PT0gcHJvcHMubWFzay5yZXBsYWNlKCc/JywgJycpLmxlbmd0aCkge1xuICAgICAgICBjYXJldCgwLCBwb3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZXQocG9zKTtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlRmlsbGVkU3RhdGUoKTtcbiAgICB9LCAxMCk7XG4gICAgcHJvcHMub25Gb2N1cyAmJiBwcm9wcy5vbkZvY3VzKGUpO1xuICB9O1xuXG4gIHZhciBvbklucHV0ID0gZnVuY3Rpb24gb25JbnB1dChldmVudCkge1xuICAgIGFuZHJvaWRDaHJvbWUuY3VycmVudCA/IGhhbmRsZUFuZHJvaWRJbnB1dChldmVudCkgOiBoYW5kbGVJbnB1dENoYW5nZShldmVudCk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUlucHV0Q2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlSW5wdXRDaGFuZ2UoZSkge1xuICAgIGlmIChwcm9wcy5yZWFkT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwb3MgPSBjaGVja1ZhbCh0cnVlKTtcbiAgICBjYXJldChwb3MpO1xuICAgIHVwZGF0ZU1vZGVsKGUpO1xuXG4gICAgaWYgKHByb3BzLm9uQ29tcGxldGUgJiYgaXNDb21wbGV0ZWQoKSkge1xuICAgICAgcHJvcHMub25Db21wbGV0ZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgIHZhbHVlOiBnZXRWYWx1ZSgpXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldFVubWFza2VkVmFsdWUgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVubWFza2VkQnVmZmVyID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlci5jdXJyZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGJ1ZmZlci5jdXJyZW50W2ldO1xuXG4gICAgICBpZiAodGVzdHMuY3VycmVudFtpXSAmJiBjICE9PSBnZXRQbGFjZWhvbGRlcihpKSkge1xuICAgICAgICB1bm1hc2tlZEJ1ZmZlci5wdXNoKGMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bm1hc2tlZEJ1ZmZlci5qb2luKCcnKTtcbiAgfSwgW2dldFBsYWNlaG9sZGVyXSk7XG5cbiAgdmFyIHVwZGF0ZU1vZGVsID0gZnVuY3Rpb24gdXBkYXRlTW9kZWwoZSkge1xuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdmFyIHZhbCA9IHByb3BzLnVubWFzayA/IGdldFVubWFza2VkVmFsdWUoKSA6IGUgJiYgZS50YXJnZXQudmFsdWU7XG4gICAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgIHZhbHVlOiBkZWZhdWx0QnVmZmVyLmN1cnJlbnQgIT09IHZhbCA/IHZhbCA6ICcnLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IGRlZmF1bHRCdWZmZXIuY3VycmVudCAhPT0gdmFsID8gdmFsIDogJydcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciB1cGRhdGVGaWxsZWRTdGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZUZpbGxlZFN0YXRlKCkge1xuICAgIGlmIChlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlICYmIGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZS5sZW5ndGggPiAwKSBEb21IYW5kbGVyLmFkZENsYXNzKGVsZW1lbnRSZWYuY3VycmVudCwgJ3AtZmlsbGVkJyk7ZWxzZSBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKGVsZW1lbnRSZWYuY3VycmVudCwgJ3AtZmlsbGVkJyk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZVZhbHVlID0gZnVuY3Rpb24gdXBkYXRlVmFsdWUoYWxsb3cpIHtcbiAgICB2YXIgcG9zO1xuXG4gICAgaWYgKGVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgaWYgKHByb3BzLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50UmVmLmN1cnJlbnQudmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgICAgICAgcG9zID0gY2hlY2tWYWwoYWxsb3cpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICB3cml0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrVmFsKGFsbG93KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgZm9jdXNUZXh0LmN1cnJlbnQgPSBlbGVtZW50UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgfVxuXG4gICAgdXBkYXRlRmlsbGVkU3RhdGUoKTtcbiAgICByZXR1cm4gcG9zO1xuICB9O1xuXG4gIHZhciBpc1ZhbHVlVXBkYXRlZCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvcHMudW5tYXNrID8gcHJvcHMudmFsdWUgIT09IGdldFVubWFza2VkVmFsdWUoKSA6IGRlZmF1bHRCdWZmZXIuY3VycmVudCAhPT0gZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlICYmIGVsZW1lbnRSZWYuY3VycmVudC52YWx1ZSAhPT0gcHJvcHMudmFsdWU7XG4gIH0sIFtwcm9wcy51bm1hc2ssIHByb3BzLnZhbHVlLCBnZXRVbm1hc2tlZFZhbHVlXSk7XG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmIChwcm9wcy5tYXNrKSB7XG4gICAgICB0ZXN0cy5jdXJyZW50ID0gW107XG4gICAgICBwYXJ0aWFsUG9zaXRpb24uY3VycmVudCA9IHByb3BzLm1hc2subGVuZ3RoO1xuICAgICAgbGVuLmN1cnJlbnQgPSBwcm9wcy5tYXNrLmxlbmd0aDtcbiAgICAgIGZpcnN0Tm9uTWFza1Bvcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHZhciBkZWZzID0ge1xuICAgICAgICA5OiAnWzAtOV0nLFxuICAgICAgICBhOiAnW0EtWmEtel0nLFxuICAgICAgICAnKic6ICdbQS1aYS16MC05XSdcbiAgICAgIH07XG4gICAgICB2YXIgdWEgPSBEb21IYW5kbGVyLmdldFVzZXJBZ2VudCgpO1xuICAgICAgYW5kcm9pZENocm9tZS5jdXJyZW50ID0gL2Nocm9tZS9pLnRlc3QodWEpICYmIC9hbmRyb2lkL2kudGVzdCh1YSk7XG4gICAgICB2YXIgbWFza1Rva2VucyA9IHByb3BzLm1hc2suc3BsaXQoJycpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hc2tUb2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBtYXNrVG9rZW5zW2ldO1xuXG4gICAgICAgIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICBsZW4uY3VycmVudC0tO1xuICAgICAgICAgIHBhcnRpYWxQb3NpdGlvbi5jdXJyZW50ID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChkZWZzW2NdKSB7XG4gICAgICAgICAgdGVzdHMuY3VycmVudC5wdXNoKG5ldyBSZWdFeHAoZGVmc1tjXSkpO1xuXG4gICAgICAgICAgaWYgKGZpcnN0Tm9uTWFza1Bvcy5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBmaXJzdE5vbk1hc2tQb3MuY3VycmVudCA9IHRlc3RzLmN1cnJlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaSA8IHBhcnRpYWxQb3NpdGlvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICBsYXN0UmVxdWlyZWROb25NYXNrUG9zLmN1cnJlbnQgPSB0ZXN0cy5jdXJyZW50Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlc3RzLmN1cnJlbnQucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBidWZmZXIuY3VycmVudCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWFza1Rva2Vucy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIF9jID0gbWFza1Rva2Vuc1tfaV07XG5cbiAgICAgICAgaWYgKF9jICE9PSAnPycpIHtcbiAgICAgICAgICBpZiAoZGVmc1tfY10pIGJ1ZmZlci5jdXJyZW50LnB1c2goZ2V0UGxhY2Vob2xkZXIoX2kpKTtlbHNlIGJ1ZmZlci5jdXJyZW50LnB1c2goX2MpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRCdWZmZXIuY3VycmVudCA9IGJ1ZmZlci5jdXJyZW50LmpvaW4oJycpO1xuICAgIH1cbiAgfTtcblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhlbGVtZW50UmVmLCByZWYpO1xuICB9LCBbZWxlbWVudFJlZiwgcmVmXSk7XG4gIHVzZU1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpbml0KCk7XG4gICAgdXBkYXRlVmFsdWUoKTtcbiAgfSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaW5pdCgpO1xuICAgIGNhcmV0KHVwZGF0ZVZhbHVlKHRydWUpKTtcblxuICAgIGlmIChwcm9wcy51bm1hc2spIHtcbiAgICAgIHVwZGF0ZU1vZGVsKCk7XG4gICAgfVxuICB9LCBbcHJvcHMubWFza10pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc1ZhbHVlVXBkYXRlZCgpKSB7XG4gICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgIH1cbiAgfSwgW2lzVmFsdWVVcGRhdGVkXSk7XG4gIHZhciBvdGhlclByb3BzID0gT2JqZWN0VXRpbHMuZmluZERpZmZLZXlzKHByb3BzLCBJbnB1dE1hc2suZGVmYXVsdFByb3BzKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtaW5wdXRtYXNrJywgcHJvcHMuY2xhc3NOYW1lKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0VGV4dCwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBpZDogcHJvcHMuaWQsXG4gICAgdHlwZTogcHJvcHMudHlwZSxcbiAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICB9LCBvdGhlclByb3BzLCB7XG4gICAgcGxhY2Vob2xkZXI6IHByb3BzLnBsYWNlaG9sZGVyLFxuICAgIHNpemU6IHByb3BzLnNpemUsXG4gICAgbWF4TGVuZ3RoOiBwcm9wcy5tYXhMZW5ndGgsXG4gICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICByZWFkT25seTogcHJvcHMucmVhZE9ubHksXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBvbktleURvd246IG9uS2V5RG93bixcbiAgICBvbktleVByZXNzOiBvbktleVByZXNzLFxuICAgIG9uSW5wdXQ6IG9uSW5wdXQsXG4gICAgb25QYXN0ZTogaGFuZGxlSW5wdXRDaGFuZ2UsXG4gICAgcmVxdWlyZWQ6IHByb3BzLnJlcXVpcmVkLFxuICAgIHRvb2x0aXA6IHByb3BzLnRvb2x0aXAsXG4gICAgdG9vbHRpcE9wdGlvbnM6IHByb3BzLnRvb2x0aXBPcHRpb25zXG4gIH0pKTtcbn0pKTtcbklucHV0TWFzay5kaXNwbGF5TmFtZSA9ICdJbnB1dE1hc2snO1xuSW5wdXRNYXNrLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnSW5wdXRNYXNrJyxcbiAgaWQ6IG51bGwsXG4gIHZhbHVlOiBudWxsLFxuICB0eXBlOiAndGV4dCcsXG4gIG1hc2s6IG51bGwsXG4gIHNsb3RDaGFyOiAnXycsXG4gIGF1dG9DbGVhcjogdHJ1ZSxcbiAgdW5tYXNrOiBmYWxzZSxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgcGxhY2Vob2xkZXI6IG51bGwsXG4gIHNpemU6IG51bGwsXG4gIG1heExlbmd0aDogbnVsbCxcbiAgdGFiSW5kZXg6IG51bGwsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgcmVhZE9ubHk6IGZhbHNlLFxuICBuYW1lOiBudWxsLFxuICByZXF1aXJlZDogZmFsc2UsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBvbkNvbXBsZXRlOiBudWxsLFxuICBvbkNoYW5nZTogbnVsbCxcbiAgb25Gb2N1czogbnVsbCxcbiAgb25CbHVyOiBudWxsXG59O1xuXG5leHBvcnQgeyBJbnB1dE1hc2sgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputmask/inputmask.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputnumber/inputnumber.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/primereact/inputnumber/inputnumber.esm.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputNumber\": function() { return /* binding */ InputNumber; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar InputNumber = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focusedState = _React$useState2[0],\n      setFocusedState = _React$useState2[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var timer = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var lastValue = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var numberFormat = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var groupChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var prefixChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var suffixChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var isSpecialChar = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _numeral = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _group = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _minusSign = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _currency = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _decimal = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _suffix = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _prefix = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _index = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var stacked = props.showButtons && props.buttonLayout === 'stacked';\n  var horizontal = props.showButtons && props.buttonLayout === 'horizontal';\n  var vertical = props.showButtons && props.buttonLayout === 'vertical';\n  var inputMode = props.inputMode || (props.mode === 'decimal' && !props.minFractionDigits ? 'numeric' : 'decimal');\n\n  var getOptions = function getOptions() {\n    return {\n      localeMatcher: props.localeMatcher,\n      style: props.mode,\n      currency: props.currency,\n      currencyDisplay: props.currencyDisplay,\n      useGrouping: props.useGrouping,\n      minimumFractionDigits: props.minFractionDigits,\n      maximumFractionDigits: props.maxFractionDigits\n    };\n  };\n\n  var constructParser = function constructParser() {\n    numberFormat.current = new Intl.NumberFormat(props.locale, getOptions());\n\n    var numerals = _toConsumableArray(new Intl.NumberFormat(props.locale, {\n      useGrouping: false\n    }).format(9876543210)).reverse();\n\n    var index = new Map(numerals.map(function (d, i) {\n      return [d, i];\n    }));\n    _numeral.current = new RegExp(\"[\".concat(numerals.join(''), \"]\"), 'g');\n    _group.current = getGroupingExpression();\n    _minusSign.current = getMinusSignExpression();\n    _currency.current = getCurrencyExpression();\n    _decimal.current = getDecimalExpression();\n    _suffix.current = getSuffixExpression();\n    _prefix.current = getPrefixExpression();\n\n    _index.current = function (d) {\n      return index.get(d);\n    };\n  };\n\n  var escapeRegExp = function escapeRegExp(text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n  };\n\n  var getDecimalExpression = function getDecimalExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, _objectSpread(_objectSpread({}, getOptions()), {}, {\n      useGrouping: false\n    }));\n    return new RegExp(\"[\".concat(formatter.format(1.1).replace(_currency.current, '').trim().replace(_numeral.current, ''), \"]\"), 'g');\n  };\n\n  var getGroupingExpression = function getGroupingExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, {\n      useGrouping: true\n    });\n    groupChar.current = formatter.format(1000000).trim().replace(_numeral.current, '').charAt(0);\n    return new RegExp(\"[\".concat(groupChar.current, \"]\"), 'g');\n  };\n\n  var getMinusSignExpression = function getMinusSignExpression() {\n    var formatter = new Intl.NumberFormat(props.locale, {\n      useGrouping: false\n    });\n    return new RegExp(\"[\".concat(formatter.format(-1).trim().replace(_numeral.current, ''), \"]\"), 'g');\n  };\n\n  var getCurrencyExpression = function getCurrencyExpression() {\n    if (props.currency) {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: 'currency',\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      });\n      return new RegExp(\"[\".concat(formatter.format(1).replace(/\\s/g, '').replace(_numeral.current, '').replace(_group.current, ''), \"]\"), 'g');\n    }\n\n    return new RegExp(\"[]\", 'g');\n  };\n\n  var getPrefixExpression = function getPrefixExpression() {\n    if (props.prefix) {\n      prefixChar.current = props.prefix;\n    } else {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: props.mode,\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay\n      });\n      prefixChar.current = formatter.format(1).split('1')[0];\n    }\n\n    return new RegExp(\"\".concat(escapeRegExp(prefixChar.current || '')), 'g');\n  };\n\n  var getSuffixExpression = function getSuffixExpression() {\n    if (props.suffix) {\n      suffixChar.current = props.suffix;\n    } else {\n      var formatter = new Intl.NumberFormat(props.locale, {\n        style: props.mode,\n        currency: props.currency,\n        currencyDisplay: props.currencyDisplay,\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      });\n      suffixChar.current = formatter.format(1).split('1')[1];\n    }\n\n    return new RegExp(\"\".concat(escapeRegExp(suffixChar.current || '')), 'g');\n  };\n\n  var formatValue = function formatValue(value) {\n    if (value != null) {\n      if (value === '-') {\n        // Minus sign\n        return value;\n      }\n\n      if (props.format) {\n        var formatter = new Intl.NumberFormat(props.locale, getOptions());\n\n        var _formattedValue = formatter.format(value);\n\n        if (props.prefix) {\n          _formattedValue = props.prefix + _formattedValue;\n        }\n\n        if (props.suffix) {\n          _formattedValue = _formattedValue + props.suffix;\n        }\n\n        return _formattedValue;\n      }\n\n      return value.toString();\n    }\n\n    return '';\n  };\n\n  var parseValue = function parseValue(text) {\n    var filteredText = text.replace(_suffix.current, '').replace(_prefix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '').replace(_group.current, '').replace(_minusSign.current, '-').replace(_decimal.current, '.').replace(_numeral.current, _index.current);\n\n    if (filteredText) {\n      if (filteredText === '-') // Minus sign\n        return filteredText;\n      var parsedValue = +filteredText;\n      return isNaN(parsedValue) ? null : parsedValue;\n    }\n\n    return null;\n  };\n\n  var repeat = function repeat(event, interval, dir) {\n    var i = interval || 500;\n    clearTimer();\n    timer.current = setTimeout(function () {\n      repeat(event, 40, dir);\n    }, i);\n    spin(event, dir);\n  };\n\n  var spin = function spin(event, dir) {\n    if (inputRef.current) {\n      var step = props.step * dir;\n      var currentValue = parseValue(inputRef.current.value) || 0;\n      var newValue = validateValue(currentValue + step); // touch devices trigger the keyboard to display because of setSelectionRange\n\n      !primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.isTouchDevice() && updateInput(newValue, null, 'spin');\n      updateModel(event, newValue);\n      handleOnChange(event, currentValue, newValue);\n    }\n  };\n\n  var onUpButtonTouchStart = function onUpButtonTouchStart(event) {\n    if (!props.disabled && !props.readOnly) {\n      repeat(event, null, 1);\n      event.preventDefault();\n    }\n  };\n\n  var onUpButtonMouseDown = function onUpButtonMouseDown(event) {\n    if (!props.disabled && !props.readOnly) {\n      props.autoFocus && primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current, props.autoFocus);\n      repeat(event, null, 1);\n      event.preventDefault();\n    }\n  };\n\n  var onUpButtonTouchEnd = function onUpButtonTouchEnd() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n      event.preventDefault();\n    }\n  };\n\n  var onUpButtonMouseUp = function onUpButtonMouseUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onUpButtonMouseLeave = function onUpButtonMouseLeave() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onUpButtonKeyUp = function onUpButtonKeyUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onUpButtonKeyDown = function onUpButtonKeyDown(event) {\n    if (!props.disabled && !props.readOnly && (event.keyCode === 32 || event.keyCode === 13)) {\n      repeat(event, null, 1);\n    }\n  };\n\n  var onDownButtonTouchStart = function onDownButtonTouchStart(event) {\n    if (!props.disabled && !props.readOnly) {\n      repeat(event, null, -1);\n      event.preventDefault();\n    }\n  };\n\n  var onDownButtonTouchEnd = function onDownButtonTouchEnd() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n      event.preventDefault();\n    }\n  };\n\n  var onDownButtonMouseDown = function onDownButtonMouseDown(event) {\n    if (!props.disabled && !props.readOnly) {\n      props.autoFocus && primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current, props.autoFocus);\n      repeat(event, null, -1);\n      event.preventDefault();\n    }\n  };\n\n  var onDownButtonMouseUp = function onDownButtonMouseUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onDownButtonMouseLeave = function onDownButtonMouseLeave() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onDownButtonKeyUp = function onDownButtonKeyUp() {\n    if (!props.disabled && !props.readOnly) {\n      clearTimer();\n    }\n  };\n\n  var onDownButtonKeyDown = function onDownButtonKeyDown(event) {\n    if (!props.disabled && !props.readOnly && (event.keyCode === 32 || event.keyCode === 13)) {\n      repeat(event, null, -1);\n    }\n  };\n\n  var onInput = function onInput(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    if (isSpecialChar.current) {\n      event.target.value = lastValue.current;\n    }\n\n    isSpecialChar.current = false;\n  };\n\n  var onInputKeyDown = function onInputKeyDown(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    lastValue.current = event.target.value;\n\n    if (event.shiftKey || event.altKey) {\n      isSpecialChar.current = true;\n      return;\n    }\n\n    var selectionStart = event.target.selectionStart;\n    var selectionEnd = event.target.selectionEnd;\n    var inputValue = event.target.value;\n    var newValueStr = null;\n\n    if (event.altKey) {\n      event.preventDefault();\n    }\n\n    switch (event.which) {\n      //up\n      case 38:\n        spin(event, 1);\n        event.preventDefault();\n        break;\n      //down\n\n      case 40:\n        spin(event, -1);\n        event.preventDefault();\n        break;\n      //left\n\n      case 37:\n        if (!isNumeralChar(inputValue.charAt(selectionStart - 1))) {\n          event.preventDefault();\n        }\n\n        break;\n      //right\n\n      case 39:\n        if (!isNumeralChar(inputValue.charAt(selectionStart))) {\n          event.preventDefault();\n        }\n\n        break;\n      //enter and tab\n\n      case 13:\n      case 9:\n        newValueStr = validateValue(parseValue(inputValue));\n        inputRef.current.value = formatValue(newValueStr);\n        inputRef.current.setAttribute('aria-valuenow', newValueStr);\n        updateModel(event, newValueStr);\n        break;\n      //backspace\n\n      case 8:\n        event.preventDefault();\n\n        if (selectionStart === selectionEnd) {\n          var deleteChar = inputValue.charAt(selectionStart - 1);\n\n          var _getDecimalCharIndexe = getDecimalCharIndexes(inputValue),\n              decimalCharIndex = _getDecimalCharIndexe.decimalCharIndex,\n              decimalCharIndexWithoutPrefix = _getDecimalCharIndexe.decimalCharIndexWithoutPrefix;\n\n          if (isNumeralChar(deleteChar)) {\n            var decimalLength = getDecimalLength(inputValue);\n\n            if (_group.current.test(deleteChar)) {\n              _group.current.lastIndex = 0;\n              newValueStr = inputValue.slice(0, selectionStart - 2) + inputValue.slice(selectionStart - 1);\n            } else if (_decimal.current.test(deleteChar)) {\n              _decimal.current.lastIndex = 0;\n\n              if (decimalLength) {\n                inputRef.current.setSelectionRange(selectionStart - 1, selectionStart - 1);\n              } else {\n                newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n              }\n            } else if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n              var insertedText = isDecimalMode() && (props.minFractionDigits || 0) < decimalLength ? '' : '0';\n              newValueStr = inputValue.slice(0, selectionStart - 1) + insertedText + inputValue.slice(selectionStart);\n            } else if (decimalCharIndexWithoutPrefix === 1) {\n              newValueStr = inputValue.slice(0, selectionStart - 1) + '0' + inputValue.slice(selectionStart);\n              newValueStr = parseValue(newValueStr) > 0 ? newValueStr : '';\n            } else {\n              newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n            }\n          }\n\n          updateValue(event, newValueStr, null, 'delete-single');\n        } else {\n          newValueStr = deleteRange(inputValue, selectionStart, selectionEnd);\n          updateValue(event, newValueStr, null, 'delete-range');\n        }\n\n        break;\n      // del\n\n      case 46:\n        event.preventDefault();\n\n        if (selectionStart === selectionEnd) {\n          var _deleteChar = inputValue.charAt(selectionStart);\n\n          var _getDecimalCharIndexe2 = getDecimalCharIndexes(inputValue),\n              _decimalCharIndex = _getDecimalCharIndexe2.decimalCharIndex,\n              _decimalCharIndexWithoutPrefix = _getDecimalCharIndexe2.decimalCharIndexWithoutPrefix;\n\n          if (isNumeralChar(_deleteChar)) {\n            var _decimalLength = getDecimalLength(inputValue);\n\n            if (_group.current.test(_deleteChar)) {\n              _group.current.lastIndex = 0;\n              newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 2);\n            } else if (_decimal.current.test(_deleteChar)) {\n              _decimal.current.lastIndex = 0;\n\n              if (_decimalLength) {\n                $refs.input.$el.setSelectionRange(selectionStart + 1, selectionStart + 1);\n              } else {\n                newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n              }\n            } else if (_decimalCharIndex > 0 && selectionStart > _decimalCharIndex) {\n              var _insertedText = isDecimalMode() && (props.minFractionDigits || 0) < _decimalLength ? '' : '0';\n\n              newValueStr = inputValue.slice(0, selectionStart) + _insertedText + inputValue.slice(selectionStart + 1);\n            } else if (_decimalCharIndexWithoutPrefix === 1) {\n              newValueStr = inputValue.slice(0, selectionStart) + '0' + inputValue.slice(selectionStart + 1);\n              newValueStr = parseValue(newValueStr) > 0 ? newValueStr : '';\n            } else {\n              newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n            }\n          }\n\n          updateValue(event, newValueStr, null, 'delete-back-single');\n        } else {\n          newValueStr = deleteRange(inputValue, selectionStart, selectionEnd);\n          updateValue(event, newValueStr, null, 'delete-range');\n        }\n\n        break;\n    }\n\n    if (props.onKeyDown) {\n      props.onKeyDown(event);\n    }\n  };\n\n  var onInputKeyPress = function onInputKeyPress(event) {\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    var code = event.which || event.keyCode;\n\n    if (code !== 13) {\n      // to submit a form\n      event.preventDefault();\n    }\n\n    var _char = String.fromCharCode(code);\n\n    var _isDecimalSign = isDecimalSign(_char);\n\n    var _isMinusSign = isMinusSign(_char);\n\n    if (48 <= code && code <= 57 || _isMinusSign || _isDecimalSign) {\n      insert(event, _char, {\n        isDecimalSign: _isDecimalSign,\n        isMinusSign: _isMinusSign\n      });\n    }\n  };\n\n  var onPaste = function onPaste(event) {\n    event.preventDefault();\n\n    if (props.disabled || props.readOnly) {\n      return;\n    }\n\n    var data = (event.clipboardData || window['clipboardData']).getData('Text');\n\n    if (data) {\n      var filteredData = parseValue(data);\n\n      if (filteredData != null) {\n        insert(event, filteredData.toString());\n      }\n    }\n  };\n\n  var allowMinusSign = function allowMinusSign() {\n    return props.min === null || props.min < 0;\n  };\n\n  var isMinusSign = function isMinusSign(_char2) {\n    if (_minusSign.current.test(_char2) || _char2 === '-') {\n      _minusSign.current.lastIndex = 0;\n      return true;\n    }\n\n    return false;\n  };\n\n  var isDecimalSign = function isDecimalSign(_char3) {\n    if (_decimal.current.test(_char3)) {\n      _decimal.current.lastIndex = 0;\n      return true;\n    }\n\n    return false;\n  };\n\n  var isDecimalMode = function isDecimalMode() {\n    return props.mode === 'decimal';\n  };\n\n  var getDecimalCharIndexes = function getDecimalCharIndexes(val) {\n    var decimalCharIndex = val.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    var filteredVal = val.replace(_prefix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '');\n    var decimalCharIndexWithoutPrefix = filteredVal.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    return {\n      decimalCharIndex: decimalCharIndex,\n      decimalCharIndexWithoutPrefix: decimalCharIndexWithoutPrefix\n    };\n  };\n\n  var getCharIndexes = function getCharIndexes(val) {\n    var decimalCharIndex = val.search(_decimal.current);\n    _decimal.current.lastIndex = 0;\n    var minusCharIndex = val.search(_minusSign.current);\n    _minusSign.current.lastIndex = 0;\n    var suffixCharIndex = val.search(_suffix.current);\n    _suffix.current.lastIndex = 0;\n    var currencyCharIndex = val.search(_currency.current);\n    _currency.current.lastIndex = 0;\n    return {\n      decimalCharIndex: decimalCharIndex,\n      minusCharIndex: minusCharIndex,\n      suffixCharIndex: suffixCharIndex,\n      currencyCharIndex: currencyCharIndex\n    };\n  };\n\n  var insert = function insert(event, text) {\n    var sign = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      isDecimalSign: false,\n      isMinusSign: false\n    };\n    var minusCharIndexOnText = text.search(_minusSign.current);\n    _minusSign.current.lastIndex = 0;\n\n    if (!allowMinusSign() && minusCharIndexOnText !== -1) {\n      return;\n    }\n\n    var selectionStart = inputRef.current.selectionStart;\n    var selectionEnd = inputRef.current.selectionEnd;\n    var inputValue = inputRef.current.value.trim();\n\n    var _getCharIndexes = getCharIndexes(inputValue),\n        decimalCharIndex = _getCharIndexes.decimalCharIndex,\n        minusCharIndex = _getCharIndexes.minusCharIndex,\n        suffixCharIndex = _getCharIndexes.suffixCharIndex,\n        currencyCharIndex = _getCharIndexes.currencyCharIndex;\n\n    var newValueStr;\n\n    if (sign.isMinusSign) {\n      if (selectionStart === 0) {\n        newValueStr = inputValue;\n\n        if (minusCharIndex === -1 || selectionEnd !== 0) {\n          newValueStr = insertText(inputValue, text, 0, selectionEnd);\n        }\n\n        updateValue(event, newValueStr, text, 'insert');\n      }\n    } else if (sign.isDecimalSign) {\n      if (decimalCharIndex > 0 && selectionStart === decimalCharIndex) {\n        updateValue(event, inputValue, text, 'insert');\n      } else if (decimalCharIndex > selectionStart && decimalCharIndex < selectionEnd) {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, 'insert');\n      } else if (decimalCharIndex === -1 && props.maxFractionDigits) {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, 'insert');\n      }\n    } else {\n      var maxFractionDigits = numberFormat.current.resolvedOptions().maximumFractionDigits;\n      var operation = selectionStart !== selectionEnd ? 'range-insert' : 'insert';\n\n      if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n        if (selectionStart + text.length - (decimalCharIndex + 1) <= maxFractionDigits) {\n          var charIndex = currencyCharIndex >= selectionStart ? currencyCharIndex - 1 : suffixCharIndex >= selectionStart ? suffixCharIndex : inputValue.length;\n          newValueStr = inputValue.slice(0, selectionStart) + text + inputValue.slice(selectionStart + text.length, charIndex) + inputValue.slice(charIndex);\n          updateValue(event, newValueStr, text, operation);\n        }\n      } else {\n        newValueStr = insertText(inputValue, text, selectionStart, selectionEnd);\n        updateValue(event, newValueStr, text, operation);\n      }\n    }\n  };\n\n  var insertText = function insertText(value, text, start, end) {\n    var textSplit = text === '.' ? text : text.split('.');\n\n    if (textSplit.length === 2) {\n      var decimalCharIndex = value.slice(start, end).search(_decimal.current);\n      _decimal.current.lastIndex = 0;\n      return decimalCharIndex > 0 ? value.slice(0, start) + formatValue(text) + value.slice(end) : value || formatValue(text);\n    } else if (end - start === value.length) {\n      return formatValue(text);\n    } else if (start === 0) {\n      return text + value.slice(end);\n    } else if (end === value.length) {\n      return value.slice(0, start) + text;\n    } else {\n      return value.slice(0, start) + text + value.slice(end);\n    }\n  };\n\n  var deleteRange = function deleteRange(value, start, end) {\n    var newValueStr;\n    if (end - start === value.length) newValueStr = '';else if (start === 0) newValueStr = value.slice(end);else if (end === value.length) newValueStr = value.slice(0, start);else newValueStr = value.slice(0, start) + value.slice(end);\n    return newValueStr;\n  };\n\n  var initCursor = function initCursor() {\n    var selectionStart = inputRef.current.selectionStart;\n    var inputValue = inputRef.current.value;\n    var valueLength = inputValue.length;\n    var index = null; // remove prefix\n\n    var prefixLength = (prefixChar.current || '').length;\n    inputValue = inputValue.replace(_prefix.current, '');\n    selectionStart = selectionStart - prefixLength;\n\n    var _char4 = inputValue.charAt(selectionStart);\n\n    if (isNumeralChar(_char4)) {\n      return selectionStart + prefixLength;\n    } //left\n\n\n    var i = selectionStart - 1;\n\n    while (i >= 0) {\n      _char4 = inputValue.charAt(i);\n\n      if (isNumeralChar(_char4)) {\n        index = i + prefixLength;\n        break;\n      } else {\n        i--;\n      }\n    }\n\n    if (index !== null) {\n      inputRef.current.setSelectionRange(index + 1, index + 1);\n    } else {\n      i = selectionStart;\n\n      while (i < valueLength) {\n        _char4 = inputValue.charAt(i);\n\n        if (isNumeralChar(_char4)) {\n          index = i + prefixLength;\n          break;\n        } else {\n          i++;\n        }\n      }\n\n      if (index !== null) {\n        inputRef.current.setSelectionRange(index, index);\n      }\n    }\n\n    return index || 0;\n  };\n\n  var onInputClick = function onInputClick() {\n    initCursor();\n  };\n\n  var isNumeralChar = function isNumeralChar(_char5) {\n    if (_char5.length === 1 && (_numeral.current.test(_char5) || _decimal.current.test(_char5) || _group.current.test(_char5) || _minusSign.current.test(_char5))) {\n      resetRegex();\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var resetRegex = function resetRegex() {\n    _numeral.current.lastIndex = 0;\n    _decimal.current.lastIndex = 0;\n    _group.current.lastIndex = 0;\n    _minusSign.current.lastIndex = 0;\n  };\n\n  var updateValue = function updateValue(event, valueStr, insertedValueStr, operation) {\n    var currentValue = inputRef.current.value;\n    var newValue = null;\n\n    if (valueStr != null) {\n      newValue = evaluateEmpty(parseValue(valueStr));\n      updateInput(newValue, insertedValueStr, operation, valueStr);\n      handleOnChange(event, currentValue, newValue);\n    }\n  };\n\n  var evaluateEmpty = function evaluateEmpty(newValue) {\n    return !newValue && !props.allowEmpty ? props.min || 0 : newValue;\n  };\n\n  var handleOnChange = function handleOnChange(event, currentValue, newValue) {\n    if (props.onChange && isValueChanged(currentValue, newValue)) {\n      props.onChange({\n        originalEvent: event,\n        value: newValue\n      });\n    }\n  };\n\n  var isValueChanged = function isValueChanged(currentValue, newValue) {\n    if (newValue === null && currentValue !== null) {\n      return true;\n    }\n\n    if (newValue != null) {\n      var parsedCurrentValue = typeof currentValue === 'string' ? parseValue(currentValue) : currentValue;\n      return newValue !== parsedCurrentValue;\n    }\n\n    return false;\n  };\n\n  var validateValue = function validateValue(value) {\n    if (value === '-' || value == null) {\n      return null;\n    }\n\n    if (props.min !== null && value < props.min) {\n      return props.min;\n    }\n\n    if (props.max !== null && value > props.max) {\n      return props.max;\n    }\n\n    return value;\n  };\n\n  var updateInput = function updateInput(value, insertedValueStr, operation, valueStr) {\n    insertedValueStr = insertedValueStr || '';\n    var inputEl = inputRef.current;\n    var inputValue = inputEl.value;\n    var newValue = formatValue(value);\n    var currentLength = inputValue.length;\n\n    if (newValue !== valueStr) {\n      newValue = concatValues(newValue, valueStr);\n    }\n\n    if (currentLength === 0) {\n      inputEl.value = newValue;\n      inputEl.setSelectionRange(0, 0);\n      var index = initCursor();\n      var selectionEnd = index + insertedValueStr.length;\n      inputEl.setSelectionRange(selectionEnd, selectionEnd);\n    } else {\n      var selectionStart = inputEl.selectionStart;\n      var _selectionEnd = inputEl.selectionEnd;\n      inputEl.value = newValue;\n      var newLength = newValue.length;\n\n      if (operation === 'range-insert') {\n        var startValue = parseValue((inputValue || '').slice(0, selectionStart));\n        var startValueStr = startValue !== null ? startValue.toString() : '';\n        var startExpr = startValueStr.split('').join(\"(\".concat(groupChar.current, \")?\"));\n        var sRegex = new RegExp(startExpr, 'g');\n        sRegex.test(newValue);\n        var tExpr = insertedValueStr.split('').join(\"(\".concat(groupChar.current, \")?\"));\n        var tRegex = new RegExp(tExpr, 'g');\n        tRegex.test(newValue.slice(sRegex.lastIndex));\n        _selectionEnd = sRegex.lastIndex + tRegex.lastIndex;\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (newLength === currentLength) {\n        if (operation === 'insert' || operation === 'delete-back-single') inputEl.setSelectionRange(_selectionEnd + 1, _selectionEnd + 1);else if (operation === 'delete-single') inputEl.setSelectionRange(_selectionEnd - 1, _selectionEnd - 1);else if (operation === 'delete-range' || operation === 'spin') inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (operation === 'delete-back-single') {\n        var prevChar = inputValue.charAt(_selectionEnd - 1);\n        var nextChar = inputValue.charAt(_selectionEnd);\n        var diff = currentLength - newLength;\n\n        var isGroupChar = _group.current.test(nextChar);\n\n        if (isGroupChar && diff === 1) {\n          _selectionEnd += 1;\n        } else if (!isGroupChar && isNumeralChar(prevChar)) {\n          _selectionEnd += -1 * diff + 1;\n        }\n\n        _group.current.lastIndex = 0;\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      } else if (inputValue === '-' && operation === 'insert') {\n        inputEl.setSelectionRange(0, 0);\n\n        var _index2 = initCursor();\n\n        var _selectionEnd2 = _index2 + insertedValueStr.length + 1;\n\n        inputEl.setSelectionRange(_selectionEnd2, _selectionEnd2);\n      } else {\n        _selectionEnd = _selectionEnd + (newLength - currentLength);\n        inputEl.setSelectionRange(_selectionEnd, _selectionEnd);\n      }\n    }\n\n    inputEl.setAttribute('aria-valuenow', value);\n  };\n\n  var updateInputValue = function updateInputValue(newValue) {\n    newValue = evaluateEmpty(newValue);\n    var inputEl = inputRef.current;\n    var value = inputEl.value;\n\n    var _formattedValue = formattedValue(newValue);\n\n    if (value !== _formattedValue) {\n      inputEl.value = _formattedValue;\n      inputEl.setAttribute('aria-valuenow', newValue);\n    }\n  };\n\n  var formattedValue = function formattedValue(val) {\n    return formatValue(evaluateEmpty(val));\n  };\n\n  var concatValues = function concatValues(val1, val2) {\n    if (val1 && val2) {\n      var decimalCharIndex = val2.search(_decimal.current);\n      _decimal.current.lastIndex = 0;\n      return decimalCharIndex !== -1 ? val1.split(_decimal.current)[0] + val2.slice(decimalCharIndex) : val1;\n    }\n\n    return val1;\n  };\n\n  var getDecimalLength = function getDecimalLength(value) {\n    if (value) {\n      var valueSplit = value.split(_decimal.current);\n\n      if (valueSplit.length === 2) {\n        return valueSplit[1].replace(_suffix.current, '').trim().replace(/\\s/g, '').replace(_currency.current, '').length;\n      }\n    }\n\n    return 0;\n  };\n\n  var updateModel = function updateModel(event, value) {\n    if (props.onValueChange) {\n      props.onValueChange({\n        originalEvent: event,\n        value: value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: value\n        }\n      });\n    }\n  };\n\n  var onInputFocus = function onInputFocus(event) {\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onInputBlur = function onInputBlur(event) {\n    setFocusedState(false);\n\n    if (inputRef.current) {\n      var currentValue = inputRef.current.value;\n\n      if (isValueChanged(currentValue, props.value)) {\n        var newValue = validateValue(parseValue(currentValue));\n        updateInputValue(newValue);\n        updateModel(event, newValue);\n      }\n    }\n\n    props.onBlur && props.onBlur(event);\n  };\n\n  var clearTimer = function clearTimer() {\n    if (timer.current) {\n      clearInterval(timer.current);\n    }\n  };\n\n  var changeValue = function changeValue() {\n    var newValue = validateValue(props.value);\n    updateInputValue(newValue);\n\n    if (props.value !== null && props.value !== newValue) {\n      updateModel(null, newValue);\n    }\n  };\n\n  var getFormatter = function getFormatter() {\n    return numberFormat.current;\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getFormatter: getFormatter,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMountEffect)(function () {\n    constructParser();\n    var newValue = validateValue(props.value);\n\n    if (props.value !== null && props.value !== newValue) {\n      updateModel(null, newValue);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    constructParser();\n    changeValue();\n  }, [props.locale, props.localeMatcher, props.mode, props.currency, props.currencyDisplay, props.useGrouping, props.minFractionDigits, props.maxFractionDigits, props.suffix, props.prefix]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    changeValue();\n  }, [props.value]);\n\n  var createInputElement = function createInputElement() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber-input', props.inputClassName);\n    var valueToRender = formattedValue(props.value);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_2__.InputText, {\n      ref: inputRef,\n      id: props.inputId,\n      style: props.inputStyle,\n      role: \"spinbutton\",\n      className: className,\n      defaultValue: valueToRender,\n      type: props.type,\n      size: props.size,\n      tabIndex: props.tabIndex,\n      inputMode: inputMode,\n      maxLength: props.maxLength,\n      disabled: props.disabled,\n      required: props.required,\n      pattern: props.pattern,\n      placeholder: props.placeholder,\n      readOnly: props.readOnly,\n      name: props.name,\n      autoFocus: props.autoFocus,\n      onKeyDown: onInputKeyDown,\n      onKeyPress: onInputKeyPress,\n      onInput: onInput,\n      onClick: onInputClick,\n      onBlur: onInputBlur,\n      onFocus: onInputFocus,\n      onPaste: onPaste,\n      min: props.min,\n      max: props.max,\n      \"aria-valuemin\": props.min,\n      \"aria-valuemax\": props.max,\n      \"aria-valuenow\": props.value,\n      \"aria-labelledby\": props.ariaLabelledBy\n    });\n  };\n\n  var createUpButton = function createUpButton() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component', {\n      'p-disabled': props.disabled\n    }, props.incrementButtonClassName);\n    var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-button-icon', props.incrementButtonIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: className,\n      onMouseLeave: onUpButtonMouseLeave,\n      onMouseDown: onUpButtonMouseDown,\n      onMouseUp: onUpButtonMouseUp,\n      onKeyDown: onUpButtonKeyDown,\n      onKeyUp: onUpButtonKeyUp,\n      onTouchStart: onUpButtonTouchStart,\n      onTouchEnd: onUpButtonTouchEnd,\n      disabled: props.disabled,\n      tabIndex: -1\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  };\n\n  var createDownButton = function createDownButton() {\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component', {\n      'p-disabled': props.disabled\n    }, props.decrementButtonClassName);\n    var icon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-button-icon', props.decrementButtonIcon);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      type: \"button\",\n      className: className,\n      onMouseLeave: onDownButtonMouseLeave,\n      onMouseDown: onDownButtonMouseDown,\n      onMouseUp: onDownButtonMouseUp,\n      onKeyDown: onDownButtonKeyDown,\n      onKeyUp: onDownButtonKeyUp,\n      onTouchStart: onDownButtonTouchStart,\n      onTouchEnd: onDownButtonTouchEnd,\n      disabled: props.disabled,\n      tabIndex: -1\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_3__.Ripple, null));\n  };\n\n  var createButtonGroup = function createButtonGroup() {\n    var upButton = props.showButtons && createUpButton();\n    var downButton = props.showButtons && createDownButton();\n\n    if (stacked) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-inputnumber-button-group\"\n      }, upButton, downButton);\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, upButton, downButton);\n  };\n\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.findDiffKeys(props, InputNumber.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-inputnumber p-component p-inputwrapper', {\n    'p-inputwrapper-filled': props.value != null && props.value.toString().length > 0,\n    'p-inputwrapper-focus': focusedState,\n    'p-inputnumber-buttons-stacked': stacked,\n    'p-inputnumber-buttons-horizontal': horizontal,\n    'p-inputnumber-buttons-vertical': vertical\n  }, props.className);\n  var inputElement = createInputElement();\n  var buttonGroup = createButtonGroup();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps), inputElement, buttonGroup), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputNumber.displayName = 'InputNumber';\nInputNumber.defaultProps = {\n  __TYPE: 'InputNumber',\n  value: null,\n  inputRef: null,\n  format: true,\n  showButtons: false,\n  buttonLayout: 'stacked',\n  incrementButtonClassName: null,\n  decrementButtonClassName: null,\n  incrementButtonIcon: 'pi pi-angle-up',\n  decrementButtonIcon: 'pi pi-angle-down',\n  locale: undefined,\n  localeMatcher: undefined,\n  mode: 'decimal',\n  suffix: null,\n  prefix: null,\n  currency: undefined,\n  currencyDisplay: undefined,\n  useGrouping: true,\n  minFractionDigits: undefined,\n  maxFractionDigits: undefined,\n  id: null,\n  name: null,\n  type: 'text',\n  allowEmpty: true,\n  step: 1,\n  min: null,\n  max: null,\n  disabled: false,\n  required: false,\n  tabIndex: null,\n  pattern: null,\n  inputMode: null,\n  placeholder: null,\n  readOnly: false,\n  size: null,\n  style: null,\n  className: null,\n  inputId: null,\n  autoFocus: false,\n  inputStyle: null,\n  inputClassName: null,\n  tooltip: null,\n  tooltipOptions: null,\n  ariaLabelledBy: null,\n  onValueChange: null,\n  onChange: null,\n  onBlur: null,\n  onFocus: null,\n  onKeyDown: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dG51bWJlci9pbnB1dG51bWJlci5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0I7QUFDb0M7QUFDbEI7QUFDTjtBQUNFO0FBQzBCOztBQUV2RTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0QkFBNEIsK0JBQStCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELDZEQUE2RCxpRUFBaUUsc0NBQXNDOztBQUV2VSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCw2REFBNkQsNENBQTRDLG9LQUFvSyxtRkFBbUYsS0FBSztBQUMxZSwrQkFBK0IsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDeEUsd0JBQXdCLDJDQUFjO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIseUNBQVk7QUFDL0IsaUJBQWlCLHlDQUFZO0FBQzdCLGNBQWMseUNBQVk7QUFDMUIsa0JBQWtCLHlDQUFZO0FBQzlCLHFCQUFxQix5Q0FBWTtBQUNqQyxrQkFBa0IseUNBQVk7QUFDOUIsbUJBQW1CLHlDQUFZO0FBQy9CLG1CQUFtQix5Q0FBWTtBQUMvQixzQkFBc0IseUNBQVk7O0FBRWxDLGlCQUFpQix5Q0FBWTs7QUFFN0IsZUFBZSx5Q0FBWTs7QUFFM0IsbUJBQW1CLHlDQUFZOztBQUUvQixrQkFBa0IseUNBQVk7O0FBRTlCLGlCQUFpQix5Q0FBWTs7QUFFN0IsZ0JBQWdCLHlDQUFZOztBQUU1QixnQkFBZ0IseUNBQVk7O0FBRTVCLGVBQWUseUNBQVk7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDO0FBQ2hDOztBQUVBO0FBQ0Esc0ZBQXNGLG1CQUFtQjtBQUN6RztBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEOztBQUV6RCxPQUFPLHNFQUF3QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5Qiw4REFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLDhEQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxxREFBcUQsbUVBQW1FO0FBQy9LO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsMElBQTBJLHdHQUF3RztBQUNsUCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxzREFBeUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLDRDQUFlO0FBQ2pCLElBQUksc0VBQXdCO0FBQzVCLEdBQUc7QUFDSCxFQUFFLGdFQUFjO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsaUVBQWU7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGlFQUFlO0FBQ2pCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLHdCQUF3QixnREFBbUIsQ0FBQywyREFBUztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLEtBQUs7QUFDTCxlQUFlLDREQUFVO0FBQ3pCLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFBZSxnREFBbUI7QUFDdkM7QUFDQSxLQUFLLGdCQUFnQixnREFBbUIsQ0FBQyxxREFBTTtBQUMvQzs7QUFFQTtBQUNBLG9CQUFvQiw0REFBVTtBQUM5QjtBQUNBLEtBQUs7QUFDTCxlQUFlLDREQUFVO0FBQ3pCLHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZUFBZSxnREFBbUI7QUFDdkM7QUFDQSxLQUFLLGdCQUFnQixnREFBbUIsQ0FBQyxxREFBTTtBQUMvQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsZ0RBQW1CO0FBQzdDO0FBQ0EsT0FBTztBQUNQOztBQUVBLHdCQUF3QixnREFBbUIsQ0FBQywyQ0FBYztBQUMxRDs7QUFFQSxtQkFBbUIsb0VBQXNCO0FBQ3pDLG1CQUFtQixzRUFBd0I7QUFDM0Msa0JBQWtCLDREQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHNCQUFzQixnREFBbUIsQ0FBQywyQ0FBYyxxQkFBcUIsZ0RBQW1CO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxzRUFBc0UsZ0RBQW1CLENBQUMsdURBQU87QUFDcEc7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L2lucHV0bnVtYmVyL2lucHV0bnVtYmVyLmVzbS5qcz9lYzUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU1vdW50RWZmZWN0LCB1c2VVcGRhdGVFZmZlY3QgfSBmcm9tICdwcmltZXJlYWN0L2hvb2tzJztcbmltcG9ydCB7IElucHV0VGV4dCB9IGZyb20gJ3ByaW1lcmVhY3QvaW5wdXR0ZXh0JztcbmltcG9ydCB7IFJpcHBsZSB9IGZyb20gJ3ByaW1lcmVhY3QvcmlwcGxlJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIElucHV0TnVtYmVyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciB0aW1lciA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGxhc3RWYWx1ZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIG51bWJlckZvcm1hdCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIGdyb3VwQ2hhciA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHByZWZpeENoYXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzdWZmaXhDaGFyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaXNTcGVjaWFsQ2hhciA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX251bWVyYWwgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgdmFyIF9ncm91cCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX21pbnVzU2lnbiA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX2N1cnJlbmN5ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBfZGVjaW1hbCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX3N1ZmZpeCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX3ByZWZpeCA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX2luZGV4ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBzdGFja2VkID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgcHJvcHMuYnV0dG9uTGF5b3V0ID09PSAnc3RhY2tlZCc7XG4gIHZhciBob3Jpem9udGFsID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgcHJvcHMuYnV0dG9uTGF5b3V0ID09PSAnaG9yaXpvbnRhbCc7XG4gIHZhciB2ZXJ0aWNhbCA9IHByb3BzLnNob3dCdXR0b25zICYmIHByb3BzLmJ1dHRvbkxheW91dCA9PT0gJ3ZlcnRpY2FsJztcbiAgdmFyIGlucHV0TW9kZSA9IHByb3BzLmlucHV0TW9kZSB8fCAocHJvcHMubW9kZSA9PT0gJ2RlY2ltYWwnICYmICFwcm9wcy5taW5GcmFjdGlvbkRpZ2l0cyA/ICdudW1lcmljJyA6ICdkZWNpbWFsJyk7XG5cbiAgdmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2NhbGVNYXRjaGVyOiBwcm9wcy5sb2NhbGVNYXRjaGVyLFxuICAgICAgc3R5bGU6IHByb3BzLm1vZGUsXG4gICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICBjdXJyZW5jeURpc3BsYXk6IHByb3BzLmN1cnJlbmN5RGlzcGxheSxcbiAgICAgIHVzZUdyb3VwaW5nOiBwcm9wcy51c2VHcm91cGluZyxcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogcHJvcHMubWluRnJhY3Rpb25EaWdpdHMsXG4gICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IHByb3BzLm1heEZyYWN0aW9uRGlnaXRzXG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29uc3RydWN0UGFyc2VyID0gZnVuY3Rpb24gY29uc3RydWN0UGFyc2VyKCkge1xuICAgIG51bWJlckZvcm1hdC5jdXJyZW50ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwgZ2V0T3B0aW9ucygpKTtcblxuICAgIHZhciBudW1lcmFscyA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICB1c2VHcm91cGluZzogZmFsc2VcbiAgICB9KS5mb3JtYXQoOTg3NjU0MzIxMCkpLnJldmVyc2UoKTtcblxuICAgIHZhciBpbmRleCA9IG5ldyBNYXAobnVtZXJhbHMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICByZXR1cm4gW2QsIGldO1xuICAgIH0pKTtcbiAgICBfbnVtZXJhbC5jdXJyZW50ID0gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQobnVtZXJhbHMuam9pbignJyksIFwiXVwiKSwgJ2cnKTtcbiAgICBfZ3JvdXAuY3VycmVudCA9IGdldEdyb3VwaW5nRXhwcmVzc2lvbigpO1xuICAgIF9taW51c1NpZ24uY3VycmVudCA9IGdldE1pbnVzU2lnbkV4cHJlc3Npb24oKTtcbiAgICBfY3VycmVuY3kuY3VycmVudCA9IGdldEN1cnJlbmN5RXhwcmVzc2lvbigpO1xuICAgIF9kZWNpbWFsLmN1cnJlbnQgPSBnZXREZWNpbWFsRXhwcmVzc2lvbigpO1xuICAgIF9zdWZmaXguY3VycmVudCA9IGdldFN1ZmZpeEV4cHJlc3Npb24oKTtcbiAgICBfcHJlZml4LmN1cnJlbnQgPSBnZXRQcmVmaXhFeHByZXNzaW9uKCk7XG5cbiAgICBfaW5kZXguY3VycmVudCA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gaW5kZXguZ2V0KGQpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGVzY2FwZVJlZ0V4cCA9IGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbiAgfTtcblxuICB2YXIgZ2V0RGVjaW1hbEV4cHJlc3Npb24gPSBmdW5jdGlvbiBnZXREZWNpbWFsRXhwcmVzc2lvbigpIHtcbiAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnZXRPcHRpb25zKCkpLCB7fSwge1xuICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW1wiLmNvbmNhdChmb3JtYXR0ZXIuZm9ybWF0KDEuMSkucmVwbGFjZShfY3VycmVuY3kuY3VycmVudCwgJycpLnRyaW0oKS5yZXBsYWNlKF9udW1lcmFsLmN1cnJlbnQsICcnKSwgXCJdXCIpLCAnZycpO1xuICB9O1xuXG4gIHZhciBnZXRHcm91cGluZ0V4cHJlc3Npb24gPSBmdW5jdGlvbiBnZXRHcm91cGluZ0V4cHJlc3Npb24oKSB7XG4gICAgdmFyIGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChwcm9wcy5sb2NhbGUsIHtcbiAgICAgIHVzZUdyb3VwaW5nOiB0cnVlXG4gICAgfSk7XG4gICAgZ3JvdXBDaGFyLmN1cnJlbnQgPSBmb3JtYXR0ZXIuZm9ybWF0KDEwMDAwMDApLnRyaW0oKS5yZXBsYWNlKF9udW1lcmFsLmN1cnJlbnQsICcnKS5jaGFyQXQoMCk7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJbXCIuY29uY2F0KGdyb3VwQ2hhci5jdXJyZW50LCBcIl1cIiksICdnJyk7XG4gIH07XG5cbiAgdmFyIGdldE1pbnVzU2lnbkV4cHJlc3Npb24gPSBmdW5jdGlvbiBnZXRNaW51c1NpZ25FeHByZXNzaW9uKCkge1xuICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICB1c2VHcm91cGluZzogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQoZm9ybWF0dGVyLmZvcm1hdCgtMSkudHJpbSgpLnJlcGxhY2UoX251bWVyYWwuY3VycmVudCwgJycpLCBcIl1cIiksICdnJyk7XG4gIH07XG5cbiAgdmFyIGdldEN1cnJlbmN5RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIGdldEN1cnJlbmN5RXhwcmVzc2lvbigpIHtcbiAgICBpZiAocHJvcHMuY3VycmVuY3kpIHtcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICAgIGN1cnJlbmN5RGlzcGxheTogcHJvcHMuY3VycmVuY3lEaXNwbGF5LFxuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltcIi5jb25jYXQoZm9ybWF0dGVyLmZvcm1hdCgxKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoX251bWVyYWwuY3VycmVudCwgJycpLnJlcGxhY2UoX2dyb3VwLmN1cnJlbnQsICcnKSwgXCJdXCIpLCAnZycpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW11cIiwgJ2cnKTtcbiAgfTtcblxuICB2YXIgZ2V0UHJlZml4RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIGdldFByZWZpeEV4cHJlc3Npb24oKSB7XG4gICAgaWYgKHByb3BzLnByZWZpeCkge1xuICAgICAgcHJlZml4Q2hhci5jdXJyZW50ID0gcHJvcHMucHJlZml4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHByb3BzLmxvY2FsZSwge1xuICAgICAgICBzdHlsZTogcHJvcHMubW9kZSxcbiAgICAgICAgY3VycmVuY3k6IHByb3BzLmN1cnJlbmN5LFxuICAgICAgICBjdXJyZW5jeURpc3BsYXk6IHByb3BzLmN1cnJlbmN5RGlzcGxheVxuICAgICAgfSk7XG4gICAgICBwcmVmaXhDaGFyLmN1cnJlbnQgPSBmb3JtYXR0ZXIuZm9ybWF0KDEpLnNwbGl0KCcxJylbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJcIi5jb25jYXQoZXNjYXBlUmVnRXhwKHByZWZpeENoYXIuY3VycmVudCB8fCAnJykpLCAnZycpO1xuICB9O1xuXG4gIHZhciBnZXRTdWZmaXhFeHByZXNzaW9uID0gZnVuY3Rpb24gZ2V0U3VmZml4RXhwcmVzc2lvbigpIHtcbiAgICBpZiAocHJvcHMuc3VmZml4KSB7XG4gICAgICBzdWZmaXhDaGFyLmN1cnJlbnQgPSBwcm9wcy5zdWZmaXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCB7XG4gICAgICAgIHN0eWxlOiBwcm9wcy5tb2RlLFxuICAgICAgICBjdXJyZW5jeTogcHJvcHMuY3VycmVuY3ksXG4gICAgICAgIGN1cnJlbmN5RGlzcGxheTogcHJvcHMuY3VycmVuY3lEaXNwbGF5LFxuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgfSk7XG4gICAgICBzdWZmaXhDaGFyLmN1cnJlbnQgPSBmb3JtYXR0ZXIuZm9ybWF0KDEpLnNwbGl0KCcxJylbMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJcIi5jb25jYXQoZXNjYXBlUmVnRXhwKHN1ZmZpeENoYXIuY3VycmVudCB8fCAnJykpLCAnZycpO1xuICB9O1xuXG4gIHZhciBmb3JtYXRWYWx1ZSA9IGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJy0nKSB7XG4gICAgICAgIC8vIE1pbnVzIHNpZ25cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuZm9ybWF0KSB7XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQocHJvcHMubG9jYWxlLCBnZXRPcHRpb25zKCkpO1xuXG4gICAgICAgIHZhciBfZm9ybWF0dGVkVmFsdWUgPSBmb3JtYXR0ZXIuZm9ybWF0KHZhbHVlKTtcblxuICAgICAgICBpZiAocHJvcHMucHJlZml4KSB7XG4gICAgICAgICAgX2Zvcm1hdHRlZFZhbHVlID0gcHJvcHMucHJlZml4ICsgX2Zvcm1hdHRlZFZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzLnN1ZmZpeCkge1xuICAgICAgICAgIF9mb3JtYXR0ZWRWYWx1ZSA9IF9mb3JtYXR0ZWRWYWx1ZSArIHByb3BzLnN1ZmZpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfZm9ybWF0dGVkVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICB2YXIgcGFyc2VWYWx1ZSA9IGZ1bmN0aW9uIHBhcnNlVmFsdWUodGV4dCkge1xuICAgIHZhciBmaWx0ZXJlZFRleHQgPSB0ZXh0LnJlcGxhY2UoX3N1ZmZpeC5jdXJyZW50LCAnJykucmVwbGFjZShfcHJlZml4LmN1cnJlbnQsICcnKS50cmltKCkucmVwbGFjZSgvXFxzL2csICcnKS5yZXBsYWNlKF9jdXJyZW5jeS5jdXJyZW50LCAnJykucmVwbGFjZShfZ3JvdXAuY3VycmVudCwgJycpLnJlcGxhY2UoX21pbnVzU2lnbi5jdXJyZW50LCAnLScpLnJlcGxhY2UoX2RlY2ltYWwuY3VycmVudCwgJy4nKS5yZXBsYWNlKF9udW1lcmFsLmN1cnJlbnQsIF9pbmRleC5jdXJyZW50KTtcblxuICAgIGlmIChmaWx0ZXJlZFRleHQpIHtcbiAgICAgIGlmIChmaWx0ZXJlZFRleHQgPT09ICctJykgLy8gTWludXMgc2lnblxuICAgICAgICByZXR1cm4gZmlsdGVyZWRUZXh0O1xuICAgICAgdmFyIHBhcnNlZFZhbHVlID0gK2ZpbHRlcmVkVGV4dDtcbiAgICAgIHJldHVybiBpc05hTihwYXJzZWRWYWx1ZSkgPyBudWxsIDogcGFyc2VkVmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIHJlcGVhdCA9IGZ1bmN0aW9uIHJlcGVhdChldmVudCwgaW50ZXJ2YWwsIGRpcikge1xuICAgIHZhciBpID0gaW50ZXJ2YWwgfHwgNTAwO1xuICAgIGNsZWFyVGltZXIoKTtcbiAgICB0aW1lci5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXBlYXQoZXZlbnQsIDQwLCBkaXIpO1xuICAgIH0sIGkpO1xuICAgIHNwaW4oZXZlbnQsIGRpcik7XG4gIH07XG5cbiAgdmFyIHNwaW4gPSBmdW5jdGlvbiBzcGluKGV2ZW50LCBkaXIpIHtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgdmFyIHN0ZXAgPSBwcm9wcy5zdGVwICogZGlyO1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHBhcnNlVmFsdWUoaW5wdXRSZWYuY3VycmVudC52YWx1ZSkgfHwgMDtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHZhbGlkYXRlVmFsdWUoY3VycmVudFZhbHVlICsgc3RlcCk7IC8vIHRvdWNoIGRldmljZXMgdHJpZ2dlciB0aGUga2V5Ym9hcmQgdG8gZGlzcGxheSBiZWNhdXNlIG9mIHNldFNlbGVjdGlvblJhbmdlXG5cbiAgICAgICFEb21IYW5kbGVyLmlzVG91Y2hEZXZpY2UoKSAmJiB1cGRhdGVJbnB1dChuZXdWYWx1ZSwgbnVsbCwgJ3NwaW4nKTtcbiAgICAgIHVwZGF0ZU1vZGVsKGV2ZW50LCBuZXdWYWx1ZSk7XG4gICAgICBoYW5kbGVPbkNoYW5nZShldmVudCwgY3VycmVudFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblVwQnV0dG9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uIG9uVXBCdXR0b25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgMSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbk1vdXNlRG93biA9IGZ1bmN0aW9uIG9uVXBCdXR0b25Nb3VzZURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgcHJvcHMuYXV0b0ZvY3VzICYmIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgMSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvblRvdWNoRW5kID0gZnVuY3Rpb24gb25VcEJ1dHRvblRvdWNoRW5kKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbk1vdXNlVXAgPSBmdW5jdGlvbiBvblVwQnV0dG9uTW91c2VVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiBvblVwQnV0dG9uTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25VcEJ1dHRvbktleVVwID0gZnVuY3Rpb24gb25VcEJ1dHRvbktleVVwKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblVwQnV0dG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uVXBCdXR0b25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkgJiYgKGV2ZW50LmtleUNvZGUgPT09IDMyIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSkge1xuICAgICAgcmVwZWF0KGV2ZW50LCBudWxsLCAxKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRG93bkJ1dHRvblRvdWNoU3RhcnQgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgLTEpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRG93bkJ1dHRvblRvdWNoRW5kID0gZnVuY3Rpb24gb25Eb3duQnV0dG9uVG91Y2hFbmQoKSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIGNsZWFyVGltZXIoKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRvd25CdXR0b25Nb3VzZURvd24gPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Nb3VzZURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgcHJvcHMuYXV0b0ZvY3VzICYmIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCwgcHJvcHMuYXV0b0ZvY3VzKTtcbiAgICAgIHJlcGVhdChldmVudCwgbnVsbCwgLTEpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRG93bkJ1dHRvbk1vdXNlVXAgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25Nb3VzZVVwKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQgJiYgIXByb3BzLnJlYWRPbmx5KSB7XG4gICAgICBjbGVhclRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbkRvd25CdXR0b25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gb25Eb3duQnV0dG9uTW91c2VMZWF2ZSgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Eb3duQnV0dG9uS2V5VXAgPSBmdW5jdGlvbiBvbkRvd25CdXR0b25LZXlVcCgpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSkge1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Eb3duQnV0dG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uRG93bkJ1dHRvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFwcm9wcy5yZWFkT25seSAmJiAoZXZlbnQua2V5Q29kZSA9PT0gMzIgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpKSB7XG4gICAgICByZXBlYXQoZXZlbnQsIG51bGwsIC0xKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiBvbklucHV0KGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLnJlYWRPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzU3BlY2lhbENoYXIuY3VycmVudCkge1xuICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gbGFzdFZhbHVlLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgaXNTcGVjaWFsQ2hhci5jdXJyZW50ID0gZmFsc2U7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRLZXlEb3duID0gZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYXN0VmFsdWUuY3VycmVudCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblxuICAgIGlmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkpIHtcbiAgICAgIGlzU3BlY2lhbENoYXIuY3VycmVudCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZXZlbnQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0O1xuICAgIHZhciBzZWxlY3Rpb25FbmQgPSBldmVudC50YXJnZXQuc2VsZWN0aW9uRW5kO1xuICAgIHZhciBpbnB1dFZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHZhciBuZXdWYWx1ZVN0ciA9IG51bGw7XG5cbiAgICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIC8vdXBcbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIHNwaW4oZXZlbnQsIDEpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vZG93blxuXG4gICAgICBjYXNlIDQwOlxuICAgICAgICBzcGluKGV2ZW50LCAtMSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy9sZWZ0XG5cbiAgICAgIGNhc2UgMzc6XG4gICAgICAgIGlmICghaXNOdW1lcmFsQ2hhcihpbnB1dFZhbHVlLmNoYXJBdChzZWxlY3Rpb25TdGFydCAtIDEpKSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIC8vcmlnaHRcblxuICAgICAgY2FzZSAzOTpcbiAgICAgICAgaWYgKCFpc051bWVyYWxDaGFyKGlucHV0VmFsdWUuY2hhckF0KHNlbGVjdGlvblN0YXJ0KSkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2VudGVyIGFuZCB0YWJcblxuICAgICAgY2FzZSAxMzpcbiAgICAgIGNhc2UgOTpcbiAgICAgICAgbmV3VmFsdWVTdHIgPSB2YWxpZGF0ZVZhbHVlKHBhcnNlVmFsdWUoaW5wdXRWYWx1ZSkpO1xuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gZm9ybWF0VmFsdWUobmV3VmFsdWVTdHIpO1xuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ZhbHVlU3RyKTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlU3RyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2JhY2tzcGFjZVxuXG4gICAgICBjYXNlIDg6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICB2YXIgZGVsZXRlQ2hhciA9IGlucHV0VmFsdWUuY2hhckF0KHNlbGVjdGlvblN0YXJ0IC0gMSk7XG5cbiAgICAgICAgICB2YXIgX2dldERlY2ltYWxDaGFySW5kZXhlID0gZ2V0RGVjaW1hbENoYXJJbmRleGVzKGlucHV0VmFsdWUpLFxuICAgICAgICAgICAgICBkZWNpbWFsQ2hhckluZGV4ID0gX2dldERlY2ltYWxDaGFySW5kZXhlLmRlY2ltYWxDaGFySW5kZXgsXG4gICAgICAgICAgICAgIGRlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4ID0gX2dldERlY2ltYWxDaGFySW5kZXhlLmRlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4O1xuXG4gICAgICAgICAgaWYgKGlzTnVtZXJhbENoYXIoZGVsZXRlQ2hhcikpIHtcbiAgICAgICAgICAgIHZhciBkZWNpbWFsTGVuZ3RoID0gZ2V0RGVjaW1hbExlbmd0aChpbnB1dFZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKF9ncm91cC5jdXJyZW50LnRlc3QoZGVsZXRlQ2hhcikpIHtcbiAgICAgICAgICAgICAgX2dyb3VwLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMikgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0IC0gMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9kZWNpbWFsLmN1cnJlbnQudGVzdChkZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgaWYgKGRlY2ltYWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblN0YXJ0IC0gMSwgc2VsZWN0aW9uU3RhcnQgLSAxKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQgLSAxKSArIGlucHV0VmFsdWUuc2xpY2Uoc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlY2ltYWxDaGFySW5kZXggPiAwICYmIHNlbGVjdGlvblN0YXJ0ID4gZGVjaW1hbENoYXJJbmRleCkge1xuICAgICAgICAgICAgICB2YXIgaW5zZXJ0ZWRUZXh0ID0gaXNEZWNpbWFsTW9kZSgpICYmIChwcm9wcy5taW5GcmFjdGlvbkRpZ2l0cyB8fCAwKSA8IGRlY2ltYWxMZW5ndGggPyAnJyA6ICcwJztcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyBpbnNlcnRlZFRleHQgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXggPT09IDEpIHtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyAnMCcgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBwYXJzZVZhbHVlKG5ld1ZhbHVlU3RyKSA+IDAgPyBuZXdWYWx1ZVN0ciA6ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnB1dFZhbHVlLnNsaWNlKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIG51bGwsICdkZWxldGUtc2luZ2xlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3VmFsdWVTdHIgPSBkZWxldGVSYW5nZShpbnB1dFZhbHVlLCBzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIG51bGwsICdkZWxldGUtcmFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gZGVsXG5cbiAgICAgIGNhc2UgNDY6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICB2YXIgX2RlbGV0ZUNoYXIgPSBpbnB1dFZhbHVlLmNoYXJBdChzZWxlY3Rpb25TdGFydCk7XG5cbiAgICAgICAgICB2YXIgX2dldERlY2ltYWxDaGFySW5kZXhlMiA9IGdldERlY2ltYWxDaGFySW5kZXhlcyhpbnB1dFZhbHVlKSxcbiAgICAgICAgICAgICAgX2RlY2ltYWxDaGFySW5kZXggPSBfZ2V0RGVjaW1hbENoYXJJbmRleGUyLmRlY2ltYWxDaGFySW5kZXgsXG4gICAgICAgICAgICAgIF9kZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeCA9IF9nZXREZWNpbWFsQ2hhckluZGV4ZTIuZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXg7XG5cbiAgICAgICAgICBpZiAoaXNOdW1lcmFsQ2hhcihfZGVsZXRlQ2hhcikpIHtcbiAgICAgICAgICAgIHZhciBfZGVjaW1hbExlbmd0aCA9IGdldERlY2ltYWxMZW5ndGgoaW5wdXRWYWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChfZ3JvdXAuY3VycmVudC50ZXN0KF9kZWxldGVDaGFyKSkge1xuICAgICAgICAgICAgICBfZ3JvdXAuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCArIDIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfZGVjaW1hbC5jdXJyZW50LnRlc3QoX2RlbGV0ZUNoYXIpKSB7XG4gICAgICAgICAgICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcblxuICAgICAgICAgICAgICBpZiAoX2RlY2ltYWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkcmVmcy5pbnB1dC4kZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uU3RhcnQgKyAxLCBzZWxlY3Rpb25TdGFydCArIDEpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2RlY2ltYWxDaGFySW5kZXggPiAwICYmIHNlbGVjdGlvblN0YXJ0ID4gX2RlY2ltYWxDaGFySW5kZXgpIHtcbiAgICAgICAgICAgICAgdmFyIF9pbnNlcnRlZFRleHQgPSBpc0RlY2ltYWxNb2RlKCkgJiYgKHByb3BzLm1pbkZyYWN0aW9uRGlnaXRzIHx8IDApIDwgX2RlY2ltYWxMZW5ndGggPyAnJyA6ICcwJztcblxuICAgICAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uU3RhcnQpICsgX2luc2VydGVkVGV4dCArIGlucHV0VmFsdWUuc2xpY2Uoc2VsZWN0aW9uU3RhcnQgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2RlY2ltYWxDaGFySW5kZXhXaXRob3V0UHJlZml4ID09PSAxKSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyAnMCcgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gcGFyc2VWYWx1ZShuZXdWYWx1ZVN0cikgPiAwID8gbmV3VmFsdWVTdHIgOiAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyBpbnB1dFZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdXBkYXRlVmFsdWUoZXZlbnQsIG5ld1ZhbHVlU3RyLCBudWxsLCAnZGVsZXRlLWJhY2stc2luZ2xlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3VmFsdWVTdHIgPSBkZWxldGVSYW5nZShpbnB1dFZhbHVlLCBzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIG51bGwsICdkZWxldGUtcmFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5vbktleURvd24pIHtcbiAgICAgIHByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbklucHV0S2V5UHJlc3MgPSBmdW5jdGlvbiBvbklucHV0S2V5UHJlc3MoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29kZSA9IGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGU7XG5cbiAgICBpZiAoY29kZSAhPT0gMTMpIHtcbiAgICAgIC8vIHRvIHN1Ym1pdCBhIGZvcm1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyIF9jaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblxuICAgIHZhciBfaXNEZWNpbWFsU2lnbiA9IGlzRGVjaW1hbFNpZ24oX2NoYXIpO1xuXG4gICAgdmFyIF9pc01pbnVzU2lnbiA9IGlzTWludXNTaWduKF9jaGFyKTtcblxuICAgIGlmICg0OCA8PSBjb2RlICYmIGNvZGUgPD0gNTcgfHwgX2lzTWludXNTaWduIHx8IF9pc0RlY2ltYWxTaWduKSB7XG4gICAgICBpbnNlcnQoZXZlbnQsIF9jaGFyLCB7XG4gICAgICAgIGlzRGVjaW1hbFNpZ246IF9pc0RlY2ltYWxTaWduLFxuICAgICAgICBpc01pbnVzU2lnbjogX2lzTWludXNTaWduXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUGFzdGUgPSBmdW5jdGlvbiBvblBhc3RlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5yZWFkT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gKGV2ZW50LmNsaXBib2FyZERhdGEgfHwgd2luZG93WydjbGlwYm9hcmREYXRhJ10pLmdldERhdGEoJ1RleHQnKTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICB2YXIgZmlsdGVyZWREYXRhID0gcGFyc2VWYWx1ZShkYXRhKTtcblxuICAgICAgaWYgKGZpbHRlcmVkRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGluc2VydChldmVudCwgZmlsdGVyZWREYXRhLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgYWxsb3dNaW51c1NpZ24gPSBmdW5jdGlvbiBhbGxvd01pbnVzU2lnbigpIHtcbiAgICByZXR1cm4gcHJvcHMubWluID09PSBudWxsIHx8IHByb3BzLm1pbiA8IDA7XG4gIH07XG5cbiAgdmFyIGlzTWludXNTaWduID0gZnVuY3Rpb24gaXNNaW51c1NpZ24oX2NoYXIyKSB7XG4gICAgaWYgKF9taW51c1NpZ24uY3VycmVudC50ZXN0KF9jaGFyMikgfHwgX2NoYXIyID09PSAnLScpIHtcbiAgICAgIF9taW51c1NpZ24uY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciBpc0RlY2ltYWxTaWduID0gZnVuY3Rpb24gaXNEZWNpbWFsU2lnbihfY2hhcjMpIHtcbiAgICBpZiAoX2RlY2ltYWwuY3VycmVudC50ZXN0KF9jaGFyMykpIHtcbiAgICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgaXNEZWNpbWFsTW9kZSA9IGZ1bmN0aW9uIGlzRGVjaW1hbE1vZGUoKSB7XG4gICAgcmV0dXJuIHByb3BzLm1vZGUgPT09ICdkZWNpbWFsJztcbiAgfTtcblxuICB2YXIgZ2V0RGVjaW1hbENoYXJJbmRleGVzID0gZnVuY3Rpb24gZ2V0RGVjaW1hbENoYXJJbmRleGVzKHZhbCkge1xuICAgIHZhciBkZWNpbWFsQ2hhckluZGV4ID0gdmFsLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIGZpbHRlcmVkVmFsID0gdmFsLnJlcGxhY2UoX3ByZWZpeC5jdXJyZW50LCAnJykudHJpbSgpLnJlcGxhY2UoL1xccy9nLCAnJykucmVwbGFjZShfY3VycmVuY3kuY3VycmVudCwgJycpO1xuICAgIHZhciBkZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeCA9IGZpbHRlcmVkVmFsLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlY2ltYWxDaGFySW5kZXg6IGRlY2ltYWxDaGFySW5kZXgsXG4gICAgICBkZWNpbWFsQ2hhckluZGV4V2l0aG91dFByZWZpeDogZGVjaW1hbENoYXJJbmRleFdpdGhvdXRQcmVmaXhcbiAgICB9O1xuICB9O1xuXG4gIHZhciBnZXRDaGFySW5kZXhlcyA9IGZ1bmN0aW9uIGdldENoYXJJbmRleGVzKHZhbCkge1xuICAgIHZhciBkZWNpbWFsQ2hhckluZGV4ID0gdmFsLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIG1pbnVzQ2hhckluZGV4ID0gdmFsLnNlYXJjaChfbWludXNTaWduLmN1cnJlbnQpO1xuICAgIF9taW51c1NpZ24uY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgIHZhciBzdWZmaXhDaGFySW5kZXggPSB2YWwuc2VhcmNoKF9zdWZmaXguY3VycmVudCk7XG4gICAgX3N1ZmZpeC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIGN1cnJlbmN5Q2hhckluZGV4ID0gdmFsLnNlYXJjaChfY3VycmVuY3kuY3VycmVudCk7XG4gICAgX2N1cnJlbmN5LmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgZGVjaW1hbENoYXJJbmRleDogZGVjaW1hbENoYXJJbmRleCxcbiAgICAgIG1pbnVzQ2hhckluZGV4OiBtaW51c0NoYXJJbmRleCxcbiAgICAgIHN1ZmZpeENoYXJJbmRleDogc3VmZml4Q2hhckluZGV4LFxuICAgICAgY3VycmVuY3lDaGFySW5kZXg6IGN1cnJlbmN5Q2hhckluZGV4XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaW5zZXJ0ID0gZnVuY3Rpb24gaW5zZXJ0KGV2ZW50LCB0ZXh0KSB7XG4gICAgdmFyIHNpZ24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHtcbiAgICAgIGlzRGVjaW1hbFNpZ246IGZhbHNlLFxuICAgICAgaXNNaW51c1NpZ246IGZhbHNlXG4gICAgfTtcbiAgICB2YXIgbWludXNDaGFySW5kZXhPblRleHQgPSB0ZXh0LnNlYXJjaChfbWludXNTaWduLmN1cnJlbnQpO1xuICAgIF9taW51c1NpZ24uY3VycmVudC5sYXN0SW5kZXggPSAwO1xuXG4gICAgaWYgKCFhbGxvd01pbnVzU2lnbigpICYmIG1pbnVzQ2hhckluZGV4T25UZXh0ICE9PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGlucHV0UmVmLmN1cnJlbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgdmFyIHNlbGVjdGlvbkVuZCA9IGlucHV0UmVmLmN1cnJlbnQuc2VsZWN0aW9uRW5kO1xuICAgIHZhciBpbnB1dFZhbHVlID0gaW5wdXRSZWYuY3VycmVudC52YWx1ZS50cmltKCk7XG5cbiAgICB2YXIgX2dldENoYXJJbmRleGVzID0gZ2V0Q2hhckluZGV4ZXMoaW5wdXRWYWx1ZSksXG4gICAgICAgIGRlY2ltYWxDaGFySW5kZXggPSBfZ2V0Q2hhckluZGV4ZXMuZGVjaW1hbENoYXJJbmRleCxcbiAgICAgICAgbWludXNDaGFySW5kZXggPSBfZ2V0Q2hhckluZGV4ZXMubWludXNDaGFySW5kZXgsXG4gICAgICAgIHN1ZmZpeENoYXJJbmRleCA9IF9nZXRDaGFySW5kZXhlcy5zdWZmaXhDaGFySW5kZXgsXG4gICAgICAgIGN1cnJlbmN5Q2hhckluZGV4ID0gX2dldENoYXJJbmRleGVzLmN1cnJlbmN5Q2hhckluZGV4O1xuXG4gICAgdmFyIG5ld1ZhbHVlU3RyO1xuXG4gICAgaWYgKHNpZ24uaXNNaW51c1NpZ24pIHtcbiAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgICBuZXdWYWx1ZVN0ciA9IGlucHV0VmFsdWU7XG5cbiAgICAgICAgaWYgKG1pbnVzQ2hhckluZGV4ID09PSAtMSB8fCBzZWxlY3Rpb25FbmQgIT09IDApIHtcbiAgICAgICAgICBuZXdWYWx1ZVN0ciA9IGluc2VydFRleHQoaW5wdXRWYWx1ZSwgdGV4dCwgMCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgdGV4dCwgJ2luc2VydCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2lnbi5pc0RlY2ltYWxTaWduKSB7XG4gICAgICBpZiAoZGVjaW1hbENoYXJJbmRleCA+IDAgJiYgc2VsZWN0aW9uU3RhcnQgPT09IGRlY2ltYWxDaGFySW5kZXgpIHtcbiAgICAgICAgdXBkYXRlVmFsdWUoZXZlbnQsIGlucHV0VmFsdWUsIHRleHQsICdpbnNlcnQnKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVjaW1hbENoYXJJbmRleCA+IHNlbGVjdGlvblN0YXJ0ICYmIGRlY2ltYWxDaGFySW5kZXggPCBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIHRleHQsICdpbnNlcnQnKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVjaW1hbENoYXJJbmRleCA9PT0gLTEgJiYgcHJvcHMubWF4RnJhY3Rpb25EaWdpdHMpIHtcbiAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIHRleHQsICdpbnNlcnQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1heEZyYWN0aW9uRGlnaXRzID0gbnVtYmVyRm9ybWF0LmN1cnJlbnQucmVzb2x2ZWRPcHRpb25zKCkubWF4aW11bUZyYWN0aW9uRGlnaXRzO1xuICAgICAgdmFyIG9wZXJhdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICE9PSBzZWxlY3Rpb25FbmQgPyAncmFuZ2UtaW5zZXJ0JyA6ICdpbnNlcnQnO1xuXG4gICAgICBpZiAoZGVjaW1hbENoYXJJbmRleCA+IDAgJiYgc2VsZWN0aW9uU3RhcnQgPiBkZWNpbWFsQ2hhckluZGV4KSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCArIHRleHQubGVuZ3RoIC0gKGRlY2ltYWxDaGFySW5kZXggKyAxKSA8PSBtYXhGcmFjdGlvbkRpZ2l0cykge1xuICAgICAgICAgIHZhciBjaGFySW5kZXggPSBjdXJyZW5jeUNoYXJJbmRleCA+PSBzZWxlY3Rpb25TdGFydCA/IGN1cnJlbmN5Q2hhckluZGV4IC0gMSA6IHN1ZmZpeENoYXJJbmRleCA+PSBzZWxlY3Rpb25TdGFydCA/IHN1ZmZpeENoYXJJbmRleCA6IGlucHV0VmFsdWUubGVuZ3RoO1xuICAgICAgICAgIG5ld1ZhbHVlU3RyID0gaW5wdXRWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkgKyB0ZXh0ICsgaW5wdXRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydCArIHRleHQubGVuZ3RoLCBjaGFySW5kZXgpICsgaW5wdXRWYWx1ZS5zbGljZShjaGFySW5kZXgpO1xuICAgICAgICAgIHVwZGF0ZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZVN0ciwgdGV4dCwgb3BlcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWVTdHIgPSBpbnNlcnRUZXh0KGlucHV0VmFsdWUsIHRleHQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB1cGRhdGVWYWx1ZShldmVudCwgbmV3VmFsdWVTdHIsIHRleHQsIG9wZXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbnNlcnRUZXh0ID0gZnVuY3Rpb24gaW5zZXJ0VGV4dCh2YWx1ZSwgdGV4dCwgc3RhcnQsIGVuZCkge1xuICAgIHZhciB0ZXh0U3BsaXQgPSB0ZXh0ID09PSAnLicgPyB0ZXh0IDogdGV4dC5zcGxpdCgnLicpO1xuXG4gICAgaWYgKHRleHRTcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgIHZhciBkZWNpbWFsQ2hhckluZGV4ID0gdmFsdWUuc2xpY2Uoc3RhcnQsIGVuZCkuc2VhcmNoKF9kZWNpbWFsLmN1cnJlbnQpO1xuICAgICAgX2RlY2ltYWwuY3VycmVudC5sYXN0SW5kZXggPSAwO1xuICAgICAgcmV0dXJuIGRlY2ltYWxDaGFySW5kZXggPiAwID8gdmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgZm9ybWF0VmFsdWUodGV4dCkgKyB2YWx1ZS5zbGljZShlbmQpIDogdmFsdWUgfHwgZm9ybWF0VmFsdWUodGV4dCk7XG4gICAgfSBlbHNlIGlmIChlbmQgLSBzdGFydCA9PT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZm9ybWF0VmFsdWUodGV4dCk7XG4gICAgfSBlbHNlIGlmIChzdGFydCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRleHQgKyB2YWx1ZS5zbGljZShlbmQpO1xuICAgIH0gZWxzZSBpZiAoZW5kID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgwLCBzdGFydCkgKyB0ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgdGV4dCArIHZhbHVlLnNsaWNlKGVuZCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBkZWxldGVSYW5nZSA9IGZ1bmN0aW9uIGRlbGV0ZVJhbmdlKHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIG5ld1ZhbHVlU3RyO1xuICAgIGlmIChlbmQgLSBzdGFydCA9PT0gdmFsdWUubGVuZ3RoKSBuZXdWYWx1ZVN0ciA9ICcnO2Vsc2UgaWYgKHN0YXJ0ID09PSAwKSBuZXdWYWx1ZVN0ciA9IHZhbHVlLnNsaWNlKGVuZCk7ZWxzZSBpZiAoZW5kID09PSB2YWx1ZS5sZW5ndGgpIG5ld1ZhbHVlU3RyID0gdmFsdWUuc2xpY2UoMCwgc3RhcnQpO2Vsc2UgbmV3VmFsdWVTdHIgPSB2YWx1ZS5zbGljZSgwLCBzdGFydCkgKyB2YWx1ZS5zbGljZShlbmQpO1xuICAgIHJldHVybiBuZXdWYWx1ZVN0cjtcbiAgfTtcblxuICB2YXIgaW5pdEN1cnNvciA9IGZ1bmN0aW9uIGluaXRDdXJzb3IoKSB7XG4gICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gaW5wdXRSZWYuY3VycmVudC5zZWxlY3Rpb25TdGFydDtcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgdmFyIHZhbHVlTGVuZ3RoID0gaW5wdXRWYWx1ZS5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gbnVsbDsgLy8gcmVtb3ZlIHByZWZpeFxuXG4gICAgdmFyIHByZWZpeExlbmd0aCA9IChwcmVmaXhDaGFyLmN1cnJlbnQgfHwgJycpLmxlbmd0aDtcbiAgICBpbnB1dFZhbHVlID0gaW5wdXRWYWx1ZS5yZXBsYWNlKF9wcmVmaXguY3VycmVudCwgJycpO1xuICAgIHNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uU3RhcnQgLSBwcmVmaXhMZW5ndGg7XG5cbiAgICB2YXIgX2NoYXI0ID0gaW5wdXRWYWx1ZS5jaGFyQXQoc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgaWYgKGlzTnVtZXJhbENoYXIoX2NoYXI0KSkge1xuICAgICAgcmV0dXJuIHNlbGVjdGlvblN0YXJ0ICsgcHJlZml4TGVuZ3RoO1xuICAgIH0gLy9sZWZ0XG5cblxuICAgIHZhciBpID0gc2VsZWN0aW9uU3RhcnQgLSAxO1xuXG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgX2NoYXI0ID0gaW5wdXRWYWx1ZS5jaGFyQXQoaSk7XG5cbiAgICAgIGlmIChpc051bWVyYWxDaGFyKF9jaGFyNCkpIHtcbiAgICAgICAgaW5kZXggPSBpICsgcHJlZml4TGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2V0U2VsZWN0aW9uUmFuZ2UoaW5kZXggKyAxLCBpbmRleCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpID0gc2VsZWN0aW9uU3RhcnQ7XG5cbiAgICAgIHdoaWxlIChpIDwgdmFsdWVMZW5ndGgpIHtcbiAgICAgICAgX2NoYXI0ID0gaW5wdXRWYWx1ZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgaWYgKGlzTnVtZXJhbENoYXIoX2NoYXI0KSkge1xuICAgICAgICAgIGluZGV4ID0gaSArIHByZWZpeExlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2V0U2VsZWN0aW9uUmFuZ2UoaW5kZXgsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXggfHwgMDtcbiAgfTtcblxuICB2YXIgb25JbnB1dENsaWNrID0gZnVuY3Rpb24gb25JbnB1dENsaWNrKCkge1xuICAgIGluaXRDdXJzb3IoKTtcbiAgfTtcblxuICB2YXIgaXNOdW1lcmFsQ2hhciA9IGZ1bmN0aW9uIGlzTnVtZXJhbENoYXIoX2NoYXI1KSB7XG4gICAgaWYgKF9jaGFyNS5sZW5ndGggPT09IDEgJiYgKF9udW1lcmFsLmN1cnJlbnQudGVzdChfY2hhcjUpIHx8IF9kZWNpbWFsLmN1cnJlbnQudGVzdChfY2hhcjUpIHx8IF9ncm91cC5jdXJyZW50LnRlc3QoX2NoYXI1KSB8fCBfbWludXNTaWduLmN1cnJlbnQudGVzdChfY2hhcjUpKSkge1xuICAgICAgcmVzZXRSZWdleCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlc2V0UmVnZXggPSBmdW5jdGlvbiByZXNldFJlZ2V4KCkge1xuICAgIF9udW1lcmFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICBfZGVjaW1hbC5jdXJyZW50Lmxhc3RJbmRleCA9IDA7XG4gICAgX2dyb3VwLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICBfbWludXNTaWduLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgfTtcblxuICB2YXIgdXBkYXRlVmFsdWUgPSBmdW5jdGlvbiB1cGRhdGVWYWx1ZShldmVudCwgdmFsdWVTdHIsIGluc2VydGVkVmFsdWVTdHIsIG9wZXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuICAgIHZhciBuZXdWYWx1ZSA9IG51bGw7XG5cbiAgICBpZiAodmFsdWVTdHIgIT0gbnVsbCkge1xuICAgICAgbmV3VmFsdWUgPSBldmFsdWF0ZUVtcHR5KHBhcnNlVmFsdWUodmFsdWVTdHIpKTtcbiAgICAgIHVwZGF0ZUlucHV0KG5ld1ZhbHVlLCBpbnNlcnRlZFZhbHVlU3RyLCBvcGVyYXRpb24sIHZhbHVlU3RyKTtcbiAgICAgIGhhbmRsZU9uQ2hhbmdlKGV2ZW50LCBjdXJyZW50VmFsdWUsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGV2YWx1YXRlRW1wdHkgPSBmdW5jdGlvbiBldmFsdWF0ZUVtcHR5KG5ld1ZhbHVlKSB7XG4gICAgcmV0dXJuICFuZXdWYWx1ZSAmJiAhcHJvcHMuYWxsb3dFbXB0eSA/IHByb3BzLm1pbiB8fCAwIDogbmV3VmFsdWU7XG4gIH07XG5cbiAgdmFyIGhhbmRsZU9uQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlT25DaGFuZ2UoZXZlbnQsIGN1cnJlbnRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBpZiAocHJvcHMub25DaGFuZ2UgJiYgaXNWYWx1ZUNoYW5nZWQoY3VycmVudFZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIHZhbHVlOiBuZXdWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc1ZhbHVlQ2hhbmdlZCA9IGZ1bmN0aW9uIGlzVmFsdWVDaGFuZ2VkKGN1cnJlbnRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09IG51bGwgJiYgY3VycmVudFZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobmV3VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIHBhcnNlZEN1cnJlbnRWYWx1ZSA9IHR5cGVvZiBjdXJyZW50VmFsdWUgPT09ICdzdHJpbmcnID8gcGFyc2VWYWx1ZShjdXJyZW50VmFsdWUpIDogY3VycmVudFZhbHVlO1xuICAgICAgcmV0dXJuIG5ld1ZhbHVlICE9PSBwYXJzZWRDdXJyZW50VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciB2YWxpZGF0ZVZhbHVlID0gZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJy0nIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5taW4gIT09IG51bGwgJiYgdmFsdWUgPCBwcm9wcy5taW4pIHtcbiAgICAgIHJldHVybiBwcm9wcy5taW47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1heCAhPT0gbnVsbCAmJiB2YWx1ZSA+IHByb3BzLm1heCkge1xuICAgICAgcmV0dXJuIHByb3BzLm1heDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUlucHV0ID0gZnVuY3Rpb24gdXBkYXRlSW5wdXQodmFsdWUsIGluc2VydGVkVmFsdWVTdHIsIG9wZXJhdGlvbiwgdmFsdWVTdHIpIHtcbiAgICBpbnNlcnRlZFZhbHVlU3RyID0gaW5zZXJ0ZWRWYWx1ZVN0ciB8fCAnJztcbiAgICB2YXIgaW5wdXRFbCA9IGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgdmFyIGlucHV0VmFsdWUgPSBpbnB1dEVsLnZhbHVlO1xuICAgIHZhciBuZXdWYWx1ZSA9IGZvcm1hdFZhbHVlKHZhbHVlKTtcbiAgICB2YXIgY3VycmVudExlbmd0aCA9IGlucHV0VmFsdWUubGVuZ3RoO1xuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZVN0cikge1xuICAgICAgbmV3VmFsdWUgPSBjb25jYXRWYWx1ZXMobmV3VmFsdWUsIHZhbHVlU3RyKTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudExlbmd0aCA9PT0gMCkge1xuICAgICAgaW5wdXRFbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZSgwLCAwKTtcbiAgICAgIHZhciBpbmRleCA9IGluaXRDdXJzb3IoKTtcbiAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSBpbmRleCArIGluc2VydGVkVmFsdWVTdHIubGVuZ3RoO1xuICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25FbmQsIHNlbGVjdGlvbkVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGlucHV0RWwuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICB2YXIgX3NlbGVjdGlvbkVuZCA9IGlucHV0RWwuc2VsZWN0aW9uRW5kO1xuICAgICAgaW5wdXRFbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgdmFyIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcblxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3JhbmdlLWluc2VydCcpIHtcbiAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBwYXJzZVZhbHVlKChpbnB1dFZhbHVlIHx8ICcnKS5zbGljZSgwLCBzZWxlY3Rpb25TdGFydCkpO1xuICAgICAgICB2YXIgc3RhcnRWYWx1ZVN0ciA9IHN0YXJ0VmFsdWUgIT09IG51bGwgPyBzdGFydFZhbHVlLnRvU3RyaW5nKCkgOiAnJztcbiAgICAgICAgdmFyIHN0YXJ0RXhwciA9IHN0YXJ0VmFsdWVTdHIuc3BsaXQoJycpLmpvaW4oXCIoXCIuY29uY2F0KGdyb3VwQ2hhci5jdXJyZW50LCBcIik/XCIpKTtcbiAgICAgICAgdmFyIHNSZWdleCA9IG5ldyBSZWdFeHAoc3RhcnRFeHByLCAnZycpO1xuICAgICAgICBzUmVnZXgudGVzdChuZXdWYWx1ZSk7XG4gICAgICAgIHZhciB0RXhwciA9IGluc2VydGVkVmFsdWVTdHIuc3BsaXQoJycpLmpvaW4oXCIoXCIuY29uY2F0KGdyb3VwQ2hhci5jdXJyZW50LCBcIik/XCIpKTtcbiAgICAgICAgdmFyIHRSZWdleCA9IG5ldyBSZWdFeHAodEV4cHIsICdnJyk7XG4gICAgICAgIHRSZWdleC50ZXN0KG5ld1ZhbHVlLnNsaWNlKHNSZWdleC5sYXN0SW5kZXgpKTtcbiAgICAgICAgX3NlbGVjdGlvbkVuZCA9IHNSZWdleC5sYXN0SW5kZXggKyB0UmVnZXgubGFzdEluZGV4O1xuICAgICAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKF9zZWxlY3Rpb25FbmQsIF9zZWxlY3Rpb25FbmQpO1xuICAgICAgfSBlbHNlIGlmIChuZXdMZW5ndGggPT09IGN1cnJlbnRMZW5ndGgpIHtcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2luc2VydCcgfHwgb3BlcmF0aW9uID09PSAnZGVsZXRlLWJhY2stc2luZ2xlJykgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kICsgMSwgX3NlbGVjdGlvbkVuZCArIDEpO2Vsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJ2RlbGV0ZS1zaW5nbGUnKSBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKF9zZWxlY3Rpb25FbmQgLSAxLCBfc2VsZWN0aW9uRW5kIC0gMSk7ZWxzZSBpZiAob3BlcmF0aW9uID09PSAnZGVsZXRlLXJhbmdlJyB8fCBvcGVyYXRpb24gPT09ICdzcGluJykgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kLCBfc2VsZWN0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSBpZiAob3BlcmF0aW9uID09PSAnZGVsZXRlLWJhY2stc2luZ2xlJykge1xuICAgICAgICB2YXIgcHJldkNoYXIgPSBpbnB1dFZhbHVlLmNoYXJBdChfc2VsZWN0aW9uRW5kIC0gMSk7XG4gICAgICAgIHZhciBuZXh0Q2hhciA9IGlucHV0VmFsdWUuY2hhckF0KF9zZWxlY3Rpb25FbmQpO1xuICAgICAgICB2YXIgZGlmZiA9IGN1cnJlbnRMZW5ndGggLSBuZXdMZW5ndGg7XG5cbiAgICAgICAgdmFyIGlzR3JvdXBDaGFyID0gX2dyb3VwLmN1cnJlbnQudGVzdChuZXh0Q2hhcik7XG5cbiAgICAgICAgaWYgKGlzR3JvdXBDaGFyICYmIGRpZmYgPT09IDEpIHtcbiAgICAgICAgICBfc2VsZWN0aW9uRW5kICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzR3JvdXBDaGFyICYmIGlzTnVtZXJhbENoYXIocHJldkNoYXIpKSB7XG4gICAgICAgICAgX3NlbGVjdGlvbkVuZCArPSAtMSAqIGRpZmYgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgX2dyb3VwLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZShfc2VsZWN0aW9uRW5kLCBfc2VsZWN0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5wdXRWYWx1ZSA9PT0gJy0nICYmIG9wZXJhdGlvbiA9PT0gJ2luc2VydCcpIHtcbiAgICAgICAgaW5wdXRFbC5zZXRTZWxlY3Rpb25SYW5nZSgwLCAwKTtcblxuICAgICAgICB2YXIgX2luZGV4MiA9IGluaXRDdXJzb3IoKTtcblxuICAgICAgICB2YXIgX3NlbGVjdGlvbkVuZDIgPSBfaW5kZXgyICsgaW5zZXJ0ZWRWYWx1ZVN0ci5sZW5ndGggKyAxO1xuXG4gICAgICAgIGlucHV0RWwuc2V0U2VsZWN0aW9uUmFuZ2UoX3NlbGVjdGlvbkVuZDIsIF9zZWxlY3Rpb25FbmQyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9zZWxlY3Rpb25FbmQgPSBfc2VsZWN0aW9uRW5kICsgKG5ld0xlbmd0aCAtIGN1cnJlbnRMZW5ndGgpO1xuICAgICAgICBpbnB1dEVsLnNldFNlbGVjdGlvblJhbmdlKF9zZWxlY3Rpb25FbmQsIF9zZWxlY3Rpb25FbmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlucHV0RWwuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgdmFsdWUpO1xuICB9O1xuXG4gIHZhciB1cGRhdGVJbnB1dFZhbHVlID0gZnVuY3Rpb24gdXBkYXRlSW5wdXRWYWx1ZShuZXdWYWx1ZSkge1xuICAgIG5ld1ZhbHVlID0gZXZhbHVhdGVFbXB0eShuZXdWYWx1ZSk7XG4gICAgdmFyIGlucHV0RWwgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgIHZhciB2YWx1ZSA9IGlucHV0RWwudmFsdWU7XG5cbiAgICB2YXIgX2Zvcm1hdHRlZFZhbHVlID0gZm9ybWF0dGVkVmFsdWUobmV3VmFsdWUpO1xuXG4gICAgaWYgKHZhbHVlICE9PSBfZm9ybWF0dGVkVmFsdWUpIHtcbiAgICAgIGlucHV0RWwudmFsdWUgPSBfZm9ybWF0dGVkVmFsdWU7XG4gICAgICBpbnB1dEVsLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZvcm1hdHRlZFZhbHVlID0gZnVuY3Rpb24gZm9ybWF0dGVkVmFsdWUodmFsKSB7XG4gICAgcmV0dXJuIGZvcm1hdFZhbHVlKGV2YWx1YXRlRW1wdHkodmFsKSk7XG4gIH07XG5cbiAgdmFyIGNvbmNhdFZhbHVlcyA9IGZ1bmN0aW9uIGNvbmNhdFZhbHVlcyh2YWwxLCB2YWwyKSB7XG4gICAgaWYgKHZhbDEgJiYgdmFsMikge1xuICAgICAgdmFyIGRlY2ltYWxDaGFySW5kZXggPSB2YWwyLnNlYXJjaChfZGVjaW1hbC5jdXJyZW50KTtcbiAgICAgIF9kZWNpbWFsLmN1cnJlbnQubGFzdEluZGV4ID0gMDtcbiAgICAgIHJldHVybiBkZWNpbWFsQ2hhckluZGV4ICE9PSAtMSA/IHZhbDEuc3BsaXQoX2RlY2ltYWwuY3VycmVudClbMF0gKyB2YWwyLnNsaWNlKGRlY2ltYWxDaGFySW5kZXgpIDogdmFsMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsMTtcbiAgfTtcblxuICB2YXIgZ2V0RGVjaW1hbExlbmd0aCA9IGZ1bmN0aW9uIGdldERlY2ltYWxMZW5ndGgodmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHZhciB2YWx1ZVNwbGl0ID0gdmFsdWUuc3BsaXQoX2RlY2ltYWwuY3VycmVudCk7XG5cbiAgICAgIGlmICh2YWx1ZVNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICByZXR1cm4gdmFsdWVTcGxpdFsxXS5yZXBsYWNlKF9zdWZmaXguY3VycmVudCwgJycpLnRyaW0oKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoX2N1cnJlbmN5LmN1cnJlbnQsICcnKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZU1vZGVsID0gZnVuY3Rpb24gdXBkYXRlTW9kZWwoZXZlbnQsIHZhbHVlKSB7XG4gICAgaWYgKHByb3BzLm9uVmFsdWVDaGFuZ2UpIHtcbiAgICAgIHByb3BzLm9uVmFsdWVDaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25JbnB1dEZvY3VzID0gZnVuY3Rpb24gb25JbnB1dEZvY3VzKGV2ZW50KSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKHRydWUpO1xuICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXRCbHVyID0gZnVuY3Rpb24gb25JbnB1dEJsdXIoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUoZmFsc2UpO1xuXG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlO1xuXG4gICAgICBpZiAoaXNWYWx1ZUNoYW5nZWQoY3VycmVudFZhbHVlLCBwcm9wcy52YWx1ZSkpIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gdmFsaWRhdGVWYWx1ZShwYXJzZVZhbHVlKGN1cnJlbnRWYWx1ZSkpO1xuICAgICAgICB1cGRhdGVJbnB1dFZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgICAgdXBkYXRlTW9kZWwoZXZlbnQsIG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wcy5vbkJsdXIgJiYgcHJvcHMub25CbHVyKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgY2xlYXJUaW1lciA9IGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG4gICAgaWYgKHRpbWVyLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIuY3VycmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjaGFuZ2VWYWx1ZSA9IGZ1bmN0aW9uIGNoYW5nZVZhbHVlKCkge1xuICAgIHZhciBuZXdWYWx1ZSA9IHZhbGlkYXRlVmFsdWUocHJvcHMudmFsdWUpO1xuICAgIHVwZGF0ZUlucHV0VmFsdWUobmV3VmFsdWUpO1xuXG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSBudWxsICYmIHByb3BzLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgdXBkYXRlTW9kZWwobnVsbCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0Rm9ybWF0dGVyID0gZnVuY3Rpb24gZ2V0Rm9ybWF0dGVyKCkge1xuICAgIHJldHVybiBudW1iZXJGb3JtYXQuY3VycmVudDtcbiAgfTtcblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRGb3JtYXR0ZXI6IGdldEZvcm1hdHRlcixcbiAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuICAgICAgICByZXR1cm4gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3RVdGlscy5jb21iaW5lZFJlZnMoaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmKTtcbiAgfSwgW2lucHV0UmVmLCBwcm9wcy5pbnB1dFJlZl0pO1xuICB1c2VNb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3RydWN0UGFyc2VyKCk7XG4gICAgdmFyIG5ld1ZhbHVlID0gdmFsaWRhdGVWYWx1ZShwcm9wcy52YWx1ZSk7XG5cbiAgICBpZiAocHJvcHMudmFsdWUgIT09IG51bGwgJiYgcHJvcHMudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICB1cGRhdGVNb2RlbChudWxsLCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdHJ1Y3RQYXJzZXIoKTtcbiAgICBjaGFuZ2VWYWx1ZSgpO1xuICB9LCBbcHJvcHMubG9jYWxlLCBwcm9wcy5sb2NhbGVNYXRjaGVyLCBwcm9wcy5tb2RlLCBwcm9wcy5jdXJyZW5jeSwgcHJvcHMuY3VycmVuY3lEaXNwbGF5LCBwcm9wcy51c2VHcm91cGluZywgcHJvcHMubWluRnJhY3Rpb25EaWdpdHMsIHByb3BzLm1heEZyYWN0aW9uRGlnaXRzLCBwcm9wcy5zdWZmaXgsIHByb3BzLnByZWZpeF0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNoYW5nZVZhbHVlKCk7XG4gIH0sIFtwcm9wcy52YWx1ZV0pO1xuXG4gIHZhciBjcmVhdGVJbnB1dEVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVJbnB1dEVsZW1lbnQoKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtaW5wdXRudW1iZXItaW5wdXQnLCBwcm9wcy5pbnB1dENsYXNzTmFtZSk7XG4gICAgdmFyIHZhbHVlVG9SZW5kZXIgPSBmb3JtYXR0ZWRWYWx1ZShwcm9wcy52YWx1ZSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0VGV4dCwge1xuICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgIGlkOiBwcm9wcy5pbnB1dElkLFxuICAgICAgc3R5bGU6IHByb3BzLmlucHV0U3R5bGUsXG4gICAgICByb2xlOiBcInNwaW5idXR0b25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgZGVmYXVsdFZhbHVlOiB2YWx1ZVRvUmVuZGVyLFxuICAgICAgdHlwZTogcHJvcHMudHlwZSxcbiAgICAgIHNpemU6IHByb3BzLnNpemUsXG4gICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICBpbnB1dE1vZGU6IGlucHV0TW9kZSxcbiAgICAgIG1heExlbmd0aDogcHJvcHMubWF4TGVuZ3RoLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgcmVxdWlyZWQ6IHByb3BzLnJlcXVpcmVkLFxuICAgICAgcGF0dGVybjogcHJvcHMucGF0dGVybixcbiAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgIHJlYWRPbmx5OiBwcm9wcy5yZWFkT25seSxcbiAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICBhdXRvRm9jdXM6IHByb3BzLmF1dG9Gb2N1cyxcbiAgICAgIG9uS2V5RG93bjogb25JbnB1dEtleURvd24sXG4gICAgICBvbktleVByZXNzOiBvbklucHV0S2V5UHJlc3MsXG4gICAgICBvbklucHV0OiBvbklucHV0LFxuICAgICAgb25DbGljazogb25JbnB1dENsaWNrLFxuICAgICAgb25CbHVyOiBvbklucHV0Qmx1cixcbiAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgIG9uUGFzdGU6IG9uUGFzdGUsXG4gICAgICBtaW46IHByb3BzLm1pbixcbiAgICAgIG1heDogcHJvcHMubWF4LFxuICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IHByb3BzLm1pbixcbiAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBwcm9wcy5tYXgsXG4gICAgICBcImFyaWEtdmFsdWVub3dcIjogcHJvcHMudmFsdWUsXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBwcm9wcy5hcmlhTGFiZWxsZWRCeVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVVcEJ1dHRvbiA9IGZ1bmN0aW9uIGNyZWF0ZVVwQnV0dG9uKCkge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWlucHV0bnVtYmVyLWJ1dHRvbiBwLWlucHV0bnVtYmVyLWJ1dHRvbi11cCBwLWJ1dHRvbiBwLWJ1dHRvbi1pY29uLW9ubHkgcC1jb21wb25lbnQnLCB7XG4gICAgICAncC1kaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkXG4gICAgfSwgcHJvcHMuaW5jcmVtZW50QnV0dG9uQ2xhc3NOYW1lKTtcbiAgICB2YXIgaWNvbiA9IGNsYXNzTmFtZXMoJ3AtYnV0dG9uLWljb24nLCBwcm9wcy5pbmNyZW1lbnRCdXR0b25JY29uKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgb25Nb3VzZUxlYXZlOiBvblVwQnV0dG9uTW91c2VMZWF2ZSxcbiAgICAgIG9uTW91c2VEb3duOiBvblVwQnV0dG9uTW91c2VEb3duLFxuICAgICAgb25Nb3VzZVVwOiBvblVwQnV0dG9uTW91c2VVcCxcbiAgICAgIG9uS2V5RG93bjogb25VcEJ1dHRvbktleURvd24sXG4gICAgICBvbktleVVwOiBvblVwQnV0dG9uS2V5VXAsXG4gICAgICBvblRvdWNoU3RhcnQ6IG9uVXBCdXR0b25Ub3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaEVuZDogb25VcEJ1dHRvblRvdWNoRW5kLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaWNvblxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlRG93bkJ1dHRvbiA9IGZ1bmN0aW9uIGNyZWF0ZURvd25CdXR0b24oKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtaW5wdXRudW1iZXItYnV0dG9uIHAtaW5wdXRudW1iZXItYnV0dG9uLWRvd24gcC1idXR0b24gcC1idXR0b24taWNvbi1vbmx5IHAtY29tcG9uZW50Jywge1xuICAgICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZFxuICAgIH0sIHByb3BzLmRlY3JlbWVudEJ1dHRvbkNsYXNzTmFtZSk7XG4gICAgdmFyIGljb24gPSBjbGFzc05hbWVzKCdwLWJ1dHRvbi1pY29uJywgcHJvcHMuZGVjcmVtZW50QnV0dG9uSWNvbik7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIG9uTW91c2VMZWF2ZTogb25Eb3duQnV0dG9uTW91c2VMZWF2ZSxcbiAgICAgIG9uTW91c2VEb3duOiBvbkRvd25CdXR0b25Nb3VzZURvd24sXG4gICAgICBvbk1vdXNlVXA6IG9uRG93bkJ1dHRvbk1vdXNlVXAsXG4gICAgICBvbktleURvd246IG9uRG93bkJ1dHRvbktleURvd24sXG4gICAgICBvbktleVVwOiBvbkRvd25CdXR0b25LZXlVcCxcbiAgICAgIG9uVG91Y2hTdGFydDogb25Eb3duQnV0dG9uVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hFbmQ6IG9uRG93bkJ1dHRvblRvdWNoRW5kLFxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogaWNvblxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQnV0dG9uR3JvdXAgPSBmdW5jdGlvbiBjcmVhdGVCdXR0b25Hcm91cCgpIHtcbiAgICB2YXIgdXBCdXR0b24gPSBwcm9wcy5zaG93QnV0dG9ucyAmJiBjcmVhdGVVcEJ1dHRvbigpO1xuICAgIHZhciBkb3duQnV0dG9uID0gcHJvcHMuc2hvd0J1dHRvbnMgJiYgY3JlYXRlRG93bkJ1dHRvbigpO1xuXG4gICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1pbnB1dG51bWJlci1idXR0b24tZ3JvdXBcIlxuICAgICAgfSwgdXBCdXR0b24sIGRvd25CdXR0b24pO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgdXBCdXR0b24sIGRvd25CdXR0b24pO1xuICB9O1xuXG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIElucHV0TnVtYmVyLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLWlucHV0bnVtYmVyIHAtY29tcG9uZW50IHAtaW5wdXR3cmFwcGVyJywge1xuICAgICdwLWlucHV0d3JhcHBlci1maWxsZWQnOiBwcm9wcy52YWx1ZSAhPSBudWxsICYmIHByb3BzLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoID4gMCxcbiAgICAncC1pbnB1dHdyYXBwZXItZm9jdXMnOiBmb2N1c2VkU3RhdGUsXG4gICAgJ3AtaW5wdXRudW1iZXItYnV0dG9ucy1zdGFja2VkJzogc3RhY2tlZCxcbiAgICAncC1pbnB1dG51bWJlci1idXR0b25zLWhvcml6b250YWwnOiBob3Jpem9udGFsLFxuICAgICdwLWlucHV0bnVtYmVyLWJ1dHRvbnMtdmVydGljYWwnOiB2ZXJ0aWNhbFxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICB2YXIgaW5wdXRFbGVtZW50ID0gY3JlYXRlSW5wdXRFbGVtZW50KCk7XG4gIHZhciBidXR0b25Hcm91cCA9IGNyZWF0ZUJ1dHRvbkdyb3VwKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgaWQ6IHByb3BzLmlkLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICB9LCBvdGhlclByb3BzKSwgaW5wdXRFbGVtZW50LCBidXR0b25Hcm91cCksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBjb250ZW50OiBwcm9wcy50b29sdGlwXG4gIH0sIHByb3BzLnRvb2x0aXBPcHRpb25zKSkpO1xufSkpO1xuSW5wdXROdW1iZXIuZGlzcGxheU5hbWUgPSAnSW5wdXROdW1iZXInO1xuSW5wdXROdW1iZXIuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdJbnB1dE51bWJlcicsXG4gIHZhbHVlOiBudWxsLFxuICBpbnB1dFJlZjogbnVsbCxcbiAgZm9ybWF0OiB0cnVlLFxuICBzaG93QnV0dG9uczogZmFsc2UsXG4gIGJ1dHRvbkxheW91dDogJ3N0YWNrZWQnLFxuICBpbmNyZW1lbnRCdXR0b25DbGFzc05hbWU6IG51bGwsXG4gIGRlY3JlbWVudEJ1dHRvbkNsYXNzTmFtZTogbnVsbCxcbiAgaW5jcmVtZW50QnV0dG9uSWNvbjogJ3BpIHBpLWFuZ2xlLXVwJyxcbiAgZGVjcmVtZW50QnV0dG9uSWNvbjogJ3BpIHBpLWFuZ2xlLWRvd24nLFxuICBsb2NhbGU6IHVuZGVmaW5lZCxcbiAgbG9jYWxlTWF0Y2hlcjogdW5kZWZpbmVkLFxuICBtb2RlOiAnZGVjaW1hbCcsXG4gIHN1ZmZpeDogbnVsbCxcbiAgcHJlZml4OiBudWxsLFxuICBjdXJyZW5jeTogdW5kZWZpbmVkLFxuICBjdXJyZW5jeURpc3BsYXk6IHVuZGVmaW5lZCxcbiAgdXNlR3JvdXBpbmc6IHRydWUsXG4gIG1pbkZyYWN0aW9uRGlnaXRzOiB1bmRlZmluZWQsXG4gIG1heEZyYWN0aW9uRGlnaXRzOiB1bmRlZmluZWQsXG4gIGlkOiBudWxsLFxuICBuYW1lOiBudWxsLFxuICB0eXBlOiAndGV4dCcsXG4gIGFsbG93RW1wdHk6IHRydWUsXG4gIHN0ZXA6IDEsXG4gIG1pbjogbnVsbCxcbiAgbWF4OiBudWxsLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIHJlcXVpcmVkOiBmYWxzZSxcbiAgdGFiSW5kZXg6IG51bGwsXG4gIHBhdHRlcm46IG51bGwsXG4gIGlucHV0TW9kZTogbnVsbCxcbiAgcGxhY2Vob2xkZXI6IG51bGwsXG4gIHJlYWRPbmx5OiBmYWxzZSxcbiAgc2l6ZTogbnVsbCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgaW5wdXRJZDogbnVsbCxcbiAgYXV0b0ZvY3VzOiBmYWxzZSxcbiAgaW5wdXRTdHlsZTogbnVsbCxcbiAgaW5wdXRDbGFzc05hbWU6IG51bGwsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBhcmlhTGFiZWxsZWRCeTogbnVsbCxcbiAgb25WYWx1ZUNoYW5nZTogbnVsbCxcbiAgb25DaGFuZ2U6IG51bGwsXG4gIG9uQmx1cjogbnVsbCxcbiAgb25Gb2N1czogbnVsbCxcbiAgb25LZXlEb3duOiBudWxsXG59O1xuXG5leHBvcnQgeyBJbnB1dE51bWJlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputnumber/inputnumber.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputtext/inputtext.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/inputtext/inputtext.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputText\": function() { return /* binding */ InputText; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/keyfilter */ \"./node_modules/primereact/keyfilter/keyfilter.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar InputText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(ref);\n\n  var onKeyPress = function onKeyPress(event) {\n    props.onKeyPress && props.onKeyPress(event);\n\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.onKeyPress(event, props.keyfilter, props.validateOnly);\n    }\n  };\n\n  var onInput = function onInput(event) {\n    var validatePattern = true;\n\n    if (props.keyfilter && props.validateOnly) {\n      validatePattern = primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.validate(event, props.keyfilter);\n    }\n\n    props.onInput && props.onInput(event, validatePattern);\n\n    if (!props.onChange) {\n      var target = event.target;\n      primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(target.value) ? primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.addClass(target, 'p-filled') : primereact_utils__WEBPACK_IMPORTED_MODULE_3__.DomHandler.removeClass(target, 'p-filled');\n    }\n  };\n\n  var onPaste = function onPaste(event) {\n    props.onPaste && props.onPaste(event);\n\n    if (props.keyfilter) {\n      primereact_keyfilter__WEBPACK_IMPORTED_MODULE_1__.KeyFilter.onPaste(event, props.keyfilter, props.validateOnly);\n    }\n  };\n\n  var currentValue = elementRef.current && elementRef.current.value;\n  var isFilled = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.value) || primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.defaultValue) || primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(currentValue);\n  }, [props.value, props.defaultValue, currentValue]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.combinedRefs(elementRef, ref);\n  }, [elementRef, ref]);\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_3__.ObjectUtils.findDiffKeys(props, InputText.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_3__.classNames)('p-inputtext p-component', {\n    'p-disabled': props.disabled,\n    'p-filled': isFilled\n  }, props.className);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", _extends({\n    ref: elementRef\n  }, otherProps, {\n    className: className,\n    onInput: onInput,\n    onKeyPress: onKeyPress,\n    onPaste: onPaste\n  })), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_2__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputText.displayName = 'InputText';\nInputText.defaultProps = {\n  __TYPE: 'InputText',\n  keyfilter: null,\n  validateOnly: false,\n  tooltip: null,\n  tooltipOptions: null,\n  onInput: null,\n  onKeyPress: null,\n  onPaste: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHQvaW5wdXR0ZXh0LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0I7QUFDa0I7QUFDSjtBQUMwQjs7QUFFdkU7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2QkFBNkIsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDdEUsbUJBQW1CLHlDQUFZOztBQUUvQjtBQUNBOztBQUVBO0FBQ0EsTUFBTSxzRUFBb0I7QUFDMUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLG9FQUFrQjtBQUMxQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxvRUFBc0IsaUJBQWlCLGlFQUFtQix1QkFBdUIsb0VBQXNCO0FBQzdHO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU0sbUVBQWlCO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsMENBQWE7QUFDOUIsV0FBVyxvRUFBc0IsaUJBQWlCLG9FQUFzQix3QkFBd0Isb0VBQXNCO0FBQ3RILEdBQUc7QUFDSCxFQUFFLDRDQUFlO0FBQ2pCLElBQUksc0VBQXdCO0FBQzVCLEdBQUc7QUFDSCxtQkFBbUIsb0VBQXNCO0FBQ3pDLG1CQUFtQixzRUFBd0I7QUFDM0Msa0JBQWtCLDREQUFVO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGdEQUFtQixDQUFDLDJDQUFjLHFCQUFxQixnREFBbUI7QUFDaEc7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLCtCQUErQixnREFBbUIsQ0FBQyx1REFBTztBQUM3RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHQvaW5wdXR0ZXh0LmVzbS5qcz9kMzg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEtleUZpbHRlciB9IGZyb20gJ3ByaW1lcmVhY3Qva2V5ZmlsdGVyJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdwcmltZXJlYWN0L3Rvb2x0aXAnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIGNsYXNzTmFtZXMsIERvbUhhbmRsZXIgfSBmcm9tICdwcmltZXJlYWN0L3V0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIElucHV0VGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihyZWYpO1xuXG4gIHZhciBvbktleVByZXNzID0gZnVuY3Rpb24gb25LZXlQcmVzcyhldmVudCkge1xuICAgIHByb3BzLm9uS2V5UHJlc3MgJiYgcHJvcHMub25LZXlQcmVzcyhldmVudCk7XG5cbiAgICBpZiAocHJvcHMua2V5ZmlsdGVyKSB7XG4gICAgICBLZXlGaWx0ZXIub25LZXlQcmVzcyhldmVudCwgcHJvcHMua2V5ZmlsdGVyLCBwcm9wcy52YWxpZGF0ZU9ubHkpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25JbnB1dCA9IGZ1bmN0aW9uIG9uSW5wdXQoZXZlbnQpIHtcbiAgICB2YXIgdmFsaWRhdGVQYXR0ZXJuID0gdHJ1ZTtcblxuICAgIGlmIChwcm9wcy5rZXlmaWx0ZXIgJiYgcHJvcHMudmFsaWRhdGVPbmx5KSB7XG4gICAgICB2YWxpZGF0ZVBhdHRlcm4gPSBLZXlGaWx0ZXIudmFsaWRhdGUoZXZlbnQsIHByb3BzLmtleWZpbHRlcik7XG4gICAgfVxuXG4gICAgcHJvcHMub25JbnB1dCAmJiBwcm9wcy5vbklucHV0KGV2ZW50LCB2YWxpZGF0ZVBhdHRlcm4pO1xuXG4gICAgaWYgKCFwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIE9iamVjdFV0aWxzLmlzTm90RW1wdHkodGFyZ2V0LnZhbHVlKSA/IERvbUhhbmRsZXIuYWRkQ2xhc3ModGFyZ2V0LCAncC1maWxsZWQnKSA6IERvbUhhbmRsZXIucmVtb3ZlQ2xhc3ModGFyZ2V0LCAncC1maWxsZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUGFzdGUgPSBmdW5jdGlvbiBvblBhc3RlKGV2ZW50KSB7XG4gICAgcHJvcHMub25QYXN0ZSAmJiBwcm9wcy5vblBhc3RlKGV2ZW50KTtcblxuICAgIGlmIChwcm9wcy5rZXlmaWx0ZXIpIHtcbiAgICAgIEtleUZpbHRlci5vblBhc3RlKGV2ZW50LCBwcm9wcy5rZXlmaWx0ZXIsIHByb3BzLnZhbGlkYXRlT25seSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjdXJyZW50VmFsdWUgPSBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnZhbHVlO1xuICB2YXIgaXNGaWxsZWQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52YWx1ZSkgfHwgT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy5kZWZhdWx0VmFsdWUpIHx8IE9iamVjdFV0aWxzLmlzTm90RW1wdHkoY3VycmVudFZhbHVlKTtcbiAgfSwgW3Byb3BzLnZhbHVlLCBwcm9wcy5kZWZhdWx0VmFsdWUsIGN1cnJlbnRWYWx1ZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhlbGVtZW50UmVmLCByZWYpO1xuICB9LCBbZWxlbWVudFJlZiwgcmVmXSk7XG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIElucHV0VGV4dC5kZWZhdWx0UHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1pbnB1dHRleHQgcC1jb21wb25lbnQnLCB7XG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1maWxsZWQnOiBpc0ZpbGxlZFxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZlxuICB9LCBvdGhlclByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgb25JbnB1dDogb25JbnB1dCxcbiAgICBvbktleVByZXNzOiBvbktleVByZXNzLFxuICAgIG9uUGFzdGU6IG9uUGFzdGVcbiAgfSkpLCBoYXNUb29sdGlwICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgY29udGVudDogcHJvcHMudG9vbHRpcFxuICB9LCBwcm9wcy50b29sdGlwT3B0aW9ucykpKTtcbn0pKTtcbklucHV0VGV4dC5kaXNwbGF5TmFtZSA9ICdJbnB1dFRleHQnO1xuSW5wdXRUZXh0LmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnSW5wdXRUZXh0JyxcbiAga2V5ZmlsdGVyOiBudWxsLFxuICB2YWxpZGF0ZU9ubHk6IGZhbHNlLFxuICB0b29sdGlwOiBudWxsLFxuICB0b29sdGlwT3B0aW9uczogbnVsbCxcbiAgb25JbnB1dDogbnVsbCxcbiAgb25LZXlQcmVzczogbnVsbCxcbiAgb25QYXN0ZTogbnVsbFxufTtcblxuZXhwb3J0IHsgSW5wdXRUZXh0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputtext/inputtext.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/inputtextarea/inputtextarea.esm.js":
/*!********************************************************************!*\
  !*** ./node_modules/primereact/inputtextarea/inputtextarea.esm.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputTextarea\": function() { return /* binding */ InputTextarea; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar InputTextarea = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(ref);\n  var cachedScrollHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n\n  var onFocus = function onFocus(event) {\n    if (props.autoResize) {\n      resize();\n    }\n\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onBlur = function onBlur(event) {\n    if (props.autoResize) {\n      resize();\n    }\n\n    props.onBlur && props.onBlur(event);\n  };\n\n  var onKeyUp = function onKeyUp(event) {\n    if (props.autoResize) {\n      resize();\n    }\n\n    props.onKeyUp && props.onKeyUp(event);\n  };\n\n  var onInput = function onInput(event) {\n    if (props.autoResize) {\n      resize();\n    }\n\n    props.onInput && props.onInput(event);\n    var target = event.target;\n    primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.isNotEmpty(target.value) ? primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.addClass(target, 'p-filled') : primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.removeClass(target, 'p-filled');\n  };\n\n  var resize = function resize(initial) {\n    var inputEl = elementRef.current;\n\n    if (inputEl && primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.isVisible(inputEl)) {\n      if (!cachedScrollHeight.current) {\n        cachedScrollHeight.current = inputEl.scrollHeight;\n        inputEl.style.overflow = 'hidden';\n      }\n\n      if (cachedScrollHeight.current !== inputEl.scrollHeight || initial) {\n        inputEl.style.height = '';\n        inputEl.style.height = inputEl.scrollHeight + 'px';\n\n        if (parseFloat(inputEl.style.height) >= parseFloat(inputEl.style.maxHeight)) {\n          inputEl.style.overflowY = 'scroll';\n          inputEl.style.height = inputEl.style.maxHeight;\n        } else {\n          inputEl.style.overflow = 'hidden';\n        }\n\n        cachedScrollHeight.current = inputEl.scrollHeight;\n      }\n    }\n  };\n\n  var currentValue = elementRef.current && elementRef.current.value;\n  var isFilled = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.isNotEmpty(props.value) || primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.isNotEmpty(props.defaultValue) || primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.isNotEmpty(currentValue);\n  }, [props.value, props.defaultValue, currentValue]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.combinedRefs(elementRef, ref);\n  }, [elementRef, ref]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (props.autoResize) {\n      resize(true);\n    }\n  }, [props.autoResize]);\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.findDiffKeys(props, InputTextarea.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-inputtextarea p-inputtext p-component', {\n    'p-disabled': props.disabled,\n    'p-filled': isFilled,\n    'p-inputtextarea-resizable': props.autoResize\n  }, props.className);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"textarea\", _extends({\n    ref: elementRef\n  }, otherProps, {\n    className: className,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyUp: onKeyUp,\n    onInput: onInput\n  })), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_1__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nInputTextarea.displayName = 'InputTextarea';\nInputTextarea.defaultProps = {\n  __TYPE: 'InputTextarea',\n  autoResize: false,\n  tooltip: null,\n  tooltipOptions: null,\n  onInput: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHRhcmVhL2lucHV0dGV4dGFyZWEuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStCO0FBQ2M7QUFDMEI7O0FBRXZFO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUNBQWlDLHVDQUFVLGVBQWUsNkNBQWdCO0FBQzFFLG1CQUFtQix5Q0FBWTtBQUMvQiwyQkFBMkIseUNBQVk7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLG9FQUFzQixpQkFBaUIsaUVBQW1CLHVCQUF1QixvRUFBc0I7QUFDM0c7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUIsa0VBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQiwwQ0FBYTtBQUM5QixXQUFXLG9FQUFzQixpQkFBaUIsb0VBQXNCLHdCQUF3QixvRUFBc0I7QUFDdEgsR0FBRztBQUNILEVBQUUsNENBQWU7QUFDakIsSUFBSSxzRUFBd0I7QUFDNUIsR0FBRztBQUNILEVBQUUsNENBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQixvRUFBc0I7QUFDekMsbUJBQW1CLHNFQUF3QjtBQUMzQyxrQkFBa0IsNERBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNCQUFzQixnREFBbUIsQ0FBQywyQ0FBYyxxQkFBcUIsZ0RBQW1CO0FBQ2hHO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLCtCQUErQixnREFBbUIsQ0FBQyx1REFBTztBQUM3RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9pbnB1dHRleHRhcmVhL2lucHV0dGV4dGFyZWEuZXNtLmpzP2NiNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ3ByaW1lcmVhY3QvdG9vbHRpcCc7XG5pbXBvcnQgeyBPYmplY3RVdGlscywgY2xhc3NOYW1lcywgRG9tSGFuZGxlciB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgSW5wdXRUZXh0YXJlYSA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihyZWYpO1xuICB2YXIgY2FjaGVkU2Nyb2xsSGVpZ2h0ID0gUmVhY3QudXNlUmVmKDApO1xuXG4gIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgIGlmIChwcm9wcy5hdXRvUmVzaXplKSB7XG4gICAgICByZXNpemUoKTtcbiAgICB9XG5cbiAgICBwcm9wcy5vbkZvY3VzICYmIHByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICB9O1xuXG4gIHZhciBvbkJsdXIgPSBmdW5jdGlvbiBvbkJsdXIoZXZlbnQpIHtcbiAgICBpZiAocHJvcHMuYXV0b1Jlc2l6ZSkge1xuICAgICAgcmVzaXplKCk7XG4gICAgfVxuXG4gICAgcHJvcHMub25CbHVyICYmIHByb3BzLm9uQmx1cihldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uS2V5VXAgPSBmdW5jdGlvbiBvbktleVVwKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmF1dG9SZXNpemUpIHtcbiAgICAgIHJlc2l6ZSgpO1xuICAgIH1cblxuICAgIHByb3BzLm9uS2V5VXAgJiYgcHJvcHMub25LZXlVcChldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiBvbklucHV0KGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmF1dG9SZXNpemUpIHtcbiAgICAgIHJlc2l6ZSgpO1xuICAgIH1cblxuICAgIHByb3BzLm9uSW5wdXQgJiYgcHJvcHMub25JbnB1dChldmVudCk7XG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBPYmplY3RVdGlscy5pc05vdEVtcHR5KHRhcmdldC52YWx1ZSkgPyBEb21IYW5kbGVyLmFkZENsYXNzKHRhcmdldCwgJ3AtZmlsbGVkJykgOiBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKHRhcmdldCwgJ3AtZmlsbGVkJyk7XG4gIH07XG5cbiAgdmFyIHJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShpbml0aWFsKSB7XG4gICAgdmFyIGlucHV0RWwgPSBlbGVtZW50UmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoaW5wdXRFbCAmJiBEb21IYW5kbGVyLmlzVmlzaWJsZShpbnB1dEVsKSkge1xuICAgICAgaWYgKCFjYWNoZWRTY3JvbGxIZWlnaHQuY3VycmVudCkge1xuICAgICAgICBjYWNoZWRTY3JvbGxIZWlnaHQuY3VycmVudCA9IGlucHV0RWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICBpbnB1dEVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWNoZWRTY3JvbGxIZWlnaHQuY3VycmVudCAhPT0gaW5wdXRFbC5zY3JvbGxIZWlnaHQgfHwgaW5pdGlhbCkge1xuICAgICAgICBpbnB1dEVsLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICBpbnB1dEVsLnN0eWxlLmhlaWdodCA9IGlucHV0RWwuc2Nyb2xsSGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICBpZiAocGFyc2VGbG9hdChpbnB1dEVsLnN0eWxlLmhlaWdodCkgPj0gcGFyc2VGbG9hdChpbnB1dEVsLnN0eWxlLm1heEhlaWdodCkpIHtcbiAgICAgICAgICBpbnB1dEVsLnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgICAgICAgIGlucHV0RWwuc3R5bGUuaGVpZ2h0ID0gaW5wdXRFbC5zdHlsZS5tYXhIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXRFbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FjaGVkU2Nyb2xsSGVpZ2h0LmN1cnJlbnQgPSBpbnB1dEVsLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGVsZW1lbnRSZWYuY3VycmVudCAmJiBlbGVtZW50UmVmLmN1cnJlbnQudmFsdWU7XG4gIHZhciBpc0ZpbGxlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnZhbHVlKSB8fCBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLmRlZmF1bHRWYWx1ZSkgfHwgT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShjdXJyZW50VmFsdWUpO1xuICB9LCBbcHJvcHMudmFsdWUsIHByb3BzLmRlZmF1bHRWYWx1ZSwgY3VycmVudFZhbHVlXSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgT2JqZWN0VXRpbHMuY29tYmluZWRSZWZzKGVsZW1lbnRSZWYsIHJlZik7XG4gIH0sIFtlbGVtZW50UmVmLCByZWZdKTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuYXV0b1Jlc2l6ZSkge1xuICAgICAgcmVzaXplKHRydWUpO1xuICAgIH1cbiAgfSwgW3Byb3BzLmF1dG9SZXNpemVdKTtcbiAgdmFyIGhhc1Rvb2x0aXAgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnRvb2x0aXApO1xuICB2YXIgb3RoZXJQcm9wcyA9IE9iamVjdFV0aWxzLmZpbmREaWZmS2V5cyhwcm9wcywgSW5wdXRUZXh0YXJlYS5kZWZhdWx0UHJvcHMpO1xuICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1pbnB1dHRleHRhcmVhIHAtaW5wdXR0ZXh0IHAtY29tcG9uZW50Jywge1xuICAgICdwLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3AtZmlsbGVkJzogaXNGaWxsZWQsXG4gICAgJ3AtaW5wdXR0ZXh0YXJlYS1yZXNpemFibGUnOiBwcm9wcy5hdXRvUmVzaXplXG4gIH0sIHByb3BzLmNsYXNzTmFtZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBlbGVtZW50UmVmXG4gIH0sIG90aGVyUHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgIG9uQmx1cjogb25CbHVyLFxuICAgIG9uS2V5VXA6IG9uS2V5VXAsXG4gICAgb25JbnB1dDogb25JbnB1dFxuICB9KSksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBjb250ZW50OiBwcm9wcy50b29sdGlwXG4gIH0sIHByb3BzLnRvb2x0aXBPcHRpb25zKSkpO1xufSkpO1xuSW5wdXRUZXh0YXJlYS5kaXNwbGF5TmFtZSA9ICdJbnB1dFRleHRhcmVhJztcbklucHV0VGV4dGFyZWEuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdJbnB1dFRleHRhcmVhJyxcbiAgYXV0b1Jlc2l6ZTogZmFsc2UsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBvbklucHV0OiBudWxsXG59O1xuXG5leHBvcnQgeyBJbnB1dFRleHRhcmVhIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/inputtextarea/inputtextarea.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/keyfilter/keyfilter.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/primereact/keyfilter/keyfilter.esm.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyFilter\": function() { return /* binding */ KeyFilter; }\n/* harmony export */ });\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nvar KeyFilter = {\n  /* eslint-disable */\n  DEFAULT_MASKS: {\n    pint: /[\\d]/,\n    \"int\": /[\\d\\-]/,\n    pnum: /[\\d\\.]/,\n    money: /[\\d\\.\\s,]/,\n    num: /[\\d\\-\\.]/,\n    hex: /[0-9a-f]/i,\n    email: /[a-z0-9_\\.\\-@]/i,\n    alpha: /[a-z_]/i,\n    alphanum: /[a-z0-9_]/i\n  },\n\n  /* eslint-enable */\n  getRegex: function getRegex(keyfilter) {\n    return KeyFilter.DEFAULT_MASKS[keyfilter] ? KeyFilter.DEFAULT_MASKS[keyfilter] : keyfilter;\n  },\n  onKeyPress: function onKeyPress(e, keyfilter, validateOnly) {\n    if (validateOnly) {\n      return;\n    }\n\n    if (e.ctrlKey || e.altKey) {\n      return;\n    }\n\n    var isPrintableKey = e.key.length === 1;\n\n    if (!isPrintableKey) {\n      return;\n    }\n\n    var regex = this.getRegex(keyfilter);\n\n    if (!regex.test(e.key)) {\n      e.preventDefault();\n    }\n  },\n  onPaste: function onPaste(e, keyfilter, validateOnly) {\n    if (validateOnly) {\n      return;\n    }\n\n    var regex = this.getRegex(keyfilter);\n    var clipboard = e.clipboardData.getData('text'); // loop over each letter pasted and if any fail prevent the paste\n\n    _toConsumableArray(clipboard).forEach(function (c) {\n      if (!regex.test(c)) {\n        e.preventDefault();\n        return false;\n      }\n    });\n  },\n  validate: function validate(e, keyfilter) {\n    var value = e.target.value,\n        validatePattern = true;\n\n    if (value && !keyfilter.test(value)) {\n      validatePattern = false;\n    }\n\n    return validatePattern;\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9rZXlmaWx0ZXIva2V5ZmlsdGVyLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxREFBcUQ7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9rZXlmaWx0ZXIva2V5ZmlsdGVyLmVzbS5qcz82ZmNlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxudmFyIEtleUZpbHRlciA9IHtcbiAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgREVGQVVMVF9NQVNLUzoge1xuICAgIHBpbnQ6IC9bXFxkXS8sXG4gICAgXCJpbnRcIjogL1tcXGRcXC1dLyxcbiAgICBwbnVtOiAvW1xcZFxcLl0vLFxuICAgIG1vbmV5OiAvW1xcZFxcLlxccyxdLyxcbiAgICBudW06IC9bXFxkXFwtXFwuXS8sXG4gICAgaGV4OiAvWzAtOWEtZl0vaSxcbiAgICBlbWFpbDogL1thLXowLTlfXFwuXFwtQF0vaSxcbiAgICBhbHBoYTogL1thLXpfXS9pLFxuICAgIGFscGhhbnVtOiAvW2EtejAtOV9dL2lcbiAgfSxcblxuICAvKiBlc2xpbnQtZW5hYmxlICovXG4gIGdldFJlZ2V4OiBmdW5jdGlvbiBnZXRSZWdleChrZXlmaWx0ZXIpIHtcbiAgICByZXR1cm4gS2V5RmlsdGVyLkRFRkFVTFRfTUFTS1Nba2V5ZmlsdGVyXSA/IEtleUZpbHRlci5ERUZBVUxUX01BU0tTW2tleWZpbHRlcl0gOiBrZXlmaWx0ZXI7XG4gIH0sXG4gIG9uS2V5UHJlc3M6IGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSwga2V5ZmlsdGVyLCB2YWxpZGF0ZU9ubHkpIHtcbiAgICBpZiAodmFsaWRhdGVPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGUuY3RybEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpc1ByaW50YWJsZUtleSA9IGUua2V5Lmxlbmd0aCA9PT0gMTtcblxuICAgIGlmICghaXNQcmludGFibGVLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcmVnZXggPSB0aGlzLmdldFJlZ2V4KGtleWZpbHRlcik7XG5cbiAgICBpZiAoIXJlZ2V4LnRlc3QoZS5rZXkpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LFxuICBvblBhc3RlOiBmdW5jdGlvbiBvblBhc3RlKGUsIGtleWZpbHRlciwgdmFsaWRhdGVPbmx5KSB7XG4gICAgaWYgKHZhbGlkYXRlT25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZWdleCA9IHRoaXMuZ2V0UmVnZXgoa2V5ZmlsdGVyKTtcbiAgICB2YXIgY2xpcGJvYXJkID0gZS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQnKTsgLy8gbG9vcCBvdmVyIGVhY2ggbGV0dGVyIHBhc3RlZCBhbmQgaWYgYW55IGZhaWwgcHJldmVudCB0aGUgcGFzdGVcblxuICAgIF90b0NvbnN1bWFibGVBcnJheShjbGlwYm9hcmQpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmICghcmVnZXgudGVzdChjKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGUsIGtleWZpbHRlcikge1xuICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICB2YWxpZGF0ZVBhdHRlcm4gPSB0cnVlO1xuXG4gICAgaWYgKHZhbHVlICYmICFrZXlmaWx0ZXIudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHZhbGlkYXRlUGF0dGVybiA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZVBhdHRlcm47XG4gIH1cbn07XG5cbmV4cG9ydCB7IEtleUZpbHRlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/keyfilter/keyfilter.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/multiselect/multiselect.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/primereact/multiselect/multiselect.esm.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MultiSelect\": function() { return /* binding */ MultiSelect; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/tooltip */ \"./node_modules/primereact/tooltip/tooltip.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/virtualscroller */ \"./node_modules/primereact/virtualscroller/virtualscroller.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_ripple__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primereact/ripple */ \"./node_modules/primereact/ripple/ripple.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$1(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar Checkbox = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focusedState = _React$useState2[0],\n      setFocusedState = _React$useState2[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n\n  var onClick = function onClick(event) {\n    if (!props.disabled && !props.readOnly && props.onChange) {\n      var _checked = isChecked();\n\n      if (inputRef.current.checked === _checked) {\n        var value = _checked ? props.falseValue : props.trueValue;\n        props.onChange({\n          originalEvent: event,\n          value: props.value,\n          checked: value,\n          stopPropagation: function stopPropagation() {},\n          preventDefault: function preventDefault() {},\n          target: {\n            type: 'checkbox',\n            name: props.name,\n            id: props.id,\n            value: props.value,\n            checked: value\n          }\n        });\n        inputRef.current.checked = !_checked;\n      }\n\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current);\n      event.preventDefault();\n    }\n  };\n\n  var onFocus = function onFocus() {\n    setFocusedState(true);\n  };\n\n  var onBlur = function onBlur() {\n    setFocusedState(false);\n  };\n\n  var isChecked = function isChecked() {\n    return props.checked === props.trueValue;\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    inputRef.current.checked = isChecked();\n  }, [props.checked, props.trueValue]);\n  var checked = isChecked();\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.findDiffKeys(props, Checkbox.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-checkbox p-component', {\n    'p-checkbox-checked': checked,\n    'p-checkbox-disabled': props.disabled,\n    'p-checkbox-focused': focusedState\n  }, props.className);\n  var boxClass = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-checkbox-box', {\n    'p-highlight': checked,\n    'p-disabled': props.disabled,\n    'p-focus': focusedState\n  });\n  var icon = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.IconUtils.getJSXIcon(checked ? props.icon : '', {\n    className: 'p-checkbox-icon p-c'\n  }, {\n    props: props,\n    checked: checked\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, otherProps, {\n    onClick: onClick,\n    onContextMenu: props.onContextMenu,\n    onMouseDown: props.onMouseDown\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-hidden-accessible\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n    ref: inputRef,\n    type: \"checkbox\",\n    id: props.inputId,\n    name: props.name,\n    tabIndex: props.tabIndex,\n    defaultChecked: checked,\n    \"aria-labelledby\": props['aria-labelledby'],\n    \"aria-label\": props['aria-label'],\n    onFocus: onFocus,\n    onBlur: onBlur,\n    disabled: props.disabled,\n    readOnly: props.readOnly,\n    required: props.required\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: boxClass\n  }, icon)), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nCheckbox.displayName = 'Checkbox';\nCheckbox.defaultProps = {\n  __TYPE: 'Checkbox',\n  id: null,\n  inputRef: null,\n  inputId: null,\n  value: null,\n  name: null,\n  checked: false,\n  trueValue: true,\n  falseValue: false,\n  style: null,\n  className: null,\n  disabled: false,\n  required: false,\n  readOnly: false,\n  tabIndex: null,\n  icon: 'pi pi-check',\n  tooltip: null,\n  tooltipOptions: null,\n  'aria-label': null,\n  'aria-labelledby': null,\n  onChange: null,\n  onMouseDown: null,\n  onContextMenu: null\n};\n\nvar MultiSelectHeader = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var filterOptions = {\n    filter: function filter(e) {\n      return onFilter(e);\n    },\n    reset: function reset() {\n      return props.resetFilter();\n    }\n  };\n\n  var onFilter = function onFilter(event) {\n    if (props.onFilter) {\n      props.onFilter({\n        originalEvent: event,\n        query: event.target.value\n      });\n    }\n  };\n\n  var onSelectAll = function onSelectAll(event) {\n    if (props.onSelectAll) {\n      props.onSelectAll({\n        originalEvent: event,\n        checked: props.selectAll\n      });\n    }\n\n    event.preventDefault();\n  };\n\n  var createFilterElement = function createFilterElement() {\n    if (props.filter) {\n      var containerClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-multiselect-filter-container');\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: containerClassName\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_9__.InputText, {\n        type: \"text\",\n        role: \"textbox\",\n        value: props.filterValue,\n        onChange: onFilter,\n        className: \"p-multiselect-filter\",\n        placeholder: props.filterPlaceholder\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"p-multiselect-filter-icon pi pi-search\"\n      }));\n\n      if (props.filterTemplate) {\n        var defaultContentOptions = {\n          className: containerClassName,\n          element: content,\n          filterOptions: filterOptions,\n          onFilter: onFilter,\n          filterIconClassName: 'p-multeselect-filter-icon pi pi-search',\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.filterTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, content);\n    }\n\n    return null;\n  };\n\n  var filterElement = createFilterElement();\n  var checkboxElement = props.showSelectAll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Checkbox, {\n    checked: props.selectAll,\n    onChange: onSelectAll,\n    role: \"checkbox\",\n    \"aria-checked\": props.selectAll\n  });\n  var closeElement = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    type: \"button\",\n    className: \"p-multiselect-close p-link\",\n    onClick: props.onClose\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"p-multiselect-close-icon pi pi-times\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_10__.Ripple, null));\n  var element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-multiselect-header\"\n  }, checkboxElement, filterElement, closeElement);\n\n  if (props.template) {\n    var defaultOptions = {\n      className: 'p-multiselect-header',\n      checkboxElement: checkboxElement,\n      checked: props.selectAll,\n      onChange: onSelectAll,\n      filterElement: filterElement,\n      closeElement: closeElement,\n      closeElementClassName: 'p-multiselect-close p-link',\n      closeIconClassName: 'p-multiselect-close-icon pi pi-times',\n      onCloseClick: props.onClose,\n      element: element,\n      props: props\n    };\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.template, defaultOptions);\n  }\n\n  return element;\n});\nMultiSelectHeader.displayName = 'MultiSelectHeader';\n\nvar MultiSelectItem = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo(function (props) {\n  var onClick = function onClick(event) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        option: props.option\n      });\n    }\n\n    event.preventDefault();\n  };\n\n  var onKeyDown = function onKeyDown(event) {\n    if (props.onKeyDown) {\n      props.onKeyDown({\n        originalEvent: event,\n        option: props.option\n      });\n    }\n  };\n\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-multiselect-item', {\n    'p-highlight': props.selected,\n    'p-disabled': props.disabled\n  }, props.option.className);\n  var checkboxClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-checkbox-box', {\n    'p-highlight': props.selected\n  });\n  var checkboxIcon = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-checkbox-icon p-c', {\n    'pi pi-check': props.selected\n  });\n  var content = props.template ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.template, props.option) : props.label;\n  var tabIndex = props.disabled ? null : props.tabIndex || 0;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n    className: className,\n    style: props.style,\n    onClick: onClick,\n    tabIndex: tabIndex,\n    onKeyDown: onKeyDown,\n    role: \"option\",\n    \"aria-selected\": props.selected\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-checkbox p-component\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: checkboxClassName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: checkboxIcon\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, content), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_ripple__WEBPACK_IMPORTED_MODULE_10__.Ripple, null));\n});\nMultiSelectItem.displayName = 'MultiSelectItem';\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar MultiSelectPanel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var virtualScrollerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var onEnter = function onEnter() {\n    props.onEnter(function () {\n      if (virtualScrollerRef.current) {\n        var selectedIndex = props.getSelectedOptionIndex();\n\n        if (selectedIndex !== -1) {\n          setTimeout(function () {\n            return virtualScrollerRef.current.scrollToIndex(selectedIndex);\n          }, 0);\n        }\n      }\n    });\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    if (virtualScrollerRef.current) {\n      virtualScrollerRef.current.scrollToIndex(0);\n    }\n\n    props.onFilterInputChange && props.onFilterInputChange(event);\n  };\n\n  var isEmptyFilter = function isEmptyFilter() {\n    return !(props.visibleOptions && props.visibleOptions.length) && props.hasFilter;\n  };\n\n  var createHeader = function createHeader() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MultiSelectHeader, {\n      filter: props.filter,\n      filterValue: props.filterValue,\n      filterTemplate: props.filterTemplate,\n      onFilter: onFilterInputChange,\n      filterPlaceholder: props.filterPlaceholder,\n      onClose: props.onCloseClick,\n      showSelectAll: props.showSelectAll,\n      selectAll: props.isAllSelected(),\n      onSelectAll: props.onSelectAll,\n      template: props.panelHeaderTemplate\n    });\n  };\n\n  var createFooter = function createFooter() {\n    if (props.panelFooterTemplate) {\n      var content = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.panelFooterTemplate, props, props.onOverlayHide);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-multiselect-footer\"\n      }, content);\n    }\n\n    return null;\n  };\n\n  var createGroupChildren = function createGroupChildren(optionGroup, style) {\n    var groupChildren = props.getOptionGroupChildren(optionGroup);\n    return groupChildren.map(function (option, j) {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = j + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      var tabIndex = disabled ? null : props.tabIndex || 0;\n      var selected = props.isSelected(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MultiSelectItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: selected,\n        onClick: props.onOptionSelect,\n        onKeyDown: props.onOptionKeyDown,\n        tabIndex: tabIndex,\n        disabled: disabled\n      });\n    });\n  };\n\n  var createEmptyFilter = function createEmptyFilter() {\n    var emptyFilterMessage = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.emptyFilterMessage, props) || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('emptyFilterMessage');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n      className: \"p-multiselect-empty-message\"\n    }, emptyFilterMessage);\n  };\n\n  var createItem = function createItem(option, index) {\n    var scrollerOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var style = {\n      height: scrollerOptions.props ? scrollerOptions.props.itemSize : undefined\n    };\n\n    if (props.optionGroupLabel) {\n      var groupContent = props.optionGroupTemplate ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.optionGroupTemplate, option, index) : props.getOptionGroupLabel(option);\n      var groupChildrenContent = createGroupChildren(option, style);\n      var key = index + '_' + props.getOptionGroupRenderKey(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        key: key\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"li\", {\n        className: \"p-multiselect-item-group\",\n        style: style\n      }, groupContent), groupChildrenContent);\n    } else {\n      var optionLabel = props.getOptionLabel(option);\n      var optionKey = index + '_' + props.getOptionRenderKey(option);\n      var disabled = props.isOptionDisabled(option);\n      var tabIndex = disabled ? null : props.tabIndex || 0;\n      var selected = props.isSelected(option);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MultiSelectItem, {\n        key: optionKey,\n        label: optionLabel,\n        option: option,\n        style: style,\n        template: props.itemTemplate,\n        selected: selected,\n        onClick: props.onOptionSelect,\n        onKeyDown: props.onOptionKeyDown,\n        tabIndex: tabIndex,\n        disabled: disabled\n      });\n    }\n  };\n\n  var createItems = function createItems() {\n    if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.visibleOptions)) {\n      return props.visibleOptions.map(createItem);\n    } else if (props.hasFilter) {\n      return createEmptyFilter();\n    }\n\n    return null;\n  };\n\n  var createContent = function createContent() {\n    if (props.virtualScrollerOptions) {\n      var virtualScrollerProps = _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions), {\n        style: _objectSpread$1(_objectSpread$1({}, props.virtualScrollerOptions.style), {\n          height: props.scrollHeight\n        }),\n        className: (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-multiselect-items-wrapper', props.virtualScrollerOptions.className),\n        items: props.visibleOptions,\n        autoSize: true,\n        onLazyLoad: function onLazyLoad(event) {\n          return props.virtualScrollerOptions.onLazyLoad(_objectSpread$1(_objectSpread$1({}, event), {\n            filter: props.filterValue\n          }));\n        },\n        itemTemplate: function itemTemplate(item, options) {\n          return item && createItem(item, options.index, options);\n        },\n        contentTemplate: function contentTemplate(options) {\n          var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-multiselect-items p-component', options.className);\n          var content = isEmptyFilter() ? createEmptyFilter() : options.children;\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n            ref: options.contentRef,\n            className: className,\n            role: \"listbox\",\n            \"aria-multiselectable\": true\n          }, content);\n        }\n      });\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_virtualscroller__WEBPACK_IMPORTED_MODULE_8__.VirtualScroller, _extends({\n        ref: virtualScrollerRef\n      }, virtualScrollerProps));\n    } else {\n      var items = createItems();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"p-multiselect-items-wrapper\",\n        style: {\n          maxHeight: props.scrollHeight\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", {\n        className: \"p-multiselect-items p-component\",\n        role: \"listbox\",\n        \"aria-multiselectable\": true\n      }, items));\n    }\n  };\n\n  var createElement = function createElement() {\n    var allowOptionSelect = props.allowOptionSelect();\n    var panelClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-multiselect-panel p-component', {\n      'p-multiselect-limited': !allowOptionSelect\n    }, props.panelClassName);\n    var header = createHeader();\n    var content = createContent();\n    var footer = createFooter();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_6__.CSSTransition, {\n      nodeRef: ref,\n      classNames: \"p-connected-overlay\",\n      \"in\": props[\"in\"],\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: onEnter,\n      onEntered: props.onEntered,\n      onExit: props.onExit,\n      onExited: props.onExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: ref,\n      className: panelClassName,\n      style: props.panelStyle,\n      onClick: props.onClick\n    }, header, content, footer));\n  };\n\n  var element = createElement();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_7__.Portal, {\n    element: element,\n    appendTo: props.appendTo\n  });\n}));\nMultiSelectPanel.displayName = 'MultiSelectPanel';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar MultiSelect = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterState = _React$useState2[0],\n      setFilterState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      focusedState = _React$useState4[0],\n      setFocusedState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      overlayVisibleState = _React$useState6[0],\n      setOverlayVisibleState = _React$useState6[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n  var labelRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var hasFilter = filterState && filterState.trim().length > 0;\n  var empty = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isEmpty(props.value);\n  var equalityKey = props.optionValue ? null : props.dataKey;\n\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useOverlayListener)({\n    target: elementRef,\n    overlay: overlayRef,\n    listener: function listener(event, _ref) {\n      var type = _ref.type,\n          valid = _ref.valid;\n\n      if (valid) {\n        type === 'outside' ? !isClearClicked(event) && hide() : hide();\n      }\n    },\n    when: overlayVisibleState\n  }),\n      _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n      bindOverlayListener = _useOverlayListener2[0],\n      unbindOverlayListener = _useOverlayListener2[1];\n\n  var onPanelClick = function onPanelClick(event) {\n    primereact_overlayservice__WEBPACK_IMPORTED_MODULE_3__.OverlayService.emit('overlay-click', {\n      originalEvent: event,\n      target: elementRef.current\n    });\n  };\n\n  var allowOptionSelect = function allowOptionSelect() {\n    return !props.selectionLimit || !props.value || props.value && props.value.length < props.selectionLimit;\n  };\n\n  var onOptionSelect = function onOptionSelect(event) {\n    var originalEvent = event.originalEvent,\n        option = event.option;\n\n    if (props.disabled || isOptionDisabled(option)) {\n      return;\n    }\n\n    var optionValue = getOptionValue(option);\n    var isUsed = isOptionValueUsed(option);\n    var selected = isSelected(option);\n    var allowSelect = allowOptionSelect();\n    if (selected) updateModel(originalEvent, props.value.filter(function (val) {\n      return !primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(isUsed ? val : getOptionValue(val), optionValue, equalityKey);\n    }));else if (allowSelect) updateModel(originalEvent, [].concat(_toConsumableArray(props.value || []), [optionValue]));\n  };\n\n  var onOptionKeyDown = function onOptionKeyDown(event) {\n    var originalEvent = event.originalEvent;\n    var listItem = originalEvent.currentTarget;\n\n    switch (originalEvent.which) {\n      //down\n      case 40:\n        var nextItem = findNextItem(listItem);\n        nextItem && nextItem.focus();\n        originalEvent.preventDefault();\n        break;\n      //up\n\n      case 38:\n        var prevItem = findPrevItem(listItem);\n        prevItem && prevItem.focus();\n        originalEvent.preventDefault();\n        break;\n      //enter and space\n\n      case 13:\n      case 32:\n        onOptionSelect(event);\n        originalEvent.preventDefault();\n        break;\n      //escape\n\n      case 27:\n        hide();\n        primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current);\n        break;\n    }\n  };\n\n  var findNextItem = function findNextItem(item) {\n    var nextItem = item.nextElementSibling;\n    return nextItem ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(nextItem, 'p-disabled') || primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(nextItem, 'p-multiselect-item-group') ? findNextItem(nextItem) : nextItem : null;\n  };\n\n  var findPrevItem = function findPrevItem(item) {\n    var prevItem = item.previousElementSibling;\n    return prevItem ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(prevItem, 'p-disabled') || primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(prevItem, 'p-multiselect-item-group') ? findPrevItem(prevItem) : prevItem : null;\n  };\n\n  var onClick = function onClick(event) {\n    if (!props.disabled && !isPanelClicked(event) && !primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-multiselect-token-icon') && !isClearClicked(event)) {\n      overlayVisibleState ? hide() : show();\n      primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current);\n      event.preventDefault();\n    }\n  };\n\n  var onKeyDown = function onKeyDown(event) {\n    switch (event.which) {\n      //down\n      case 40:\n        if (!overlayVisibleState && event.altKey) {\n          show();\n          event.preventDefault();\n        }\n\n        break;\n      //space\n\n      case 32:\n        overlayVisibleState ? hide() : show();\n        event.preventDefault();\n        break;\n      //escape\n\n      case 27:\n        hide();\n        break;\n      //tab\n\n      case 9:\n        if (overlayVisibleState) {\n          var firstFocusableElement = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.getFirstFocusableElement(overlayRef.current);\n\n          if (firstFocusableElement) {\n            firstFocusableElement.focus();\n            event.preventDefault();\n          }\n        }\n\n        break;\n    }\n  };\n\n  var onSelectAll = function onSelectAll(event) {\n    if (props.onSelectAll) {\n      props.onSelectAll(event);\n    } else {\n      var value = null;\n\n      if (event.checked) {\n        value = [];\n\n        if (visibleOptions) {\n          var selectedOptions = visibleOptions.filter(function (option) {\n            return isOptionDisabled(option) && isSelected(option);\n          });\n          value = selectedOptions.map(function (option) {\n            return getOptionValue(option);\n          });\n        }\n      } else if (visibleOptions) {\n        var options = visibleOptions.filter(function (option) {\n          return !isOptionDisabled(option);\n        });\n\n        if (props.optionGroupLabel) {\n          value = [];\n          options.forEach(function (optionGroup) {\n            return value = [].concat(_toConsumableArray(value), _toConsumableArray(getOptionGroupChildren(optionGroup).filter(function (option) {\n              return !isOptionDisabled(option);\n            }).map(function (option) {\n              return getOptionValue(option);\n            })));\n          });\n        } else {\n          value = options.map(function (option) {\n            return getOptionValue(option);\n          });\n        }\n      }\n\n      updateModel(event.originalEvent, value);\n    }\n  };\n\n  var updateModel = function updateModel(event, value) {\n    if (props.onChange) {\n      props.onChange({\n        originalEvent: event,\n        value: value,\n        stopPropagation: function stopPropagation() {},\n        preventDefault: function preventDefault() {},\n        target: {\n          name: props.name,\n          id: props.id,\n          value: value\n        }\n      });\n    }\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    var filter = event.query;\n    setFilterState(filter);\n\n    if (props.onFilter) {\n      props.onFilter({\n        originalEvent: event,\n        filter: filter\n      });\n    }\n  };\n\n  var resetFilter = function resetFilter() {\n    setFilterState('');\n    props.onFilter && props.onFilter({\n      filter: ''\n    });\n  };\n\n  var scrollInView = function scrollInView() {\n    var highlightItem = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.findSingle(overlayRef.current, 'li.p-highlight');\n\n    if (highlightItem && highlightItem.scrollIntoView) {\n      highlightItem.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  };\n\n  var show = function show() {\n    setOverlayVisibleState(true);\n  };\n\n  var hide = function hide() {\n    setOverlayVisibleState(false);\n  };\n\n  var onOverlayEnter = function onOverlayEnter(callback) {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.set('overlay', overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].autoZIndex, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].zIndex.overlay);\n    alignOverlay();\n    scrollInView();\n    callback && callback();\n  };\n\n  var onOverlayEntered = function onOverlayEntered() {\n    bindOverlayListener();\n    props.onShow && props.onShow();\n  };\n\n  var onOverlayExit = function onOverlayExit() {\n    unbindOverlayListener();\n  };\n\n  var onOverlayExited = function onOverlayExited() {\n    if (props.filter && props.resetFilterOnHide) {\n      resetFilter();\n    }\n\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.clear(overlayRef.current);\n    props.onHide && props.onHide();\n  };\n\n  var alignOverlay = function alignOverlay() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.alignOverlay(overlayRef.current, labelRef.current.parentElement, props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo);\n  };\n\n  var isClearClicked = function isClearClicked(event) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.hasClass(event.target, 'p-multiselect-clear-icon');\n  };\n\n  var isPanelClicked = function isPanelClicked(event) {\n    return overlayRef.current && overlayRef.current.contains(event.target);\n  };\n\n  var onCloseClick = function onCloseClick(event) {\n    hide();\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.DomHandler.focus(inputRef.current);\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  var getSelectedOptionIndex = function getSelectedOptionIndex() {\n    if (props.value != null && props.options) {\n      if (props.optionGroupLabel) {\n        var groupIndex = 0;\n        var optionIndex = props.options.findIndex(function (optionGroup, i) {\n          return (groupIndex = i) && findOptionIndexInList(props.value, getOptionGroupChildren(optionGroup)) !== -1;\n        });\n        return optionIndex !== -1 ? {\n          group: groupIndex,\n          option: optionIndex\n        } : -1;\n      } else {\n        return findOptionIndexInList(props.value, props.options);\n      }\n    }\n\n    return -1;\n  };\n\n  var findOptionIndexInList = function findOptionIndexInList(value, list) {\n    return list.findIndex(function (item) {\n      return value.some(function (val) {\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(val, getOptionValue(item), equalityKey);\n      });\n    });\n  };\n\n  var isSelected = function isSelected(option) {\n    if (props.value) {\n      var optionValue = getOptionValue(option);\n      var isUsed = isOptionValueUsed(option);\n      return props.value.some(function (val) {\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(isUsed ? val : getOptionValue(val), optionValue, equalityKey);\n      });\n    }\n\n    return false;\n  };\n\n  var getLabelByValue = function getLabelByValue(val) {\n    var option;\n\n    if (props.options) {\n      if (props.optionGroupLabel) {\n        var _iterator = _createForOfIteratorHelper(props.options),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var optionGroup = _step.value;\n            option = findOptionByValue(val, getOptionGroupChildren(optionGroup));\n\n            if (option) {\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        option = findOptionByValue(val, props.options);\n      }\n    }\n\n    return option ? getOptionLabel(option) : null;\n  };\n\n  var findOptionByValue = function findOptionByValue(val, list) {\n    return list.find(function (option) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(getOptionValue(option), val, equalityKey);\n    });\n  };\n\n  var onFocus = function onFocus(event) {\n    setFocusedState(true);\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onBlur = function onBlur(event) {\n    setFocusedState(false);\n    props.onBlur && props.onBlur(event);\n  };\n\n  var isAllSelected = function isAllSelected() {\n    if (props.onSelectAll) {\n      return props.selectAll;\n    } else {\n      if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isEmpty(visibleOptions)) {\n        return false;\n      }\n\n      var options = visibleOptions.filter(function (option) {\n        return !isOptionDisabled(option);\n      });\n\n      if (props.optionGroupLabel) {\n        var _iterator2 = _createForOfIteratorHelper(options),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var optionGroup = _step2.value;\n            var visibleOptionsGroupChildren = getOptionGroupChildren(optionGroup).filter(function (option) {\n              return !isOptionDisabled(option);\n            });\n            return !visibleOptionsGroupChildren.some(function (option) {\n              return !isSelected(option);\n            });\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      } else {\n        return !options.some(function (option) {\n          return !isSelected(option);\n        });\n      }\n    }\n\n    return true;\n  };\n\n  var getOptionLabel = function getOptionLabel(option) {\n    return props.optionLabel ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionLabel) : option && option['label'] !== undefined ? option['label'] : option;\n  };\n\n  var getOptionValue = function getOptionValue(option) {\n    if (props.optionValue) {\n      var data = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionValue);\n      return data !== null ? data : option;\n    }\n\n    return option && option['value'] !== undefined ? option['value'] : option;\n  };\n\n  var getOptionRenderKey = function getOptionRenderKey(option) {\n    return props.dataKey ? primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.dataKey) : getOptionLabel(option);\n  };\n\n  var getOptionGroupRenderKey = function getOptionGroupRenderKey(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n\n  var getOptionGroupLabel = function getOptionGroupLabel(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupLabel);\n  };\n\n  var getOptionGroupChildren = function getOptionGroupChildren(optionGroup) {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(optionGroup, props.optionGroupChildren);\n  };\n\n  var isOptionDisabled = function isOptionDisabled(option) {\n    if (props.optionDisabled) {\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isFunction(props.optionDisabled) ? props.optionDisabled(option) : primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.resolveFieldData(option, props.optionDisabled);\n    }\n\n    return option && option['disabled'] !== undefined ? option['disabled'] : false;\n  };\n\n  var isOptionValueUsed = function isOptionValueUsed(option) {\n    return props.optionValue || option && option['value'] !== undefined;\n  };\n\n  var removeChip = function removeChip(event, item) {\n    var value = props.value.filter(function (val) {\n      return !primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.equals(val, item, equalityKey);\n    });\n    updateModel(event, value);\n  };\n\n  var getSelectedItemsLabel = function getSelectedItemsLabel() {\n    var pattern = /{(.*?)}/;\n\n    if (pattern.test(props.selectedItemsLabel)) {\n      return props.selectedItemsLabel.replace(props.selectedItemsLabel.match(pattern)[0], props.value.length + '');\n    }\n\n    return props.selectedItemsLabel;\n  };\n\n  var getLabel = function getLabel() {\n    var label;\n\n    if (!empty && !props.fixedPlaceholder) {\n      if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.maxSelectedLabels) && props.value.length > props.maxSelectedLabels) {\n        return getSelectedItemsLabel();\n      } else {\n        return props.value.reduce(function (acc, value, index) {\n          return acc + (index !== 0 ? ',' : '') + getLabelByValue(value);\n        }, '');\n      }\n    }\n\n    return label;\n  };\n\n  var getLabelContent = function getLabelContent() {\n    if (props.selectedItemTemplate) {\n      if (!empty) {\n        if (primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.maxSelectedLabels) && props.value.length > props.maxSelectedLabels) {\n          return getSelectedItemsLabel();\n        } else {\n          return props.value.map(function (val, index) {\n            var item = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.selectedItemTemplate, val);\n            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n              key: index\n            }, item);\n          });\n        }\n      } else {\n        return primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.getJSXElement(props.selectedItemTemplate);\n      }\n    } else {\n      if (props.display === 'chip' && !empty) {\n        var value = props.value.slice(0, props.maxSelectedLabels || props.value.length);\n        return value.map(function (val) {\n          var label = getLabelByValue(val);\n          var icon = !props.disabled && primereact_utils__WEBPACK_IMPORTED_MODULE_5__.IconUtils.getJSXIcon(props.removeIcon, {\n            className: 'p-multiselect-token-icon',\n            onClick: function onClick(e) {\n              return removeChip(e, val);\n            }\n          }, {\n            props: props\n          });\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            className: \"p-multiselect-token\",\n            key: label\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n            className: \"p-multiselect-token-label\"\n          }, label), icon);\n        });\n      }\n\n      return getLabel();\n    }\n  };\n\n  var getVisibleOptions = function getVisibleOptions() {\n    if (hasFilter) {\n      var filterValue = filterState.trim().toLocaleLowerCase(props.filterLocale);\n      var searchFields = props.filterBy ? props.filterBy.split(',') : [props.optionLabel || 'label'];\n\n      if (props.optionGroupLabel) {\n        var filteredGroups = [];\n\n        var _iterator3 = _createForOfIteratorHelper(props.options),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var optgroup = _step3.value;\n            var filteredSubOptions = primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filter(getOptionGroupChildren(optgroup), searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n\n            if (filteredSubOptions && filteredSubOptions.length) {\n              filteredGroups.push(_objectSpread(_objectSpread({}, optgroup), _defineProperty({}, props.optionGroupChildren, filteredSubOptions)));\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        return filteredGroups;\n      } else {\n        return primereact_api__WEBPACK_IMPORTED_MODULE_1__.FilterService.filter(props.options, searchFields, filterValue, props.filterMatchMode, props.filterLocale);\n      }\n    } else {\n      return props.options;\n    }\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      show: show,\n      hide: hide,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getOverlay: function getOverlay() {\n        return overlayRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUpdateEffect)(function () {\n    if (overlayVisibleState && hasFilter) {\n      alignOverlay();\n    }\n  }, [overlayVisibleState, hasFilter]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ZIndexUtils.clear(overlayRef.current);\n  });\n\n  var createClearIcon = function createClearIcon() {\n    if (!empty && props.showClear && !props.disabled) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-multiselect-clear-icon pi pi-times\",\n        onClick: function onClick(e) {\n          return updateModel(e, null);\n        }\n      });\n    }\n\n    return null;\n  };\n\n  var createLabel = function createLabel() {\n    var content = getLabelContent();\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-multiselect-label', {\n      'p-placeholder': empty && props.placeholder,\n      'p-multiselect-label-empty': empty && !props.placeholder && !props.selectedItemTemplate,\n      'p-multiselect-items-label': !empty && props.display !== 'chip' && props.value.length > props.maxSelectedLabels\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: labelRef,\n      className: \"p-multiselect-label-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: className\n    }, content || props.placeholder || 'empty'));\n  };\n\n  var visibleOptions = getVisibleOptions();\n  var hasTooltip = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.tooltip);\n  var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.findDiffKeys(props, MultiSelect.defaultProps);\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_5__.classNames)('p-multiselect p-component p-inputwrapper', {\n    'p-multiselect-chip': props.display === 'chip',\n    'p-disabled': props.disabled,\n    'p-multiselect-clearable': props.showClear && !props.disabled,\n    'p-focus': focusedState,\n    'p-inputwrapper-filled': primereact_utils__WEBPACK_IMPORTED_MODULE_5__.ObjectUtils.isNotEmpty(props.value),\n    'p-inputwrapper-focus': focusedState || overlayVisibleState\n  }, props.className);\n  var label = createLabel();\n  var clearIcon = createClearIcon();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n    ref: elementRef,\n    id: props.id,\n    style: props.style,\n    className: className\n  }, otherProps, {\n    onClick: onClick\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-hidden-accessible\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n    ref: inputRef,\n    id: props.inputId,\n    name: props.name,\n    readOnly: true,\n    type: \"text\",\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    role: \"listbox\",\n    \"aria-labelledby\": props.ariaLabelledBy,\n    \"aria-expanded\": overlayVisibleState,\n    disabled: props.disabled,\n    tabIndex: props.tabIndex\n  })), label, clearIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"p-multiselect-trigger\"\n  }, primereact_utils__WEBPACK_IMPORTED_MODULE_5__.IconUtils.getJSXIcon(props.dropdownIcon, {\n    className: 'p-multiselect-trigger-icon p-c'\n  }, {\n    props: props\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MultiSelectPanel, _extends({\n    ref: overlayRef,\n    visibleOptions: visibleOptions\n  }, props, {\n    onClick: onPanelClick,\n    onOverlayHide: hide,\n    filterValue: filterState,\n    hasFilter: hasFilter,\n    onFilterInputChange: onFilterInputChange,\n    resetFilter: resetFilter,\n    onCloseClick: onCloseClick,\n    onSelectAll: onSelectAll,\n    getOptionLabel: getOptionLabel,\n    getOptionRenderKey: getOptionRenderKey,\n    isOptionDisabled: isOptionDisabled,\n    getOptionGroupChildren: getOptionGroupChildren,\n    getOptionGroupLabel: getOptionGroupLabel,\n    getOptionGroupRenderKey: getOptionGroupRenderKey,\n    isSelected: isSelected,\n    getSelectedOptionIndex: getSelectedOptionIndex,\n    isAllSelected: isAllSelected,\n    onOptionSelect: onOptionSelect,\n    allowOptionSelect: allowOptionSelect,\n    onOptionKeyDown: onOptionKeyDown,\n    \"in\": overlayVisibleState,\n    onEnter: onOverlayEnter,\n    onEntered: onOverlayEntered,\n    onExit: onOverlayExit,\n    onExited: onOverlayExited\n  }))), hasTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions)));\n}));\nMultiSelect.displayName = 'MultiSelect';\nMultiSelect.defaultProps = {\n  __TYPE: 'MultiSelect',\n  id: null,\n  inputRef: null,\n  name: null,\n  value: null,\n  options: null,\n  optionLabel: null,\n  optionValue: null,\n  optionDisabled: null,\n  optionGroupLabel: null,\n  optionGroupChildren: null,\n  optionGroupTemplate: null,\n  filterTemplate: null,\n  display: 'comma',\n  style: null,\n  className: null,\n  panelClassName: null,\n  panelStyle: null,\n  virtualScrollerOptions: null,\n  scrollHeight: '200px',\n  placeholder: null,\n  fixedPlaceholder: false,\n  disabled: false,\n  showClear: false,\n  filter: false,\n  filterBy: null,\n  filterMatchMode: 'contains',\n  filterPlaceholder: null,\n  filterLocale: undefined,\n  emptyFilterMessage: null,\n  resetFilterOnHide: false,\n  tabIndex: 0,\n  dataKey: null,\n  inputId: null,\n  appendTo: null,\n  tooltip: null,\n  tooltipOptions: null,\n  maxSelectedLabels: null,\n  selectionLimit: null,\n  selectedItemsLabel: '{0} items selected',\n  ariaLabelledBy: null,\n  itemTemplate: null,\n  selectedItemTemplate: null,\n  panelHeaderTemplate: null,\n  panelFooterTemplate: null,\n  transitionOptions: null,\n  dropdownIcon: 'pi pi-chevron-down',\n  removeIcon: 'pi pi-times-circle',\n  showSelectAll: true,\n  selectAll: false,\n  onChange: null,\n  onFocus: null,\n  onBlur: null,\n  onShow: null,\n  onHide: null,\n  onFilter: null,\n  onSelectAll: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9tdWx0aXNlbGVjdC9tdWx0aXNlbGVjdC5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUMwQztBQUNnQjtBQUM5QjtBQUNkO0FBQ2tEO0FBQ3RDO0FBQ2Q7QUFDa0I7QUFDWjtBQUNOOztBQUUzQztBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0QkFBNEIsK0JBQStCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCLHVDQUFVLGVBQWUsNkNBQWdCO0FBQ3JFLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHlDQUFZO0FBQy9CLGlCQUFpQix5Q0FBWTs7QUFFN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RCxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsR0FBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L211bHRpc2VsZWN0L211bHRpc2VsZWN0LmVzbS5qcz8wZDgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcmltZVJlYWN0LCB7IGxvY2FsZU9wdGlvbiwgRmlsdGVyU2VydmljZSB9IGZyb20gJ3ByaW1lcmVhY3QvYXBpJztcbmltcG9ydCB7IHVzZVVwZGF0ZUVmZmVjdCwgdXNlT3ZlcmxheUxpc3RlbmVyLCB1c2VVbm1vdW50RWZmZWN0IH0gZnJvbSAncHJpbWVyZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBPdmVybGF5U2VydmljZSB9IGZyb20gJ3ByaW1lcmVhY3Qvb3ZlcmxheXNlcnZpY2UnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ3ByaW1lcmVhY3QvdG9vbHRpcCc7XG5pbXBvcnQgeyBPYmplY3RVdGlscywgY2xhc3NOYW1lcywgSWNvblV0aWxzLCBEb21IYW5kbGVyLCBaSW5kZXhVdGlscyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiB9IGZyb20gJ3ByaW1lcmVhY3QvY3NzdHJhbnNpdGlvbic7XG5pbXBvcnQgeyBQb3J0YWwgfSBmcm9tICdwcmltZXJlYWN0L3BvcnRhbCc7XG5pbXBvcnQgeyBWaXJ0dWFsU2Nyb2xsZXIgfSBmcm9tICdwcmltZXJlYWN0L3ZpcnR1YWxzY3JvbGxlcic7XG5pbXBvcnQgeyBJbnB1dFRleHQgfSBmcm9tICdwcmltZXJlYWN0L2lucHV0dGV4dCc7XG5pbXBvcnQgeyBSaXBwbGUgfSBmcm9tICdwcmltZXJlYWN0L3JpcHBsZSc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQxKGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG52YXIgQ2hlY2tib3ggPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgZm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICAgIHNldEZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihwcm9wcy5pbnB1dFJlZik7XG5cbiAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiAhcHJvcHMucmVhZE9ubHkgJiYgcHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHZhciBfY2hlY2tlZCA9IGlzQ2hlY2tlZCgpO1xuXG4gICAgICBpZiAoaW5wdXRSZWYuY3VycmVudC5jaGVja2VkID09PSBfY2hlY2tlZCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBfY2hlY2tlZCA/IHByb3BzLmZhbHNlVmFsdWUgOiBwcm9wcy50cnVlVmFsdWU7XG4gICAgICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgICAgICAgY2hlY2tlZDogdmFsdWUsXG4gICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7fSxcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgICAgICAgY2hlY2tlZDogdmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LmNoZWNrZWQgPSAhX2NoZWNrZWQ7XG4gICAgICB9XG5cbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25Gb2N1cyA9IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKHRydWUpO1xuICB9O1xuXG4gIHZhciBvbkJsdXIgPSBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKGZhbHNlKTtcbiAgfTtcblxuICB2YXIgaXNDaGVja2VkID0gZnVuY3Rpb24gaXNDaGVja2VkKCkge1xuICAgIHJldHVybiBwcm9wcy5jaGVja2VkID09PSBwcm9wcy50cnVlVmFsdWU7XG4gIH07XG5cbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdFV0aWxzLmNvbWJpbmVkUmVmcyhpbnB1dFJlZiwgcHJvcHMuaW5wdXRSZWYpO1xuICB9LCBbaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaW5wdXRSZWYuY3VycmVudC5jaGVja2VkID0gaXNDaGVja2VkKCk7XG4gIH0sIFtwcm9wcy5jaGVja2VkLCBwcm9wcy50cnVlVmFsdWVdKTtcbiAgdmFyIGNoZWNrZWQgPSBpc0NoZWNrZWQoKTtcbiAgdmFyIGhhc1Rvb2x0aXAgPSBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnRvb2x0aXApO1xuICB2YXIgb3RoZXJQcm9wcyA9IE9iamVjdFV0aWxzLmZpbmREaWZmS2V5cyhwcm9wcywgQ2hlY2tib3guZGVmYXVsdFByb3BzKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtY2hlY2tib3ggcC1jb21wb25lbnQnLCB7XG4gICAgJ3AtY2hlY2tib3gtY2hlY2tlZCc6IGNoZWNrZWQsXG4gICAgJ3AtY2hlY2tib3gtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1jaGVja2JveC1mb2N1c2VkJzogZm9jdXNlZFN0YXRlXG4gIH0sIHByb3BzLmNsYXNzTmFtZSk7XG4gIHZhciBib3hDbGFzcyA9IGNsYXNzTmFtZXMoJ3AtY2hlY2tib3gtYm94Jywge1xuICAgICdwLWhpZ2hsaWdodCc6IGNoZWNrZWQsXG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1mb2N1cyc6IGZvY3VzZWRTdGF0ZVxuICB9KTtcbiAgdmFyIGljb24gPSBJY29uVXRpbHMuZ2V0SlNYSWNvbihjaGVja2VkID8gcHJvcHMuaWNvbiA6ICcnLCB7XG4gICAgY2xhc3NOYW1lOiAncC1jaGVja2JveC1pY29uIHAtYydcbiAgfSwge1xuICAgIHByb3BzOiBwcm9wcyxcbiAgICBjaGVja2VkOiBjaGVja2VkXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgaWQ6IHByb3BzLmlkLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICB9LCBvdGhlclByb3BzLCB7XG4gICAgb25DbGljazogb25DbGljayxcbiAgICBvbkNvbnRleHRNZW51OiBwcm9wcy5vbkNvbnRleHRNZW51LFxuICAgIG9uTW91c2VEb3duOiBwcm9wcy5vbk1vdXNlRG93blxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLWhpZGRlbi1hY2Nlc3NpYmxlXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgcmVmOiBpbnB1dFJlZixcbiAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgaWQ6IHByb3BzLmlucHV0SWQsXG4gICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgZGVmYXVsdENoZWNrZWQ6IGNoZWNrZWQsXG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogcHJvcHNbJ2FyaWEtbGFiZWxsZWRieSddLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBwcm9wc1snYXJpYS1sYWJlbCddLFxuICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgb25CbHVyOiBvbkJsdXIsXG4gICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgIHJlYWRPbmx5OiBwcm9wcy5yZWFkT25seSxcbiAgICByZXF1aXJlZDogcHJvcHMucmVxdWlyZWRcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBib3hDbGFzc1xuICB9LCBpY29uKSksIGhhc1Rvb2x0aXAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgIHRhcmdldDogZWxlbWVudFJlZixcbiAgICBjb250ZW50OiBwcm9wcy50b29sdGlwXG4gIH0sIHByb3BzLnRvb2x0aXBPcHRpb25zKSkpO1xufSkpO1xuQ2hlY2tib3guZGlzcGxheU5hbWUgPSAnQ2hlY2tib3gnO1xuQ2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdDaGVja2JveCcsXG4gIGlkOiBudWxsLFxuICBpbnB1dFJlZjogbnVsbCxcbiAgaW5wdXRJZDogbnVsbCxcbiAgdmFsdWU6IG51bGwsXG4gIG5hbWU6IG51bGwsXG4gIGNoZWNrZWQ6IGZhbHNlLFxuICB0cnVlVmFsdWU6IHRydWUsXG4gIGZhbHNlVmFsdWU6IGZhbHNlLFxuICBzdHlsZTogbnVsbCxcbiAgY2xhc3NOYW1lOiBudWxsLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIHJlcXVpcmVkOiBmYWxzZSxcbiAgcmVhZE9ubHk6IGZhbHNlLFxuICB0YWJJbmRleDogbnVsbCxcbiAgaWNvbjogJ3BpIHBpLWNoZWNrJyxcbiAgdG9vbHRpcDogbnVsbCxcbiAgdG9vbHRpcE9wdGlvbnM6IG51bGwsXG4gICdhcmlhLWxhYmVsJzogbnVsbCxcbiAgJ2FyaWEtbGFiZWxsZWRieSc6IG51bGwsXG4gIG9uQ2hhbmdlOiBudWxsLFxuICBvbk1vdXNlRG93bjogbnVsbCxcbiAgb25Db250ZXh0TWVudTogbnVsbFxufTtcblxudmFyIE11bHRpU2VsZWN0SGVhZGVyID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBmaWx0ZXJPcHRpb25zID0ge1xuICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGUpIHtcbiAgICAgIHJldHVybiBvbkZpbHRlcihlKTtcbiAgICB9LFxuICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHJldHVybiBwcm9wcy5yZXNldEZpbHRlcigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25GaWx0ZXIgPSBmdW5jdGlvbiBvbkZpbHRlcihldmVudCkge1xuICAgIGlmIChwcm9wcy5vbkZpbHRlcikge1xuICAgICAgcHJvcHMub25GaWx0ZXIoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgcXVlcnk6IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblNlbGVjdEFsbCA9IGZ1bmN0aW9uIG9uU2VsZWN0QWxsKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uU2VsZWN0QWxsKSB7XG4gICAgICBwcm9wcy5vblNlbGVjdEFsbCh7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBjaGVja2VkOiBwcm9wcy5zZWxlY3RBbGxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZpbHRlckVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVGaWx0ZXJFbGVtZW50KCkge1xuICAgIGlmIChwcm9wcy5maWx0ZXIpIHtcbiAgICAgIHZhciBjb250YWluZXJDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLW11bHRpc2VsZWN0LWZpbHRlci1jb250YWluZXInKTtcbiAgICAgIHZhciBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNvbnRhaW5lckNsYXNzTmFtZVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXRUZXh0LCB7XG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICByb2xlOiBcInRleHRib3hcIixcbiAgICAgICAgdmFsdWU6IHByb3BzLmZpbHRlclZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogb25GaWx0ZXIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJwLW11bHRpc2VsZWN0LWZpbHRlclwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogcHJvcHMuZmlsdGVyUGxhY2Vob2xkZXJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC1maWx0ZXItaWNvbiBwaSBwaS1zZWFyY2hcIlxuICAgICAgfSkpO1xuXG4gICAgICBpZiAocHJvcHMuZmlsdGVyVGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRDb250ZW50T3B0aW9ucyA9IHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNvbnRhaW5lckNsYXNzTmFtZSxcbiAgICAgICAgICBlbGVtZW50OiBjb250ZW50LFxuICAgICAgICAgIGZpbHRlck9wdGlvbnM6IGZpbHRlck9wdGlvbnMsXG4gICAgICAgICAgb25GaWx0ZXI6IG9uRmlsdGVyLFxuICAgICAgICAgIGZpbHRlckljb25DbGFzc05hbWU6ICdwLW11bHRlc2VsZWN0LWZpbHRlci1pY29uIHBpIHBpLXNlYXJjaCcsXG4gICAgICAgICAgcHJvcHM6IHByb3BzXG4gICAgICAgIH07XG4gICAgICAgIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmZpbHRlclRlbXBsYXRlLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBmaWx0ZXJFbGVtZW50ID0gY3JlYXRlRmlsdGVyRWxlbWVudCgpO1xuICB2YXIgY2hlY2tib3hFbGVtZW50ID0gcHJvcHMuc2hvd1NlbGVjdEFsbCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwge1xuICAgIGNoZWNrZWQ6IHByb3BzLnNlbGVjdEFsbCxcbiAgICBvbkNoYW5nZTogb25TZWxlY3RBbGwsXG4gICAgcm9sZTogXCJjaGVja2JveFwiLFxuICAgIFwiYXJpYS1jaGVja2VkXCI6IHByb3BzLnNlbGVjdEFsbFxuICB9KTtcbiAgdmFyIGNsb3NlRWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogXCJwLW11bHRpc2VsZWN0LWNsb3NlIHAtbGlua1wiLFxuICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xvc2VcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC1jbG9zZS1pY29uIHBpIHBpLXRpbWVzXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJpcHBsZSwgbnVsbCkpO1xuICB2YXIgZWxlbWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC1oZWFkZXJcIlxuICB9LCBjaGVja2JveEVsZW1lbnQsIGZpbHRlckVsZW1lbnQsIGNsb3NlRWxlbWVudCk7XG5cbiAgaWYgKHByb3BzLnRlbXBsYXRlKSB7XG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgY2xhc3NOYW1lOiAncC1tdWx0aXNlbGVjdC1oZWFkZXInLFxuICAgICAgY2hlY2tib3hFbGVtZW50OiBjaGVja2JveEVsZW1lbnQsXG4gICAgICBjaGVja2VkOiBwcm9wcy5zZWxlY3RBbGwsXG4gICAgICBvbkNoYW5nZTogb25TZWxlY3RBbGwsXG4gICAgICBmaWx0ZXJFbGVtZW50OiBmaWx0ZXJFbGVtZW50LFxuICAgICAgY2xvc2VFbGVtZW50OiBjbG9zZUVsZW1lbnQsXG4gICAgICBjbG9zZUVsZW1lbnRDbGFzc05hbWU6ICdwLW11bHRpc2VsZWN0LWNsb3NlIHAtbGluaycsXG4gICAgICBjbG9zZUljb25DbGFzc05hbWU6ICdwLW11bHRpc2VsZWN0LWNsb3NlLWljb24gcGkgcGktdGltZXMnLFxuICAgICAgb25DbG9zZUNsaWNrOiBwcm9wcy5vbkNsb3NlLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHByb3BzOiBwcm9wc1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMudGVtcGxhdGUsIGRlZmF1bHRPcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufSk7XG5NdWx0aVNlbGVjdEhlYWRlci5kaXNwbGF5TmFtZSA9ICdNdWx0aVNlbGVjdEhlYWRlcic7XG5cbnZhciBNdWx0aVNlbGVjdEl0ZW0gPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgIHByb3BzLm9uQ2xpY2soe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgb3B0aW9uOiBwcm9wcy5vcHRpb25cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChwcm9wcy5vbktleURvd24pIHtcbiAgICAgIHByb3BzLm9uS2V5RG93bih7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICBvcHRpb246IHByb3BzLm9wdGlvblxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLW11bHRpc2VsZWN0LWl0ZW0nLCB7XG4gICAgJ3AtaGlnaGxpZ2h0JzogcHJvcHMuc2VsZWN0ZWQsXG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZFxuICB9LCBwcm9wcy5vcHRpb24uY2xhc3NOYW1lKTtcbiAgdmFyIGNoZWNrYm94Q2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1jaGVja2JveC1ib3gnLCB7XG4gICAgJ3AtaGlnaGxpZ2h0JzogcHJvcHMuc2VsZWN0ZWRcbiAgfSk7XG4gIHZhciBjaGVja2JveEljb24gPSBjbGFzc05hbWVzKCdwLWNoZWNrYm94LWljb24gcC1jJywge1xuICAgICdwaSBwaS1jaGVjayc6IHByb3BzLnNlbGVjdGVkXG4gIH0pO1xuICB2YXIgY29udGVudCA9IHByb3BzLnRlbXBsYXRlID8gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy50ZW1wbGF0ZSwgcHJvcHMub3B0aW9uKSA6IHByb3BzLmxhYmVsO1xuICB2YXIgdGFiSW5kZXggPSBwcm9wcy5kaXNhYmxlZCA/IG51bGwgOiBwcm9wcy50YWJJbmRleCB8fCAwO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgdGFiSW5kZXg6IHRhYkluZGV4LFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgIHJvbGU6IFwib3B0aW9uXCIsXG4gICAgXCJhcmlhLXNlbGVjdGVkXCI6IHByb3BzLnNlbGVjdGVkXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicC1jaGVja2JveCBwLWNvbXBvbmVudFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNoZWNrYm94Q2xhc3NOYW1lXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBjaGVja2JveEljb25cbiAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGNvbnRlbnQpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSaXBwbGUsIG51bGwpKTtcbn0pO1xuTXVsdGlTZWxlY3RJdGVtLmRpc3BsYXlOYW1lID0gJ011bHRpU2VsZWN0SXRlbSc7XG5cbmZ1bmN0aW9uIG93bktleXMkMShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQxKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQxKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBNdWx0aVNlbGVjdFBhbmVsID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oIC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciB2aXJ0dWFsU2Nyb2xsZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgdmFyIG9uRW50ZXIgPSBmdW5jdGlvbiBvbkVudGVyKCkge1xuICAgIHByb3BzLm9uRW50ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gcHJvcHMuZ2V0U2VsZWN0ZWRPcHRpb25JbmRleCgpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbFRvSW5kZXgoc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25GaWx0ZXJJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIG9uRmlsdGVySW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICBpZiAodmlydHVhbFNjcm9sbGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIHZpcnR1YWxTY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbFRvSW5kZXgoMCk7XG4gICAgfVxuXG4gICAgcHJvcHMub25GaWx0ZXJJbnB1dENoYW5nZSAmJiBwcm9wcy5vbkZpbHRlcklucHV0Q2hhbmdlKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgaXNFbXB0eUZpbHRlciA9IGZ1bmN0aW9uIGlzRW1wdHlGaWx0ZXIoKSB7XG4gICAgcmV0dXJuICEocHJvcHMudmlzaWJsZU9wdGlvbnMgJiYgcHJvcHMudmlzaWJsZU9wdGlvbnMubGVuZ3RoKSAmJiBwcm9wcy5oYXNGaWx0ZXI7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUhlYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTXVsdGlTZWxlY3RIZWFkZXIsIHtcbiAgICAgIGZpbHRlcjogcHJvcHMuZmlsdGVyLFxuICAgICAgZmlsdGVyVmFsdWU6IHByb3BzLmZpbHRlclZhbHVlLFxuICAgICAgZmlsdGVyVGVtcGxhdGU6IHByb3BzLmZpbHRlclRlbXBsYXRlLFxuICAgICAgb25GaWx0ZXI6IG9uRmlsdGVySW5wdXRDaGFuZ2UsXG4gICAgICBmaWx0ZXJQbGFjZWhvbGRlcjogcHJvcHMuZmlsdGVyUGxhY2Vob2xkZXIsXG4gICAgICBvbkNsb3NlOiBwcm9wcy5vbkNsb3NlQ2xpY2ssXG4gICAgICBzaG93U2VsZWN0QWxsOiBwcm9wcy5zaG93U2VsZWN0QWxsLFxuICAgICAgc2VsZWN0QWxsOiBwcm9wcy5pc0FsbFNlbGVjdGVkKCksXG4gICAgICBvblNlbGVjdEFsbDogcHJvcHMub25TZWxlY3RBbGwsXG4gICAgICB0ZW1wbGF0ZTogcHJvcHMucGFuZWxIZWFkZXJUZW1wbGF0ZVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVGb290ZXIgPSBmdW5jdGlvbiBjcmVhdGVGb290ZXIoKSB7XG4gICAgaWYgKHByb3BzLnBhbmVsRm9vdGVyVGVtcGxhdGUpIHtcbiAgICAgIHZhciBjb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5wYW5lbEZvb3RlclRlbXBsYXRlLCBwcm9wcywgcHJvcHMub25PdmVybGF5SGlkZSk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC1mb290ZXJcIlxuICAgICAgfSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUdyb3VwQ2hpbGRyZW4gPSBmdW5jdGlvbiBjcmVhdGVHcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwLCBzdHlsZSkge1xuICAgIHZhciBncm91cENoaWxkcmVuID0gcHJvcHMuZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbihvcHRpb25Hcm91cCk7XG4gICAgcmV0dXJuIGdyb3VwQ2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChvcHRpb24sIGopIHtcbiAgICAgIHZhciBvcHRpb25MYWJlbCA9IHByb3BzLmdldE9wdGlvbkxhYmVsKG9wdGlvbik7XG4gICAgICB2YXIgb3B0aW9uS2V5ID0gaiArICdfJyArIHByb3BzLmdldE9wdGlvblJlbmRlcktleShvcHRpb24pO1xuICAgICAgdmFyIGRpc2FibGVkID0gcHJvcHMuaXNPcHRpb25EaXNhYmxlZChvcHRpb24pO1xuICAgICAgdmFyIHRhYkluZGV4ID0gZGlzYWJsZWQgPyBudWxsIDogcHJvcHMudGFiSW5kZXggfHwgMDtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHByb3BzLmlzU2VsZWN0ZWQob3B0aW9uKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNdWx0aVNlbGVjdEl0ZW0sIHtcbiAgICAgICAga2V5OiBvcHRpb25LZXksXG4gICAgICAgIGxhYmVsOiBvcHRpb25MYWJlbCxcbiAgICAgICAgb3B0aW9uOiBvcHRpb24sXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgdGVtcGxhdGU6IHByb3BzLml0ZW1UZW1wbGF0ZSxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICBvbkNsaWNrOiBwcm9wcy5vbk9wdGlvblNlbGVjdCxcbiAgICAgICAgb25LZXlEb3duOiBwcm9wcy5vbk9wdGlvbktleURvd24sXG4gICAgICAgIHRhYkluZGV4OiB0YWJJbmRleCxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlRW1wdHlGaWx0ZXIgPSBmdW5jdGlvbiBjcmVhdGVFbXB0eUZpbHRlcigpIHtcbiAgICB2YXIgZW1wdHlGaWx0ZXJNZXNzYWdlID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5lbXB0eUZpbHRlck1lc3NhZ2UsIHByb3BzKSB8fCBsb2NhbGVPcHRpb24oJ2VtcHR5RmlsdGVyTWVzc2FnZScpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwLW11bHRpc2VsZWN0LWVtcHR5LW1lc3NhZ2VcIlxuICAgIH0sIGVtcHR5RmlsdGVyTWVzc2FnZSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUl0ZW0gPSBmdW5jdGlvbiBjcmVhdGVJdGVtKG9wdGlvbiwgaW5kZXgpIHtcbiAgICB2YXIgc2Nyb2xsZXJPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICB2YXIgc3R5bGUgPSB7XG4gICAgICBoZWlnaHQ6IHNjcm9sbGVyT3B0aW9ucy5wcm9wcyA/IHNjcm9sbGVyT3B0aW9ucy5wcm9wcy5pdGVtU2l6ZSA6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICBpZiAocHJvcHMub3B0aW9uR3JvdXBMYWJlbCkge1xuICAgICAgdmFyIGdyb3VwQ29udGVudCA9IHByb3BzLm9wdGlvbkdyb3VwVGVtcGxhdGUgPyBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLm9wdGlvbkdyb3VwVGVtcGxhdGUsIG9wdGlvbiwgaW5kZXgpIDogcHJvcHMuZ2V0T3B0aW9uR3JvdXBMYWJlbChvcHRpb24pO1xuICAgICAgdmFyIGdyb3VwQ2hpbGRyZW5Db250ZW50ID0gY3JlYXRlR3JvdXBDaGlsZHJlbihvcHRpb24sIHN0eWxlKTtcbiAgICAgIHZhciBrZXkgPSBpbmRleCArICdfJyArIHByb3BzLmdldE9wdGlvbkdyb3VwUmVuZGVyS2V5KG9wdGlvbik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgICAga2V5OiBrZXlcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC1pdGVtLWdyb3VwXCIsXG4gICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgfSwgZ3JvdXBDb250ZW50KSwgZ3JvdXBDaGlsZHJlbkNvbnRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgb3B0aW9uTGFiZWwgPSBwcm9wcy5nZXRPcHRpb25MYWJlbChvcHRpb24pO1xuICAgICAgdmFyIG9wdGlvbktleSA9IGluZGV4ICsgJ18nICsgcHJvcHMuZ2V0T3B0aW9uUmVuZGVyS2V5KG9wdGlvbik7XG4gICAgICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5pc09wdGlvbkRpc2FibGVkKG9wdGlvbik7XG4gICAgICB2YXIgdGFiSW5kZXggPSBkaXNhYmxlZCA/IG51bGwgOiBwcm9wcy50YWJJbmRleCB8fCAwO1xuICAgICAgdmFyIHNlbGVjdGVkID0gcHJvcHMuaXNTZWxlY3RlZChvcHRpb24pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE11bHRpU2VsZWN0SXRlbSwge1xuICAgICAgICBrZXk6IG9wdGlvbktleSxcbiAgICAgICAgbGFiZWw6IG9wdGlvbkxhYmVsLFxuICAgICAgICBvcHRpb246IG9wdGlvbixcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB0ZW1wbGF0ZTogcHJvcHMuaXRlbVRlbXBsYXRlLFxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgIG9uQ2xpY2s6IHByb3BzLm9uT3B0aW9uU2VsZWN0LFxuICAgICAgICBvbktleURvd246IHByb3BzLm9uT3B0aW9uS2V5RG93bixcbiAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4LFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcygpIHtcbiAgICBpZiAoT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy52aXNpYmxlT3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBwcm9wcy52aXNpYmxlT3B0aW9ucy5tYXAoY3JlYXRlSXRlbSk7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5oYXNGaWx0ZXIpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbXB0eUZpbHRlcigpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVDb250ZW50ID0gZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcbiAgICBpZiAocHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucykge1xuICAgICAgdmFyIHZpcnR1YWxTY3JvbGxlclByb3BzID0gX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucyksIHtcbiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMuc3R5bGUpLCB7XG4gICAgICAgICAgaGVpZ2h0OiBwcm9wcy5zY3JvbGxIZWlnaHRcbiAgICAgICAgfSksXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygncC1tdWx0aXNlbGVjdC1pdGVtcy13cmFwcGVyJywgcHJvcHMudmlydHVhbFNjcm9sbGVyT3B0aW9ucy5jbGFzc05hbWUpLFxuICAgICAgICBpdGVtczogcHJvcHMudmlzaWJsZU9wdGlvbnMsXG4gICAgICAgIGF1dG9TaXplOiB0cnVlLFxuICAgICAgICBvbkxhenlMb2FkOiBmdW5jdGlvbiBvbkxhenlMb2FkKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BzLnZpcnR1YWxTY3JvbGxlck9wdGlvbnMub25MYXp5TG9hZChfb2JqZWN0U3ByZWFkJDEoX29iamVjdFNwcmVhZCQxKHt9LCBldmVudCksIHtcbiAgICAgICAgICAgIGZpbHRlcjogcHJvcHMuZmlsdGVyVmFsdWVcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGl0ZW1UZW1wbGF0ZTogZnVuY3Rpb24gaXRlbVRlbXBsYXRlKGl0ZW0sIG9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gaXRlbSAmJiBjcmVhdGVJdGVtKGl0ZW0sIG9wdGlvbnMuaW5kZXgsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBjb250ZW50VGVtcGxhdGU6IGZ1bmN0aW9uIGNvbnRlbnRUZW1wbGF0ZShvcHRpb25zKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtbXVsdGlzZWxlY3QtaXRlbXMgcC1jb21wb25lbnQnLCBvcHRpb25zLmNsYXNzTmFtZSk7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBpc0VtcHR5RmlsdGVyKCkgPyBjcmVhdGVFbXB0eUZpbHRlcigpIDogb3B0aW9ucy5jaGlsZHJlbjtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICAgICAgICByZWY6IG9wdGlvbnMuY29udGVudFJlZixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgcm9sZTogXCJsaXN0Ym94XCIsXG4gICAgICAgICAgICBcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCI6IHRydWVcbiAgICAgICAgICB9LCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChWaXJ0dWFsU2Nyb2xsZXIsIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiB2aXJ0dWFsU2Nyb2xsZXJSZWZcbiAgICAgIH0sIHZpcnR1YWxTY3JvbGxlclByb3BzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpdGVtcyA9IGNyZWF0ZUl0ZW1zKCk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC1pdGVtcy13cmFwcGVyXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgbWF4SGVpZ2h0OiBwcm9wcy5zY3JvbGxIZWlnaHRcbiAgICAgICAgfVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLW11bHRpc2VsZWN0LWl0ZW1zIHAtY29tcG9uZW50XCIsXG4gICAgICAgIHJvbGU6IFwibGlzdGJveFwiLFxuICAgICAgICBcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCI6IHRydWVcbiAgICAgIH0sIGl0ZW1zKSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCgpIHtcbiAgICB2YXIgYWxsb3dPcHRpb25TZWxlY3QgPSBwcm9wcy5hbGxvd09wdGlvblNlbGVjdCgpO1xuICAgIHZhciBwYW5lbENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtbXVsdGlzZWxlY3QtcGFuZWwgcC1jb21wb25lbnQnLCB7XG4gICAgICAncC1tdWx0aXNlbGVjdC1saW1pdGVkJzogIWFsbG93T3B0aW9uU2VsZWN0XG4gICAgfSwgcHJvcHMucGFuZWxDbGFzc05hbWUpO1xuICAgIHZhciBoZWFkZXIgPSBjcmVhdGVIZWFkZXIoKTtcbiAgICB2YXIgY29udGVudCA9IGNyZWF0ZUNvbnRlbnQoKTtcbiAgICB2YXIgZm9vdGVyID0gY3JlYXRlRm9vdGVyKCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTU1RyYW5zaXRpb24sIHtcbiAgICAgIG5vZGVSZWY6IHJlZixcbiAgICAgIGNsYXNzTmFtZXM6IFwicC1jb25uZWN0ZWQtb3ZlcmxheVwiLFxuICAgICAgXCJpblwiOiBwcm9wc1tcImluXCJdLFxuICAgICAgdGltZW91dDoge1xuICAgICAgICBlbnRlcjogMTIwLFxuICAgICAgICBleGl0OiAxMDBcbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiBwcm9wcy50cmFuc2l0aW9uT3B0aW9ucyxcbiAgICAgIHVubW91bnRPbkV4aXQ6IHRydWUsXG4gICAgICBvbkVudGVyOiBvbkVudGVyLFxuICAgICAgb25FbnRlcmVkOiBwcm9wcy5vbkVudGVyZWQsXG4gICAgICBvbkV4aXQ6IHByb3BzLm9uRXhpdCxcbiAgICAgIG9uRXhpdGVkOiBwcm9wcy5vbkV4aXRlZFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiBwYW5lbENsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5wYW5lbFN0eWxlLFxuICAgICAgb25DbGljazogcHJvcHMub25DbGlja1xuICAgIH0sIGhlYWRlciwgY29udGVudCwgZm9vdGVyKSk7XG4gIH07XG5cbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3J0YWwsIHtcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIGFwcGVuZFRvOiBwcm9wcy5hcHBlbmRUb1xuICB9KTtcbn0pKTtcbk11bHRpU2VsZWN0UGFuZWwuZGlzcGxheU5hbWUgPSAnTXVsdGlTZWxlY3RQYW5lbCc7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG52YXIgTXVsdGlTZWxlY3QgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKCcnKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgZmlsdGVyU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0RmlsdGVyU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUzID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLFxuICAgICAgZm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFswXSxcbiAgICAgIHNldEZvY3VzZWRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNSwgMiksXG4gICAgICBvdmVybGF5VmlzaWJsZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlswXSxcbiAgICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzFdO1xuXG4gIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYocHJvcHMuaW5wdXRSZWYpO1xuICB2YXIgbGFiZWxSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBvdmVybGF5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaGFzRmlsdGVyID0gZmlsdGVyU3RhdGUgJiYgZmlsdGVyU3RhdGUudHJpbSgpLmxlbmd0aCA+IDA7XG4gIHZhciBlbXB0eSA9IE9iamVjdFV0aWxzLmlzRW1wdHkocHJvcHMudmFsdWUpO1xuICB2YXIgZXF1YWxpdHlLZXkgPSBwcm9wcy5vcHRpb25WYWx1ZSA/IG51bGwgOiBwcm9wcy5kYXRhS2V5O1xuXG4gIHZhciBfdXNlT3ZlcmxheUxpc3RlbmVyID0gdXNlT3ZlcmxheUxpc3RlbmVyKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgb3ZlcmxheTogb3ZlcmxheVJlZixcbiAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQsIF9yZWYpIHtcbiAgICAgIHZhciB0eXBlID0gX3JlZi50eXBlLFxuICAgICAgICAgIHZhbGlkID0gX3JlZi52YWxpZDtcblxuICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgIHR5cGUgPT09ICdvdXRzaWRlJyA/ICFpc0NsZWFyQ2xpY2tlZChldmVudCkgJiYgaGlkZSgpIDogaGlkZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd2hlbjogb3ZlcmxheVZpc2libGVTdGF0ZVxuICB9KSxcbiAgICAgIF91c2VPdmVybGF5TGlzdGVuZXIyID0gX3NsaWNlZFRvQXJyYXkoX3VzZU92ZXJsYXlMaXN0ZW5lciwgMiksXG4gICAgICBiaW5kT3ZlcmxheUxpc3RlbmVyID0gX3VzZU92ZXJsYXlMaXN0ZW5lcjJbMF0sXG4gICAgICB1bmJpbmRPdmVybGF5TGlzdGVuZXIgPSBfdXNlT3ZlcmxheUxpc3RlbmVyMlsxXTtcblxuICB2YXIgb25QYW5lbENsaWNrID0gZnVuY3Rpb24gb25QYW5lbENsaWNrKGV2ZW50KSB7XG4gICAgT3ZlcmxheVNlcnZpY2UuZW1pdCgnb3ZlcmxheS1jbGljaycsIHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgdGFyZ2V0OiBlbGVtZW50UmVmLmN1cnJlbnRcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgYWxsb3dPcHRpb25TZWxlY3QgPSBmdW5jdGlvbiBhbGxvd09wdGlvblNlbGVjdCgpIHtcbiAgICByZXR1cm4gIXByb3BzLnNlbGVjdGlvbkxpbWl0IHx8ICFwcm9wcy52YWx1ZSB8fCBwcm9wcy52YWx1ZSAmJiBwcm9wcy52YWx1ZS5sZW5ndGggPCBwcm9wcy5zZWxlY3Rpb25MaW1pdDtcbiAgfTtcblxuICB2YXIgb25PcHRpb25TZWxlY3QgPSBmdW5jdGlvbiBvbk9wdGlvblNlbGVjdChldmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCxcbiAgICAgICAgb3B0aW9uID0gZXZlbnQub3B0aW9uO1xuXG4gICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IGlzT3B0aW9uRGlzYWJsZWQob3B0aW9uKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvcHRpb25WYWx1ZSA9IGdldE9wdGlvblZhbHVlKG9wdGlvbik7XG4gICAgdmFyIGlzVXNlZCA9IGlzT3B0aW9uVmFsdWVVc2VkKG9wdGlvbik7XG4gICAgdmFyIHNlbGVjdGVkID0gaXNTZWxlY3RlZChvcHRpb24pO1xuICAgIHZhciBhbGxvd1NlbGVjdCA9IGFsbG93T3B0aW9uU2VsZWN0KCk7XG4gICAgaWYgKHNlbGVjdGVkKSB1cGRhdGVNb2RlbChvcmlnaW5hbEV2ZW50LCBwcm9wcy52YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuICFPYmplY3RVdGlscy5lcXVhbHMoaXNVc2VkID8gdmFsIDogZ2V0T3B0aW9uVmFsdWUodmFsKSwgb3B0aW9uVmFsdWUsIGVxdWFsaXR5S2V5KTtcbiAgICB9KSk7ZWxzZSBpZiAoYWxsb3dTZWxlY3QpIHVwZGF0ZU1vZGVsKG9yaWdpbmFsRXZlbnQsIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMudmFsdWUgfHwgW10pLCBbb3B0aW9uVmFsdWVdKSk7XG4gIH07XG5cbiAgdmFyIG9uT3B0aW9uS2V5RG93biA9IGZ1bmN0aW9uIG9uT3B0aW9uS2V5RG93bihldmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICB2YXIgbGlzdEl0ZW0gPSBvcmlnaW5hbEV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cbiAgICBzd2l0Y2ggKG9yaWdpbmFsRXZlbnQud2hpY2gpIHtcbiAgICAgIC8vZG93blxuICAgICAgY2FzZSA0MDpcbiAgICAgICAgdmFyIG5leHRJdGVtID0gZmluZE5leHRJdGVtKGxpc3RJdGVtKTtcbiAgICAgICAgbmV4dEl0ZW0gJiYgbmV4dEl0ZW0uZm9jdXMoKTtcbiAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vdXBcblxuICAgICAgY2FzZSAzODpcbiAgICAgICAgdmFyIHByZXZJdGVtID0gZmluZFByZXZJdGVtKGxpc3RJdGVtKTtcbiAgICAgICAgcHJldkl0ZW0gJiYgcHJldkl0ZW0uZm9jdXMoKTtcbiAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vZW50ZXIgYW5kIHNwYWNlXG5cbiAgICAgIGNhc2UgMTM6XG4gICAgICBjYXNlIDMyOlxuICAgICAgICBvbk9wdGlvblNlbGVjdChldmVudCk7XG4gICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2VzY2FwZVxuXG4gICAgICBjYXNlIDI3OlxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZmluZE5leHRJdGVtID0gZnVuY3Rpb24gZmluZE5leHRJdGVtKGl0ZW0pIHtcbiAgICB2YXIgbmV4dEl0ZW0gPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgICByZXR1cm4gbmV4dEl0ZW0gPyBEb21IYW5kbGVyLmhhc0NsYXNzKG5leHRJdGVtLCAncC1kaXNhYmxlZCcpIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3MobmV4dEl0ZW0sICdwLW11bHRpc2VsZWN0LWl0ZW0tZ3JvdXAnKSA/IGZpbmROZXh0SXRlbShuZXh0SXRlbSkgOiBuZXh0SXRlbSA6IG51bGw7XG4gIH07XG5cbiAgdmFyIGZpbmRQcmV2SXRlbSA9IGZ1bmN0aW9uIGZpbmRQcmV2SXRlbShpdGVtKSB7XG4gICAgdmFyIHByZXZJdGVtID0gaXRlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIHJldHVybiBwcmV2SXRlbSA/IERvbUhhbmRsZXIuaGFzQ2xhc3MocHJldkl0ZW0sICdwLWRpc2FibGVkJykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyhwcmV2SXRlbSwgJ3AtbXVsdGlzZWxlY3QtaXRlbS1ncm91cCcpID8gZmluZFByZXZJdGVtKHByZXZJdGVtKSA6IHByZXZJdGVtIDogbnVsbDtcbiAgfTtcblxuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFpc1BhbmVsQ2xpY2tlZChldmVudCkgJiYgIURvbUhhbmRsZXIuaGFzQ2xhc3MoZXZlbnQudGFyZ2V0LCAncC1tdWx0aXNlbGVjdC10b2tlbi1pY29uJykgJiYgIWlzQ2xlYXJDbGlja2VkKGV2ZW50KSkge1xuICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA/IGhpZGUoKSA6IHNob3coKTtcbiAgICAgIERvbUhhbmRsZXIuZm9jdXMoaW5wdXRSZWYuY3VycmVudCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgLy9kb3duXG4gICAgICBjYXNlIDQwOlxuICAgICAgICBpZiAoIW92ZXJsYXlWaXNpYmxlU3RhdGUgJiYgZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgc2hvdygpO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIC8vc3BhY2VcblxuICAgICAgY2FzZSAzMjpcbiAgICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA/IGhpZGUoKSA6IHNob3coKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvL2VzY2FwZVxuXG4gICAgICBjYXNlIDI3OlxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy90YWJcblxuICAgICAgY2FzZSA5OlxuICAgICAgICBpZiAob3ZlcmxheVZpc2libGVTdGF0ZSkge1xuICAgICAgICAgIHZhciBmaXJzdEZvY3VzYWJsZUVsZW1lbnQgPSBEb21IYW5kbGVyLmdldEZpcnN0Rm9jdXNhYmxlRWxlbWVudChvdmVybGF5UmVmLmN1cnJlbnQpO1xuXG4gICAgICAgICAgaWYgKGZpcnN0Rm9jdXNhYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgZmlyc3RGb2N1c2FibGVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25TZWxlY3RBbGwgPSBmdW5jdGlvbiBvblNlbGVjdEFsbChldmVudCkge1xuICAgIGlmIChwcm9wcy5vblNlbGVjdEFsbCkge1xuICAgICAgcHJvcHMub25TZWxlY3RBbGwoZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmFsdWUgPSBudWxsO1xuXG4gICAgICBpZiAoZXZlbnQuY2hlY2tlZCkge1xuICAgICAgICB2YWx1ZSA9IFtdO1xuXG4gICAgICAgIGlmICh2aXNpYmxlT3B0aW9ucykge1xuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbnMgPSB2aXNpYmxlT3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGlzT3B0aW9uRGlzYWJsZWQob3B0aW9uKSAmJiBpc1NlbGVjdGVkKG9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRPcHRpb25WYWx1ZShvcHRpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZpc2libGVPcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdmlzaWJsZU9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gIWlzT3B0aW9uRGlzYWJsZWQob3B0aW9uKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHByb3BzLm9wdGlvbkdyb3VwTGFiZWwpIHtcbiAgICAgICAgICB2YWx1ZSA9IFtdO1xuICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWUpLCBfdG9Db25zdW1hYmxlQXJyYXkoZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbihvcHRpb25Hcm91cCkuZmlsdGVyKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuICFpc09wdGlvbkRpc2FibGVkKG9wdGlvbik7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0T3B0aW9uVmFsdWUob3B0aW9uKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0T3B0aW9uVmFsdWUob3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB1cGRhdGVNb2RlbChldmVudC5vcmlnaW5hbEV2ZW50LCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciB1cGRhdGVNb2RlbCA9IGZ1bmN0aW9uIHVwZGF0ZU1vZGVsKGV2ZW50LCB2YWx1ZSkge1xuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHt9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7fSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgICBpZDogcHJvcHMuaWQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25GaWx0ZXJJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIG9uRmlsdGVySW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgZmlsdGVyID0gZXZlbnQucXVlcnk7XG4gICAgc2V0RmlsdGVyU3RhdGUoZmlsdGVyKTtcblxuICAgIGlmIChwcm9wcy5vbkZpbHRlcikge1xuICAgICAgcHJvcHMub25GaWx0ZXIoe1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVzZXRGaWx0ZXIgPSBmdW5jdGlvbiByZXNldEZpbHRlcigpIHtcbiAgICBzZXRGaWx0ZXJTdGF0ZSgnJyk7XG4gICAgcHJvcHMub25GaWx0ZXIgJiYgcHJvcHMub25GaWx0ZXIoe1xuICAgICAgZmlsdGVyOiAnJ1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzY3JvbGxJblZpZXcgPSBmdW5jdGlvbiBzY3JvbGxJblZpZXcoKSB7XG4gICAgdmFyIGhpZ2hsaWdodEl0ZW0gPSBEb21IYW5kbGVyLmZpbmRTaW5nbGUob3ZlcmxheVJlZi5jdXJyZW50LCAnbGkucC1oaWdobGlnaHQnKTtcblxuICAgIGlmIChoaWdobGlnaHRJdGVtICYmIGhpZ2hsaWdodEl0ZW0uc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgIGhpZ2hsaWdodEl0ZW0uc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBibG9jazogJ25lYXJlc3QnLFxuICAgICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlKHRydWUpO1xuICB9O1xuXG4gIHZhciBoaWRlID0gZnVuY3Rpb24gaGlkZSgpIHtcbiAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlKGZhbHNlKTtcbiAgfTtcblxuICB2YXIgb25PdmVybGF5RW50ZXIgPSBmdW5jdGlvbiBvbk92ZXJsYXlFbnRlcihjYWxsYmFjaykge1xuICAgIFpJbmRleFV0aWxzLnNldCgnb3ZlcmxheScsIG92ZXJsYXlSZWYuY3VycmVudCwgUHJpbWVSZWFjdC5hdXRvWkluZGV4LCBQcmltZVJlYWN0LnpJbmRleFsnb3ZlcmxheSddKTtcbiAgICBhbGlnbk92ZXJsYXkoKTtcbiAgICBzY3JvbGxJblZpZXcoKTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFbnRlcmVkID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXJlZCgpIHtcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyKCk7XG4gICAgcHJvcHMub25TaG93ICYmIHByb3BzLm9uU2hvdygpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFeGl0ID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdCgpIHtcbiAgICB1bmJpbmRPdmVybGF5TGlzdGVuZXIoKTtcbiAgfTtcblxuICB2YXIgb25PdmVybGF5RXhpdGVkID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdGVkKCkge1xuICAgIGlmIChwcm9wcy5maWx0ZXIgJiYgcHJvcHMucmVzZXRGaWx0ZXJPbkhpZGUpIHtcbiAgICAgIHJlc2V0RmlsdGVyKCk7XG4gICAgfVxuXG4gICAgWkluZGV4VXRpbHMuY2xlYXIob3ZlcmxheVJlZi5jdXJyZW50KTtcbiAgICBwcm9wcy5vbkhpZGUgJiYgcHJvcHMub25IaWRlKCk7XG4gIH07XG5cbiAgdmFyIGFsaWduT3ZlcmxheSA9IGZ1bmN0aW9uIGFsaWduT3ZlcmxheSgpIHtcbiAgICBEb21IYW5kbGVyLmFsaWduT3ZlcmxheShvdmVybGF5UmVmLmN1cnJlbnQsIGxhYmVsUmVmLmN1cnJlbnQucGFyZW50RWxlbWVudCwgcHJvcHMuYXBwZW5kVG8gfHwgUHJpbWVSZWFjdC5hcHBlbmRUbyk7XG4gIH07XG5cbiAgdmFyIGlzQ2xlYXJDbGlja2VkID0gZnVuY3Rpb24gaXNDbGVhckNsaWNrZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gRG9tSGFuZGxlci5oYXNDbGFzcyhldmVudC50YXJnZXQsICdwLW11bHRpc2VsZWN0LWNsZWFyLWljb24nKTtcbiAgfTtcblxuICB2YXIgaXNQYW5lbENsaWNrZWQgPSBmdW5jdGlvbiBpc1BhbmVsQ2xpY2tlZChldmVudCkge1xuICAgIHJldHVybiBvdmVybGF5UmVmLmN1cnJlbnQgJiYgb3ZlcmxheVJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XG4gIH07XG5cbiAgdmFyIG9uQ2xvc2VDbGljayA9IGZ1bmN0aW9uIG9uQ2xvc2VDbGljayhldmVudCkge1xuICAgIGhpZGUoKTtcbiAgICBEb21IYW5kbGVyLmZvY3VzKGlucHV0UmVmLmN1cnJlbnQpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG5cbiAgdmFyIGdldFNlbGVjdGVkT3B0aW9uSW5kZXggPSBmdW5jdGlvbiBnZXRTZWxlY3RlZE9wdGlvbkluZGV4KCkge1xuICAgIGlmIChwcm9wcy52YWx1ZSAhPSBudWxsICYmIHByb3BzLm9wdGlvbnMpIHtcbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIHZhciBncm91cEluZGV4ID0gMDtcbiAgICAgICAgdmFyIG9wdGlvbkluZGV4ID0gcHJvcHMub3B0aW9ucy5maW5kSW5kZXgoZnVuY3Rpb24gKG9wdGlvbkdyb3VwLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIChncm91cEluZGV4ID0gaSkgJiYgZmluZE9wdGlvbkluZGV4SW5MaXN0KHByb3BzLnZhbHVlLCBnZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKSkgIT09IC0xO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbkluZGV4ICE9PSAtMSA/IHtcbiAgICAgICAgICBncm91cDogZ3JvdXBJbmRleCxcbiAgICAgICAgICBvcHRpb246IG9wdGlvbkluZGV4XG4gICAgICAgIH0gOiAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5kT3B0aW9uSW5kZXhJbkxpc3QocHJvcHMudmFsdWUsIHByb3BzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICB2YXIgZmluZE9wdGlvbkluZGV4SW5MaXN0ID0gZnVuY3Rpb24gZmluZE9wdGlvbkluZGV4SW5MaXN0KHZhbHVlLCBsaXN0KSB7XG4gICAgcmV0dXJuIGxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gdmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBPYmplY3RVdGlscy5lcXVhbHModmFsLCBnZXRPcHRpb25WYWx1ZShpdGVtKSwgZXF1YWxpdHlLZXkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGlzU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc1NlbGVjdGVkKG9wdGlvbikge1xuICAgIGlmIChwcm9wcy52YWx1ZSkge1xuICAgICAgdmFyIG9wdGlvblZhbHVlID0gZ2V0T3B0aW9uVmFsdWUob3B0aW9uKTtcbiAgICAgIHZhciBpc1VzZWQgPSBpc09wdGlvblZhbHVlVXNlZChvcHRpb24pO1xuICAgICAgcmV0dXJuIHByb3BzLnZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZXF1YWxzKGlzVXNlZCA/IHZhbCA6IGdldE9wdGlvblZhbHVlKHZhbCksIG9wdGlvblZhbHVlLCBlcXVhbGl0eUtleSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGdldExhYmVsQnlWYWx1ZSA9IGZ1bmN0aW9uIGdldExhYmVsQnlWYWx1ZSh2YWwpIHtcbiAgICB2YXIgb3B0aW9uO1xuXG4gICAgaWYgKHByb3BzLm9wdGlvbnMpIHtcbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcm9wcy5vcHRpb25zKSxcbiAgICAgICAgICAgIF9zdGVwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25Hcm91cCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgb3B0aW9uID0gZmluZE9wdGlvbkJ5VmFsdWUodmFsLCBnZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbiA9IGZpbmRPcHRpb25CeVZhbHVlKHZhbCwgcHJvcHMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbiA/IGdldE9wdGlvbkxhYmVsKG9wdGlvbikgOiBudWxsO1xuICB9O1xuXG4gIHZhciBmaW5kT3B0aW9uQnlWYWx1ZSA9IGZ1bmN0aW9uIGZpbmRPcHRpb25CeVZhbHVlKHZhbCwgbGlzdCkge1xuICAgIHJldHVybiBsaXN0LmZpbmQoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgcmV0dXJuIE9iamVjdFV0aWxzLmVxdWFscyhnZXRPcHRpb25WYWx1ZShvcHRpb24pLCB2YWwsIGVxdWFsaXR5S2V5KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25Gb2N1cyA9IGZ1bmN0aW9uIG9uRm9jdXMoZXZlbnQpIHtcbiAgICBzZXRGb2N1c2VkU3RhdGUodHJ1ZSk7XG4gICAgcHJvcHMub25Gb2N1cyAmJiBwcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKGV2ZW50KSB7XG4gICAgc2V0Rm9jdXNlZFN0YXRlKGZhbHNlKTtcbiAgICBwcm9wcy5vbkJsdXIgJiYgcHJvcHMub25CbHVyKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgaXNBbGxTZWxlY3RlZCA9IGZ1bmN0aW9uIGlzQWxsU2VsZWN0ZWQoKSB7XG4gICAgaWYgKHByb3BzLm9uU2VsZWN0QWxsKSB7XG4gICAgICByZXR1cm4gcHJvcHMuc2VsZWN0QWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoT2JqZWN0VXRpbHMuaXNFbXB0eSh2aXNpYmxlT3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3B0aW9ucyA9IHZpc2libGVPcHRpb25zLmZpbHRlcihmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiAhaXNPcHRpb25EaXNhYmxlZChvcHRpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob3B0aW9ucyksXG4gICAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbkdyb3VwID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHZpc2libGVPcHRpb25zR3JvdXBDaGlsZHJlbiA9IGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ob3B0aW9uR3JvdXApLmZpbHRlcihmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiAhaXNPcHRpb25EaXNhYmxlZChvcHRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gIXZpc2libGVPcHRpb25zR3JvdXBDaGlsZHJlbi5zb21lKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuICFpc1NlbGVjdGVkKG9wdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gIW9wdGlvbnMuc29tZShmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuICFpc1NlbGVjdGVkKG9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25MYWJlbCA9IGZ1bmN0aW9uIGdldE9wdGlvbkxhYmVsKG9wdGlvbikge1xuICAgIHJldHVybiBwcm9wcy5vcHRpb25MYWJlbCA/IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5vcHRpb25MYWJlbCkgOiBvcHRpb24gJiYgb3B0aW9uWydsYWJlbCddICE9PSB1bmRlZmluZWQgPyBvcHRpb25bJ2xhYmVsJ10gOiBvcHRpb247XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvblZhbHVlID0gZnVuY3Rpb24gZ2V0T3B0aW9uVmFsdWUob3B0aW9uKSB7XG4gICAgaWYgKHByb3BzLm9wdGlvblZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uLCBwcm9wcy5vcHRpb25WYWx1ZSk7XG4gICAgICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiBvcHRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbiAmJiBvcHRpb25bJ3ZhbHVlJ10gIT09IHVuZGVmaW5lZCA/IG9wdGlvblsndmFsdWUnXSA6IG9wdGlvbjtcbiAgfTtcblxuICB2YXIgZ2V0T3B0aW9uUmVuZGVyS2V5ID0gZnVuY3Rpb24gZ2V0T3B0aW9uUmVuZGVyS2V5KG9wdGlvbikge1xuICAgIHJldHVybiBwcm9wcy5kYXRhS2V5ID8gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShvcHRpb24sIHByb3BzLmRhdGFLZXkpIDogZ2V0T3B0aW9uTGFiZWwob3B0aW9uKTtcbiAgfTtcblxuICB2YXIgZ2V0T3B0aW9uR3JvdXBSZW5kZXJLZXkgPSBmdW5jdGlvbiBnZXRPcHRpb25Hcm91cFJlbmRlcktleShvcHRpb25Hcm91cCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbkdyb3VwLCBwcm9wcy5vcHRpb25Hcm91cExhYmVsKTtcbiAgfTtcblxuICB2YXIgZ2V0T3B0aW9uR3JvdXBMYWJlbCA9IGZ1bmN0aW9uIGdldE9wdGlvbkdyb3VwTGFiZWwob3B0aW9uR3JvdXApIHtcbiAgICByZXR1cm4gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShvcHRpb25Hcm91cCwgcHJvcHMub3B0aW9uR3JvdXBMYWJlbCk7XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4gPSBmdW5jdGlvbiBnZXRPcHRpb25Hcm91cENoaWxkcmVuKG9wdGlvbkdyb3VwKSB7XG4gICAgcmV0dXJuIE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEob3B0aW9uR3JvdXAsIHByb3BzLm9wdGlvbkdyb3VwQ2hpbGRyZW4pO1xuICB9O1xuXG4gIHZhciBpc09wdGlvbkRpc2FibGVkID0gZnVuY3Rpb24gaXNPcHRpb25EaXNhYmxlZChvcHRpb24pIHtcbiAgICBpZiAocHJvcHMub3B0aW9uRGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBPYmplY3RVdGlscy5pc0Z1bmN0aW9uKHByb3BzLm9wdGlvbkRpc2FibGVkKSA/IHByb3BzLm9wdGlvbkRpc2FibGVkKG9wdGlvbikgOiBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKG9wdGlvbiwgcHJvcHMub3B0aW9uRGlzYWJsZWQpO1xuICAgIH1cblxuICAgIHJldHVybiBvcHRpb24gJiYgb3B0aW9uWydkaXNhYmxlZCddICE9PSB1bmRlZmluZWQgPyBvcHRpb25bJ2Rpc2FibGVkJ10gOiBmYWxzZTtcbiAgfTtcblxuICB2YXIgaXNPcHRpb25WYWx1ZVVzZWQgPSBmdW5jdGlvbiBpc09wdGlvblZhbHVlVXNlZChvcHRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMub3B0aW9uVmFsdWUgfHwgb3B0aW9uICYmIG9wdGlvblsndmFsdWUnXSAhPT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIHZhciByZW1vdmVDaGlwID0gZnVuY3Rpb24gcmVtb3ZlQ2hpcChldmVudCwgaXRlbSkge1xuICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gIU9iamVjdFV0aWxzLmVxdWFscyh2YWwsIGl0ZW0sIGVxdWFsaXR5S2V5KTtcbiAgICB9KTtcbiAgICB1cGRhdGVNb2RlbChldmVudCwgdmFsdWUpO1xuICB9O1xuXG4gIHZhciBnZXRTZWxlY3RlZEl0ZW1zTGFiZWwgPSBmdW5jdGlvbiBnZXRTZWxlY3RlZEl0ZW1zTGFiZWwoKSB7XG4gICAgdmFyIHBhdHRlcm4gPSAveyguKj8pfS87XG5cbiAgICBpZiAocGF0dGVybi50ZXN0KHByb3BzLnNlbGVjdGVkSXRlbXNMYWJlbCkpIHtcbiAgICAgIHJldHVybiBwcm9wcy5zZWxlY3RlZEl0ZW1zTGFiZWwucmVwbGFjZShwcm9wcy5zZWxlY3RlZEl0ZW1zTGFiZWwubWF0Y2gocGF0dGVybilbMF0sIHByb3BzLnZhbHVlLmxlbmd0aCArICcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHMuc2VsZWN0ZWRJdGVtc0xhYmVsO1xuICB9O1xuXG4gIHZhciBnZXRMYWJlbCA9IGZ1bmN0aW9uIGdldExhYmVsKCkge1xuICAgIHZhciBsYWJlbDtcblxuICAgIGlmICghZW1wdHkgJiYgIXByb3BzLmZpeGVkUGxhY2Vob2xkZXIpIHtcbiAgICAgIGlmIChPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLm1heFNlbGVjdGVkTGFiZWxzKSAmJiBwcm9wcy52YWx1ZS5sZW5ndGggPiBwcm9wcy5tYXhTZWxlY3RlZExhYmVscykge1xuICAgICAgICByZXR1cm4gZ2V0U2VsZWN0ZWRJdGVtc0xhYmVsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcHJvcHMudmFsdWUucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBhY2MgKyAoaW5kZXggIT09IDAgPyAnLCcgOiAnJykgKyBnZXRMYWJlbEJ5VmFsdWUodmFsdWUpO1xuICAgICAgICB9LCAnJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhYmVsO1xuICB9O1xuXG4gIHZhciBnZXRMYWJlbENvbnRlbnQgPSBmdW5jdGlvbiBnZXRMYWJlbENvbnRlbnQoKSB7XG4gICAgaWYgKHByb3BzLnNlbGVjdGVkSXRlbVRlbXBsYXRlKSB7XG4gICAgICBpZiAoIWVtcHR5KSB7XG4gICAgICAgIGlmIChPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLm1heFNlbGVjdGVkTGFiZWxzKSAmJiBwcm9wcy52YWx1ZS5sZW5ndGggPiBwcm9wcy5tYXhTZWxlY3RlZExhYmVscykge1xuICAgICAgICAgIHJldHVybiBnZXRTZWxlY3RlZEl0ZW1zTGFiZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMudmFsdWUubWFwKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuc2VsZWN0ZWRJdGVtVGVtcGxhdGUsIHZhbCk7XG4gICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHtcbiAgICAgICAgICAgICAga2V5OiBpbmRleFxuICAgICAgICAgICAgfSwgaXRlbSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLnNlbGVjdGVkSXRlbVRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb3BzLmRpc3BsYXkgPT09ICdjaGlwJyAmJiAhZW1wdHkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUuc2xpY2UoMCwgcHJvcHMubWF4U2VsZWN0ZWRMYWJlbHMgfHwgcHJvcHMudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgdmFyIGxhYmVsID0gZ2V0TGFiZWxCeVZhbHVlKHZhbCk7XG4gICAgICAgICAgdmFyIGljb24gPSAhcHJvcHMuZGlzYWJsZWQgJiYgSWNvblV0aWxzLmdldEpTWEljb24ocHJvcHMucmVtb3ZlSWNvbiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAncC1tdWx0aXNlbGVjdC10b2tlbi1pY29uJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlQ2hpcChlLCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC10b2tlblwiLFxuICAgICAgICAgICAga2V5OiBsYWJlbFxuICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwicC1tdWx0aXNlbGVjdC10b2tlbi1sYWJlbFwiXG4gICAgICAgICAgfSwgbGFiZWwpLCBpY29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRMYWJlbCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0VmlzaWJsZU9wdGlvbnMgPSBmdW5jdGlvbiBnZXRWaXNpYmxlT3B0aW9ucygpIHtcbiAgICBpZiAoaGFzRmlsdGVyKSB7XG4gICAgICB2YXIgZmlsdGVyVmFsdWUgPSBmaWx0ZXJTdGF0ZS50cmltKCkudG9Mb2NhbGVMb3dlckNhc2UocHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgIHZhciBzZWFyY2hGaWVsZHMgPSBwcm9wcy5maWx0ZXJCeSA/IHByb3BzLmZpbHRlckJ5LnNwbGl0KCcsJykgOiBbcHJvcHMub3B0aW9uTGFiZWwgfHwgJ2xhYmVsJ107XG5cbiAgICAgIGlmIChwcm9wcy5vcHRpb25Hcm91cExhYmVsKSB7XG4gICAgICAgIHZhciBmaWx0ZXJlZEdyb3VwcyA9IFtdO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvcHMub3B0aW9ucyksXG4gICAgICAgICAgICBfc3RlcDM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIG9wdGdyb3VwID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkU3ViT3B0aW9ucyA9IEZpbHRlclNlcnZpY2UuZmlsdGVyKGdldE9wdGlvbkdyb3VwQ2hpbGRyZW4ob3B0Z3JvdXApLCBzZWFyY2hGaWVsZHMsIGZpbHRlclZhbHVlLCBwcm9wcy5maWx0ZXJNYXRjaE1vZGUsIHByb3BzLmZpbHRlckxvY2FsZSk7XG5cbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZFN1Yk9wdGlvbnMgJiYgZmlsdGVyZWRTdWJPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmaWx0ZXJlZEdyb3Vwcy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0Z3JvdXApLCBfZGVmaW5lUHJvcGVydHkoe30sIHByb3BzLm9wdGlvbkdyb3VwQ2hpbGRyZW4sIGZpbHRlcmVkU3ViT3B0aW9ucykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkR3JvdXBzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZpbHRlclNlcnZpY2UuZmlsdGVyKHByb3BzLm9wdGlvbnMsIHNlYXJjaEZpZWxkcywgZmlsdGVyVmFsdWUsIHByb3BzLmZpbHRlck1hdGNoTW9kZSwgcHJvcHMuZmlsdGVyTG9jYWxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHByb3BzLm9wdGlvbnM7XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIHNob3c6IHNob3csXG4gICAgICBoaWRlOiBoaWRlLFxuICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBnZXRPdmVybGF5OiBmdW5jdGlvbiBnZXRPdmVybGF5KCkge1xuICAgICAgICByZXR1cm4gb3ZlcmxheVJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldElucHV0OiBmdW5jdGlvbiBnZXRJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgT2JqZWN0VXRpbHMuY29tYmluZWRSZWZzKGlucHV0UmVmLCBwcm9wcy5pbnB1dFJlZik7XG4gIH0sIFtpbnB1dFJlZiwgcHJvcHMuaW5wdXRSZWZdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAob3ZlcmxheVZpc2libGVTdGF0ZSAmJiBoYXNGaWx0ZXIpIHtcbiAgICAgIGFsaWduT3ZlcmxheSgpO1xuICAgIH1cbiAgfSwgW292ZXJsYXlWaXNpYmxlU3RhdGUsIGhhc0ZpbHRlcl0pO1xuICB1c2VVbm1vdW50RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBaSW5kZXhVdGlscy5jbGVhcihvdmVybGF5UmVmLmN1cnJlbnQpO1xuICB9KTtcblxuICB2YXIgY3JlYXRlQ2xlYXJJY29uID0gZnVuY3Rpb24gY3JlYXRlQ2xlYXJJY29uKCkge1xuICAgIGlmICghZW1wdHkgJiYgcHJvcHMuc2hvd0NsZWFyICYmICFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwLW11bHRpc2VsZWN0LWNsZWFyLWljb24gcGkgcGktdGltZXNcIixcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1vZGVsKGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlTGFiZWwgPSBmdW5jdGlvbiBjcmVhdGVMYWJlbCgpIHtcbiAgICB2YXIgY29udGVudCA9IGdldExhYmVsQ29udGVudCgpO1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLW11bHRpc2VsZWN0LWxhYmVsJywge1xuICAgICAgJ3AtcGxhY2Vob2xkZXInOiBlbXB0eSAmJiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICdwLW11bHRpc2VsZWN0LWxhYmVsLWVtcHR5JzogZW1wdHkgJiYgIXByb3BzLnBsYWNlaG9sZGVyICYmICFwcm9wcy5zZWxlY3RlZEl0ZW1UZW1wbGF0ZSxcbiAgICAgICdwLW11bHRpc2VsZWN0LWl0ZW1zLWxhYmVsJzogIWVtcHR5ICYmIHByb3BzLmRpc3BsYXkgIT09ICdjaGlwJyAmJiBwcm9wcy52YWx1ZS5sZW5ndGggPiBwcm9wcy5tYXhTZWxlY3RlZExhYmVsc1xuICAgIH0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICByZWY6IGxhYmVsUmVmLFxuICAgICAgY2xhc3NOYW1lOiBcInAtbXVsdGlzZWxlY3QtbGFiZWwtY29udGFpbmVyXCJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgIH0sIGNvbnRlbnQgfHwgcHJvcHMucGxhY2Vob2xkZXIgfHwgJ2VtcHR5JykpO1xuICB9O1xuXG4gIHZhciB2aXNpYmxlT3B0aW9ucyA9IGdldFZpc2libGVPcHRpb25zKCk7XG4gIHZhciBoYXNUb29sdGlwID0gT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShwcm9wcy50b29sdGlwKTtcbiAgdmFyIG90aGVyUHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIE11bHRpU2VsZWN0LmRlZmF1bHRQcm9wcyk7XG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLW11bHRpc2VsZWN0IHAtY29tcG9uZW50IHAtaW5wdXR3cmFwcGVyJywge1xuICAgICdwLW11bHRpc2VsZWN0LWNoaXAnOiBwcm9wcy5kaXNwbGF5ID09PSAnY2hpcCcsXG4gICAgJ3AtZGlzYWJsZWQnOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAncC1tdWx0aXNlbGVjdC1jbGVhcmFibGUnOiBwcm9wcy5zaG93Q2xlYXIgJiYgIXByb3BzLmRpc2FibGVkLFxuICAgICdwLWZvY3VzJzogZm9jdXNlZFN0YXRlLFxuICAgICdwLWlucHV0d3JhcHBlci1maWxsZWQnOiBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnZhbHVlKSxcbiAgICAncC1pbnB1dHdyYXBwZXItZm9jdXMnOiBmb2N1c2VkU3RhdGUgfHwgb3ZlcmxheVZpc2libGVTdGF0ZVxuICB9LCBwcm9wcy5jbGFzc05hbWUpO1xuICB2YXIgbGFiZWwgPSBjcmVhdGVMYWJlbCgpO1xuICB2YXIgY2xlYXJJY29uID0gY3JlYXRlQ2xlYXJJY29uKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBpZDogcHJvcHMuaWQsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gIH0sIG90aGVyUHJvcHMsIHtcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInAtaGlkZGVuLWFjY2Vzc2libGVcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICByZWY6IGlucHV0UmVmLFxuICAgIGlkOiBwcm9wcy5pbnB1dElkLFxuICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBvbktleURvd246IG9uS2V5RG93bixcbiAgICByb2xlOiBcImxpc3Rib3hcIixcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBwcm9wcy5hcmlhTGFiZWxsZWRCeSxcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogb3ZlcmxheVZpc2libGVTdGF0ZSxcbiAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4XG4gIH0pKSwgbGFiZWwsIGNsZWFySWNvbiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwLW11bHRpc2VsZWN0LXRyaWdnZXJcIlxuICB9LCBJY29uVXRpbHMuZ2V0SlNYSWNvbihwcm9wcy5kcm9wZG93bkljb24sIHtcbiAgICBjbGFzc05hbWU6ICdwLW11bHRpc2VsZWN0LXRyaWdnZXItaWNvbiBwLWMnXG4gIH0sIHtcbiAgICBwcm9wczogcHJvcHNcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNdWx0aVNlbGVjdFBhbmVsLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBvdmVybGF5UmVmLFxuICAgIHZpc2libGVPcHRpb25zOiB2aXNpYmxlT3B0aW9uc1xuICB9LCBwcm9wcywge1xuICAgIG9uQ2xpY2s6IG9uUGFuZWxDbGljayxcbiAgICBvbk92ZXJsYXlIaWRlOiBoaWRlLFxuICAgIGZpbHRlclZhbHVlOiBmaWx0ZXJTdGF0ZSxcbiAgICBoYXNGaWx0ZXI6IGhhc0ZpbHRlcixcbiAgICBvbkZpbHRlcklucHV0Q2hhbmdlOiBvbkZpbHRlcklucHV0Q2hhbmdlLFxuICAgIHJlc2V0RmlsdGVyOiByZXNldEZpbHRlcixcbiAgICBvbkNsb3NlQ2xpY2s6IG9uQ2xvc2VDbGljayxcbiAgICBvblNlbGVjdEFsbDogb25TZWxlY3RBbGwsXG4gICAgZ2V0T3B0aW9uTGFiZWw6IGdldE9wdGlvbkxhYmVsLFxuICAgIGdldE9wdGlvblJlbmRlcktleTogZ2V0T3B0aW9uUmVuZGVyS2V5LFxuICAgIGlzT3B0aW9uRGlzYWJsZWQ6IGlzT3B0aW9uRGlzYWJsZWQsXG4gICAgZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbjogZ2V0T3B0aW9uR3JvdXBDaGlsZHJlbixcbiAgICBnZXRPcHRpb25Hcm91cExhYmVsOiBnZXRPcHRpb25Hcm91cExhYmVsLFxuICAgIGdldE9wdGlvbkdyb3VwUmVuZGVyS2V5OiBnZXRPcHRpb25Hcm91cFJlbmRlcktleSxcbiAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgIGdldFNlbGVjdGVkT3B0aW9uSW5kZXg6IGdldFNlbGVjdGVkT3B0aW9uSW5kZXgsXG4gICAgaXNBbGxTZWxlY3RlZDogaXNBbGxTZWxlY3RlZCxcbiAgICBvbk9wdGlvblNlbGVjdDogb25PcHRpb25TZWxlY3QsXG4gICAgYWxsb3dPcHRpb25TZWxlY3Q6IGFsbG93T3B0aW9uU2VsZWN0LFxuICAgIG9uT3B0aW9uS2V5RG93bjogb25PcHRpb25LZXlEb3duLFxuICAgIFwiaW5cIjogb3ZlcmxheVZpc2libGVTdGF0ZSxcbiAgICBvbkVudGVyOiBvbk92ZXJsYXlFbnRlcixcbiAgICBvbkVudGVyZWQ6IG9uT3ZlcmxheUVudGVyZWQsXG4gICAgb25FeGl0OiBvbk92ZXJsYXlFeGl0LFxuICAgIG9uRXhpdGVkOiBvbk92ZXJsYXlFeGl0ZWRcbiAgfSkpKSwgaGFzVG9vbHRpcCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCBfZXh0ZW5kcyh7XG4gICAgdGFyZ2V0OiBlbGVtZW50UmVmLFxuICAgIGNvbnRlbnQ6IHByb3BzLnRvb2x0aXBcbiAgfSwgcHJvcHMudG9vbHRpcE9wdGlvbnMpKSk7XG59KSk7XG5NdWx0aVNlbGVjdC5kaXNwbGF5TmFtZSA9ICdNdWx0aVNlbGVjdCc7XG5NdWx0aVNlbGVjdC5kZWZhdWx0UHJvcHMgPSB7XG4gIF9fVFlQRTogJ011bHRpU2VsZWN0JyxcbiAgaWQ6IG51bGwsXG4gIGlucHV0UmVmOiBudWxsLFxuICBuYW1lOiBudWxsLFxuICB2YWx1ZTogbnVsbCxcbiAgb3B0aW9uczogbnVsbCxcbiAgb3B0aW9uTGFiZWw6IG51bGwsXG4gIG9wdGlvblZhbHVlOiBudWxsLFxuICBvcHRpb25EaXNhYmxlZDogbnVsbCxcbiAgb3B0aW9uR3JvdXBMYWJlbDogbnVsbCxcbiAgb3B0aW9uR3JvdXBDaGlsZHJlbjogbnVsbCxcbiAgb3B0aW9uR3JvdXBUZW1wbGF0ZTogbnVsbCxcbiAgZmlsdGVyVGVtcGxhdGU6IG51bGwsXG4gIGRpc3BsYXk6ICdjb21tYScsXG4gIHN0eWxlOiBudWxsLFxuICBjbGFzc05hbWU6IG51bGwsXG4gIHBhbmVsQ2xhc3NOYW1lOiBudWxsLFxuICBwYW5lbFN0eWxlOiBudWxsLFxuICB2aXJ0dWFsU2Nyb2xsZXJPcHRpb25zOiBudWxsLFxuICBzY3JvbGxIZWlnaHQ6ICcyMDBweCcsXG4gIHBsYWNlaG9sZGVyOiBudWxsLFxuICBmaXhlZFBsYWNlaG9sZGVyOiBmYWxzZSxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBzaG93Q2xlYXI6IGZhbHNlLFxuICBmaWx0ZXI6IGZhbHNlLFxuICBmaWx0ZXJCeTogbnVsbCxcbiAgZmlsdGVyTWF0Y2hNb2RlOiAnY29udGFpbnMnLFxuICBmaWx0ZXJQbGFjZWhvbGRlcjogbnVsbCxcbiAgZmlsdGVyTG9jYWxlOiB1bmRlZmluZWQsXG4gIGVtcHR5RmlsdGVyTWVzc2FnZTogbnVsbCxcbiAgcmVzZXRGaWx0ZXJPbkhpZGU6IGZhbHNlLFxuICB0YWJJbmRleDogMCxcbiAgZGF0YUtleTogbnVsbCxcbiAgaW5wdXRJZDogbnVsbCxcbiAgYXBwZW5kVG86IG51bGwsXG4gIHRvb2x0aXA6IG51bGwsXG4gIHRvb2x0aXBPcHRpb25zOiBudWxsLFxuICBtYXhTZWxlY3RlZExhYmVsczogbnVsbCxcbiAgc2VsZWN0aW9uTGltaXQ6IG51bGwsXG4gIHNlbGVjdGVkSXRlbXNMYWJlbDogJ3swfSBpdGVtcyBzZWxlY3RlZCcsXG4gIGFyaWFMYWJlbGxlZEJ5OiBudWxsLFxuICBpdGVtVGVtcGxhdGU6IG51bGwsXG4gIHNlbGVjdGVkSXRlbVRlbXBsYXRlOiBudWxsLFxuICBwYW5lbEhlYWRlclRlbXBsYXRlOiBudWxsLFxuICBwYW5lbEZvb3RlclRlbXBsYXRlOiBudWxsLFxuICB0cmFuc2l0aW9uT3B0aW9uczogbnVsbCxcbiAgZHJvcGRvd25JY29uOiAncGkgcGktY2hldnJvbi1kb3duJyxcbiAgcmVtb3ZlSWNvbjogJ3BpIHBpLXRpbWVzLWNpcmNsZScsXG4gIHNob3dTZWxlY3RBbGw6IHRydWUsXG4gIHNlbGVjdEFsbDogZmFsc2UsXG4gIG9uQ2hhbmdlOiBudWxsLFxuICBvbkZvY3VzOiBudWxsLFxuICBvbkJsdXI6IG51bGwsXG4gIG9uU2hvdzogbnVsbCxcbiAgb25IaWRlOiBudWxsLFxuICBvbkZpbHRlcjogbnVsbCxcbiAgb25TZWxlY3RBbGw6IG51bGxcbn07XG5cbmV4cG9ydCB7IE11bHRpU2VsZWN0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/multiselect/multiselect.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/overlayservice/overlayservice.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/primereact/overlayservice/overlayservice.esm.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OverlayService\": function() { return /* binding */ OverlayService; }\n/* harmony export */ });\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\nvar OverlayService = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_0__.EventBus)();\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9vdmVybGF5c2VydmljZS9vdmVybGF5c2VydmljZS5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7O0FBRTVDLHFCQUFxQiwwREFBUTs7QUFFSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9vdmVybGF5c2VydmljZS9vdmVybGF5c2VydmljZS5lc20uanM/NDhhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG52YXIgT3ZlcmxheVNlcnZpY2UgPSBFdmVudEJ1cygpO1xuXG5leHBvcnQgeyBPdmVybGF5U2VydmljZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/primereact/overlayservice/overlayservice.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/password/password.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/primereact/password/password.esm.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Password\": function() { return /* binding */ Password; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/api */ \"./node_modules/primereact/api/api.esm.js\");\n/* harmony import */ var primereact_csstransition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/csstransition */ \"./node_modules/primereact/csstransition/csstransition.esm.js\");\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/inputtext */ \"./node_modules/primereact/inputtext/inputtext.esm.js\");\n/* harmony import */ var primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/overlayservice */ \"./node_modules/primereact/overlayservice/overlayservice.esm.js\");\n/* harmony import */ var primereact_portal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/portal */ \"./node_modules/primereact/portal/portal.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar Password = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var promptLabel = props.promptLabel || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('passwordPrompt');\n  var weakLabel = props.weakLabel || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('weak');\n  var mediumLabel = props.mediumLabel || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('medium');\n  var strongLabel = props.strongLabel || (0,primereact_api__WEBPACK_IMPORTED_MODULE_1__.localeOption)('strong');\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      overlayVisibleState = _React$useState2[0],\n      setOverlayVisibleState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      meterState = _React$useState4[0],\n      setMeterState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(promptLabel),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      infoTextState = _React$useState6[0],\n      setInfoTextState = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      focusedState = _React$useState8[0],\n      setFocusedState = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      unmaskedState = _React$useState10[0],\n      setUnmaskedState = _React$useState10[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var overlayRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props.inputRef);\n  var mediumCheckRegExp = react__WEBPACK_IMPORTED_MODULE_0__.useRef(new RegExp(props.mediumRegex));\n  var strongCheckRegExp = react__WEBPACK_IMPORTED_MODULE_0__.useRef(new RegExp(props.strongRegex));\n  var type = unmaskedState ? 'text' : 'password';\n\n  var _useOverlayListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useOverlayListener)({\n    target: elementRef,\n    overlay: overlayRef,\n    listener: function listener(event, _ref) {\n      var valid = _ref.valid;\n      valid && hide();\n    },\n    when: overlayVisibleState\n  }),\n      _useOverlayListener2 = _slicedToArray(_useOverlayListener, 2),\n      bindOverlayListener = _useOverlayListener2[0],\n      unbindOverlayListener = _useOverlayListener2[1];\n\n  var currentValue = inputRef.current && inputRef.current.value;\n  var isFilled = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isNotEmpty(props.value) || primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isNotEmpty(props.defaultValue) || primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isNotEmpty(currentValue);\n  }, [props.value, props.defaultValue, currentValue]);\n\n  var updateLabels = function updateLabels() {\n    if (meterState) {\n      var label = null;\n\n      switch (meterState.strength) {\n        case 'weak':\n          label = weakLabel;\n          break;\n\n        case 'medium':\n          label = mediumLabel;\n          break;\n\n        case 'strong':\n          label = strongLabel;\n          break;\n      }\n\n      if (label && infoTextState !== label) {\n        setInfoTextState(label);\n      }\n    } else {\n      if (infoTextState !== promptLabel) {\n        setInfoTextState(promptLabel);\n      }\n    }\n  };\n\n  var onPanelClick = function onPanelClick(event) {\n    if (props.feedback) {\n      primereact_overlayservice__WEBPACK_IMPORTED_MODULE_5__.OverlayService.emit('overlay-click', {\n        originalEvent: event,\n        target: elementRef.current\n      });\n    }\n  };\n\n  var onMaskToggle = function onMaskToggle() {\n    setUnmaskedState(function (prevUnmasked) {\n      return !prevUnmasked;\n    });\n  };\n\n  var show = function show() {\n    updateLabels();\n    setOverlayVisibleState(true);\n  };\n\n  var hide = function hide() {\n    setOverlayVisibleState(false);\n  };\n\n  var alignOverlay = function alignOverlay() {\n    if (inputRef.current) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.alignOverlay(overlayRef.current, inputRef.current.parentElement, props.appendTo || primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].appendTo);\n    }\n  };\n\n  var onOverlayEnter = function onOverlayEnter() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ZIndexUtils.set('overlay', overlayRef.current, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].autoZIndex, primereact_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"].zIndex.overlay);\n    alignOverlay();\n  };\n\n  var onOverlayEntered = function onOverlayEntered() {\n    bindOverlayListener();\n    props.onShow && props.onShow();\n  };\n\n  var onOverlayExit = function onOverlayExit() {\n    unbindOverlayListener();\n  };\n\n  var onOverlayExited = function onOverlayExited() {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ZIndexUtils.clear(overlayRef.current);\n    props.onHide && props.onHide();\n  };\n\n  var onFocus = function onFocus(event) {\n    setFocusedState(true);\n\n    if (props.feedback) {\n      show();\n    }\n\n    props.onFocus && props.onFocus(event);\n  };\n\n  var onBlur = function onBlur(event) {\n    setFocusedState(false);\n\n    if (props.feedback) {\n      hide();\n    }\n\n    props.onBlur && props.onBlur(event);\n  };\n\n  var onKeyup = function onKeyup(e) {\n    var keyCode = e.keyCode || e.which;\n\n    if (props.feedback) {\n      var value = e.target.value;\n      var label = null;\n      var meter = null;\n\n      switch (testStrength(value)) {\n        case 1:\n          label = weakLabel;\n          meter = {\n            strength: 'weak',\n            width: '33.33%'\n          };\n          break;\n\n        case 2:\n          label = mediumLabel;\n          meter = {\n            strength: 'medium',\n            width: '66.66%'\n          };\n          break;\n\n        case 3:\n          label = strongLabel;\n          meter = {\n            strength: 'strong',\n            width: '100%'\n          };\n          break;\n\n        default:\n          label = promptLabel;\n          meter = null;\n          break;\n      }\n\n      setMeterState(meter);\n      setInfoTextState(label);\n\n      if (!!keyCode && !overlayVisibleState) {\n        show();\n      }\n    }\n\n    props.onKeyUp && props.onKeyUp(e);\n  };\n\n  var onInput = function onInput(event, validatePattern) {\n    if (props.onInput) {\n      props.onInput(event, validatePattern);\n    }\n\n    if (!props.onChange) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.isNotEmpty(event.target.value) ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.addClass(elementRef.current, 'p-inputwrapper-filled') : primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.removeClass(elementRef.current, 'p-inputwrapper-filled');\n    }\n  };\n\n  var testStrength = function testStrength(str) {\n    if (strongCheckRegExp.current.test(str)) return 3;else if (mediumCheckRegExp.current.test(str)) return 2;else if (str.length) return 1;\n    return 0;\n  };\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      },\n      getOverlay: function getOverlay() {\n        return overlayRef.current;\n      },\n      getInput: function getInput() {\n        return inputRef.current;\n      }\n    };\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.combinedRefs(inputRef, props.inputRef);\n  }, [inputRef, props.inputRef]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    mediumCheckRegExp.current = new RegExp(props.mediumRegex);\n  }, [props.mediumRegex]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    strongCheckRegExp.current = new RegExp(props.strongRegex);\n  }, [props.strongRegex]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    if (!isFilled && primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.hasClass(elementRef.current, 'p-inputwrapper-filled')) {\n      primereact_utils__WEBPACK_IMPORTED_MODULE_7__.DomHandler.removeClass(elementRef.current, 'p-inputwrapper-filled');\n    }\n  }, [isFilled]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_3__.useUnmountEffect)(function () {\n    primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ZIndexUtils.clear(overlayRef.current);\n  });\n\n  var createIcon = function createIcon() {\n    if (props.toggleMask) {\n      var iconClassName = unmaskedState ? 'pi pi-eye-slash' : 'pi pi-eye';\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: iconClassName,\n        onClick: onMaskToggle\n      });\n\n      if (props.icon) {\n        var defaultIconOptions = {\n          onClick: onMaskToggle,\n          className: iconClassName,\n          element: content,\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.icon, defaultIconOptions);\n      }\n\n      return content;\n    }\n\n    return null;\n  };\n\n  var createPanel = function createPanel() {\n    var panelClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-password-panel p-component', props.panelClassName);\n\n    var _ref2 = meterState || {\n      strength: '',\n      width: '0%'\n    },\n        strength = _ref2.strength,\n        width = _ref2.width;\n\n    var header = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.header, props);\n    var footer = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.footer, props);\n    var content = props.content ? primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.getJSXElement(props.content, props) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-password-meter\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-password-strength \".concat(strength),\n      style: {\n        width: width\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"p-password-info\"\n    }, infoTextState));\n    var panel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_csstransition__WEBPACK_IMPORTED_MODULE_2__.CSSTransition, {\n      nodeRef: overlayRef,\n      classNames: \"p-connected-overlay\",\n      \"in\": overlayVisibleState,\n      timeout: {\n        enter: 120,\n        exit: 100\n      },\n      options: props.transitionOptions,\n      unmountOnExit: true,\n      onEnter: onOverlayEnter,\n      onEntered: onOverlayEntered,\n      onExit: onOverlayExit,\n      onExited: onOverlayExited\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: overlayRef,\n      className: panelClassName,\n      style: props.panelStyle,\n      onClick: onPanelClick\n    }, header, content, footer));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_portal__WEBPACK_IMPORTED_MODULE_6__.Portal, {\n      element: panel,\n      appendTo: props.appendTo\n    });\n  };\n\n  var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-password p-component p-inputwrapper', {\n    'p-inputwrapper-filled': isFilled,\n    'p-inputwrapper-focus': focusedState,\n    'p-input-icon-right': props.toggleMask\n  }, props.className);\n  var inputClassName = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_7__.classNames)('p-password-input', props.inputClassName);\n  var inputProps = primereact_utils__WEBPACK_IMPORTED_MODULE_7__.ObjectUtils.findDiffKeys(props, Password.defaultProps);\n  var icon = createIcon();\n  var panel = createPanel();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    ref: elementRef,\n    id: props.id,\n    className: className,\n    style: props.style\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_4__.InputText, _extends({\n    ref: inputRef,\n    id: props.inputId\n  }, inputProps, {\n    type: type,\n    className: inputClassName,\n    style: props.inputStyle,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyUp: onKeyup,\n    onInput: onInput,\n    tooltip: props.tooltip,\n    tooltipOptions: props.tooltipOptions\n  })), icon, panel);\n}));\nPassword.displayName = 'Password';\nPassword.defaultProps = {\n  __TYPE: 'Password',\n  id: null,\n  inputId: null,\n  inputRef: null,\n  promptLabel: null,\n  weakLabel: null,\n  mediumLabel: null,\n  strongLabel: null,\n  mediumRegex: '^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})',\n  strongRegex: '^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})',\n  feedback: true,\n  toggleMask: false,\n  appendTo: null,\n  header: null,\n  content: null,\n  footer: null,\n  icon: null,\n  tooltip: null,\n  tooltipOptions: null,\n  style: null,\n  className: null,\n  inputStyle: null,\n  inputClassName: null,\n  panelStyle: null,\n  panelClassName: null,\n  transitionOptions: null,\n  onInput: null,\n  onShow: null,\n  onHide: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC9wYXNzd29yZC9wYXNzd29yZC5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErQjtBQUMyQjtBQUNEO0FBQ2U7QUFDdkI7QUFDVTtBQUNoQjtBQUN5Qzs7QUFFcEY7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDRCQUE0Qix1Q0FBVSxlQUFlLDZDQUFnQjtBQUNyRSx5Q0FBeUMsNERBQVk7QUFDckQscUNBQXFDLDREQUFZO0FBQ2pELHlDQUF5Qyw0REFBWTtBQUNyRCx5Q0FBeUMsNERBQVk7O0FBRXJELHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsMkNBQWM7QUFDdkM7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiwyQ0FBYztBQUN2QztBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIseUNBQVk7QUFDL0IsbUJBQW1CLHlDQUFZO0FBQy9CLGlCQUFpQix5Q0FBWTtBQUM3QiwwQkFBMEIseUNBQVk7QUFDdEMsMEJB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QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxlQUFlLGdEQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx3QkFBd0IsZ0RBQW1CLENBQUMscURBQU07QUFDbEQ7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxrQkFBa0IsNERBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHVCQUF1Qiw0REFBVTtBQUNqQyxtQkFBbUIsc0VBQXdCO0FBQzNDO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxlQUFlLGdEQUFtQixDQUFDLDJEQUFTO0FBQy9DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxHQUFHO0FBQ3JHLHVEQUF1RCxHQUFHO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L3Bhc3N3b3JkL3Bhc3N3b3JkLmVzbS5qcz81MGU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcmltZVJlYWN0LCB7IGxvY2FsZU9wdGlvbiB9IGZyb20gJ3ByaW1lcmVhY3QvYXBpJztcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tICdwcmltZXJlYWN0L2Nzc3RyYW5zaXRpb24nO1xuaW1wb3J0IHsgdXNlT3ZlcmxheUxpc3RlbmVyLCB1c2VVbm1vdW50RWZmZWN0IH0gZnJvbSAncHJpbWVyZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBJbnB1dFRleHQgfSBmcm9tICdwcmltZXJlYWN0L2lucHV0dGV4dCc7XG5pbXBvcnQgeyBPdmVybGF5U2VydmljZSB9IGZyb20gJ3ByaW1lcmVhY3Qvb3ZlcmxheXNlcnZpY2UnO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAncHJpbWVyZWFjdC9wb3J0YWwnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMsIERvbUhhbmRsZXIsIFpJbmRleFV0aWxzLCBjbGFzc05hbWVzIH0gZnJvbSAncHJpbWVyZWFjdC91dGlscyc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbnZhciBQYXNzd29yZCA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKCAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgcHJvbXB0TGFiZWwgPSBwcm9wcy5wcm9tcHRMYWJlbCB8fCBsb2NhbGVPcHRpb24oJ3Bhc3N3b3JkUHJvbXB0Jyk7XG4gIHZhciB3ZWFrTGFiZWwgPSBwcm9wcy53ZWFrTGFiZWwgfHwgbG9jYWxlT3B0aW9uKCd3ZWFrJyk7XG4gIHZhciBtZWRpdW1MYWJlbCA9IHByb3BzLm1lZGl1bUxhYmVsIHx8IGxvY2FsZU9wdGlvbignbWVkaXVtJyk7XG4gIHZhciBzdHJvbmdMYWJlbCA9IHByb3BzLnN0cm9uZ0xhYmVsIHx8IGxvY2FsZU9wdGlvbignc3Ryb25nJyk7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgb3ZlcmxheVZpc2libGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRPdmVybGF5VmlzaWJsZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKG51bGwpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLFxuICAgICAgbWV0ZXJTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRNZXRlclN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKHByb21wdExhYmVsKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIGluZm9UZXh0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0SW5mb1RleHRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTZbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTcgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNywgMiksXG4gICAgICBmb2N1c2VkU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU4WzBdLFxuICAgICAgc2V0Rm9jdXNlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlOFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlOSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlOSwgMiksXG4gICAgICB1bm1hc2tlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTBbMF0sXG4gICAgICBzZXRVbm1hc2tlZFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTBbMV07XG5cbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBvdmVybGF5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYocHJvcHMuaW5wdXRSZWYpO1xuICB2YXIgbWVkaXVtQ2hlY2tSZWdFeHAgPSBSZWFjdC51c2VSZWYobmV3IFJlZ0V4cChwcm9wcy5tZWRpdW1SZWdleCkpO1xuICB2YXIgc3Ryb25nQ2hlY2tSZWdFeHAgPSBSZWFjdC51c2VSZWYobmV3IFJlZ0V4cChwcm9wcy5zdHJvbmdSZWdleCkpO1xuICB2YXIgdHlwZSA9IHVubWFza2VkU3RhdGUgPyAndGV4dCcgOiAncGFzc3dvcmQnO1xuXG4gIHZhciBfdXNlT3ZlcmxheUxpc3RlbmVyID0gdXNlT3ZlcmxheUxpc3RlbmVyKHtcbiAgICB0YXJnZXQ6IGVsZW1lbnRSZWYsXG4gICAgb3ZlcmxheTogb3ZlcmxheVJlZixcbiAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQsIF9yZWYpIHtcbiAgICAgIHZhciB2YWxpZCA9IF9yZWYudmFsaWQ7XG4gICAgICB2YWxpZCAmJiBoaWRlKCk7XG4gICAgfSxcbiAgICB3aGVuOiBvdmVybGF5VmlzaWJsZVN0YXRlXG4gIH0pLFxuICAgICAgX3VzZU92ZXJsYXlMaXN0ZW5lcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlT3ZlcmxheUxpc3RlbmVyLCAyKSxcbiAgICAgIGJpbmRPdmVybGF5TGlzdGVuZXIgPSBfdXNlT3ZlcmxheUxpc3RlbmVyMlswXSxcbiAgICAgIHVuYmluZE92ZXJsYXlMaXN0ZW5lciA9IF91c2VPdmVybGF5TGlzdGVuZXIyWzFdO1xuXG4gIHZhciBjdXJyZW50VmFsdWUgPSBpbnB1dFJlZi5jdXJyZW50ICYmIGlucHV0UmVmLmN1cnJlbnQudmFsdWU7XG4gIHZhciBpc0ZpbGxlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLnZhbHVlKSB8fCBPYmplY3RVdGlscy5pc05vdEVtcHR5KHByb3BzLmRlZmF1bHRWYWx1ZSkgfHwgT2JqZWN0VXRpbHMuaXNOb3RFbXB0eShjdXJyZW50VmFsdWUpO1xuICB9LCBbcHJvcHMudmFsdWUsIHByb3BzLmRlZmF1bHRWYWx1ZSwgY3VycmVudFZhbHVlXSk7XG5cbiAgdmFyIHVwZGF0ZUxhYmVscyA9IGZ1bmN0aW9uIHVwZGF0ZUxhYmVscygpIHtcbiAgICBpZiAobWV0ZXJTdGF0ZSkge1xuICAgICAgdmFyIGxhYmVsID0gbnVsbDtcblxuICAgICAgc3dpdGNoIChtZXRlclN0YXRlLnN0cmVuZ3RoKSB7XG4gICAgICAgIGNhc2UgJ3dlYWsnOlxuICAgICAgICAgIGxhYmVsID0gd2Vha0xhYmVsO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ21lZGl1bSc6XG4gICAgICAgICAgbGFiZWwgPSBtZWRpdW1MYWJlbDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzdHJvbmcnOlxuICAgICAgICAgIGxhYmVsID0gc3Ryb25nTGFiZWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChsYWJlbCAmJiBpbmZvVGV4dFN0YXRlICE9PSBsYWJlbCkge1xuICAgICAgICBzZXRJbmZvVGV4dFN0YXRlKGxhYmVsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGluZm9UZXh0U3RhdGUgIT09IHByb21wdExhYmVsKSB7XG4gICAgICAgIHNldEluZm9UZXh0U3RhdGUocHJvbXB0TGFiZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25QYW5lbENsaWNrID0gZnVuY3Rpb24gb25QYW5lbENsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHByb3BzLmZlZWRiYWNrKSB7XG4gICAgICBPdmVybGF5U2VydmljZS5lbWl0KCdvdmVybGF5LWNsaWNrJywge1xuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgdGFyZ2V0OiBlbGVtZW50UmVmLmN1cnJlbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25NYXNrVG9nZ2xlID0gZnVuY3Rpb24gb25NYXNrVG9nZ2xlKCkge1xuICAgIHNldFVubWFza2VkU3RhdGUoZnVuY3Rpb24gKHByZXZVbm1hc2tlZCkge1xuICAgICAgcmV0dXJuICFwcmV2VW5tYXNrZWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgIHVwZGF0ZUxhYmVscygpO1xuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUodHJ1ZSk7XG4gIH07XG5cbiAgdmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgIHNldE92ZXJsYXlWaXNpYmxlU3RhdGUoZmFsc2UpO1xuICB9O1xuXG4gIHZhciBhbGlnbk92ZXJsYXkgPSBmdW5jdGlvbiBhbGlnbk92ZXJsYXkoKSB7XG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIERvbUhhbmRsZXIuYWxpZ25PdmVybGF5KG92ZXJsYXlSZWYuY3VycmVudCwgaW5wdXRSZWYuY3VycmVudC5wYXJlbnRFbGVtZW50LCBwcm9wcy5hcHBlbmRUbyB8fCBQcmltZVJlYWN0LmFwcGVuZFRvKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uT3ZlcmxheUVudGVyID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXIoKSB7XG4gICAgWkluZGV4VXRpbHMuc2V0KCdvdmVybGF5Jywgb3ZlcmxheVJlZi5jdXJyZW50LCBQcmltZVJlYWN0LmF1dG9aSW5kZXgsIFByaW1lUmVhY3QuekluZGV4WydvdmVybGF5J10pO1xuICAgIGFsaWduT3ZlcmxheSgpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFbnRlcmVkID0gZnVuY3Rpb24gb25PdmVybGF5RW50ZXJlZCgpIHtcbiAgICBiaW5kT3ZlcmxheUxpc3RlbmVyKCk7XG4gICAgcHJvcHMub25TaG93ICYmIHByb3BzLm9uU2hvdygpO1xuICB9O1xuXG4gIHZhciBvbk92ZXJsYXlFeGl0ID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdCgpIHtcbiAgICB1bmJpbmRPdmVybGF5TGlzdGVuZXIoKTtcbiAgfTtcblxuICB2YXIgb25PdmVybGF5RXhpdGVkID0gZnVuY3Rpb24gb25PdmVybGF5RXhpdGVkKCkge1xuICAgIFpJbmRleFV0aWxzLmNsZWFyKG92ZXJsYXlSZWYuY3VycmVudCk7XG4gICAgcHJvcHMub25IaWRlICYmIHByb3BzLm9uSGlkZSgpO1xuICB9O1xuXG4gIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZSh0cnVlKTtcblxuICAgIGlmIChwcm9wcy5mZWVkYmFjaykge1xuICAgICAgc2hvdygpO1xuICAgIH1cblxuICAgIHByb3BzLm9uRm9jdXMgJiYgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uQmx1ciA9IGZ1bmN0aW9uIG9uQmx1cihldmVudCkge1xuICAgIHNldEZvY3VzZWRTdGF0ZShmYWxzZSk7XG5cbiAgICBpZiAocHJvcHMuZmVlZGJhY2spIHtcbiAgICAgIGhpZGUoKTtcbiAgICB9XG5cbiAgICBwcm9wcy5vbkJsdXIgJiYgcHJvcHMub25CbHVyKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgb25LZXl1cCA9IGZ1bmN0aW9uIG9uS2V5dXAoZSkge1xuICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XG5cbiAgICBpZiAocHJvcHMuZmVlZGJhY2spIHtcbiAgICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgdmFyIGxhYmVsID0gbnVsbDtcbiAgICAgIHZhciBtZXRlciA9IG51bGw7XG5cbiAgICAgIHN3aXRjaCAodGVzdFN0cmVuZ3RoKHZhbHVlKSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbGFiZWwgPSB3ZWFrTGFiZWw7XG4gICAgICAgICAgbWV0ZXIgPSB7XG4gICAgICAgICAgICBzdHJlbmd0aDogJ3dlYWsnLFxuICAgICAgICAgICAgd2lkdGg6ICczMy4zMyUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbGFiZWwgPSBtZWRpdW1MYWJlbDtcbiAgICAgICAgICBtZXRlciA9IHtcbiAgICAgICAgICAgIHN0cmVuZ3RoOiAnbWVkaXVtJyxcbiAgICAgICAgICAgIHdpZHRoOiAnNjYuNjYlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGxhYmVsID0gc3Ryb25nTGFiZWw7XG4gICAgICAgICAgbWV0ZXIgPSB7XG4gICAgICAgICAgICBzdHJlbmd0aDogJ3N0cm9uZycsXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxhYmVsID0gcHJvbXB0TGFiZWw7XG4gICAgICAgICAgbWV0ZXIgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBzZXRNZXRlclN0YXRlKG1ldGVyKTtcbiAgICAgIHNldEluZm9UZXh0U3RhdGUobGFiZWwpO1xuXG4gICAgICBpZiAoISFrZXlDb2RlICYmICFvdmVybGF5VmlzaWJsZVN0YXRlKSB7XG4gICAgICAgIHNob3coKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wcy5vbktleVVwICYmIHByb3BzLm9uS2V5VXAoZSk7XG4gIH07XG5cbiAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiBvbklucHV0KGV2ZW50LCB2YWxpZGF0ZVBhdHRlcm4pIHtcbiAgICBpZiAocHJvcHMub25JbnB1dCkge1xuICAgICAgcHJvcHMub25JbnB1dChldmVudCwgdmFsaWRhdGVQYXR0ZXJuKTtcbiAgICB9XG5cbiAgICBpZiAoIXByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICBPYmplY3RVdGlscy5pc05vdEVtcHR5KGV2ZW50LnRhcmdldC52YWx1ZSkgPyBEb21IYW5kbGVyLmFkZENsYXNzKGVsZW1lbnRSZWYuY3VycmVudCwgJ3AtaW5wdXR3cmFwcGVyLWZpbGxlZCcpIDogRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhlbGVtZW50UmVmLmN1cnJlbnQsICdwLWlucHV0d3JhcHBlci1maWxsZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHRlc3RTdHJlbmd0aCA9IGZ1bmN0aW9uIHRlc3RTdHJlbmd0aChzdHIpIHtcbiAgICBpZiAoc3Ryb25nQ2hlY2tSZWdFeHAuY3VycmVudC50ZXN0KHN0cikpIHJldHVybiAzO2Vsc2UgaWYgKG1lZGl1bUNoZWNrUmVnRXhwLmN1cnJlbnQudGVzdChzdHIpKSByZXR1cm4gMjtlbHNlIGlmIChzdHIubGVuZ3RoKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgfSxcbiAgICAgIGdldE92ZXJsYXk6IGZ1bmN0aW9uIGdldE92ZXJsYXkoKSB7XG4gICAgICAgIHJldHVybiBvdmVybGF5UmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuICAgICAgICByZXR1cm4gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3RVdGlscy5jb21iaW5lZFJlZnMoaW5wdXRSZWYsIHByb3BzLmlucHV0UmVmKTtcbiAgfSwgW2lucHV0UmVmLCBwcm9wcy5pbnB1dFJlZl0pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIG1lZGl1bUNoZWNrUmVnRXhwLmN1cnJlbnQgPSBuZXcgUmVnRXhwKHByb3BzLm1lZGl1bVJlZ2V4KTtcbiAgfSwgW3Byb3BzLm1lZGl1bVJlZ2V4XSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc3Ryb25nQ2hlY2tSZWdFeHAuY3VycmVudCA9IG5ldyBSZWdFeHAocHJvcHMuc3Ryb25nUmVnZXgpO1xuICB9LCBbcHJvcHMuc3Ryb25nUmVnZXhdKTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlzRmlsbGVkICYmIERvbUhhbmRsZXIuaGFzQ2xhc3MoZWxlbWVudFJlZi5jdXJyZW50LCAncC1pbnB1dHdyYXBwZXItZmlsbGVkJykpIHtcbiAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MoZWxlbWVudFJlZi5jdXJyZW50LCAncC1pbnB1dHdyYXBwZXItZmlsbGVkJyk7XG4gICAgfVxuICB9LCBbaXNGaWxsZWRdKTtcbiAgdXNlVW5tb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgWkluZGV4VXRpbHMuY2xlYXIob3ZlcmxheVJlZi5jdXJyZW50KTtcbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZUljb24gPSBmdW5jdGlvbiBjcmVhdGVJY29uKCkge1xuICAgIGlmIChwcm9wcy50b2dnbGVNYXNrKSB7XG4gICAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IHVubWFza2VkU3RhdGUgPyAncGkgcGktZXllLXNsYXNoJyA6ICdwaSBwaS1leWUnO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGljb25DbGFzc05hbWUsXG4gICAgICAgIG9uQ2xpY2s6IG9uTWFza1RvZ2dsZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwcm9wcy5pY29uKSB7XG4gICAgICAgIHZhciBkZWZhdWx0SWNvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgb25DbGljazogb25NYXNrVG9nZ2xlLFxuICAgICAgICAgIGNsYXNzTmFtZTogaWNvbkNsYXNzTmFtZSxcbiAgICAgICAgICBlbGVtZW50OiBjb250ZW50LFxuICAgICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgICB9O1xuICAgICAgICBjb250ZW50ID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5pY29uLCBkZWZhdWx0SWNvbk9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgY3JlYXRlUGFuZWwgPSBmdW5jdGlvbiBjcmVhdGVQYW5lbCgpIHtcbiAgICB2YXIgcGFuZWxDbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXBhc3N3b3JkLXBhbmVsIHAtY29tcG9uZW50JywgcHJvcHMucGFuZWxDbGFzc05hbWUpO1xuXG4gICAgdmFyIF9yZWYyID0gbWV0ZXJTdGF0ZSB8fCB7XG4gICAgICBzdHJlbmd0aDogJycsXG4gICAgICB3aWR0aDogJzAlJ1xuICAgIH0sXG4gICAgICAgIHN0cmVuZ3RoID0gX3JlZjIuc3RyZW5ndGgsXG4gICAgICAgIHdpZHRoID0gX3JlZjIud2lkdGg7XG5cbiAgICB2YXIgaGVhZGVyID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5oZWFkZXIsIHByb3BzKTtcbiAgICB2YXIgZm9vdGVyID0gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5mb290ZXIsIHByb3BzKTtcbiAgICB2YXIgY29udGVudCA9IHByb3BzLmNvbnRlbnQgPyBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmNvbnRlbnQsIHByb3BzKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwicC1wYXNzd29yZC1tZXRlclwiXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtcGFzc3dvcmQtc3RyZW5ndGggXCIuY29uY2F0KHN0cmVuZ3RoKSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgfVxuICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInAtcGFzc3dvcmQtaW5mb1wiXG4gICAgfSwgaW5mb1RleHRTdGF0ZSkpO1xuICAgIHZhciBwYW5lbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTU1RyYW5zaXRpb24sIHtcbiAgICAgIG5vZGVSZWY6IG92ZXJsYXlSZWYsXG4gICAgICBjbGFzc05hbWVzOiBcInAtY29ubmVjdGVkLW92ZXJsYXlcIixcbiAgICAgIFwiaW5cIjogb3ZlcmxheVZpc2libGVTdGF0ZSxcbiAgICAgIHRpbWVvdXQ6IHtcbiAgICAgICAgZW50ZXI6IDEyMCxcbiAgICAgICAgZXhpdDogMTAwXG4gICAgICB9LFxuICAgICAgb3B0aW9uczogcHJvcHMudHJhbnNpdGlvbk9wdGlvbnMsXG4gICAgICB1bm1vdW50T25FeGl0OiB0cnVlLFxuICAgICAgb25FbnRlcjogb25PdmVybGF5RW50ZXIsXG4gICAgICBvbkVudGVyZWQ6IG9uT3ZlcmxheUVudGVyZWQsXG4gICAgICBvbkV4aXQ6IG9uT3ZlcmxheUV4aXQsXG4gICAgICBvbkV4aXRlZDogb25PdmVybGF5RXhpdGVkXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiBvdmVybGF5UmVmLFxuICAgICAgY2xhc3NOYW1lOiBwYW5lbENsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBwcm9wcy5wYW5lbFN0eWxlLFxuICAgICAgb25DbGljazogb25QYW5lbENsaWNrXG4gICAgfSwgaGVhZGVyLCBjb250ZW50LCBmb290ZXIpKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUG9ydGFsLCB7XG4gICAgICBlbGVtZW50OiBwYW5lbCxcbiAgICAgIGFwcGVuZFRvOiBwcm9wcy5hcHBlbmRUb1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKCdwLXBhc3N3b3JkIHAtY29tcG9uZW50IHAtaW5wdXR3cmFwcGVyJywge1xuICAgICdwLWlucHV0d3JhcHBlci1maWxsZWQnOiBpc0ZpbGxlZCxcbiAgICAncC1pbnB1dHdyYXBwZXItZm9jdXMnOiBmb2N1c2VkU3RhdGUsXG4gICAgJ3AtaW5wdXQtaWNvbi1yaWdodCc6IHByb3BzLnRvZ2dsZU1hc2tcbiAgfSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgdmFyIGlucHV0Q2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC1wYXNzd29yZC1pbnB1dCcsIHByb3BzLmlucHV0Q2xhc3NOYW1lKTtcbiAgdmFyIGlucHV0UHJvcHMgPSBPYmplY3RVdGlscy5maW5kRGlmZktleXMocHJvcHMsIFBhc3N3b3JkLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBpY29uID0gY3JlYXRlSWNvbigpO1xuICB2YXIgcGFuZWwgPSBjcmVhdGVQYW5lbCgpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICBpZDogcHJvcHMuaWQsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0VGV4dCwgX2V4dGVuZHMoe1xuICAgIHJlZjogaW5wdXRSZWYsXG4gICAgaWQ6IHByb3BzLmlucHV0SWRcbiAgfSwgaW5wdXRQcm9wcywge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgY2xhc3NOYW1lOiBpbnB1dENsYXNzTmFtZSxcbiAgICBzdHlsZTogcHJvcHMuaW5wdXRTdHlsZSxcbiAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgIG9uQmx1cjogb25CbHVyLFxuICAgIG9uS2V5VXA6IG9uS2V5dXAsXG4gICAgb25JbnB1dDogb25JbnB1dCxcbiAgICB0b29sdGlwOiBwcm9wcy50b29sdGlwLFxuICAgIHRvb2x0aXBPcHRpb25zOiBwcm9wcy50b29sdGlwT3B0aW9uc1xuICB9KSksIGljb24sIHBhbmVsKTtcbn0pKTtcblBhc3N3b3JkLmRpc3BsYXlOYW1lID0gJ1Bhc3N3b3JkJztcblBhc3N3b3JkLmRlZmF1bHRQcm9wcyA9IHtcbiAgX19UWVBFOiAnUGFzc3dvcmQnLFxuICBpZDogbnVsbCxcbiAgaW5wdXRJZDogbnVsbCxcbiAgaW5wdXRSZWY6IG51bGwsXG4gIHByb21wdExhYmVsOiBudWxsLFxuICB3ZWFrTGFiZWw6IG51bGwsXG4gIG1lZGl1bUxhYmVsOiBudWxsLFxuICBzdHJvbmdMYWJlbDogbnVsbCxcbiAgbWVkaXVtUmVnZXg6ICdeKCgoPz0uKlthLXpdKSg/PS4qW0EtWl0pKXwoKD89LipbYS16XSkoPz0uKlswLTldKSl8KCg/PS4qW0EtWl0pKD89LipbMC05XSkpKSg/PS57Nix9KScsXG4gIHN0cm9uZ1JlZ2V4OiAnXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlswLTldKSg/PS57OCx9KScsXG4gIGZlZWRiYWNrOiB0cnVlLFxuICB0b2dnbGVNYXNrOiBmYWxzZSxcbiAgYXBwZW5kVG86IG51bGwsXG4gIGhlYWRlcjogbnVsbCxcbiAgY29udGVudDogbnVsbCxcbiAgZm9vdGVyOiBudWxsLFxuICBpY29uOiBudWxsLFxuICB0b29sdGlwOiBudWxsLFxuICB0b29sdGlwT3B0aW9uczogbnVsbCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgaW5wdXRTdHlsZTogbnVsbCxcbiAgaW5wdXRDbGFzc05hbWU6IG51bGwsXG4gIHBhbmVsU3R5bGU6IG51bGwsXG4gIHBhbmVsQ2xhc3NOYW1lOiBudWxsLFxuICB0cmFuc2l0aW9uT3B0aW9uczogbnVsbCxcbiAgb25JbnB1dDogbnVsbCxcbiAgb25TaG93OiBudWxsLFxuICBvbkhpZGU6IG51bGxcbn07XG5cbmV4cG9ydCB7IFBhc3N3b3JkIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/primereact/password/password.esm.js\n"));

/***/ }),

/***/ "./node_modules/primereact/virtualscroller/virtualscroller.esm.js":
/*!************************************************************************!*\
  !*** ./node_modules/primereact/virtualscroller/virtualscroller.esm.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VirtualScroller\": function() { return /* binding */ VirtualScroller; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var primereact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/hooks */ \"./node_modules/primereact/hooks/hooks.esm.js\");\n/* harmony import */ var primereact_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/utils */ \"./node_modules/primereact/utils/utils.esm.js\");\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar VirtualScroller = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.memo( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstState = _React$useState2[0],\n      setFirstState = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastState = _React$useState4[0],\n      setLastState = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      numItemsInViewportState = _React$useState6[0],\n      setNumItemsInViewportState = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.numToleratedItems),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      numToleratedItemsState = _React$useState8[0],\n      setNumToleratedItemsState = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0__.useState(props.loading || false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      loadingState = _React$useState10[0],\n      setLoadingState = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0__.useState([]),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      loaderArrState = _React$useState12[0],\n      setLoaderArrState = _React$useState12[1];\n\n  var elementRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _contentRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _spacerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var _stickyRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  var lastScrollPos = react__WEBPACK_IMPORTED_MODULE_0__.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var resizeTimeout = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultWidth = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var defaultHeight = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  var prevItems = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrevious)(props.items);\n  var prevLoading = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.usePrevious)(props.loading);\n\n  var _useResizeListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useResizeListener)({\n    listener: function listener(event) {\n      return onResize(event);\n    }\n  }),\n      _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n      bindWindowResizeListener = _useResizeListener2[0];\n\n  var _useEventListener = (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEventListener)({\n    target: 'window',\n    type: 'orientationchange',\n    listener: function listener(event) {\n      return onResize(event);\n    }\n  }),\n      _useEventListener2 = _slicedToArray(_useEventListener, 1),\n      bindOrientationChangeListener = _useEventListener2[0];\n\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n\n    var _calculateNumItems = calculateNumItems(),\n        numToleratedItems = _calculateNumItems.numToleratedItems;\n\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n      return _index <= _numT ? 0 : _index;\n    };\n\n    var calculateCoord = function calculateCoord(_first, _size) {\n      return _first * _size;\n    };\n\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n\n    if (both) {\n      var newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n\n      if (newFirst.rows !== firstState.rows || newFirst.cols !== firstState.cols) {\n        scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1]), calculateCoord(newFirst.rows, props.itemSize[0]));\n      }\n    } else {\n      var _newFirst = calculateFirst(index, numToleratedItems);\n\n      if (_newFirst !== firstState) {\n        horizontal ? scrollToItem(calculateCoord(_newFirst, props.itemSize), 0) : scrollToItem(0, calculateCoord(_newFirst, props.itemSize));\n      }\n    }\n  };\n\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n          first = _getRenderedRange.first,\n          viewport = _getRenderedRange.viewport;\n\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.first - first > index) {\n            var pos = (viewport.first - 1) * props.itemSize;\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n          }\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.last - first <= index + 1) {\n            var _pos2 = (viewport.first + 1) * props.itemSize;\n\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n          }\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n\n    return props.columns;\n  };\n\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n          scrollTop = _elementRef$current.scrollTop,\n          scrollLeft = _elementRef$current.scrollLeft;\n\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n        numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n        numToleratedItems = _calculateNumItems2.numToleratedItems;\n\n    var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n\n    if (props.lazy) {\n      props.onLazyLoad && props.onLazyLoad({\n        first: firstState,\n        last: last\n      });\n    }\n  };\n\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          var _contentRef$current = _contentRef.current,\n              offsetWidth = _contentRef$current.offsetWidth,\n              offsetHeight = _contentRef$current.offsetHeight;\n          (both || horizontal) && (elementRef.current.style.width = (offsetWidth < defaultWidth.current ? offsetWidth : defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (offsetHeight < defaultHeight.current ? offsetHeight : defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n        }\n      });\n    }\n  };\n\n  var getLast = function getLast() {\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? (props.columns || props.items[0]).length : props.items.length, last) : 0;\n  };\n\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n      var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n      var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n      var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n\n    if (_spacerRef.current && items) {\n      var contentPos = getContentPosition();\n\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n        return _spacerRef.current.style[_name] = (_value || []).length * _size + _cpos + 'px';\n      };\n\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current) {\n      var first = pos ? pos.first : firstState;\n\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        _contentRef.current.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n      };\n\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n\n      if (_currentIndex >= _numT) {\n        lastValue += _numT + 1;\n      }\n\n      return getLast(lastValue, _isCols);\n    };\n\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n      var currentIndex = {\n        rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n        cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n      };\n      var triggerIndex = {\n        rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n        cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n      };\n      newFirst = {\n        rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n        cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n      };\n      newLast = {\n        rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n        cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n      };\n      isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols;\n      newScrollPos = {\n        top: scrollTop,\n        left: scrollLeft\n      };\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n\n      var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n\n      var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n\n      newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n      newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n      isRangeChanged = newFirst !== firstState || newLast !== lastState;\n      newScrollPos = scrollPos;\n    }\n\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n        first = _onScrollPositionChan.first,\n        last = _onScrollPositionChan.last,\n        isRangeChanged = _onScrollPositionChan.isRangeChanged,\n        scrollPos = _onScrollPositionChan.scrollPos;\n\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n\n      if (props.lazy) {\n        props.onLazyLoad && props.onLazyLoad(newState);\n      }\n    }\n  };\n\n  var onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n\n      if (!loadingState && props.showLoader) {\n        var _onScrollPositionChan2 = onScrollPositionChange(event),\n            changed = _onScrollPositionChan2.isRangeChanged;\n\n        changed && setLoadingState(true);\n      }\n\n      scrollTimeout.current = setTimeout(function () {\n        onScrollChange(event);\n\n        if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n          setLoadingState(false);\n        }\n      }, props.delay);\n    } else {\n      onScrollChange(event);\n    }\n  };\n\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref = [primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getWidth(elementRef.current), primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getHeight(elementRef.current)],\n            width = _ref[0],\n            height = _ref[1];\n        var isDiffWidth = width !== defaultWidth.current,\n            isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n        }\n      }\n    }, props.resizeDelay);\n  };\n\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n\n    if (items && !loadingState) {\n      if (both) return items.slice(firstState.rows, lastState.rows).map(function (item) {\n        return props.columns ? item : item.slice(firstState.cols, lastState.cols);\n      });else if (horizontal && props.columns) return items;else return items.slice(firstState, lastState);\n    }\n\n    return [];\n  };\n\n  var init = function init() {\n    if (!props.disabled) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMountEffect)(function () {\n    if (!props.disabled) {\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.DomHandler.getHeight(elementRef.current);\n    }\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    if (!prevItems || prevItems.length !== (props.items || []).length) {\n      init();\n    }\n\n    var loading = loadingState;\n\n    if (props.lazy && prevLoading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n\n    calculateAutoSize(loading);\n  });\n  (0,primereact_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: index\n    }, content);\n  };\n\n  var createLoader = function createLoader() {\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"i\", {\n        className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n      });\n\n      if (props.loadingTemplate) {\n        content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          className: 'p-virtualscroller-loading-icon',\n          element: content,\n          props: props\n        };\n        content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: className\n      }, content);\n    }\n\n    return null;\n  };\n\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: _spacerRef,\n        className: \"p-virtualscroller-spacer\"\n      });\n    }\n\n    return null;\n  };\n\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: options.index\n    }, content);\n  };\n\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      ref: _contentRef,\n      className: className\n    }, items);\n\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        className: className,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n\n    return content;\n  };\n\n  if (props.disabled) {\n    var content = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, props.children, content);\n  } else {\n    var otherProps = primereact_utils__WEBPACK_IMPORTED_MODULE_2__.ObjectUtils.findDiffKeys(props, VirtualScroller.defaultProps);\n    var className = (0,primereact_utils__WEBPACK_IMPORTED_MODULE_2__.classNames)('p-virtualscroller', {\n      'p-both-scroll': both,\n      'p-horizontal-scroll': horizontal\n    }, props.className);\n    var loader = createLoader();\n\n    var _content = createContent();\n\n    var spacer = createSpacer();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      tabIndex: 0,\n      style: props.style\n    }, otherProps, {\n      onScroll: onScroll\n    }), _content, spacer, loader);\n  }\n}));\nVirtualScroller.displayName = 'VirtualScroller';\nVirtualScroller.defaultProps = {\n  __TYPE: 'VirtualScroller',\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  resizeDelay: 10,\n  lazy: false,\n  disabled: false,\n  loaderDisabled: false,\n  columns: null,\n  loading: undefined,\n  autoSize: false,\n  showSpacer: true,\n  showLoader: false,\n  loadingTemplate: null,\n  loaderIconTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJpbWVyZWFjdC92aXJ0dWFsc2Nyb2xsZXIvdmlydHVhbHNjcm9sbGVyLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNzRjtBQUM5Qzs7QUFFdkU7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELDZEQUE2RCxpRUFBaUUsc0NBQXNDOztBQUV2VSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCw2REFBNkQsNENBQTRDLG9LQUFvSyxtRkFBbUYsS0FBSztBQUMxZSxtQ0FBbUMsdUNBQVUsZUFBZSw2Q0FBZ0I7QUFDNUU7QUFDQTtBQUNBOztBQUVBLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsMkNBQWM7QUFDdkM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiwyQ0FBYztBQUN2QztBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDJDQUFjO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsMkNBQWM7QUFDeEM7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix5Q0FBWTs7QUFFL0Isb0JBQW9CLHlDQUFZOztBQUVoQyxtQkFBbUIseUNBQVk7O0FBRS9CLG1CQUFtQix5Q0FBWTs7QUFFL0Isc0JBQXNCLHlDQUFZO0FBQ2xDO0FBQ0E7QUFDQSxJQUFJO0FBQ0osc0JBQXNCLHlDQUFZO0FBQ2xDLHNCQUFzQix5Q0FBWTtBQUNsQyxxQkFBcUIseUNBQVk7QUFDakMsc0JBQXNCLHlDQUFZO0FBQ2xDLGtCQUFrQiw2REFBVztBQUM3QixvQkFBb0IsNkRBQVc7O0FBRS9CLDJCQUEyQixtRUFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsMEJBQTBCLGtFQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDO0FBQzNDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNB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LGdEQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wcmltZXJlYWN0L3ZpcnR1YWxzY3JvbGxlci92aXJ0dWFsc2Nyb2xsZXIuZXNtLmpzPzY4OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUHJldmlvdXMsIHVzZVJlc2l6ZUxpc3RlbmVyLCB1c2VFdmVudExpc3RlbmVyLCB1c2VNb3VudEVmZmVjdCwgdXNlVXBkYXRlRWZmZWN0IH0gZnJvbSAncHJpbWVyZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBEb21IYW5kbGVyLCBPYmplY3RVdGlscywgY2xhc3NOYW1lcyB9IGZyb20gJ3ByaW1lcmVhY3QvdXRpbHMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBWaXJ0dWFsU2Nyb2xsZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyggLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHZlcnRpY2FsID0gcHJvcHMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCc7XG4gIHZhciBob3Jpem9udGFsID0gcHJvcHMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJztcbiAgdmFyIGJvdGggPSBwcm9wcy5vcmllbnRhdGlvbiA9PT0gJ2JvdGgnO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShib3RoID8ge1xuICAgIHJvd3M6IDAsXG4gICAgY29sczogMFxuICB9IDogMCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGZpcnN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Rmlyc3RTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShib3RoID8ge1xuICAgIHJvd3M6IDAsXG4gICAgY29sczogMFxuICB9IDogMCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMywgMiksXG4gICAgICBsYXN0U3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0TGFzdFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNFsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGJvdGggPyB7XG4gICAgcm93czogMCxcbiAgICBjb2xzOiAwXG4gIH0gOiAwKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlswXSxcbiAgICAgIHNldE51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlID0gX1JlYWN0JHVzZVN0YXRlNlsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNyA9IFJlYWN0LnVzZVN0YXRlKHByb3BzLm51bVRvbGVyYXRlZEl0ZW1zKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU3LCAyKSxcbiAgICAgIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGU4WzBdLFxuICAgICAgc2V0TnVtVG9sZXJhdGVkSXRlbXNTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZThbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTkgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5sb2FkaW5nIHx8IGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlOSwgMiksXG4gICAgICBsb2FkaW5nU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxMFswXSxcbiAgICAgIHNldExvYWRpbmdTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTEwWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUxMSA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMTEsIDIpLFxuICAgICAgbG9hZGVyQXJyU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGUxMlswXSxcbiAgICAgIHNldExvYWRlckFyclN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMTJbMV07XG5cbiAgdmFyIGVsZW1lbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgdmFyIF9jb250ZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBfc3BhY2VyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBfc3RpY2t5UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIHZhciBsYXN0U2Nyb2xsUG9zID0gUmVhY3QudXNlUmVmKGJvdGggPyB7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDBcbiAgfSA6IDApO1xuICB2YXIgc2Nyb2xsVGltZW91dCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHJlc2l6ZVRpbWVvdXQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkZWZhdWx0V2lkdGggPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBkZWZhdWx0SGVpZ2h0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgcHJldkl0ZW1zID0gdXNlUHJldmlvdXMocHJvcHMuaXRlbXMpO1xuICB2YXIgcHJldkxvYWRpbmcgPSB1c2VQcmV2aW91cyhwcm9wcy5sb2FkaW5nKTtcblxuICB2YXIgX3VzZVJlc2l6ZUxpc3RlbmVyID0gdXNlUmVzaXplTGlzdGVuZXIoe1xuICAgIGxpc3RlbmVyOiBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCkge1xuICAgICAgcmV0dXJuIG9uUmVzaXplKGV2ZW50KTtcbiAgICB9XG4gIH0pLFxuICAgICAgX3VzZVJlc2l6ZUxpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VSZXNpemVMaXN0ZW5lciwgMSksXG4gICAgICBiaW5kV2luZG93UmVzaXplTGlzdGVuZXIgPSBfdXNlUmVzaXplTGlzdGVuZXIyWzBdO1xuXG4gIHZhciBfdXNlRXZlbnRMaXN0ZW5lciA9IHVzZUV2ZW50TGlzdGVuZXIoe1xuICAgIHRhcmdldDogJ3dpbmRvdycsXG4gICAgdHlwZTogJ29yaWVudGF0aW9uY2hhbmdlJyxcbiAgICBsaXN0ZW5lcjogZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIHJldHVybiBvblJlc2l6ZShldmVudCk7XG4gICAgfVxuICB9KSxcbiAgICAgIF91c2VFdmVudExpc3RlbmVyMiA9IF9zbGljZWRUb0FycmF5KF91c2VFdmVudExpc3RlbmVyLCAxKSxcbiAgICAgIGJpbmRPcmllbnRhdGlvbkNoYW5nZUxpc3RlbmVyID0gX3VzZUV2ZW50TGlzdGVuZXIyWzBdO1xuXG4gIHZhciBnZXRFbGVtZW50UmVmID0gZnVuY3Rpb24gZ2V0RWxlbWVudFJlZigpIHtcbiAgICByZXR1cm4gZWxlbWVudFJlZjtcbiAgfTtcblxuICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbyhvcHRpb25zKSB7XG4gICAgbGFzdFNjcm9sbFBvcy5jdXJyZW50ID0gYm90aCA/IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9IDogMDtcbiAgICBlbGVtZW50UmVmLmN1cnJlbnQgJiYgZWxlbWVudFJlZi5jdXJyZW50LnNjcm9sbFRvKG9wdGlvbnMpO1xuICB9O1xuXG4gIHZhciBzY3JvbGxUb0luZGV4ID0gZnVuY3Rpb24gc2Nyb2xsVG9JbmRleChpbmRleCkge1xuICAgIHZhciBiZWhhdmlvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2F1dG8nO1xuXG4gICAgdmFyIF9jYWxjdWxhdGVOdW1JdGVtcyA9IGNhbGN1bGF0ZU51bUl0ZW1zKCksXG4gICAgICAgIG51bVRvbGVyYXRlZEl0ZW1zID0gX2NhbGN1bGF0ZU51bUl0ZW1zLm51bVRvbGVyYXRlZEl0ZW1zO1xuXG4gICAgdmFyIGNhbGN1bGF0ZUZpcnN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlyc3QoKSB7XG4gICAgICB2YXIgX2luZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICB2YXIgX251bVQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIF9pbmRleCA8PSBfbnVtVCA/IDAgOiBfaW5kZXg7XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVDb29yZCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUNvb3JkKF9maXJzdCwgX3NpemUpIHtcbiAgICAgIHJldHVybiBfZmlyc3QgKiBfc2l6ZTtcbiAgICB9O1xuXG4gICAgdmFyIHNjcm9sbFRvSXRlbSA9IGZ1bmN0aW9uIHNjcm9sbFRvSXRlbSgpIHtcbiAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgdmFyIHRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgIHJldHVybiBzY3JvbGxUbyh7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBiZWhhdmlvcjogYmVoYXZpb3JcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoYm90aCkge1xuICAgICAgdmFyIG5ld0ZpcnN0ID0ge1xuICAgICAgICByb3dzOiBjYWxjdWxhdGVGaXJzdChpbmRleFswXSwgbnVtVG9sZXJhdGVkSXRlbXNbMF0pLFxuICAgICAgICBjb2xzOiBjYWxjdWxhdGVGaXJzdChpbmRleFsxXSwgbnVtVG9sZXJhdGVkSXRlbXNbMV0pXG4gICAgICB9O1xuXG4gICAgICBpZiAobmV3Rmlyc3Qucm93cyAhPT0gZmlyc3RTdGF0ZS5yb3dzIHx8IG5ld0ZpcnN0LmNvbHMgIT09IGZpcnN0U3RhdGUuY29scykge1xuICAgICAgICBzY3JvbGxUb0l0ZW0oY2FsY3VsYXRlQ29vcmQobmV3Rmlyc3QuY29scywgcHJvcHMuaXRlbVNpemVbMV0pLCBjYWxjdWxhdGVDb29yZChuZXdGaXJzdC5yb3dzLCBwcm9wcy5pdGVtU2l6ZVswXSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX25ld0ZpcnN0ID0gY2FsY3VsYXRlRmlyc3QoaW5kZXgsIG51bVRvbGVyYXRlZEl0ZW1zKTtcblxuICAgICAgaWYgKF9uZXdGaXJzdCAhPT0gZmlyc3RTdGF0ZSkge1xuICAgICAgICBob3Jpem9udGFsID8gc2Nyb2xsVG9JdGVtKGNhbGN1bGF0ZUNvb3JkKF9uZXdGaXJzdCwgcHJvcHMuaXRlbVNpemUpLCAwKSA6IHNjcm9sbFRvSXRlbSgwLCBjYWxjdWxhdGVDb29yZChfbmV3Rmlyc3QsIHByb3BzLml0ZW1TaXplKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBzY3JvbGxJblZpZXcgPSBmdW5jdGlvbiBzY3JvbGxJblZpZXcoaW5kZXgsIHRvKSB7XG4gICAgdmFyIGJlaGF2aW9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnYXV0byc7XG5cbiAgICBpZiAodG8pIHtcbiAgICAgIHZhciBfZ2V0UmVuZGVyZWRSYW5nZSA9IGdldFJlbmRlcmVkUmFuZ2UoKSxcbiAgICAgICAgICBmaXJzdCA9IF9nZXRSZW5kZXJlZFJhbmdlLmZpcnN0LFxuICAgICAgICAgIHZpZXdwb3J0ID0gX2dldFJlbmRlcmVkUmFuZ2Uudmlld3BvcnQ7XG5cbiAgICAgIHZhciBzY3JvbGxUb0l0ZW0gPSBmdW5jdGlvbiBzY3JvbGxUb0l0ZW0oKSB7XG4gICAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICByZXR1cm4gc2Nyb2xsVG8oe1xuICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgYmVoYXZpb3I6IGJlaGF2aW9yXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIGlzVG9TdGFydCA9IHRvID09PSAndG8tc3RhcnQnO1xuICAgICAgdmFyIGlzVG9FbmQgPSB0byA9PT0gJ3RvLWVuZCc7XG5cbiAgICAgIGlmIChpc1RvU3RhcnQpIHtcbiAgICAgICAgaWYgKGJvdGgpIHtcbiAgICAgICAgICBpZiAodmlld3BvcnQuZmlyc3Qucm93cyAtIGZpcnN0LnJvd3MgPiBpbmRleFswXSkge1xuICAgICAgICAgICAgc2Nyb2xsVG9JdGVtKHZpZXdwb3J0LmZpcnN0LmNvbHMgKiBwcm9wcy5pdGVtU2l6ZVsxXSwgKHZpZXdwb3J0LmZpcnN0LnJvd3MgLSAxKSAqIHByb3BzLml0ZW1TaXplWzBdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdwb3J0LmZpcnN0LmNvbHMgLSBmaXJzdC5jb2xzID4gaW5kZXhbMV0pIHtcbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbSgodmlld3BvcnQuZmlyc3QuY29scyAtIDEpICogcHJvcHMuaXRlbVNpemVbMV0sIHZpZXdwb3J0LmZpcnN0LnJvd3MgKiBwcm9wcy5pdGVtU2l6ZVswXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2aWV3cG9ydC5maXJzdCAtIGZpcnN0ID4gaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSAodmlld3BvcnQuZmlyc3QgLSAxKSAqIHByb3BzLml0ZW1TaXplO1xuICAgICAgICAgICAgaG9yaXpvbnRhbCA/IHNjcm9sbFRvSXRlbShwb3MsIDApIDogc2Nyb2xsVG9JdGVtKDAsIHBvcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzVG9FbmQpIHtcbiAgICAgICAgaWYgKGJvdGgpIHtcbiAgICAgICAgICBpZiAodmlld3BvcnQubGFzdC5yb3dzIC0gZmlyc3Qucm93cyA8PSBpbmRleFswXSArIDEpIHtcbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbSh2aWV3cG9ydC5maXJzdC5jb2xzICogcHJvcHMuaXRlbVNpemVbMV0sICh2aWV3cG9ydC5maXJzdC5yb3dzICsgMSkgKiBwcm9wcy5pdGVtU2l6ZVswXSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2aWV3cG9ydC5sYXN0LmNvbHMgLSBmaXJzdC5jb2xzIDw9IGluZGV4WzFdICsgMSkge1xuICAgICAgICAgICAgc2Nyb2xsVG9JdGVtKCh2aWV3cG9ydC5maXJzdC5jb2xzICsgMSkgKiBwcm9wcy5pdGVtU2l6ZVsxXSwgdmlld3BvcnQuZmlyc3Qucm93cyAqIHByb3BzLml0ZW1TaXplWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZpZXdwb3J0Lmxhc3QgLSBmaXJzdCA8PSBpbmRleCArIDEpIHtcbiAgICAgICAgICAgIHZhciBfcG9zMiA9ICh2aWV3cG9ydC5maXJzdCArIDEpICogcHJvcHMuaXRlbVNpemU7XG5cbiAgICAgICAgICAgIGhvcml6b250YWwgPyBzY3JvbGxUb0l0ZW0oX3BvczIsIDApIDogc2Nyb2xsVG9JdGVtKDAsIF9wb3MyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsVG9JbmRleChpbmRleCwgYmVoYXZpb3IpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0Um93cyA9IGZ1bmN0aW9uIGdldFJvd3MoKSB7XG4gICAgcmV0dXJuIGxvYWRpbmdTdGF0ZSA/IHByb3BzLmxvYWRlckRpc2FibGVkID8gbG9hZGVyQXJyU3RhdGUgOiBbXSA6IGxvYWRlZEl0ZW1zKCk7XG4gIH07XG5cbiAgdmFyIGdldENvbHVtbnMgPSBmdW5jdGlvbiBnZXRDb2x1bW5zKCkge1xuICAgIGlmIChwcm9wcy5jb2x1bW5zICYmIGJvdGggfHwgaG9yaXpvbnRhbCkge1xuICAgICAgcmV0dXJuIGxvYWRpbmdTdGF0ZSAmJiBwcm9wcy5sb2FkZXJEaXNhYmxlZCA/IGJvdGggPyBsb2FkZXJBcnJTdGF0ZVswXSA6IGxvYWRlckFyclN0YXRlIDogcHJvcHMuY29sdW1ucy5zbGljZShib3RoID8gZmlyc3RTdGF0ZS5jb2xzIDogZmlyc3RTdGF0ZSwgYm90aCA/IGxhc3RTdGF0ZS5jb2xzIDogbGFzdFN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHMuY29sdW1ucztcbiAgfTtcblxuICB2YXIgZ2V0UmVuZGVyZWRSYW5nZSA9IGZ1bmN0aW9uIGdldFJlbmRlcmVkUmFuZ2UoKSB7XG4gICAgdmFyIGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydChfcG9zLCBfc2l6ZSkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoX3BvcyAvIChfc2l6ZSB8fCBfcG9zKSk7XG4gICAgfTtcblxuICAgIHZhciBmaXJzdEluVmlld3BvcnQgPSBmaXJzdFN0YXRlO1xuICAgIHZhciBsYXN0SW5WaWV3cG9ydCA9IDA7XG5cbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgX2VsZW1lbnRSZWYkY3VycmVudCA9IGVsZW1lbnRSZWYuY3VycmVudCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfZWxlbWVudFJlZiRjdXJyZW50LnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX2VsZW1lbnRSZWYkY3VycmVudC5zY3JvbGxMZWZ0O1xuXG4gICAgICBpZiAoYm90aCkge1xuICAgICAgICBmaXJzdEluVmlld3BvcnQgPSB7XG4gICAgICAgICAgcm93czogY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0KHNjcm9sbFRvcCwgcHJvcHMuaXRlbVNpemVbMF0pLFxuICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydChzY3JvbGxMZWZ0LCBwcm9wcy5pdGVtU2l6ZVsxXSlcbiAgICAgICAgfTtcbiAgICAgICAgbGFzdEluVmlld3BvcnQgPSB7XG4gICAgICAgICAgcm93czogZmlyc3RJblZpZXdwb3J0LnJvd3MgKyBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5yb3dzLFxuICAgICAgICAgIGNvbHM6IGZpcnN0SW5WaWV3cG9ydC5jb2xzICsgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUuY29sc1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGhvcml6b250YWwgPyBzY3JvbGxMZWZ0IDogc2Nyb2xsVG9wO1xuICAgICAgICBmaXJzdEluVmlld3BvcnQgPSBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQoc2Nyb2xsUG9zLCBwcm9wcy5pdGVtU2l6ZSk7XG4gICAgICAgIGxhc3RJblZpZXdwb3J0ID0gZmlyc3RJblZpZXdwb3J0ICsgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBmaXJzdFN0YXRlLFxuICAgICAgbGFzdDogbGFzdFN0YXRlLFxuICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgZmlyc3Q6IGZpcnN0SW5WaWV3cG9ydCxcbiAgICAgICAgbGFzdDogbGFzdEluVmlld3BvcnRcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBjYWxjdWxhdGVOdW1JdGVtcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU51bUl0ZW1zKCkge1xuICAgIHZhciBjb250ZW50UG9zID0gZ2V0Q29udGVudFBvc2l0aW9uKCk7XG4gICAgdmFyIGNvbnRlbnRXaWR0aCA9IGVsZW1lbnRSZWYuY3VycmVudCA/IGVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRXaWR0aCAtIGNvbnRlbnRQb3MubGVmdCA6IDA7XG4gICAgdmFyIGNvbnRlbnRIZWlnaHQgPSBlbGVtZW50UmVmLmN1cnJlbnQgPyBlbGVtZW50UmVmLmN1cnJlbnQub2Zmc2V0SGVpZ2h0IC0gY29udGVudFBvcy50b3AgOiAwO1xuXG4gICAgdmFyIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChfY29udGVudFNpemUsIF9pdGVtU2l6ZSkge1xuICAgICAgcmV0dXJuIE1hdGguY2VpbChfY29udGVudFNpemUgLyAoX2l0ZW1TaXplIHx8IF9jb250ZW50U2l6ZSkpO1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVOdW1Ub2xlcmF0ZWRJdGVtcyhfbnVtSXRlbXMpIHtcbiAgICAgIHJldHVybiBNYXRoLmNlaWwoX251bUl0ZW1zIC8gMik7XG4gICAgfTtcblxuICAgIHZhciBudW1JdGVtc0luVmlld3BvcnQgPSBib3RoID8ge1xuICAgICAgcm93czogY2FsY3VsYXRlTnVtSXRlbXNJblZpZXdwb3J0KGNvbnRlbnRIZWlnaHQsIHByb3BzLml0ZW1TaXplWzBdKSxcbiAgICAgIGNvbHM6IGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChjb250ZW50V2lkdGgsIHByb3BzLml0ZW1TaXplWzFdKVxuICAgIH0gOiBjYWxjdWxhdGVOdW1JdGVtc0luVmlld3BvcnQoaG9yaXpvbnRhbCA/IGNvbnRlbnRXaWR0aCA6IGNvbnRlbnRIZWlnaHQsIHByb3BzLml0ZW1TaXplKTtcbiAgICB2YXIgbnVtVG9sZXJhdGVkSXRlbXMgPSBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlIHx8IChib3RoID8gW2NhbGN1bGF0ZU51bVRvbGVyYXRlZEl0ZW1zKG51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzKSwgY2FsY3VsYXRlTnVtVG9sZXJhdGVkSXRlbXMobnVtSXRlbXNJblZpZXdwb3J0LmNvbHMpXSA6IGNhbGN1bGF0ZU51bVRvbGVyYXRlZEl0ZW1zKG51bUl0ZW1zSW5WaWV3cG9ydCkpO1xuICAgIHJldHVybiB7XG4gICAgICBudW1JdGVtc0luVmlld3BvcnQ6IG51bUl0ZW1zSW5WaWV3cG9ydCxcbiAgICAgIG51bVRvbGVyYXRlZEl0ZW1zOiBudW1Ub2xlcmF0ZWRJdGVtc1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZU9wdGlvbnMgPSBmdW5jdGlvbiBjYWxjdWxhdGVPcHRpb25zKCkge1xuICAgIHZhciBfY2FsY3VsYXRlTnVtSXRlbXMyID0gY2FsY3VsYXRlTnVtSXRlbXMoKSxcbiAgICAgICAgbnVtSXRlbXNJblZpZXdwb3J0ID0gX2NhbGN1bGF0ZU51bUl0ZW1zMi5udW1JdGVtc0luVmlld3BvcnQsXG4gICAgICAgIG51bVRvbGVyYXRlZEl0ZW1zID0gX2NhbGN1bGF0ZU51bUl0ZW1zMi5udW1Ub2xlcmF0ZWRJdGVtcztcblxuICAgIHZhciBjYWxjdWxhdGVMYXN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlTGFzdChfZmlyc3QsIF9udW0sIF9udW1ULCBfaXNDb2xzKSB7XG4gICAgICByZXR1cm4gZ2V0TGFzdChfZmlyc3QgKyBfbnVtICsgKF9maXJzdCA8IF9udW1UID8gMiA6IDMpICogX251bVQsIF9pc0NvbHMpO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdCA9IGJvdGggPyB7XG4gICAgICByb3dzOiBjYWxjdWxhdGVMYXN0KGZpcnN0U3RhdGUucm93cywgbnVtSXRlbXNJblZpZXdwb3J0LnJvd3MsIG51bVRvbGVyYXRlZEl0ZW1zWzBdKSxcbiAgICAgIGNvbHM6IGNhbGN1bGF0ZUxhc3QoZmlyc3RTdGF0ZS5jb2xzLCBudW1JdGVtc0luVmlld3BvcnQuY29scywgbnVtVG9sZXJhdGVkSXRlbXNbMV0sIHRydWUpXG4gICAgfSA6IGNhbGN1bGF0ZUxhc3QoZmlyc3RTdGF0ZSwgbnVtSXRlbXNJblZpZXdwb3J0LCBudW1Ub2xlcmF0ZWRJdGVtcyk7XG4gICAgc2V0TnVtSXRlbXNJblZpZXdwb3J0U3RhdGUobnVtSXRlbXNJblZpZXdwb3J0KTtcbiAgICBzZXROdW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKG51bVRvbGVyYXRlZEl0ZW1zKTtcbiAgICBzZXRMYXN0U3RhdGUobGFzdCk7XG5cbiAgICBpZiAocHJvcHMuc2hvd0xvYWRlcikge1xuICAgICAgc2V0TG9hZGVyQXJyU3RhdGUoYm90aCA/IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IG51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzXG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7XG4gICAgICAgICAgbGVuZ3RoOiBudW1JdGVtc0luVmlld3BvcnQuY29sc1xuICAgICAgICB9KTtcbiAgICAgIH0pIDogQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbnVtSXRlbXNJblZpZXdwb3J0XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmxhenkpIHtcbiAgICAgIHByb3BzLm9uTGF6eUxvYWQgJiYgcHJvcHMub25MYXp5TG9hZCh7XG4gICAgICAgIGZpcnN0OiBmaXJzdFN0YXRlLFxuICAgICAgICBsYXN0OiBsYXN0XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZUF1dG9TaXplID0gZnVuY3Rpb24gY2FsY3VsYXRlQXV0b1NpemUobG9hZGluZykge1xuICAgIGlmIChwcm9wcy5hdXRvU2l6ZSAmJiAhbG9hZGluZykge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgX2NvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5taW5IZWlnaHQgPSBfY29udGVudFJlZi5jdXJyZW50LnN0eWxlLm1pbldpZHRoID0gJ2F1dG8nO1xuICAgICAgICAgIHZhciBfY29udGVudFJlZiRjdXJyZW50ID0gX2NvbnRlbnRSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgb2Zmc2V0V2lkdGggPSBfY29udGVudFJlZiRjdXJyZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgICBvZmZzZXRIZWlnaHQgPSBfY29udGVudFJlZiRjdXJyZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAoYm90aCB8fCBob3Jpem9udGFsKSAmJiAoZWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gKG9mZnNldFdpZHRoIDwgZGVmYXVsdFdpZHRoLmN1cnJlbnQgPyBvZmZzZXRXaWR0aCA6IGRlZmF1bHRXaWR0aC5jdXJyZW50KSArICdweCcpO1xuICAgICAgICAgIChib3RoIHx8IHZlcnRpY2FsKSAmJiAoZWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IChvZmZzZXRIZWlnaHQgPCBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQgPyBvZmZzZXRIZWlnaHQgOiBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQpICsgJ3B4Jyk7XG4gICAgICAgICAgX2NvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5taW5IZWlnaHQgPSBfY29udGVudFJlZi5jdXJyZW50LnN0eWxlLm1pbldpZHRoID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0TGFzdCA9IGZ1bmN0aW9uIGdldExhc3QoKSB7XG4gICAgdmFyIGxhc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIGlzQ29scyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBwcm9wcy5pdGVtcyA/IE1hdGgubWluKGlzQ29scyA/IChwcm9wcy5jb2x1bW5zIHx8IHByb3BzLml0ZW1zWzBdKS5sZW5ndGggOiBwcm9wcy5pdGVtcy5sZW5ndGgsIGxhc3QpIDogMDtcbiAgfTtcblxuICB2YXIgZ2V0Q29udGVudFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0Q29udGVudFBvc2l0aW9uKCkge1xuICAgIGlmIChfY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKF9jb250ZW50UmVmLmN1cnJlbnQpO1xuICAgICAgdmFyIGxlZnQgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCwgMTApICsgTWF0aC5tYXgocGFyc2VJbnQoc3R5bGUubGVmdCwgMTApLCAwKTtcbiAgICAgIHZhciByaWdodCA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdSaWdodCwgMTApICsgTWF0aC5tYXgocGFyc2VJbnQoc3R5bGUucmlnaHQsIDEwKSwgMCk7XG4gICAgICB2YXIgdG9wID0gcGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCwgMTApICsgTWF0aC5tYXgocGFyc2VJbnQoc3R5bGUudG9wLCAxMCksIDApO1xuICAgICAgdmFyIGJvdHRvbSA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdCb3R0b20sIDEwKSArIE1hdGgubWF4KHBhcnNlSW50KHN0eWxlLmJvdHRvbSwgMTApLCAwKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICB4OiBsZWZ0ICsgcmlnaHQsXG4gICAgICAgIHk6IHRvcCArIGJvdHRvbVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICB9O1xuXG4gIHZhciBzZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSgpIHtcbiAgICBpZiAoZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsZW1lbnRSZWYuY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgdmFyIHdpZHRoID0gcHJvcHMuc2Nyb2xsV2lkdGggfHwgXCJcIi5jb25jYXQoZWxlbWVudFJlZi5jdXJyZW50Lm9mZnNldFdpZHRoIHx8IHBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGgsIFwicHhcIik7XG4gICAgICB2YXIgaGVpZ2h0ID0gcHJvcHMuc2Nyb2xsSGVpZ2h0IHx8IFwiXCIuY29uY2F0KGVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQgfHwgcGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsIFwicHhcIik7XG5cbiAgICAgIHZhciBzZXRQcm9wID0gZnVuY3Rpb24gc2V0UHJvcChfbmFtZSwgX3ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50UmVmLmN1cnJlbnQuc3R5bGVbX25hbWVdID0gX3ZhbHVlO1xuICAgICAgfTtcblxuICAgICAgaWYgKGJvdGggfHwgaG9yaXpvbnRhbCkge1xuICAgICAgICBzZXRQcm9wKCdoZWlnaHQnLCBoZWlnaHQpO1xuICAgICAgICBzZXRQcm9wKCd3aWR0aCcsIHdpZHRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFByb3AoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBzZXRTcGFjZXJTaXplID0gZnVuY3Rpb24gc2V0U3BhY2VyU2l6ZSgpIHtcbiAgICB2YXIgaXRlbXMgPSBwcm9wcy5pdGVtcztcblxuICAgIGlmIChfc3BhY2VyUmVmLmN1cnJlbnQgJiYgaXRlbXMpIHtcbiAgICAgIHZhciBjb250ZW50UG9zID0gZ2V0Q29udGVudFBvc2l0aW9uKCk7XG5cbiAgICAgIHZhciBzZXRQcm9wID0gZnVuY3Rpb24gc2V0UHJvcChfbmFtZSwgX3ZhbHVlLCBfc2l6ZSkge1xuICAgICAgICB2YXIgX2Nwb3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgcmV0dXJuIF9zcGFjZXJSZWYuY3VycmVudC5zdHlsZVtfbmFtZV0gPSAoX3ZhbHVlIHx8IFtdKS5sZW5ndGggKiBfc2l6ZSArIF9jcG9zICsgJ3B4JztcbiAgICAgIH07XG5cbiAgICAgIGlmIChib3RoKSB7XG4gICAgICAgIHNldFByb3AoJ2hlaWdodCcsIGl0ZW1zLCBwcm9wcy5pdGVtU2l6ZVswXSwgY29udGVudFBvcy55KTtcbiAgICAgICAgc2V0UHJvcCgnd2lkdGgnLCBwcm9wcy5jb2x1bW5zIHx8IGl0ZW1zWzFdLCBwcm9wcy5pdGVtU2l6ZVsxXSwgY29udGVudFBvcy54KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhvcml6b250YWwgPyBzZXRQcm9wKCd3aWR0aCcsIHByb3BzLmNvbHVtbnMgfHwgaXRlbXMsIHByb3BzLml0ZW1TaXplLCBjb250ZW50UG9zLngpIDogc2V0UHJvcCgnaGVpZ2h0JywgaXRlbXMsIHByb3BzLml0ZW1TaXplLCBjb250ZW50UG9zLnkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgc2V0Q29udGVudFBvc2l0aW9uID0gZnVuY3Rpb24gc2V0Q29udGVudFBvc2l0aW9uKHBvcykge1xuICAgIGlmIChfY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgZmlyc3QgPSBwb3MgPyBwb3MuZmlyc3QgOiBmaXJzdFN0YXRlO1xuXG4gICAgICB2YXIgY2FsY3VsYXRlVHJhbnNsYXRlVmFsID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJhbnNsYXRlVmFsKF9maXJzdCwgX3NpemUpIHtcbiAgICAgICAgcmV0dXJuIF9maXJzdCAqIF9zaXplO1xuICAgICAgfTtcblxuICAgICAgdmFyIHNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIF94ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICAgIHZhciBfeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblxuICAgICAgICBfc3RpY2t5UmVmLmN1cnJlbnQgJiYgKF9zdGlja3lSZWYuY3VycmVudC5zdHlsZS50b3AgPSBcIi1cIi5jb25jYXQoX3ksIFwicHhcIikpO1xuICAgICAgICBfY29udGVudFJlZi5jdXJyZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoXCIuY29uY2F0KF94LCBcInB4LCBcIikuY29uY2F0KF95LCBcInB4LCAwKVwiKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChib3RoKSB7XG4gICAgICAgIHNldFRyYW5zZm9ybShjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3QuY29scywgcHJvcHMuaXRlbVNpemVbMV0pLCBjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3Qucm93cywgcHJvcHMuaXRlbVNpemVbMF0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGVWYWwgPSBjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3QsIHByb3BzLml0ZW1TaXplKTtcbiAgICAgICAgaG9yaXpvbnRhbCA/IHNldFRyYW5zZm9ybSh0cmFuc2xhdGVWYWwsIDApIDogc2V0VHJhbnNmb3JtKDAsIHRyYW5zbGF0ZVZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblNjcm9sbFBvc2l0aW9uQ2hhbmdlID0gZnVuY3Rpb24gb25TY3JvbGxQb3NpdGlvbkNoYW5nZShldmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgdmFyIGNvbnRlbnRQb3MgPSBnZXRDb250ZW50UG9zaXRpb24oKTtcblxuICAgIHZhciBjYWxjdWxhdGVTY3JvbGxQb3MgPSBmdW5jdGlvbiBjYWxjdWxhdGVTY3JvbGxQb3MoX3BvcywgX2Nwb3MpIHtcbiAgICAgIHJldHVybiBfcG9zID8gX3BvcyA+IF9jcG9zID8gX3BvcyAtIF9jcG9zIDogX3BvcyA6IDA7XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVDdXJyZW50SW5kZXggPSBmdW5jdGlvbiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoX3BvcywgX3NpemUpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKF9wb3MgLyAoX3NpemUgfHwgX3BvcykpO1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlVHJpZ2dlckluZGV4ID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJpZ2dlckluZGV4KF9jdXJyZW50SW5kZXgsIF9maXJzdCwgX2xhc3QsIF9udW0sIF9udW1ULCBfaXNTY3JvbGxEb3duT3JSaWdodCkge1xuICAgICAgcmV0dXJuIF9jdXJyZW50SW5kZXggPD0gX251bVQgPyBfbnVtVCA6IF9pc1Njcm9sbERvd25PclJpZ2h0ID8gX2xhc3QgLSBfbnVtIC0gX251bVQgOiBfZmlyc3QgKyBfbnVtVCAtIDE7XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVGaXJzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0KF9jdXJyZW50SW5kZXgsIF90cmlnZ2VySW5kZXgsIF9maXJzdCwgX2xhc3QsIF9udW0sIF9udW1ULCBfaXNTY3JvbGxEb3duT3JSaWdodCkge1xuICAgICAgaWYgKF9jdXJyZW50SW5kZXggPD0gX251bVQpIHJldHVybiAwO2Vsc2UgcmV0dXJuIE1hdGgubWF4KDAsIF9pc1Njcm9sbERvd25PclJpZ2h0ID8gX2N1cnJlbnRJbmRleCA8IF90cmlnZ2VySW5kZXggPyBfZmlyc3QgOiBfY3VycmVudEluZGV4IC0gX251bVQgOiBfY3VycmVudEluZGV4ID4gX3RyaWdnZXJJbmRleCA/IF9maXJzdCA6IF9jdXJyZW50SW5kZXggLSAyICogX251bVQpO1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlTGFzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxhc3QoX2N1cnJlbnRJbmRleCwgX2ZpcnN0LCBfbGFzdCwgX251bSwgX251bVQsIF9pc0NvbHMpIHtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSBfZmlyc3QgKyBfbnVtICsgMiAqIF9udW1UO1xuXG4gICAgICBpZiAoX2N1cnJlbnRJbmRleCA+PSBfbnVtVCkge1xuICAgICAgICBsYXN0VmFsdWUgKz0gX251bVQgKyAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0TGFzdChsYXN0VmFsdWUsIF9pc0NvbHMpO1xuICAgIH07XG5cbiAgICB2YXIgc2Nyb2xsVG9wID0gY2FsY3VsYXRlU2Nyb2xsUG9zKHRhcmdldC5zY3JvbGxUb3AsIGNvbnRlbnRQb3MudG9wKTtcbiAgICB2YXIgc2Nyb2xsTGVmdCA9IGNhbGN1bGF0ZVNjcm9sbFBvcyh0YXJnZXQuc2Nyb2xsTGVmdCwgY29udGVudFBvcy5sZWZ0KTtcbiAgICB2YXIgbmV3Rmlyc3QgPSBib3RoID8ge1xuICAgICAgcm93czogMCxcbiAgICAgIGNvbHM6IDBcbiAgICB9IDogMDtcbiAgICB2YXIgbmV3TGFzdCA9IGxhc3RTdGF0ZTtcbiAgICB2YXIgaXNSYW5nZUNoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV3U2Nyb2xsUG9zID0gbGFzdFNjcm9sbFBvcy5jdXJyZW50O1xuXG4gICAgaWYgKGJvdGgpIHtcbiAgICAgIHZhciBpc1Njcm9sbERvd24gPSBsYXN0U2Nyb2xsUG9zLmN1cnJlbnQudG9wIDw9IHNjcm9sbFRvcDtcbiAgICAgIHZhciBpc1Njcm9sbFJpZ2h0ID0gbGFzdFNjcm9sbFBvcy5jdXJyZW50LmxlZnQgPD0gc2Nyb2xsTGVmdDtcbiAgICAgIHZhciBjdXJyZW50SW5kZXggPSB7XG4gICAgICAgIHJvd3M6IGNhbGN1bGF0ZUN1cnJlbnRJbmRleChzY3JvbGxUb3AsIHByb3BzLml0ZW1TaXplWzBdKSxcbiAgICAgICAgY29sczogY2FsY3VsYXRlQ3VycmVudEluZGV4KHNjcm9sbExlZnQsIHByb3BzLml0ZW1TaXplWzFdKVxuICAgICAgfTtcbiAgICAgIHZhciB0cmlnZ2VySW5kZXggPSB7XG4gICAgICAgIHJvd3M6IGNhbGN1bGF0ZVRyaWdnZXJJbmRleChjdXJyZW50SW5kZXgucm93cywgZmlyc3RTdGF0ZS5yb3dzLCBsYXN0U3RhdGUucm93cywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUucm93cywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVswXSwgaXNTY3JvbGxEb3duKSxcbiAgICAgICAgY29sczogY2FsY3VsYXRlVHJpZ2dlckluZGV4KGN1cnJlbnRJbmRleC5jb2xzLCBmaXJzdFN0YXRlLmNvbHMsIGxhc3RTdGF0ZS5jb2xzLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5jb2xzLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlWzFdLCBpc1Njcm9sbFJpZ2h0KVxuICAgICAgfTtcbiAgICAgIG5ld0ZpcnN0ID0ge1xuICAgICAgICByb3dzOiBjYWxjdWxhdGVGaXJzdChjdXJyZW50SW5kZXgucm93cywgdHJpZ2dlckluZGV4LnJvd3MsIGZpcnN0U3RhdGUucm93cywgbGFzdFN0YXRlLnJvd3MsIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLnJvd3MsIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGVbMF0sIGlzU2Nyb2xsRG93biksXG4gICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0KGN1cnJlbnRJbmRleC5jb2xzLCB0cmlnZ2VySW5kZXguY29scywgZmlyc3RTdGF0ZS5jb2xzLCBsYXN0U3RhdGUuY29scywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUuY29scywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVsxXSwgaXNTY3JvbGxSaWdodClcbiAgICAgIH07XG4gICAgICBuZXdMYXN0ID0ge1xuICAgICAgICByb3dzOiBjYWxjdWxhdGVMYXN0KGN1cnJlbnRJbmRleC5yb3dzLCBuZXdGaXJzdC5yb3dzLCBsYXN0U3RhdGUucm93cywgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUucm93cywgbnVtVG9sZXJhdGVkSXRlbXNTdGF0ZVswXSksXG4gICAgICAgIGNvbHM6IGNhbGN1bGF0ZUxhc3QoY3VycmVudEluZGV4LmNvbHMsIG5ld0ZpcnN0LmNvbHMsIGxhc3RTdGF0ZS5jb2xzLCBudW1JdGVtc0luVmlld3BvcnRTdGF0ZS5jb2xzLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlWzFdLCB0cnVlKVxuICAgICAgfTtcbiAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3Qucm93cyAhPT0gZmlyc3RTdGF0ZS5yb3dzIHx8IG5ld0xhc3Qucm93cyAhPT0gbGFzdFN0YXRlLnJvd3MgfHwgbmV3Rmlyc3QuY29scyAhPT0gZmlyc3RTdGF0ZS5jb2xzIHx8IG5ld0xhc3QuY29scyAhPT0gbGFzdFN0YXRlLmNvbHM7XG4gICAgICBuZXdTY3JvbGxQb3MgPSB7XG4gICAgICAgIHRvcDogc2Nyb2xsVG9wLFxuICAgICAgICBsZWZ0OiBzY3JvbGxMZWZ0XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2Nyb2xsUG9zID0gaG9yaXpvbnRhbCA/IHNjcm9sbExlZnQgOiBzY3JvbGxUb3A7XG4gICAgICB2YXIgaXNTY3JvbGxEb3duT3JSaWdodCA9IGxhc3RTY3JvbGxQb3MuY3VycmVudCA8PSBzY3JvbGxQb3M7XG5cbiAgICAgIHZhciBfY3VycmVudEluZGV4MiA9IGNhbGN1bGF0ZUN1cnJlbnRJbmRleChzY3JvbGxQb3MsIHByb3BzLml0ZW1TaXplKTtcblxuICAgICAgdmFyIF90cmlnZ2VySW5kZXgyID0gY2FsY3VsYXRlVHJpZ2dlckluZGV4KF9jdXJyZW50SW5kZXgyLCBmaXJzdFN0YXRlLCBsYXN0U3RhdGUsIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlLCBpc1Njcm9sbERvd25PclJpZ2h0KTtcblxuICAgICAgbmV3Rmlyc3QgPSBjYWxjdWxhdGVGaXJzdChfY3VycmVudEluZGV4MiwgX3RyaWdnZXJJbmRleDIsIGZpcnN0U3RhdGUsIGxhc3RTdGF0ZSwgbnVtSXRlbXNJblZpZXdwb3J0U3RhdGUsIG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUsIGlzU2Nyb2xsRG93bk9yUmlnaHQpO1xuICAgICAgbmV3TGFzdCA9IGNhbGN1bGF0ZUxhc3QoX2N1cnJlbnRJbmRleDIsIG5ld0ZpcnN0LCBsYXN0U3RhdGUsIG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLCBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKTtcbiAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3QgIT09IGZpcnN0U3RhdGUgfHwgbmV3TGFzdCAhPT0gbGFzdFN0YXRlO1xuICAgICAgbmV3U2Nyb2xsUG9zID0gc2Nyb2xsUG9zO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogbmV3Rmlyc3QsXG4gICAgICBsYXN0OiBuZXdMYXN0LFxuICAgICAgaXNSYW5nZUNoYW5nZWQ6IGlzUmFuZ2VDaGFuZ2VkLFxuICAgICAgc2Nyb2xsUG9zOiBuZXdTY3JvbGxQb3NcbiAgICB9O1xuICB9O1xuXG4gIHZhciBvblNjcm9sbENoYW5nZSA9IGZ1bmN0aW9uIG9uU2Nyb2xsQ2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIF9vblNjcm9sbFBvc2l0aW9uQ2hhbiA9IG9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UoZXZlbnQpLFxuICAgICAgICBmaXJzdCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbi5maXJzdCxcbiAgICAgICAgbGFzdCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbi5sYXN0LFxuICAgICAgICBpc1JhbmdlQ2hhbmdlZCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbi5pc1JhbmdlQ2hhbmdlZCxcbiAgICAgICAgc2Nyb2xsUG9zID0gX29uU2Nyb2xsUG9zaXRpb25DaGFuLnNjcm9sbFBvcztcblxuICAgIGlmIChpc1JhbmdlQ2hhbmdlZCkge1xuICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICBmaXJzdDogZmlyc3QsXG4gICAgICAgIGxhc3Q6IGxhc3RcbiAgICAgIH07XG4gICAgICBzZXRDb250ZW50UG9zaXRpb24obmV3U3RhdGUpO1xuICAgICAgc2V0Rmlyc3RTdGF0ZShmaXJzdCk7XG4gICAgICBzZXRMYXN0U3RhdGUobGFzdCk7XG4gICAgICBsYXN0U2Nyb2xsUG9zLmN1cnJlbnQgPSBzY3JvbGxQb3M7XG4gICAgICBwcm9wcy5vblNjcm9sbEluZGV4Q2hhbmdlICYmIHByb3BzLm9uU2Nyb2xsSW5kZXhDaGFuZ2UobmV3U3RhdGUpO1xuXG4gICAgICBpZiAocHJvcHMubGF6eSkge1xuICAgICAgICBwcm9wcy5vbkxhenlMb2FkICYmIHByb3BzLm9uTGF6eUxvYWQobmV3U3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgb25TY3JvbGwgPSBmdW5jdGlvbiBvblNjcm9sbChldmVudCkge1xuICAgIHByb3BzLm9uU2Nyb2xsICYmIHByb3BzLm9uU2Nyb2xsKGV2ZW50KTtcblxuICAgIGlmIChwcm9wcy5kZWxheSkge1xuICAgICAgaWYgKHNjcm9sbFRpbWVvdXQuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZW91dC5jdXJyZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFsb2FkaW5nU3RhdGUgJiYgcHJvcHMuc2hvd0xvYWRlcikge1xuICAgICAgICB2YXIgX29uU2Nyb2xsUG9zaXRpb25DaGFuMiA9IG9uU2Nyb2xsUG9zaXRpb25DaGFuZ2UoZXZlbnQpLFxuICAgICAgICAgICAgY2hhbmdlZCA9IF9vblNjcm9sbFBvc2l0aW9uQ2hhbjIuaXNSYW5nZUNoYW5nZWQ7XG5cbiAgICAgICAgY2hhbmdlZCAmJiBzZXRMb2FkaW5nU3RhdGUodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHNjcm9sbFRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBvblNjcm9sbENoYW5nZShldmVudCk7XG5cbiAgICAgICAgaWYgKGxvYWRpbmdTdGF0ZSAmJiBwcm9wcy5zaG93TG9hZGVyICYmICghcHJvcHMubGF6eSB8fCBwcm9wcy5sb2FkaW5nID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgc2V0TG9hZGluZ1N0YXRlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgcHJvcHMuZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblNjcm9sbENoYW5nZShldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIGlmIChyZXNpemVUaW1lb3V0LmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0LmN1cnJlbnQpO1xuICAgIH1cblxuICAgIHJlc2l6ZVRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICB2YXIgX3JlZiA9IFtEb21IYW5kbGVyLmdldFdpZHRoKGVsZW1lbnRSZWYuY3VycmVudCksIERvbUhhbmRsZXIuZ2V0SGVpZ2h0KGVsZW1lbnRSZWYuY3VycmVudCldLFxuICAgICAgICAgICAgd2lkdGggPSBfcmVmWzBdLFxuICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZlsxXTtcbiAgICAgICAgdmFyIGlzRGlmZldpZHRoID0gd2lkdGggIT09IGRlZmF1bHRXaWR0aC5jdXJyZW50LFxuICAgICAgICAgICAgaXNEaWZmSGVpZ2h0ID0gaGVpZ2h0ICE9PSBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQ7XG4gICAgICAgIHZhciByZWluaXQgPSBib3RoID8gaXNEaWZmV2lkdGggfHwgaXNEaWZmSGVpZ2h0IDogaG9yaXpvbnRhbCA/IGlzRGlmZldpZHRoIDogdmVydGljYWwgPyBpc0RpZmZIZWlnaHQgOiBmYWxzZTtcblxuICAgICAgICBpZiAocmVpbml0KSB7XG4gICAgICAgICAgc2V0TnVtVG9sZXJhdGVkSXRlbXNTdGF0ZShwcm9wcy5udW1Ub2xlcmF0ZWRJdGVtcyk7XG4gICAgICAgICAgZGVmYXVsdFdpZHRoLmN1cnJlbnQgPSB3aWR0aDtcbiAgICAgICAgICBkZWZhdWx0SGVpZ2h0LmN1cnJlbnQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBwcm9wcy5yZXNpemVEZWxheSk7XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKHJlbmRlcmVkSW5kZXgpIHtcbiAgICB2YXIgY291bnQgPSAocHJvcHMuaXRlbXMgfHwgW10pLmxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSBib3RoID8gZmlyc3RTdGF0ZS5yb3dzICsgcmVuZGVyZWRJbmRleCA6IGZpcnN0U3RhdGUgKyByZW5kZXJlZEluZGV4O1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBjb3VudDogY291bnQsXG4gICAgICBmaXJzdDogaW5kZXggPT09IDAsXG4gICAgICBsYXN0OiBpbmRleCA9PT0gY291bnQgLSAxLFxuICAgICAgZXZlbjogaW5kZXggJSAyID09PSAwLFxuICAgICAgb2RkOiBpbmRleCAlIDIgIT09IDAsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsb2FkZXJPcHRpb25zID0gZnVuY3Rpb24gbG9hZGVyT3B0aW9ucyhpbmRleCwgZXh0T3B0aW9ucykge1xuICAgIHZhciBjb3VudCA9IGxvYWRlckFyclN0YXRlLmxlbmd0aDtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7XG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBjb3VudDogY291bnQsXG4gICAgICBmaXJzdDogaW5kZXggPT09IDAsXG4gICAgICBsYXN0OiBpbmRleCA9PT0gY291bnQgLSAxLFxuICAgICAgZXZlbjogaW5kZXggJSAyID09PSAwLFxuICAgICAgb2RkOiBpbmRleCAlIDIgIT09IDAsXG4gICAgICBwcm9wczogcHJvcHNcbiAgICB9LCBleHRPcHRpb25zKTtcbiAgfTtcblxuICB2YXIgbG9hZGVkSXRlbXMgPSBmdW5jdGlvbiBsb2FkZWRJdGVtcygpIHtcbiAgICB2YXIgaXRlbXMgPSBwcm9wcy5pdGVtcztcblxuICAgIGlmIChpdGVtcyAmJiAhbG9hZGluZ1N0YXRlKSB7XG4gICAgICBpZiAoYm90aCkgcmV0dXJuIGl0ZW1zLnNsaWNlKGZpcnN0U3RhdGUucm93cywgbGFzdFN0YXRlLnJvd3MpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gcHJvcHMuY29sdW1ucyA/IGl0ZW0gOiBpdGVtLnNsaWNlKGZpcnN0U3RhdGUuY29scywgbGFzdFN0YXRlLmNvbHMpO1xuICAgICAgfSk7ZWxzZSBpZiAoaG9yaXpvbnRhbCAmJiBwcm9wcy5jb2x1bW5zKSByZXR1cm4gaXRlbXM7ZWxzZSByZXR1cm4gaXRlbXMuc2xpY2UoZmlyc3RTdGF0ZSwgbGFzdFN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHNldFNpemUoKTtcbiAgICAgIGNhbGN1bGF0ZU9wdGlvbnMoKTtcbiAgICAgIHNldFNwYWNlclNpemUoKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlTW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIGJpbmRXaW5kb3dSZXNpemVMaXN0ZW5lcigpO1xuICAgICAgYmluZE9yaWVudGF0aW9uQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgIGRlZmF1bHRXaWR0aC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRXaWR0aChlbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgZGVmYXVsdEhlaWdodC5jdXJyZW50ID0gRG9tSGFuZGxlci5nZXRIZWlnaHQoZWxlbWVudFJlZi5jdXJyZW50KTtcbiAgICB9XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGluaXQoKTtcbiAgfSwgW3Byb3BzLml0ZW1TaXplLCBwcm9wcy5zY3JvbGxIZWlnaHRdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMubnVtVG9sZXJhdGVkSXRlbXMgIT09IG51bVRvbGVyYXRlZEl0ZW1zU3RhdGUpIHtcbiAgICAgIHNldE51bVRvbGVyYXRlZEl0ZW1zU3RhdGUocHJvcHMubnVtVG9sZXJhdGVkSXRlbXMpO1xuICAgIH1cbiAgfSwgW3Byb3BzLm51bVRvbGVyYXRlZEl0ZW1zXSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHByb3BzLm51bVRvbGVyYXRlZEl0ZW1zID09PSBudW1Ub2xlcmF0ZWRJdGVtc1N0YXRlKSB7XG4gICAgICBpbml0KCk7IC8vIHJlaW5pdCBhZnRlciByZXNpemluZ1xuICAgIH1cbiAgfSwgW251bVRvbGVyYXRlZEl0ZW1zU3RhdGVdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXByZXZJdGVtcyB8fCBwcmV2SXRlbXMubGVuZ3RoICE9PSAocHJvcHMuaXRlbXMgfHwgW10pLmxlbmd0aCkge1xuICAgICAgaW5pdCgpO1xuICAgIH1cblxuICAgIHZhciBsb2FkaW5nID0gbG9hZGluZ1N0YXRlO1xuXG4gICAgaWYgKHByb3BzLmxhenkgJiYgcHJldkxvYWRpbmcgIT09IHByb3BzLmxvYWRpbmcgJiYgcHJvcHMubG9hZGluZyAhPT0gbG9hZGluZ1N0YXRlKSB7XG4gICAgICBzZXRMb2FkaW5nU3RhdGUocHJvcHMubG9hZGluZyk7XG4gICAgICBsb2FkaW5nID0gcHJvcHMubG9hZGluZztcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVBdXRvU2l6ZShsb2FkaW5nKTtcbiAgfSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgbGFzdFNjcm9sbFBvcy5jdXJyZW50ID0gYm90aCA/IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9IDogMDtcbiAgfSwgW3Byb3BzLm9yaWVudGF0aW9uXSk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIGdldEVsZW1lbnRSZWY6IGdldEVsZW1lbnRSZWYsXG4gICAgICBzY3JvbGxUbzogc2Nyb2xsVG8sXG4gICAgICBzY3JvbGxUb0luZGV4OiBzY3JvbGxUb0luZGV4LFxuICAgICAgc2Nyb2xsSW5WaWV3OiBzY3JvbGxJblZpZXcsXG4gICAgICBnZXRSZW5kZXJlZFJhbmdlOiBnZXRSZW5kZXJlZFJhbmdlXG4gICAgfTtcbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZUxvYWRlckl0ZW0gPSBmdW5jdGlvbiBjcmVhdGVMb2FkZXJJdGVtKGluZGV4KSB7XG4gICAgdmFyIGV4dE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBvcHRpb25zID0gbG9hZGVyT3B0aW9ucyhpbmRleCwgZXh0T3B0aW9ucyk7XG4gICAgdmFyIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLmxvYWRpbmdUZW1wbGF0ZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgY29udGVudCk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUxvYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUxvYWRlcigpIHtcbiAgICBpZiAoIXByb3BzLmxvYWRlckRpc2FibGVkICYmIHByb3BzLnNob3dMb2FkZXIgJiYgbG9hZGluZ1N0YXRlKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygncC12aXJ0dWFsc2Nyb2xsZXItbG9hZGVyJywge1xuICAgICAgICAncC1jb21wb25lbnQtb3ZlcmxheSc6ICFwcm9wcy5sb2FkaW5nVGVtcGxhdGVcbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicC12aXJ0dWFsc2Nyb2xsZXItbG9hZGluZy1pY29uIHBpIHBpLXNwaW5uZXIgcGktc3BpblwiXG4gICAgICB9KTtcblxuICAgICAgaWYgKHByb3BzLmxvYWRpbmdUZW1wbGF0ZSkge1xuICAgICAgICBjb250ZW50ID0gbG9hZGVyQXJyU3RhdGUubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVMb2FkZXJJdGVtKGluZGV4LCBib3RoICYmIHtcbiAgICAgICAgICAgIG51bUNvbHM6IG51bUl0ZW1zSW5WaWV3cG9ydFN0YXRlLmNvbHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmxvYWRlckljb25UZW1wbGF0ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdENvbnRlbnRPcHRpb25zID0ge1xuICAgICAgICAgIGNsYXNzTmFtZTogJ3AtdmlydHVhbHNjcm9sbGVyLWxvYWRpbmctaWNvbicsXG4gICAgICAgICAgZWxlbWVudDogY29udGVudCxcbiAgICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMubG9hZGVySWNvblRlbXBsYXRlLCBkZWZhdWx0Q29udGVudE9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgfSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNwYWNlciA9IGZ1bmN0aW9uIGNyZWF0ZVNwYWNlcigpIHtcbiAgICBpZiAocHJvcHMuc2hvd1NwYWNlcikge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiBfc3BhY2VyUmVmLFxuICAgICAgICBjbGFzc05hbWU6IFwicC12aXJ0dWFsc2Nyb2xsZXItc3BhY2VyXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJdGVtID0gZnVuY3Rpb24gY3JlYXRlSXRlbShpdGVtLCBpbmRleCkge1xuICAgIHZhciBvcHRpb25zID0gZ2V0T3B0aW9ucyhpbmRleCk7XG4gICAgdmFyIGNvbnRlbnQgPSBPYmplY3RVdGlscy5nZXRKU1hFbGVtZW50KHByb3BzLml0ZW1UZW1wbGF0ZSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICBrZXk6IG9wdGlvbnMuaW5kZXhcbiAgICB9LCBjb250ZW50KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcygpIHtcbiAgICB2YXIgaXRlbXMgPSBsb2FkZWRJdGVtcygpO1xuICAgIHJldHVybiBpdGVtcy5tYXAoY3JlYXRlSXRlbSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNvbnRlbnQgPSBmdW5jdGlvbiBjcmVhdGVDb250ZW50KCkge1xuICAgIHZhciBpdGVtcyA9IGNyZWF0ZUl0ZW1zKCk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdmlydHVhbHNjcm9sbGVyLWNvbnRlbnQnLCB7XG4gICAgICAncC12aXJ0dWFsc2Nyb2xsZXItbG9hZGluZyc6IGxvYWRpbmdTdGF0ZVxuICAgIH0pO1xuICAgIHZhciBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcmVmOiBfY29udGVudFJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgfSwgaXRlbXMpO1xuXG4gICAgaWYgKHByb3BzLmNvbnRlbnRUZW1wbGF0ZSkge1xuICAgICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgY29udGVudFJlZjogZnVuY3Rpb24gY29udGVudFJlZihlbCkge1xuICAgICAgICAgIHJldHVybiBfY29udGVudFJlZi5jdXJyZW50ID0gT2JqZWN0VXRpbHMuZ2V0UmVmRWxlbWVudChlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNwYWNlclJlZjogZnVuY3Rpb24gc3BhY2VyUmVmKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF9zcGFjZXJSZWYuY3VycmVudCA9IE9iamVjdFV0aWxzLmdldFJlZkVsZW1lbnQoZWwpO1xuICAgICAgICB9LFxuICAgICAgICBzdGlja3lSZWY6IGZ1bmN0aW9uIHN0aWNreVJlZihlbCkge1xuICAgICAgICAgIHJldHVybiBfc3RpY2t5UmVmLmN1cnJlbnQgPSBPYmplY3RVdGlscy5nZXRSZWZFbGVtZW50KGVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXRlbXM6IGxvYWRlZEl0ZW1zKCksXG4gICAgICAgIGdldEl0ZW1PcHRpb25zOiBmdW5jdGlvbiBnZXRJdGVtT3B0aW9ucyhpbmRleCkge1xuICAgICAgICAgIHJldHVybiBnZXRPcHRpb25zKGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGl0ZW1zLFxuICAgICAgICBlbGVtZW50OiBjb250ZW50LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIGxvYWRpbmc6IGxvYWRpbmdTdGF0ZSxcbiAgICAgICAgZ2V0TG9hZGVyT3B0aW9uczogZnVuY3Rpb24gZ2V0TG9hZGVyT3B0aW9ucyhpbmRleCwgZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGxvYWRlck9wdGlvbnMoaW5kZXgsIGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRpbmdUZW1wbGF0ZTogcHJvcHMubG9hZGluZ1RlbXBsYXRlLFxuICAgICAgICBpdGVtU2l6ZTogcHJvcHMuaXRlbVNpemUsXG4gICAgICAgIHJvd3M6IGdldFJvd3MoKSxcbiAgICAgICAgY29sdW1uczogZ2V0Q29sdW1ucygpLFxuICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWwsXG4gICAgICAgIGJvdGg6IGJvdGhcbiAgICAgIH07XG4gICAgICByZXR1cm4gT2JqZWN0VXRpbHMuZ2V0SlNYRWxlbWVudChwcm9wcy5jb250ZW50VGVtcGxhdGUsIGRlZmF1bHRPcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbiAgfTtcblxuICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICB2YXIgY29udGVudCA9IE9iamVjdFV0aWxzLmdldEpTWEVsZW1lbnQocHJvcHMuY29udGVudFRlbXBsYXRlLCB7XG4gICAgICBpdGVtczogcHJvcHMuaXRlbXMsXG4gICAgICByb3dzOiBwcm9wcy5pdGVtcyxcbiAgICAgIGNvbHVtbnM6IHByb3BzLmNvbHVtbnNcbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHByb3BzLmNoaWxkcmVuLCBjb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgb3RoZXJQcm9wcyA9IE9iamVjdFV0aWxzLmZpbmREaWZmS2V5cyhwcm9wcywgVmlydHVhbFNjcm9sbGVyLmRlZmF1bHRQcm9wcyk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3AtdmlydHVhbHNjcm9sbGVyJywge1xuICAgICAgJ3AtYm90aC1zY3JvbGwnOiBib3RoLFxuICAgICAgJ3AtaG9yaXpvbnRhbC1zY3JvbGwnOiBob3Jpem9udGFsXG4gICAgfSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgICB2YXIgbG9hZGVyID0gY3JlYXRlTG9hZGVyKCk7XG5cbiAgICB2YXIgX2NvbnRlbnQgPSBjcmVhdGVDb250ZW50KCk7XG5cbiAgICB2YXIgc3BhY2VyID0gY3JlYXRlU3BhY2VyKCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICAgIHJlZjogZWxlbWVudFJlZixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgICB9LCBvdGhlclByb3BzLCB7XG4gICAgICBvblNjcm9sbDogb25TY3JvbGxcbiAgICB9KSwgX2NvbnRlbnQsIHNwYWNlciwgbG9hZGVyKTtcbiAgfVxufSkpO1xuVmlydHVhbFNjcm9sbGVyLmRpc3BsYXlOYW1lID0gJ1ZpcnR1YWxTY3JvbGxlcic7XG5WaXJ0dWFsU2Nyb2xsZXIuZGVmYXVsdFByb3BzID0ge1xuICBfX1RZUEU6ICdWaXJ0dWFsU2Nyb2xsZXInLFxuICBpZDogbnVsbCxcbiAgc3R5bGU6IG51bGwsXG4gIGNsYXNzTmFtZTogbnVsbCxcbiAgaXRlbXM6IG51bGwsXG4gIGl0ZW1TaXplOiAwLFxuICBzY3JvbGxIZWlnaHQ6IG51bGwsXG4gIHNjcm9sbFdpZHRoOiBudWxsLFxuICBvcmllbnRhdGlvbjogJ3ZlcnRpY2FsJyxcbiAgbnVtVG9sZXJhdGVkSXRlbXM6IG51bGwsXG4gIGRlbGF5OiAwLFxuICByZXNpemVEZWxheTogMTAsXG4gIGxhenk6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGxvYWRlckRpc2FibGVkOiBmYWxzZSxcbiAgY29sdW1uczogbnVsbCxcbiAgbG9hZGluZzogdW5kZWZpbmVkLFxuICBhdXRvU2l6ZTogZmFsc2UsXG4gIHNob3dTcGFjZXI6IHRydWUsXG4gIHNob3dMb2FkZXI6IGZhbHNlLFxuICBsb2FkaW5nVGVtcGxhdGU6IG51bGwsXG4gIGxvYWRlckljb25UZW1wbGF0ZTogbnVsbCxcbiAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICBjb250ZW50VGVtcGxhdGU6IG51bGwsXG4gIG9uU2Nyb2xsOiBudWxsLFxuICBvblNjcm9sbEluZGV4Q2hhbmdlOiBudWxsLFxuICBvbkxhenlMb2FkOiBudWxsXG59O1xuXG5leHBvcnQgeyBWaXJ0dWFsU2Nyb2xsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/primereact/virtualscroller/virtualscroller.esm.js\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_class_call_check.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_class_call_check.mjs ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _classCallCheck; }\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fY2xhc3NfY2FsbF9jaGVjay5tanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX2NsYXNzX2NhbGxfY2hlY2subWpzPzc4M2IiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_class_call_check.mjs\n"));

/***/ }),

/***/ "./node_modules/@swc/helpers/src/_create_class.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@swc/helpers/src/_create_class.mjs ***!
  \*********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _createClass; }\n/* harmony export */ });\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fY3JlYXRlX2NsYXNzLm1qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX2NyZWF0ZV9jbGFzcy5tanM/OGE5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@swc/helpers/src/_create_class.mjs\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fulasturan%2FDesktop%2Fhttp%2Fsakai-react-nextjs%2Fpages%2Finvalidstate%2Findex.js&page=%2Finvalidstate!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);